var iX=Object.defineProperty,aX=Object.defineProperties;var sX=Object.getOwnPropertyDescriptors;var mO=Object.getOwnPropertySymbols;var oX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable;var SE=Math.pow,vO=(t,e,r)=>e in t?iX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mh=(t,e)=>{for(var r in e||(e={}))oX.call(e,r)&&vO(t,r,e[r]);if(mO)for(var r of mO(e))AX.call(e,r)&&vO(t,r,e[r]);return t},Xv=(t,e)=>aX(t,sX(e));var Fn=(t,e,r)=>new Promise((n,i)=>{var a=A=>{try{o(r.next(A))}catch(l){i(l)}},s=A=>{try{o(r.throw(A))}catch(l){i(l)}},o=A=>A.done?n(A.value):Promise.resolve(A.value).then(a,s);o((r=r.apply(t,e)).next())});import{a as yO,r as We,w as lX,T as cX,_ as S5,R as he,n as uX,A as _d}from"./react-vendor-Dgc981fj.js";import{g as xr,c as jo}from"./mui-BPTcmYo2.js";import{M as Uy,V as Sf,a as Vi,Q as Qm,b as A4,S as fX,c as dw,C as m0,E as hX,B as UQ,d as Bc,e as l4,U as dX,R as pX,f as kc,L as td,g as gX,O as mX,H as c4,F as T5,h as RQ,P as DQ,W as MQ,i as b2,j as w2,k as vX,D as yX,l as _5,T as rd,m as bX,I as wX,n as xX,o as EX,p as BX,q as L5,r as Ry,s as CX,t as SX,u as bO,v as TX,N as _X}from"./three-CboCXHlv.js";var NQ={exports:{}},kQ={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,Y){var X=N.length;N.push(Y);e:for(;0<X;){var H=X-1>>>1,W=N[H];if(0<i(W,Y))N[H]=Y,N[X]=W,X=H;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var Y=N[0],X=N.pop();if(X!==Y){N[0]=X;e:for(var H=0,W=N.length,Z=W>>>1;H<Z;){var I=2*(H+1)-1,U=N[I],$=I+1,G=N[$];if(0>i(U,X))$<W&&0>i(G,U)?(N[H]=G,N[$]=X,H=$):(N[H]=U,N[I]=X,H=I);else if($<W&&0>i(G,X))N[H]=G,N[$]=X,H=$;else break e}}return Y}function i(N,Y){var X=N.sortIndex-Y.sortIndex;return X!==0?X:N.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var A=[],l=[],c=1,u=null,f=3,h=!1,d=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;function w(N){for(var Y=r(l);Y!==null;){if(Y.callback===null)n(l);else if(Y.startTime<=N)n(l),Y.sortIndex=Y.expirationTime,e(A,Y);else break;Y=r(l)}}function S(N){if(p=!1,w(N),!d)if(r(A)!==null)d=!0,M();else{var Y=r(l);Y!==null&&z(S,Y.startTime-N)}}var x=!1,E=-1,C=5,L=-1;function O(){return!(t.unstable_now()-L<C)}function D(){if(x){var N=t.unstable_now();L=N;var Y=!0;try{e:{d=!1,p&&(p=!1,v(E),E=-1),h=!0;var X=f;try{t:{for(w(N),u=r(A);u!==null&&!(u.expirationTime>N&&O());){var H=u.callback;if(typeof H=="function"){u.callback=null,f=u.priorityLevel;var W=H(u.expirationTime<=N);if(N=t.unstable_now(),typeof W=="function"){u.callback=W,w(N),Y=!0;break t}u===r(A)&&n(A),w(N)}else n(A);u=r(A)}if(u!==null)Y=!0;else{var Z=r(l);Z!==null&&z(S,Z.startTime-N),Y=!1}}break e}finally{u=null,f=X,h=!1}Y=void 0}}finally{Y?_():x=!1}}}var _;if(typeof y=="function")_=function(){y(D)};else if(typeof MessageChannel!="undefined"){var F=new MessageChannel,R=F.port2;F.port1.onmessage=D,_=function(){R.postMessage(null)}}else _=function(){g(D,0)};function M(){x||(x=!0,_())}function z(N,Y){E=g(function(){N(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){d||h||(d=!0,M())},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var X=f;f=Y;try{return N()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,Y){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=f;f=N;try{return Y()}finally{f=X}},t.unstable_scheduleCallback=function(N,Y,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,N={id:c++,callback:Y,priorityLevel:N,startTime:X,expirationTime:W,sortIndex:-1},X>H?(N.sortIndex=X,e(l,N),r(A)===null&&N===r(l)&&(p?(v(E),E=-1):p=!0,z(S,X-H))):(N.sortIndex=W,e(A,N),d||h||(d=!0,M())),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var Y=f;return function(){var X=f;f=Y;try{return N.apply(this,arguments)}finally{f=X}}}})(kQ);NQ.exports=kQ;var BGe=NQ.exports;function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I5.apply(null,arguments)}function LX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function IX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var OX=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(IX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=LX(i);try{a.insertRule(n,a.cssRules.length)}catch(s){}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),sa="-ms-",x2="-moz-",hr="-webkit-",QQ="comm",u4="rule",f4="decl",FX="@import",HQ="@keyframes",PX="@layer",UX=Math.abs,pw=String.fromCharCode,RX=Object.assign;function DX(t,e){return Ki(t,0)^45?(((e<<2^Ki(t,0))<<2^Ki(t,1))<<2^Ki(t,2))<<2^Ki(t,3):0}function $Q(t){return t.trim()}function MX(t,e){return(t=e.exec(t))?t[0]:t}function dr(t,e,r){return t.replace(e,r)}function O5(t,e){return t.indexOf(e)}function Ki(t,e){return t.charCodeAt(e)|0}function H0(t,e,r){return t.slice(e,r)}function CA(t){return t.length}function h4(t){return t.length}function Jv(t,e){return e.push(t),t}function NX(t,e){return t.map(e).join("")}var gw=1,Ld=1,jQ=0,rs=0,ri=0,vp="";function mw(t,e,r,n,i,a,s){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:gw,column:Ld,length:s,return:""}}function hg(t,e){return RX(mw("",null,null,"",null,null,0),t,{length:-t.length},e)}function kX(){return ri}function QX(){return ri=rs>0?Ki(vp,--rs):0,Ld--,ri===10&&(Ld=1,gw--),ri}function Ss(){return ri=rs<jQ?Ki(vp,rs++):0,Ld++,ri===10&&(Ld=1,gw++),ri}function PA(){return Ki(vp,rs)}function Dy(){return rs}function Hm(t,e){return H0(vp,t,e)}function $0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GQ(t){return gw=Ld=1,jQ=CA(vp=t),rs=0,[]}function KQ(t){return vp="",t}function My(t){return $Q(Hm(rs-1,F5(t===91?t+2:t===40?t+1:t)))}function HX(t){for(;(ri=PA())&&ri<33;)Ss();return $0(t)>2||$0(ri)>3?"":" "}function $X(t,e){for(;--e&&Ss()&&!(ri<48||ri>102||ri>57&&ri<65||ri>70&&ri<97););return Hm(t,Dy()+(e<6&&PA()==32&&Ss()==32))}function F5(t){for(;Ss();)switch(ri){case t:return rs;case 34:case 39:t!==34&&t!==39&&F5(ri);break;case 40:t===41&&F5(t);break;case 92:Ss();break}return rs}function jX(t,e){for(;Ss()&&t+ri!==57;)if(t+ri===84&&PA()===47)break;return"/*"+Hm(e,rs-1)+"*"+pw(t===47?t:Ss())}function GX(t){for(;!$0(PA());)Ss();return Hm(t,rs)}function KX(t){return KQ(Ny("",null,null,null,[""],t=GQ(t),0,[0],t))}function Ny(t,e,r,n,i,a,s,o,A){for(var l=0,c=0,u=s,f=0,h=0,d=0,p=1,g=1,v=1,y=0,w="",S=i,x=a,E=n,C=w;g;)switch(d=y,y=Ss()){case 40:if(d!=108&&Ki(C,u-1)==58){O5(C+=dr(My(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=My(y);break;case 9:case 10:case 13:case 32:C+=HX(d);break;case 92:C+=$X(Dy()-1,7);continue;case 47:switch(PA()){case 42:case 47:Jv(VX(jX(Ss(),Dy()),e,r),A);break;default:C+="/"}break;case 123*p:o[l++]=CA(C)*v;case 125*p:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:v==-1&&(C=dr(C,/\f/g,"")),h>0&&CA(C)-u&&Jv(h>32?xO(C+";",n,r,u-1):xO(dr(C," ","")+";",n,r,u-2),A);break;case 59:C+=";";default:if(Jv(E=wO(C,e,r,l,c,i,o,w,S=[],x=[],u),a),y===123)if(c===0)Ny(C,e,E,E,S,a,u,o,x);else switch(f===99&&Ki(C,3)===110?100:f){case 100:case 108:case 109:case 115:Ny(t,E,E,n&&Jv(wO(t,E,E,0,0,i,o,w,i,S=[],u),x),i,x,u,o,n?S:x);break;default:Ny(C,E,E,E,[""],x,0,o,x)}}l=c=h=0,p=v=1,w=C="",u=s;break;case 58:u=1+CA(C),h=d;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&QX()==125)continue}switch(C+=pw(y),y*p){case 38:v=c>0?1:(C+="\f",-1);break;case 44:o[l++]=(CA(C)-1)*v,v=1;break;case 64:PA()===45&&(C+=My(Ss())),f=PA(),c=u=CA(w=C+=GX(Dy())),y++;break;case 45:d===45&&CA(C)==2&&(p=0)}}return a}function wO(t,e,r,n,i,a,s,o,A,l,c){for(var u=i-1,f=i===0?a:[""],h=h4(f),d=0,p=0,g=0;d<n;++d)for(var v=0,y=H0(t,u+1,u=UX(p=s[d])),w=t;v<h;++v)(w=$Q(p>0?f[v]+" "+y:dr(y,/&\f/g,f[v])))&&(A[g++]=w);return mw(t,e,r,i===0?u4:o,A,l,c)}function VX(t,e,r){return mw(t,e,r,QQ,pw(kX()),H0(t,2,-2),0)}function xO(t,e,r,n){return mw(t,e,r,f4,H0(t,0,n),H0(t,n+1,-1),n)}function hd(t,e){for(var r="",n=h4(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function WX(t,e,r,n){switch(t.type){case PX:if(t.children.length)break;case FX:case f4:return t.return=t.return||t.value;case QQ:return"";case HQ:return t.return=t.value+"{"+hd(t.children,n)+"}";case u4:t.value=t.props.join(",")}return CA(r=hd(t.children,n))?t.return=t.value+"{"+r+"}":""}function zX(t){var e=h4(t);return function(r,n,i,a){for(var s="",o=0;o<e;o++)s+=t[o](r,n,i,a)||"";return s}}function YX(t){return function(e){e.root||(e=e.return)&&t(e)}}function VQ(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var qX=function(e,r,n){for(var i=0,a=0;i=a,a=PA(),i===38&&a===12&&(r[n]=1),!$0(a);)Ss();return Hm(e,rs)},XX=function(e,r){var n=-1,i=44;do switch($0(i)){case 0:i===38&&PA()===12&&(r[n]=1),e[n]+=qX(rs-1,r,n);break;case 2:e[n]+=My(i);break;case 4:if(i===44){e[++n]=PA()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=pw(i)}while(i=Ss());return e},JX=function(e,r){return KQ(XX(GQ(e),r))},EO=new WeakMap,ZX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!EO.get(n))&&!i){EO.set(e,!0);for(var a=[],s=JX(r,a),o=n.props,A=0,l=0;A<s.length;A++)for(var c=0;c<o.length;c++,l++)e.props[l]=a[A]?s[A].replace(/&\f/g,o[c]):o[c]+" "+s[A]}}},eJ=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function WQ(t,e){switch(DX(t,e)){case 5103:return hr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return hr+t+x2+t+sa+t+t;case 6828:case 4268:return hr+t+sa+t+t;case 6165:return hr+t+sa+"flex-"+t+t;case 5187:return hr+t+dr(t,/(\w+).+(:[^]+)/,hr+"box-$1$2"+sa+"flex-$1$2")+t;case 5443:return hr+t+sa+"flex-item-"+dr(t,/flex-|-self/,"")+t;case 4675:return hr+t+sa+"flex-line-pack"+dr(t,/align-content|flex-|-self/,"")+t;case 5548:return hr+t+sa+dr(t,"shrink","negative")+t;case 5292:return hr+t+sa+dr(t,"basis","preferred-size")+t;case 6060:return hr+"box-"+dr(t,"-grow","")+hr+t+sa+dr(t,"grow","positive")+t;case 4554:return hr+dr(t,/([^-])(transform)/g,"$1"+hr+"$2")+t;case 6187:return dr(dr(dr(t,/(zoom-|grab)/,hr+"$1"),/(image-set)/,hr+"$1"),t,"")+t;case 5495:case 3959:return dr(t,/(image-set\([^]*)/,hr+"$1$`$1");case 4968:return dr(dr(t,/(.+:)(flex-)?(.*)/,hr+"box-pack:$3"+sa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hr+t+t;case 4095:case 3583:case 4068:case 2532:return dr(t,/(.+)-inline(.+)/,hr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(CA(t)-1-e>6)switch(Ki(t,e+1)){case 109:if(Ki(t,e+4)!==45)break;case 102:return dr(t,/(.+:)(.+)-([^]+)/,"$1"+hr+"$2-$3$1"+x2+(Ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~O5(t,"stretch")?WQ(dr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ki(t,e+1)!==115)break;case 6444:switch(Ki(t,CA(t)-3-(~O5(t,"!important")&&10))){case 107:return dr(t,":",":"+hr)+t;case 101:return dr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hr+(Ki(t,14)===45?"inline-":"")+"box$3$1"+hr+"$2$3$1"+sa+"$2box$3")+t}break;case 5936:switch(Ki(t,e+11)){case 114:return hr+t+sa+dr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return hr+t+sa+dr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return hr+t+sa+dr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return hr+t+sa+t+t}return t}var tJ=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case f4:e.return=WQ(e.value,e.length);break;case HQ:return hd([hg(e,{value:dr(e.value,"@","@"+hr)})],i);case u4:if(e.length)return NX(e.props,function(a){switch(MX(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([hg(e,{props:[dr(a,/:(read-\w+)/,":"+x2+"$1")]})],i);case"::placeholder":return hd([hg(e,{props:[dr(a,/:(plac\w+)/,":"+hr+"input-$1")]}),hg(e,{props:[dr(a,/:(plac\w+)/,":"+x2+"$1")]}),hg(e,{props:[dr(a,/:(plac\w+)/,sa+"input-$1")]})],i)}return""})}},rJ=[tJ],CGe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||rJ,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)a[g[v]]=!0;o.push(p)});var A,l=[ZX,eJ];{var c,u=[WX,YX(function(p){c.insert(p)})],f=zX(l.concat(i,u)),h=function(g){return hd(KX(g),f)};A=function(g,v,y,w){c=y,h(g?g+"{"+v.styles+"}":v.styles),w&&(d.inserted[v.name]=!0)}}var d={key:r,sheet:new OX({key:r,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:A};return d.sheet.hydrate(o),d},nJ=!0;function iJ(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var zQ=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||nJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},aJ=function(e,r,n){zQ(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function sJ(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var oJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},AJ=/[A-Z]|^ms/g,lJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YQ=function(e){return e.charCodeAt(1)===45},BO=function(e){return e!=null&&typeof e!="boolean"},TE=VQ(function(t){return YQ(t)?t:t.replace(AJ,"-$&").toLowerCase()}),CO=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(lJ,function(n,i,a){return SA={name:i,styles:a,next:SA},i})}return oJ[e]!==1&&!YQ(e)&&typeof r=="number"&&r!==0?r+"px":r};function j0(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return SA={name:i.name,styles:i.styles,next:SA},i.name;var a=r;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)SA={name:s.name,styles:s.styles,next:SA},s=s.next;var o=a.styles+";";return o}return cJ(t,e,r)}case"function":{if(t!==void 0){var A=SA,l=r(t);return SA=A,j0(t,e,l)}break}}var c=r;if(e==null)return c;var u=e[c];return u!==void 0?u:c}function cJ(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=j0(t,e,r[i])+";";else for(var a in r){var s=r[a];if(typeof s!="object"){var o=s;e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":BO(o)&&(n+=TE(a)+":"+CO(a,o)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var A=0;A<s.length;A++)BO(s[A])&&(n+=TE(a)+":"+CO(a,s[A])+";");else{var l=j0(t,e,s);switch(a){case"animation":case"animationName":{n+=TE(a)+":"+l+";";break}default:n+=a+"{"+l+"}"}}}return n}var SO=/label:\s*([^\s;{]+)\s*(;|$)/g,SA;function uJ(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";SA=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,i+=j0(r,e,a);else{var s=a;i+=s[0]}for(var o=1;o<t.length;o++)if(i+=j0(r,e,t[o]),n){var A=a;i+=A[o]}SO.lastIndex=0;for(var l="",c;(c=SO.exec(i))!==null;)l+="-"+c[1];var u=sJ(i)+l;return{name:u,styles:i,next:SA}}var fJ=function(e){return e()},qQ=yO.useInsertionEffect?yO.useInsertionEffect:!1,hJ=qQ||fJ,SGe=qQ||We.useLayoutEffect,dJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pJ=VQ(function(t){return dJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),gJ=pJ,mJ=function(e){return e!=="theme"},TO=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?gJ:mJ},_O=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(s){return e.__emotion_forwardProp(s)&&a(s)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},vJ=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return zQ(r,n,i),hJ(function(){return aJ(r,n,i)}),null},yJ=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,s;r!==void 0&&(a=r.label,s=r.target);var o=_O(e,r,n),A=o||TO(i),l=!A("as");return function(){var c=arguments,u=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&u.push("label:"+a+";"),c[0]==null||c[0].raw===void 0)u.push.apply(u,c);else{var f=c[0];u.push(f[0]);for(var h=c.length,d=1;d<h;d++)u.push(c[d],f[d])}var p=lX(function(g,v,y){var w=l&&g.as||i,S="",x=[],E=g;if(g.theme==null){E={};for(var C in g)E[C]=g[C];E.theme=We.useContext(cX)}typeof g.className=="string"?S=iJ(v.registered,x,g.className):g.className!=null&&(S=g.className+" ");var L=uJ(u.concat(x),v.registered,E);S+=v.key+"-"+L.name,s!==void 0&&(S+=" "+s);var O=l&&o===void 0?TO(w):A,D={};for(var _ in g)l&&_==="as"||O(_)&&(D[_]=g[_]);return D.className=S,y&&(D.ref=y),We.createElement(We.Fragment,null,We.createElement(vJ,{cache:v,serialized:L,isStringTag:typeof w=="string"}),We.createElement(w,D))});return p.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=u,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+s}}),p.withComponent=function(g,v){var y=t(g,I5({},r,v,{shouldForwardProp:_O(p,v,!0)}));return y.apply(void 0,u)},p}},bJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LO=yJ.bind(null);bJ.forEach(function(t){LO[t]=LO(t)});var XQ={exports:{}},wJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xJ=wJ,EJ=xJ;function JQ(){}function ZQ(){}ZQ.resetWarningCache=JQ;var BJ=function(){function t(n,i,a,s,o,A){if(A!==EJ){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZQ,resetWarningCache:JQ};return r.PropTypes=r,r};XQ.exports=BJ();var CJ=XQ.exports;const TGe=xr(CJ);function e7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=e7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function cr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=e7(t))&&(n&&(n+=" "),n+=e);return n}function _Ge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function P5(t,e){return P5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},P5(t,e)}function LGe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,P5(t,e)}function IGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Za="top",so="bottom",oo="right",es="left",d4="auto",$m=[Za,so,oo,es],Id="start",G0="end",SJ="clippingParents",t7="viewport",dg="popper",TJ="reference",IO=$m.reduce(function(t,e){return t.concat([e+"-"+Id,e+"-"+G0])},[]),r7=[].concat($m,[d4]).reduce(function(t,e){return t.concat([e,e+"-"+Id,e+"-"+G0])},[]),_J="beforeRead",LJ="read",IJ="afterRead",OJ="beforeMain",FJ="main",PJ="afterMain",UJ="beforeWrite",RJ="write",DJ="afterWrite",MJ=[_J,LJ,IJ,OJ,FJ,PJ,UJ,RJ,DJ];function QA(t){return t?(t.nodeName||"").toLowerCase():null}function Ts(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Tf(t){var e=Ts(t).Element;return t instanceof e||t instanceof Element}function no(t){var e=Ts(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function p4(t){if(typeof ShadowRoot=="undefined")return!1;var e=Ts(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function NJ(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!no(a)||!QA(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function kJ(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=s.reduce(function(A,l){return A[l]="",A},{});!no(i)||!QA(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(A){i.removeAttribute(A)}))})}}const QJ={name:"applyStyles",enabled:!0,phase:"write",fn:NJ,effect:kJ,requires:["computeStyles"]};function UA(t){return t.split("-")[0]}var hf=Math.max,E2=Math.min,Od=Math.round;function U5(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function n7(){return!/^((?!chrome|android).)*safari/i.test(U5())}function Fd(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&no(t)&&(i=t.offsetWidth>0&&Od(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Od(n.height)/t.offsetHeight||1);var s=Tf(t)?Ts(t):window,o=s.visualViewport,A=!n7()&&r,l=(n.left+(A&&o?o.offsetLeft:0))/i,c=(n.top+(A&&o?o.offsetTop:0))/a,u=n.width/i,f=n.height/a;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l,x:l,y:c}}function g4(t){var e=Fd(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function i7(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&p4(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Gl(t){return Ts(t).getComputedStyle(t)}function HJ(t){return["table","td","th"].indexOf(QA(t))>=0}function uu(t){return((Tf(t)?t.ownerDocument:t.document)||window.document).documentElement}function vw(t){return QA(t)==="html"?t:t.assignedSlot||t.parentNode||(p4(t)?t.host:null)||uu(t)}function OO(t){return!no(t)||Gl(t).position==="fixed"?null:t.offsetParent}function $J(t){var e=/firefox/i.test(U5()),r=/Trident/i.test(U5());if(r&&no(t)){var n=Gl(t);if(n.position==="fixed")return null}var i=vw(t);for(p4(i)&&(i=i.host);no(i)&&["html","body"].indexOf(QA(i))<0;){var a=Gl(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function jm(t){for(var e=Ts(t),r=OO(t);r&&HJ(r)&&Gl(r).position==="static";)r=OO(r);return r&&(QA(r)==="html"||QA(r)==="body"&&Gl(r).position==="static")?e:r||$J(t)||e}function m4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function v0(t,e,r){return hf(t,E2(e,r))}function jJ(t,e,r){var n=v0(t,e,r);return n>r?r:n}function a7(){return{top:0,right:0,bottom:0,left:0}}function s7(t){return Object.assign({},a7(),t)}function o7(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var GJ=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,s7(typeof e!="number"?e:o7(e,$m))};function KJ(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=UA(r.placement),A=m4(o),l=[es,oo].indexOf(o)>=0,c=l?"height":"width";if(!(!a||!s)){var u=GJ(i.padding,r),f=g4(a),h=A==="y"?Za:es,d=A==="y"?so:oo,p=r.rects.reference[c]+r.rects.reference[A]-s[A]-r.rects.popper[c],g=s[A]-r.rects.reference[A],v=jm(a),y=v?A==="y"?v.clientHeight||0:v.clientWidth||0:0,w=p/2-g/2,S=u[h],x=y-f[c]-u[d],E=y/2-f[c]/2+w,C=v0(S,E,x),L=A;r.modifiersData[n]=(e={},e[L]=C,e.centerOffset=C-E,e)}}function VJ(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||i7(e.elements.popper,i)&&(e.elements.arrow=i))}const WJ={name:"arrow",enabled:!0,phase:"main",fn:KJ,effect:VJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pd(t){return t.split("-")[1]}var zJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YJ(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:Od(r*i)/i||0,y:Od(n*i)/i||0}}function FO(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,A=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,u=t.isFixed,f=s.x,h=f===void 0?0:f,d=s.y,p=d===void 0?0:d,g=typeof c=="function"?c({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=es,S=Za,x=window;if(l){var E=jm(r),C="clientHeight",L="clientWidth";if(E===Ts(r)&&(E=uu(r),Gl(E).position!=="static"&&o==="absolute"&&(C="scrollHeight",L="scrollWidth")),E=E,i===Za||(i===es||i===oo)&&a===G0){S=so;var O=u&&E===x&&x.visualViewport?x.visualViewport.height:E[C];p-=O-n.height,p*=A?1:-1}if(i===es||(i===Za||i===so)&&a===G0){w=oo;var D=u&&E===x&&x.visualViewport?x.visualViewport.width:E[L];h-=D-n.width,h*=A?1:-1}}var _=Object.assign({position:o},l&&zJ),F=c===!0?YJ({x:h,y:p},Ts(r)):{x:h,y:p};if(h=F.x,p=F.y,A){var R;return Object.assign({},_,(R={},R[S]=y?"0":"",R[w]=v?"0":"",R.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",R))}return Object.assign({},_,(e={},e[S]=y?p+"px":"",e[w]=v?h+"px":"",e.transform="",e))}function qJ(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,o=r.roundOffsets,A=o===void 0?!0:o,l={placement:UA(e.placement),variation:Pd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,FO(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:A})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,FO(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const XJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qJ,data:{}};var Zv={passive:!0};function JJ(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,o=s===void 0?!0:s,A=Ts(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",r.update,Zv)}),o&&A.addEventListener("resize",r.update,Zv),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",r.update,Zv)}),o&&A.removeEventListener("resize",r.update,Zv)}}const ZJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JJ,data:{}};var eZ={left:"right",right:"left",bottom:"top",top:"bottom"};function ky(t){return t.replace(/left|right|bottom|top/g,function(e){return eZ[e]})}var tZ={start:"end",end:"start"};function PO(t){return t.replace(/start|end/g,function(e){return tZ[e]})}function v4(t){var e=Ts(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function y4(t){return Fd(uu(t)).left+v4(t).scrollLeft}function rZ(t,e){var r=Ts(t),n=uu(t),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,o=0,A=0;if(i){a=i.width,s=i.height;var l=n7();(l||!l&&e==="fixed")&&(o=i.offsetLeft,A=i.offsetTop)}return{width:a,height:s,x:o+y4(t),y:A}}function nZ(t){var e,r=uu(t),n=v4(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=hf(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=hf(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+y4(t),A=-n.scrollTop;return Gl(i||r).direction==="rtl"&&(o+=hf(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:A}}function b4(t){var e=Gl(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function A7(t){return["html","body","#document"].indexOf(QA(t))>=0?t.ownerDocument.body:no(t)&&b4(t)?t:A7(vw(t))}function y0(t,e){var r;e===void 0&&(e=[]);var n=A7(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Ts(n),s=i?[a].concat(a.visualViewport||[],b4(n)?n:[]):n,o=e.concat(s);return i?o:o.concat(y0(vw(s)))}function R5(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iZ(t,e){var r=Fd(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function UO(t,e,r){return e===t7?R5(rZ(t,r)):Tf(e)?iZ(e,r):R5(nZ(uu(t)))}function aZ(t){var e=y0(vw(t)),r=["absolute","fixed"].indexOf(Gl(t).position)>=0,n=r&&no(t)?jm(t):t;return Tf(n)?e.filter(function(i){return Tf(i)&&i7(i,n)&&QA(i)!=="body"}):[]}function sZ(t,e,r,n){var i=e==="clippingParents"?aZ(t):[].concat(e),a=[].concat(i,[r]),s=a[0],o=a.reduce(function(A,l){var c=UO(t,l,n);return A.top=hf(c.top,A.top),A.right=E2(c.right,A.right),A.bottom=E2(c.bottom,A.bottom),A.left=hf(c.left,A.left),A},UO(t,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function l7(t){var e=t.reference,r=t.element,n=t.placement,i=n?UA(n):null,a=n?Pd(n):null,s=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,A;switch(i){case Za:A={x:s,y:e.y-r.height};break;case so:A={x:s,y:e.y+e.height};break;case oo:A={x:e.x+e.width,y:o};break;case es:A={x:e.x-r.width,y:o};break;default:A={x:e.x,y:e.y}}var l=i?m4(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case Id:A[l]=A[l]-(e[c]/2-r[c]/2);break;case G0:A[l]=A[l]+(e[c]/2-r[c]/2);break}}return A}function K0(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,s=a===void 0?t.strategy:a,o=r.boundary,A=o===void 0?SJ:o,l=r.rootBoundary,c=l===void 0?t7:l,u=r.elementContext,f=u===void 0?dg:u,h=r.altBoundary,d=h===void 0?!1:h,p=r.padding,g=p===void 0?0:p,v=s7(typeof g!="number"?g:o7(g,$m)),y=f===dg?TJ:dg,w=t.rects.popper,S=t.elements[d?y:f],x=sZ(Tf(S)?S:S.contextElement||uu(t.elements.popper),A,c,s),E=Fd(t.elements.reference),C=l7({reference:E,element:w,placement:i}),L=R5(Object.assign({},w,C)),O=f===dg?L:E,D={top:x.top-O.top+v.top,bottom:O.bottom-x.bottom+v.bottom,left:x.left-O.left+v.left,right:O.right-x.right+v.right},_=t.modifiersData.offset;if(f===dg&&_){var F=_[i];Object.keys(D).forEach(function(R){var M=[oo,so].indexOf(R)>=0?1:-1,z=[Za,so].indexOf(R)>=0?"y":"x";D[R]+=F[z]*M})}return D}function oZ(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,A=r.allowedAutoPlacements,l=A===void 0?r7:A,c=Pd(n),u=c?o?IO:IO.filter(function(d){return Pd(d)===c}):$m,f=u.filter(function(d){return l.indexOf(d)>=0});f.length===0&&(f=u);var h=f.reduce(function(d,p){return d[p]=K0(t,{placement:p,boundary:i,rootBoundary:a,padding:s})[UA(p)],d},{});return Object.keys(h).sort(function(d,p){return h[d]-h[p]})}function AZ(t){if(UA(t)===d4)return[];var e=ky(t);return[PO(t),e,PO(e)]}function lZ(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!0:s,A=r.fallbackPlacements,l=r.padding,c=r.boundary,u=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,d=h===void 0?!0:h,p=r.allowedAutoPlacements,g=e.options.placement,v=UA(g),y=v===g,w=A||(y||!d?[ky(g)]:AZ(g)),S=[g].concat(w).reduce(function($,G){return $.concat(UA(G)===d4?oZ(e,{placement:G,boundary:c,rootBoundary:u,padding:l,flipVariations:d,allowedAutoPlacements:p}):G)},[]),x=e.rects.reference,E=e.rects.popper,C=new Map,L=!0,O=S[0],D=0;D<S.length;D++){var _=S[D],F=UA(_),R=Pd(_)===Id,M=[Za,so].indexOf(F)>=0,z=M?"width":"height",N=K0(e,{placement:_,boundary:c,rootBoundary:u,altBoundary:f,padding:l}),Y=M?R?oo:es:R?so:Za;x[z]>E[z]&&(Y=ky(Y));var X=ky(Y),H=[];if(a&&H.push(N[F]<=0),o&&H.push(N[Y]<=0,N[X]<=0),H.every(function($){return $})){O=_,L=!1;break}C.set(_,H)}if(L)for(var W=d?3:1,Z=function(G){var te=S.find(function(ie){var oe=C.get(ie);if(oe)return oe.slice(0,G).every(function(ne){return ne})});if(te)return O=te,"break"},I=W;I>0;I--){var U=Z(I);if(U==="break")break}e.placement!==O&&(e.modifiersData[n]._skip=!0,e.placement=O,e.reset=!0)}}const cZ={name:"flip",enabled:!0,phase:"main",fn:lZ,requiresIfExists:["offset"],data:{_skip:!1}};function RO(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function DO(t){return[Za,oo,so,es].some(function(e){return t[e]>=0})}function uZ(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=K0(e,{elementContext:"reference"}),o=K0(e,{altBoundary:!0}),A=RO(s,n),l=RO(o,i,a),c=DO(A),u=DO(l);e.modifiersData[r]={referenceClippingOffsets:A,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}const fZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uZ};function hZ(t,e,r){var n=UA(t),i=[es,Za].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[es,oo].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function dZ(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,s=r7.reduce(function(c,u){return c[u]=hZ(u,e.rects,a),c},{}),o=s[e.placement],A=o.x,l=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=A,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=s}const pZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dZ};function gZ(t){var e=t.state,r=t.name;e.modifiersData[r]=l7({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const mZ={name:"popperOffsets",enabled:!0,phase:"read",fn:gZ,data:{}};function vZ(t){return t==="x"?"y":"x"}function yZ(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!1:s,A=r.boundary,l=r.rootBoundary,c=r.altBoundary,u=r.padding,f=r.tether,h=f===void 0?!0:f,d=r.tetherOffset,p=d===void 0?0:d,g=K0(e,{boundary:A,rootBoundary:l,padding:u,altBoundary:c}),v=UA(e.placement),y=Pd(e.placement),w=!y,S=m4(v),x=vZ(S),E=e.modifiersData.popperOffsets,C=e.rects.reference,L=e.rects.popper,O=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,D=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),_=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(E){if(a){var R,M=S==="y"?Za:es,z=S==="y"?so:oo,N=S==="y"?"height":"width",Y=E[S],X=Y+g[M],H=Y-g[z],W=h?-L[N]/2:0,Z=y===Id?C[N]:L[N],I=y===Id?-L[N]:-C[N],U=e.elements.arrow,$=h&&U?g4(U):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:a7(),te=G[M],ie=G[z],oe=v0(0,C[N],$[N]),ne=w?C[N]/2-W-oe-te-D.mainAxis:Z-oe-te-D.mainAxis,ye=w?-C[N]/2+W+oe+ie+D.mainAxis:I+oe+ie+D.mainAxis,me=e.elements.arrow&&jm(e.elements.arrow),se=me?S==="y"?me.clientTop||0:me.clientLeft||0:0,Ie=(R=_==null?void 0:_[S])!=null?R:0,Re=Y+ne-Ie-se,le=Y+ye-Ie,ee=v0(h?E2(X,Re):X,Y,h?hf(H,le):H);E[S]=ee,F[S]=ee-Y}if(o){var He,Ee=S==="x"?Za:es,Be=S==="x"?so:oo,Te=E[x],pe=x==="y"?"height":"width",Ue=Te+g[Ee],Fe=Te-g[Be],De=[Za,es].indexOf(v)!==-1,Qe=(He=_==null?void 0:_[x])!=null?He:0,Xe=De?Ue:Te-C[pe]-L[pe]-Qe+D.altAxis,lt=De?Te+C[pe]+L[pe]-Qe-D.altAxis:Fe,et=h&&De?jJ(Xe,Te,lt):v0(h?Xe:Ue,Te,h?lt:Fe);E[x]=et,F[x]=et-Te}e.modifiersData[n]=F}}const bZ={name:"preventOverflow",enabled:!0,phase:"main",fn:yZ,requiresIfExists:["offset"]};function wZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xZ(t){return t===Ts(t)||!no(t)?v4(t):wZ(t)}function EZ(t){var e=t.getBoundingClientRect(),r=Od(e.width)/t.offsetWidth||1,n=Od(e.height)/t.offsetHeight||1;return r!==1||n!==1}function BZ(t,e,r){r===void 0&&(r=!1);var n=no(e),i=no(e)&&EZ(e),a=uu(e),s=Fd(t,i,r),o={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(n||!n&&!r)&&((QA(e)!=="body"||b4(a))&&(o=xZ(e)),no(e)?(A=Fd(e,!0),A.x+=e.clientLeft,A.y+=e.clientTop):a&&(A.x=y4(a))),{x:s.left+o.scrollLeft-A.x,y:s.top+o.scrollTop-A.y,width:s.width,height:s.height}}function CZ(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var A=e.get(o);A&&i(A)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function SZ(t){var e=CZ(t);return MJ.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function TZ(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function _Z(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var MO={placement:"bottom",modifiers:[],strategy:"absolute"};function NO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function LZ(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?MO:i;return function(o,A,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},MO,a),modifiersData:{},elements:{reference:o,popper:A},attributes:{},styles:{}},u=[],f=!1,h={state:c,setOptions:function(v){var y=typeof v=="function"?v(c.options):v;p(),c.options=Object.assign({},a,c.options,y),c.scrollParents={reference:Tf(o)?y0(o):o.contextElement?y0(o.contextElement):[],popper:y0(A)};var w=SZ(_Z([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(S){return S.enabled}),d(),h.update()},forceUpdate:function(){if(!f){var v=c.elements,y=v.reference,w=v.popper;if(NO(y,w)){c.rects={reference:BZ(y,jm(w),c.options.strategy==="fixed"),popper:g4(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var x=c.orderedModifiers[S],E=x.fn,C=x.options,L=C===void 0?{}:C,O=x.name;typeof E=="function"&&(c=E({state:c,options:L,name:O,instance:h})||c)}}}},update:TZ(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){p(),f=!0}};if(!NO(o,A))return h;h.setOptions(l).then(function(g){!f&&l.onFirstUpdate&&l.onFirstUpdate(g)});function d(){c.orderedModifiers.forEach(function(g){var v=g.name,y=g.options,w=y===void 0?{}:y,S=g.effect;if(typeof S=="function"){var x=S({state:c,name:v,instance:h,options:w}),E=function(){};u.push(x||E)}})}function p(){u.forEach(function(g){return g()}),u=[]}return h}}var IZ=[ZJ,mZ,XJ,QJ,pZ,cZ,bZ,WJ,fZ],OGe=LZ({defaultModifiers:IZ});const ji=[];for(let t=0;t<256;++t)ji.push((t+256).toString(16).slice(1));function OZ(t,e=0){return(ji[t[e+0]]+ji[t[e+1]]+ji[t[e+2]]+ji[t[e+3]]+"-"+ji[t[e+4]]+ji[t[e+5]]+"-"+ji[t[e+6]]+ji[t[e+7]]+"-"+ji[t[e+8]]+ji[t[e+9]]+"-"+ji[t[e+10]]+ji[t[e+11]]+ji[t[e+12]]+ji[t[e+13]]+ji[t[e+14]]+ji[t[e+15]]).toLowerCase()}let _E;const FZ=new Uint8Array(16);function PZ(){if(!_E){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_E=crypto.getRandomValues.bind(crypto)}return _E(FZ)}const UZ=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kO={randomUUID:UZ};function FGe(t,e,r){var i,a,s;if(kO.randomUUID&&!t)return kO.randomUUID();t=t||{};const n=(s=(a=t.random)!=null?a:(i=t.rng)==null?void 0:i.call(t))!=null?s:PZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,OZ(n)}function lr(t){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(t)}var pa=Uint8Array,Es=Uint16Array,w4=Int32Array,yw=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bw=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D5=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c7=function(t,e){for(var r=new Es(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new w4(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},u7=c7(yw,2),f7=u7.b,M5=u7.r;f7[28]=258,M5[258]=28;var h7=c7(bw,0),RZ=h7.b,QO=h7.r,N5=new Es(32768);for(var en=0;en<32768;++en){var Cc=(en&43690)>>1|(en&21845)<<1;Cc=(Cc&52428)>>2|(Cc&13107)<<2,Cc=(Cc&61680)>>4|(Cc&3855)<<4,N5[en]=((Cc&65280)>>8|(Cc&255)<<8)>>1}var RA=function(t,e,r){for(var n=t.length,i=0,a=new Es(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Es(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Es(1<<e);var A=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],u=s[t[i]-1]++<<c,f=u|(1<<c)-1;u<=f;++u)o[N5[u]>>A]=l}else for(o=new Es(n),i=0;i<n;++i)t[i]&&(o[i]=N5[s[t[i]-1]++]>>15-t[i]);return o},eu=new pa(288);for(var en=0;en<144;++en)eu[en]=8;for(var en=144;en<256;++en)eu[en]=9;for(var en=256;en<280;++en)eu[en]=7;for(var en=280;en<288;++en)eu[en]=8;var V0=new pa(32);for(var en=0;en<32;++en)V0[en]=5;var DZ=RA(eu,9,0),MZ=RA(eu,9,1),NZ=RA(V0,5,0),kZ=RA(V0,5,1),LE=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Co=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},IE=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},x4=function(t){return(t+7)/8|0},d7=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new pa(t.subarray(e,r))},QZ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Mo=function(t,e,r){var n=new Error(e||QZ[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Mo),!r)throw n;return n},HZ=function(t,e,r,n){var i=t.length,a=0;if(!i||e.f&&!e.l)return r||new pa(0);var s=!r,o=s||e.i!=2,A=e.i;s&&(r=new pa(i*3));var l=function(me){var se=r.length;if(me>se){var Ie=new pa(Math.max(se*2,me));Ie.set(r),r=Ie}},c=e.f||0,u=e.p||0,f=e.b||0,h=e.l,d=e.d,p=e.m,g=e.n,v=i*8;do{if(!h){c=Co(t,u,1);var y=Co(t,u+1,3);if(u+=3,y)if(y==1)h=MZ,d=kZ,p=9,g=5;else if(y==2){var E=Co(t,u,31)+257,C=Co(t,u+10,15)+4,L=E+Co(t,u+5,31)+1;u+=14;for(var O=new pa(L),D=new pa(19),_=0;_<C;++_)D[D5[_]]=Co(t,u+_*3,7);u+=C*3;for(var F=LE(D),R=(1<<F)-1,M=RA(D,F,1),_=0;_<L;){var z=M[Co(t,u,R)];u+=z&15;var w=z>>4;if(w<16)O[_++]=w;else{var N=0,Y=0;for(w==16?(Y=3+Co(t,u,3),u+=2,N=O[_-1]):w==17?(Y=3+Co(t,u,7),u+=3):w==18&&(Y=11+Co(t,u,127),u+=7);Y--;)O[_++]=N}}var X=O.subarray(0,E),H=O.subarray(E);p=LE(X),g=LE(H),h=RA(X,p,1),d=RA(H,g,1)}else Mo(1);else{var w=x4(u)+4,S=t[w-4]|t[w-3]<<8,x=w+S;if(x>i){A&&Mo(0);break}o&&l(f+S),r.set(t.subarray(w,x),f),e.b=f+=S,e.p=u=x*8,e.f=c;continue}if(u>v){A&&Mo(0);break}}o&&l(f+131072);for(var W=(1<<p)-1,Z=(1<<g)-1,I=u;;I=u){var N=h[IE(t,u)&W],U=N>>4;if(u+=N&15,u>v){A&&Mo(0);break}if(N||Mo(2),U<256)r[f++]=U;else if(U==256){I=u,h=null;break}else{var $=U-254;if(U>264){var _=U-257,G=yw[_];$=Co(t,u,(1<<G)-1)+f7[_],u+=G}var te=d[IE(t,u)&Z],ie=te>>4;te||Mo(3),u+=te&15;var H=RZ[ie];if(ie>3){var G=bw[ie];H+=IE(t,u)&(1<<G)-1,u+=G}if(u>v){A&&Mo(0);break}o&&l(f+131072);var oe=f+$;if(f<H){var ne=a-H,ye=Math.min(H,oe);for(ne+f<0&&Mo(3);f<ye;++f)r[f]=n[ne+f]}for(;f<oe;++f)r[f]=r[f-H]}}e.l=h,e.p=I,e.b=f,e.f=c,h&&(c=1,e.m=p,e.d=d,e.n=g)}while(!c);return f!=r.length&&s?d7(r,0,f):r.subarray(0,f)},ml=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},pg=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},OE=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:g7,l:0};if(i==1){var s=new pa(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(x,E){return x.f-E.f}),r.push({s:-1,f:25001});var o=r[0],A=r[1],l=0,c=1,u=2;for(r[0]={s:-1,f:o.f+A.f,l:o,r:A};c!=i-1;)o=r[r[l].f<r[u].f?l++:u++],A=r[l!=c&&r[l].f<r[u].f?l++:u++],r[c++]={s:-1,f:o.f+A.f,l:o,r:A};for(var f=a[0].s,n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var h=new Es(f+1),d=k5(r[c-1],h,0);if(d>e){var n=0,p=0,g=d-e,v=1<<g;for(a.sort(function(E,C){return h[C.s]-h[E.s]||E.f-C.f});n<i;++n){var y=a[n].s;if(h[y]>e)p+=v-(1<<d-h[y]),h[y]=e;else break}for(p>>=g;p>0;){var w=a[n].s;h[w]<e?p-=1<<e-h[w]++-1:++n}for(;n>=0&&p;--n){var S=a[n].s;h[S]==e&&(--h[S],++p)}d=e}return{t:new pa(h),l:d}},k5=function(t,e,r){return t.s==-1?Math.max(k5(t.l,e,r+1),k5(t.r,e,r+1)):e[t.s]=r},HO=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Es(++e),n=0,i=t[0],a=1,s=function(A){r[n++]=A},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},gg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},p7=function(t,e,r){var n=r.length,i=x4(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},$O=function(t,e,r,n,i,a,s,o,A,l,c){ml(e,c++,r),++i[256];for(var u=OE(i,15),f=u.t,h=u.l,d=OE(a,15),p=d.t,g=d.l,v=HO(f),y=v.c,w=v.n,S=HO(p),x=S.c,E=S.n,C=new Es(19),L=0;L<y.length;++L)++C[y[L]&31];for(var L=0;L<x.length;++L)++C[x[L]&31];for(var O=OE(C,7),D=O.t,_=O.l,F=19;F>4&&!D[D5[F-1]];--F);var R=l+5<<3,M=gg(i,eu)+gg(a,V0)+s,z=gg(i,f)+gg(a,p)+s+14+3*F+gg(C,D)+2*C[16]+3*C[17]+7*C[18];if(A>=0&&R<=M&&R<=z)return p7(e,c,t.subarray(A,A+l));var N,Y,X,H;if(ml(e,c,1+(z<M)),c+=2,z<M){N=RA(f,h,0),Y=f,X=RA(p,g,0),H=p;var W=RA(D,_,0);ml(e,c,w-257),ml(e,c+5,E-1),ml(e,c+10,F-4),c+=14;for(var L=0;L<F;++L)ml(e,c+3*L,D[D5[L]]);c+=3*F;for(var Z=[y,x],I=0;I<2;++I)for(var U=Z[I],L=0;L<U.length;++L){var $=U[L]&31;ml(e,c,W[$]),c+=D[$],$>15&&(ml(e,c,U[L]>>5&127),c+=U[L]>>12)}}else N=DZ,Y=eu,X=NZ,H=V0;for(var L=0;L<o;++L){var G=n[L];if(G>255){var $=G>>18&31;pg(e,c,N[$+257]),c+=Y[$+257],$>7&&(ml(e,c,G>>23&31),c+=yw[$]);var te=G&31;pg(e,c,X[te]),c+=H[te],te>3&&(pg(e,c,G>>5&8191),c+=bw[te])}else pg(e,c,N[G]),c+=Y[G]}return pg(e,c,N[256]),c+Y[256]},$Z=new w4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g7=new pa(0),jZ=function(t,e,r,n,i,a){var s=a.z||t.length,o=new pa(n+s+5*(1+Math.ceil(s/7e3))+i),A=o.subarray(n,o.length-i),l=a.l,c=(a.r||0)&7;if(e){c&&(A[0]=a.r>>3);for(var u=$Z[e-1],f=u>>13,h=u&8191,d=(1<<r)-1,p=a.p||new Es(32768),g=a.h||new Es(d+1),v=Math.ceil(r/3),y=2*v,w=function(Re){return(t[Re]^t[Re+1]<<v^t[Re+2]<<y)&d},S=new w4(25e3),x=new Es(288),E=new Es(32),C=0,L=0,O=a.i||0,D=0,_=a.w||0,F=0;O+2<s;++O){var R=w(O),M=O&32767,z=g[R];if(p[M]=z,g[R]=M,_<=O){var N=s-O;if((C>7e3||D>24576)&&(N>423||!l)){c=$O(t,A,0,S,x,E,L,D,F,O-F,c),D=C=L=0,F=O;for(var Y=0;Y<286;++Y)x[Y]=0;for(var Y=0;Y<30;++Y)E[Y]=0}var X=2,H=0,W=h,Z=M-z&32767;if(N>2&&R==w(O-Z))for(var I=Math.min(f,N)-1,U=Math.min(32767,O),$=Math.min(258,N);Z<=U&&--W&&M!=z;){if(t[O+X]==t[O+X-Z]){for(var G=0;G<$&&t[O+G]==t[O+G-Z];++G);if(G>X){if(X=G,H=Z,G>I)break;for(var te=Math.min(Z,G-2),ie=0,Y=0;Y<te;++Y){var oe=O-Z+Y&32767,ne=p[oe],ye=oe-ne&32767;ye>ie&&(ie=ye,z=oe)}}}M=z,z=p[M],Z+=M-z&32767}if(H){S[D++]=268435456|M5[X]<<18|QO[H];var me=M5[X]&31,se=QO[H]&31;L+=yw[me]+bw[se],++x[257+me],++E[se],_=O+X,++C}else S[D++]=t[O],++x[t[O]]}}for(O=Math.max(O,_);O<s;++O)S[D++]=t[O],++x[t[O]];c=$O(t,A,l,S,x,E,L,D,F,O-F,c),l||(a.r=c&7|A[c/8|0]<<3,c-=7,a.h=g,a.p=p,a.i=O,a.w=_)}else{for(var O=a.w||0;O<s+l;O+=65535){var Ie=O+65535;Ie>=s&&(A[c/8|0]=l,Ie=s),c=p7(A,c+1,t.subarray(O,Ie))}a.i=s}return d7(o,0,n+x4(c)+i)},m7=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},GZ=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new pa(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return jZ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},v7=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},KZ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=m7();i.p(e.dictionary),v7(t,2,i.d())}},VZ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Mo(6,"invalid zlib data"),(t[1]>>5&1)==1&&Mo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Q5(t,e){e||(e={});var r=m7();r.p(t);var n=GZ(t,e,e.dictionary?6:2,4);return KZ(n,e),v7(n,n.length-4,r.d()),n}function WZ(t,e){return HZ(t.subarray(VZ(t),-4),{i:2},e,e)}var zZ=typeof TextDecoder!="undefined"&&new TextDecoder,YZ=0;try{zZ.decode(g7,{stream:!0}),YZ=1}catch(t){}var Ut=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function FE(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Mr={log:FE,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):FE.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):FE(t))}};function PE(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Vu(n.response,e,r)},n.onerror=function(){Mr.error("could not download file")},n.send()}function jO(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(r){}return e.status>=200&&e.status<=299}function e1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var b0,H5,Vu=Ut.saveAs||((typeof window=="undefined"?"undefined":lr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ut.URL||Ut.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?jO(i.href)?PE(t,e,r):e1(i,i.target="_blank"):e1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){e1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(jO(t))PE(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){e1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:lr(a)!=="object"&&(Mr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return PE(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Ut.HTMLElement)||Ut.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader=="undefined"?"undefined":lr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var A=Ut.URL||Ut.webkitURL,l=A.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function y7(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+o+A+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function UE(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ra(r,n,i,a,e[0],7,-680876936),a=ra(a,r,n,i,e[1],12,-389564586),i=ra(i,a,r,n,e[2],17,606105819),n=ra(n,i,a,r,e[3],22,-1044525330),r=ra(r,n,i,a,e[4],7,-176418897),a=ra(a,r,n,i,e[5],12,1200080426),i=ra(i,a,r,n,e[6],17,-1473231341),n=ra(n,i,a,r,e[7],22,-45705983),r=ra(r,n,i,a,e[8],7,1770035416),a=ra(a,r,n,i,e[9],12,-1958414417),i=ra(i,a,r,n,e[10],17,-42063),n=ra(n,i,a,r,e[11],22,-1990404162),r=ra(r,n,i,a,e[12],7,1804603682),a=ra(a,r,n,i,e[13],12,-40341101),i=ra(i,a,r,n,e[14],17,-1502002290),r=na(r,n=ra(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=na(a,r,n,i,e[6],9,-1069501632),i=na(i,a,r,n,e[11],14,643717713),n=na(n,i,a,r,e[0],20,-373897302),r=na(r,n,i,a,e[5],5,-701558691),a=na(a,r,n,i,e[10],9,38016083),i=na(i,a,r,n,e[15],14,-660478335),n=na(n,i,a,r,e[4],20,-405537848),r=na(r,n,i,a,e[9],5,568446438),a=na(a,r,n,i,e[14],9,-1019803690),i=na(i,a,r,n,e[3],14,-187363961),n=na(n,i,a,r,e[8],20,1163531501),r=na(r,n,i,a,e[13],5,-1444681467),a=na(a,r,n,i,e[2],9,-51403784),i=na(i,a,r,n,e[7],14,1735328473),r=ia(r,n=na(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ia(a,r,n,i,e[8],11,-2022574463),i=ia(i,a,r,n,e[11],16,1839030562),n=ia(n,i,a,r,e[14],23,-35309556),r=ia(r,n,i,a,e[1],4,-1530992060),a=ia(a,r,n,i,e[4],11,1272893353),i=ia(i,a,r,n,e[7],16,-155497632),n=ia(n,i,a,r,e[10],23,-1094730640),r=ia(r,n,i,a,e[13],4,681279174),a=ia(a,r,n,i,e[0],11,-358537222),i=ia(i,a,r,n,e[3],16,-722521979),n=ia(n,i,a,r,e[6],23,76029189),r=ia(r,n,i,a,e[9],4,-640364487),a=ia(a,r,n,i,e[12],11,-421815835),i=ia(i,a,r,n,e[15],16,530742520),r=aa(r,n=ia(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=aa(a,r,n,i,e[7],10,1126891415),i=aa(i,a,r,n,e[14],15,-1416354905),n=aa(n,i,a,r,e[5],21,-57434055),r=aa(r,n,i,a,e[12],6,1700485571),a=aa(a,r,n,i,e[3],10,-1894986606),i=aa(i,a,r,n,e[10],15,-1051523),n=aa(n,i,a,r,e[1],21,-2054922799),r=aa(r,n,i,a,e[8],6,1873313359),a=aa(a,r,n,i,e[15],10,-30611744),i=aa(i,a,r,n,e[6],15,-1560198380),n=aa(n,i,a,r,e[13],21,1309151649),r=aa(r,n,i,a,e[4],6,-145523070),a=aa(a,r,n,i,e[11],10,-1120210379),i=aa(i,a,r,n,e[2],15,718787259),n=aa(n,i,a,r,e[9],21,-343485551),t[0]=Qc(r,t[0]),t[1]=Qc(n,t[1]),t[2]=Qc(i,t[2]),t[3]=Qc(a,t[3])}function ww(t,e,r,n,i,a){return e=Qc(Qc(e,t),Qc(n,a)),Qc(e<<i|e>>>32-i,r)}function ra(t,e,r,n,i,a,s){return ww(e&r|~e&n,t,e,i,a,s)}function na(t,e,r,n,i,a,s){return ww(e&n|r&~n,t,e,i,a,s)}function ia(t,e,r,n,i,a,s){return ww(e^r^n,t,e,i,a,s)}function aa(t,e,r,n,i,a,s){return ww(r^(e|~n),t,e,i,a,s)}function b7(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)UE(n,qZ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(UE(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,UE(n,i),n}function qZ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}b0=Ut.atob.bind(Ut),H5=Ut.btoa.bind(Ut);var GO="0123456789abcdef".split("");function XZ(t){for(var e="",r=0;r<4;r++)e+=GO[t>>8*r+4&15]+GO[t>>8*r&15];return e}function JZ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $5(t){return b7(t).map(JZ).join("")}var ZZ=function(t){for(var e=0;e<t.length;e++)t[e]=XZ(t[e]);return t.join("")}(b7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qc(t,e){if(ZZ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),o=[],A=0;A<256;A++)o[A]=A;var l=0;for(A=0;A<256;A++){var c=o[A];l=(l+c+s.charCodeAt(A))%256,o[A]=o[l],o[l]=c}r=t,n=o}else o=n;var u=e.length,f=0,h=0,d="";for(A=0;A<u;A++)h=(h+(c=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=c,s=o[(o[f]+o[h])%256],d+=String.fromCharCode(e.charCodeAt(A)^s);return d}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KO={print:4,modify:8,copy:16,"annot-forms":32};function Yh(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(KO.perm!==void 0)throw new Error("Invalid permission: "+o);i+=KO[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=$5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=j5(this.encryptionKey,this.padding)}function qh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function VO(t){if(lr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Ut.console&&Mr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function B2(t){if(!(this instanceof B2))return new B2(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function w7(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ef(t,e,r,n,i){if(!(this instanceof ef))return new ef(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,w7.call(this,n,i)}function nd(t,e,r,n,i){if(!(this instanceof nd))return new nd(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,w7.call(this,n,i)}function Pt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,A=16,l="S",c=null;lr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=VO;var d="1.3",p=h.__private__.getPdfVersion=function(){return d};h.__private__.setPdfVersion=function(B){d=B};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var v=h.__private__.getPageFormat=function(B){return g[B]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function S(){this.saveGraphicsState(),ee(new yt(ze,0,0,-ze,0,fc()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),l="n",w=y.ADVANCED}function x(){this.restoreGraphicsState(),l="S",w=y.COMPAT}var E=h.__private__.combineFontStyleAndFontWeight=function(B,Q){if(B=="bold"&&Q=="normal"||B=="bold"&&Q==400||B=="normal"&&Q=="italic"||B=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(B=Q==400||Q==="normal"?B==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||B!=="normal"?(Q==700?"bold":Q)+""+B:"bold"),B};h.advancedAPI=function(B){var Q=w===y.COMPAT;return Q&&S.call(this),typeof B!="function"||(B(this),Q&&x.call(this)),this},h.compatAPI=function(B){var Q=w===y.ADVANCED;return Q&&x.call(this),typeof B!="function"||(B(this),Q&&S.call(this)),this},h.isAdvancedAPI=function(){return w===y.ADVANCED};var C,L=function(B){if(w!==y.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(B,Q){var ae=e||Q;if(isNaN(B)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(ae).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,16)};var D=h.f2=h.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return O(B,2)},_=h.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return O(B,3)},F=h.scale=h.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?B*ze:w===y.ADVANCED?B:void 0},R=function(B){return w===y.COMPAT?fc()-B:w===y.ADVANCED?B:void 0},M=function(B){return F(R(B))};h.__private__.setPrecision=h.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var z,N="00000000000000000000000000000000",Y=h.__private__.getFileId=function(){return N},X=h.__private__.setFileId=function(B){return N=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():N.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(hn=new Yh(c.userPermissions,c.userPassword,c.ownerPassword,N)),N};h.setFileId=function(B){return X(B),this},h.getFileId=function(){return Y()};var H=h.__private__.convertDateToPDFDate=function(B){var Q=B.getTimezoneOffset(),ae=Q<0?"+":"-",Ae=Math.floor(Math.abs(Q/60)),ve=Math.abs(Q%60),Oe=[ae,$(Ae),"'",$(ve),"'"].join("");return["D:",B.getFullYear(),$(B.getMonth()+1),$(B.getDate()),$(B.getHours()),$(B.getMinutes()),$(B.getSeconds()),Oe].join("")},W=h.__private__.convertPDFDateToDate=function(B){var Q=parseInt(B.substr(2,4),10),ae=parseInt(B.substr(6,2),10)-1,Ae=parseInt(B.substr(8,2),10),ve=parseInt(B.substr(10,2),10),Oe=parseInt(B.substr(12,2),10),Ke=parseInt(B.substr(14,2),10);return new Date(Q,ae,Ae,ve,Oe,Ke,0)},Z=h.__private__.setCreationDate=function(B){var Q;if(B===void 0&&(B=new Date),B instanceof Date)Q=H(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=B}return z=Q},I=h.__private__.getCreationDate=function(B){var Q=z;return B==="jsDate"&&(Q=W(z)),Q};h.setCreationDate=function(B){return Z(B),this},h.getCreationDate=function(B){return I(B)};var U,$=h.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},G=h.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},te=0,ie=[],oe=[],ne=0,ye=[],me=[],se=!1,Ie=oe,Re=function(){te=0,ne=0,oe=[],ie=[],ye=[],oi=Rr(),Yr=Rr()};h.__private__.setCustomOutputDestination=function(B){se=!0,Ie=B};var le=function(B){se||(Ie=B)};h.__private__.resetCustomOutputDestination=function(){se=!1,Ie=oe};var ee=h.__private__.out=function(B){return B=B.toString(),ne+=B.length+1,Ie.push(B),Ie},He=h.__private__.write=function(B){return ee(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Ee=h.__private__.getArrayBuffer=function(B){for(var Q=B.length,ae=new ArrayBuffer(Q),Ae=new Uint8Array(ae);Q--;)Ae[Q]=B.charCodeAt(Q);return ae},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Be};var Te=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(B){return Te=w===y.ADVANCED?B/ze:B,this};var pe,Ue=h.__private__.getFontSize=h.getFontSize=function(){return w===y.COMPAT?Te:Te*ze},Fe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(B){return Fe=B,this},h.__private__.getR2L=h.getR2L=function(){return Fe};var De,Qe=h.__private__.setZoomMode=function(B){var Q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))pe=B;else if(isNaN(B)){if(Q.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');pe=B}else pe=parseInt(B,10)};h.__private__.getZoomMode=function(){return pe};var Xe,lt=h.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');De=B};h.__private__.getPageMode=function(){return De};var et=h.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Xe=B};h.__private__.getLayoutMode=function(){return Xe},h.__private__.setDisplayMode=h.setDisplayMode=function(B,Q,ae){return Qe(B),et(Q),lt(ae),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(B){if(Object.keys(Ye).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[B]},h.__private__.getDocumentProperties=function(){return Ye},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(B){for(var Q in Ye)Ye.hasOwnProperty(Q)&&B[Q]&&(Ye[Q]=B[Q]);return this},h.__private__.setDocumentProperty=function(B,Q){if(Object.keys(Ye).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[B]=Q};var ot,ze,Xt,Ft,Bt,dt={},Ht={},Fr=[],Gt={},Jt={},_t={},Kn={},ir=null,Pr=0,Lt=[],vt=new VO(h),zr=t.hotfixes||[],Ur={},Ui={},Ri=[],yt=function B(Q,ae,Ae,ve,Oe,Ke){if(!(this instanceof B))return new B(Q,ae,Ae,ve,Oe,Ke);isNaN(Q)&&(Q=1),isNaN(ae)&&(ae=0),isNaN(Ae)&&(Ae=0),isNaN(ve)&&(ve=1),isNaN(Oe)&&(Oe=0),isNaN(Ke)&&(Ke=0),this._matrix=[Q,ae,Ae,ve,Oe,Ke]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(B)},yt.prototype.multiply=function(B){var Q=B.sx*this.sx+B.shy*this.shx,ae=B.sx*this.shy+B.shy*this.sy,Ae=B.shx*this.sx+B.sy*this.shx,ve=B.shx*this.shy+B.sy*this.sy,Oe=B.tx*this.sx+B.ty*this.shx+this.tx,Ke=B.tx*this.shy+B.ty*this.sy+this.ty;return new yt(Q,ae,Ae,ve,Oe,Ke)},yt.prototype.decompose=function(){var B=this.sx,Q=this.shy,ae=this.shx,Ae=this.sy,ve=this.tx,Oe=this.ty,Ke=Math.sqrt(B*B+Q*Q),it=(B/=Ke)*ae+(Q/=Ke)*Ae;ae-=B*it,Ae-=Q*it;var wt=Math.sqrt(ae*ae+Ae*Ae);return it/=wt,B*(Ae/=wt)<Q*(ae/=wt)&&(B=-B,Q=-Q,it=-it,Ke=-Ke),{scale:new yt(Ke,0,0,wt,0,0),translate:new yt(1,0,0,1,ve,Oe),rotate:new yt(B,Q,-Q,B,0,0),skew:new yt(1,0,it,1,0,0)}},yt.prototype.toString=function(B){return this.join(" ")},yt.prototype.inversed=function(){var B=this.sx,Q=this.shy,ae=this.shx,Ae=this.sy,ve=this.tx,Oe=this.ty,Ke=1/(B*Ae-Q*ae),it=Ae*Ke,wt=-Q*Ke,Nt=-ae*Ke,Dt=B*Ke;return new yt(it,wt,Nt,Dt,-it*ve-Nt*Oe,-wt*ve-Dt*Oe)},yt.prototype.applyToPoint=function(B){var Q=B.x*this.sx+B.y*this.shx+this.tx,ae=B.x*this.shy+B.y*this.sy+this.ty;return new th(Q,ae)},yt.prototype.applyToRectangle=function(B){var Q=this.applyToPoint(B),ae=this.applyToPoint(new th(B.x+B.w,B.y+B.h));return new Wp(Q.x,Q.y,ae.x-Q.x,ae.y-Q.y)},yt.prototype.clone=function(){var B=this.sx,Q=this.shy,ae=this.shx,Ae=this.sy,ve=this.tx,Oe=this.ty;return new yt(B,Q,ae,Ae,ve,Oe)},h.Matrix=yt;var qi=h.matrixMult=function(B,Q){return Q.multiply(B)},Xi=new yt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Xi;var mr=function(B,Q){if(!Jt[B]){var ae=(Q instanceof ef?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);Q.id=ae,Jt[B]=ae,Gt[ae]=Q,vt.publish("addPattern",Q)}};h.ShadingPattern=ef,h.TilingPattern=nd,h.addShadingPattern=function(B,Q){return L("addShadingPattern()"),mr(B,Q),this},h.beginTilingPattern=function(B){L("beginTilingPattern()"),Cv(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},h.endTilingPattern=function(B,Q){L("endTilingPattern()"),Q.stream=me[U].join(`
`),mr(B,Q),vt.publish("endTilingPattern",Q),Ri.pop().restore()};var Er=h.__private__.newObject=function(){var B=Rr();return si(B,!0),B},Rr=h.__private__.newObjectDeferred=function(){return te++,ie[te]=function(){return ne},te},si=function(B,Q){return Q=typeof Q=="boolean"&&Q,ie[B]=ne,Q&&ee(B+" 0 obj"),B},ma=h.__private__.newAdditionalObject=function(){var B={objId:Rr(),content:""};return ye.push(B),B},oi=Rr(),Yr=Rr(),Di=h.__private__.decodeColorString=function(B){var Q=B.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length===5&&(Q[4]==="k"||Q[4]==="K")&&(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var ae=parseFloat(Q[0]);Q=[ae,ae,ae,"r"]}for(var Ae="#",ve=0;ve<3;ve++)Ae+=("0"+Math.floor(255*parseFloat(Q[ve])).toString(16)).slice(-2);return Ae},bi=h.__private__.encodeColorString=function(B){var Q;typeof B=="string"&&(B={ch1:B});var ae=B.ch1,Ae=B.ch2,ve=B.ch3,Oe=B.ch4,Ke=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var it=new y7(ae);if(it.ok)ae=it.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var wt=parseInt(ae.substr(1),16);ae=wt>>16&255,Ae=wt>>8&255,ve=255&wt}if(Ae===void 0||Oe===void 0&&ae===Ae&&Ae===ve)if(typeof ae=="string")Q=ae+" "+Ke[0];else switch(B.precision){case 2:Q=D(ae/255)+" "+Ke[0];break;case 3:default:Q=_(ae/255)+" "+Ke[0]}else if(Oe===void 0||lr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return Q=["1.","1.","1.",Ke[1]].join(" ");if(typeof ae=="string")Q=[ae,Ae,ve,Ke[1]].join(" ");else switch(B.precision){case 2:Q=[D(ae/255),D(Ae/255),D(ve/255),Ke[1]].join(" ");break;default:case 3:Q=[_(ae/255),_(Ae/255),_(ve/255),Ke[1]].join(" ")}}else if(typeof ae=="string")Q=[ae,Ae,ve,Oe,Ke[2]].join(" ");else switch(B.precision){case 2:Q=[D(ae),D(Ae),D(ve),D(Oe),Ke[2]].join(" ");break;case 3:default:Q=[_(ae),_(Ae),_(ve),_(Oe),Ke[2]].join(" ")}return Q},va=h.__private__.getFilters=function(){return s},wi=h.__private__.putStream=function(B){var Q=(B=B||{}).data||"",ae=B.filters||va(),Ae=B.alreadyAppliedFilters||[],ve=B.addLength1||!1,Oe=Q.length,Ke=B.objectId,it=function(ta){return ta};if(c!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(it=hn.encryptor(Ke,0));var wt={};ae===!0&&(ae=["FlateEncode"]);var Nt=B.additionalKeyValues||[],Dt=(wt=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(Q,ae):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(wt.data.length!==0&&(Nt.push({key:"Length",value:wt.data.length}),ve===!0&&Nt.push({key:"Length1",value:Oe})),Dt.length!=0)if(Dt.split("/").length-1==1)Nt.push({key:"Filter",value:Dt});else{Nt.push({key:"Filter",value:"["+Dt+"]"});for(var rr=0;rr<Nt.length;rr+=1)if(Nt[rr].key==="DecodeParms"){for(var dn=[],wn=0;wn<wt.reverseChain.split("/").length-1;wn+=1)dn.push("null");dn.push(Nt[rr].value),Nt[rr].value="["+dn.join(" ")+"]"}}ee("<<");for(var Wn=0;Wn<Nt.length;Wn++)ee("/"+Nt[Wn].key+" "+Nt[Wn].value);ee(">>"),wt.data.length!==0&&(ee("stream"),ee(it(wt.data)),ee("endstream"))},Mi=h.__private__.putPage=function(B){var Q=B.number,ae=B.data,Ae=B.objId,ve=B.contentsObjId;si(Ae,!0),ee("<</Type /Page"),ee("/Parent "+B.rootDictionaryObjId+" 0 R"),ee("/Resources "+B.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(C(B.mediaBox.bottomLeftX))+" "+parseFloat(C(B.mediaBox.bottomLeftY))+" "+C(B.mediaBox.topRightX)+" "+C(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&ee("/CropBox ["+C(B.cropBox.bottomLeftX)+" "+C(B.cropBox.bottomLeftY)+" "+C(B.cropBox.topRightX)+" "+C(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&ee("/BleedBox ["+C(B.bleedBox.bottomLeftX)+" "+C(B.bleedBox.bottomLeftY)+" "+C(B.bleedBox.topRightX)+" "+C(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&ee("/TrimBox ["+C(B.trimBox.bottomLeftX)+" "+C(B.trimBox.bottomLeftY)+" "+C(B.trimBox.topRightX)+" "+C(B.trimBox.topRightY)+"]"),B.artBox!==null&&ee("/ArtBox ["+C(B.artBox.bottomLeftX)+" "+C(B.artBox.bottomLeftY)+" "+C(B.artBox.topRightX)+" "+C(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&ee("/UserUnit "+B.userUnit),vt.publish("putPage",{objId:Ae,pageContext:Lt[Q],pageNumber:Q,page:ae}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var Oe=ae.join(`
`);return w===y.ADVANCED&&(Oe+=`
Q`),si(ve,!0),wi({data:Oe,filters:va(),objectId:ve}),ee("endobj"),Ae},At=h.__private__.putPages=function(){var B,Q,ae=[];for(B=1;B<=Pr;B++)Lt[B].objId=Rr(),Lt[B].contentsObjId=Rr();for(B=1;B<=Pr;B++)ae.push(Mi({number:B,data:me[B],objId:Lt[B].objId,contentsObjId:Lt[B].contentsObjId,mediaBox:Lt[B].mediaBox,cropBox:Lt[B].cropBox,bleedBox:Lt[B].bleedBox,trimBox:Lt[B].trimBox,artBox:Lt[B].artBox,userUnit:Lt[B].userUnit,rootDictionaryObjId:oi,resourceDictionaryObjId:Yr}));si(oi,!0),ee("<</Type /Pages");var Ae="/Kids [";for(Q=0;Q<Pr;Q++)Ae+=ae[Q]+" 0 R ";ee(Ae+"]"),ee("/Count "+Pr),ee(">>"),ee("endobj"),vt.publish("postPutPages")},fe=function(B){vt.publish("putFont",{font:B,out:ee,newObject:Er,putStream:wi}),B.isAlreadyPutted!==!0&&(B.objectNumber=Er(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+qh(B.postScriptName)),ee("/Subtype /Type1"),typeof B.encoding=="string"&&ee("/Encoding /"+B.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Ve=function(){for(var B in dt)dt.hasOwnProperty(B)&&(u===!1||u===!0&&f.hasOwnProperty(B))&&fe(dt[B])},rt=function(B){B.objectNumber=Er();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[C(B.x),C(B.y),C(B.x+B.width),C(B.y+B.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var ae=B.pages[1].join(`
`);wi({data:ae,additionalKeyValues:Q,objectId:B.objectNumber}),ee("endobj")},Zt=function(){for(var B in Ur)Ur.hasOwnProperty(B)&&rt(Ur[B])},qr=function(B,Q){var ae,Ae=[],ve=1/(Q-1);for(ae=0;ae<1;ae+=ve)Ae.push(ae);if(Ae.push(1),B[0].offset!=0){var Oe={offset:0,color:B[0].color};B.unshift(Oe)}if(B[B.length-1].offset!=1){var Ke={offset:1,color:B[B.length-1].color};B.push(Ke)}for(var it="",wt=0,Nt=0;Nt<Ae.length;Nt++){for(ae=Ae[Nt];ae>B[wt+1].offset;)wt++;var Dt=B[wt].offset,rr=(ae-Dt)/(B[wt+1].offset-Dt),dn=B[wt].color,wn=B[wt+1].color;it+=G(Math.round((1-rr)*dn[0]+rr*wn[0]).toString(16))+G(Math.round((1-rr)*dn[1]+rr*wn[1]).toString(16))+G(Math.round((1-rr)*dn[2]+rr*wn[2]).toString(16))}return it.trim()},Ze=function(B,Q){Q||(Q=21);var ae=Er(),Ae=qr(B.colors,Q),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+Q+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wi({data:Ae,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ee("endobj"),B.objectNumber=Er(),ee("<< /ShadingType "+B.type),ee("/ColorSpace /DeviceRGB");var Oe="/Coords ["+C(parseFloat(B.coords[0]))+" "+C(parseFloat(B.coords[1]))+" ";B.type===2?Oe+=C(parseFloat(B.coords[2]))+" "+C(parseFloat(B.coords[3])):Oe+=C(parseFloat(B.coords[2]))+" "+C(parseFloat(B.coords[3]))+" "+C(parseFloat(B.coords[4]))+" "+C(parseFloat(B.coords[5])),ee(Oe+="]"),B.matrix&&ee("/Matrix ["+B.matrix.toString()+"]"),ee("/Function "+ae+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},an=function(B,Q){var ae=Rr(),Ae=Er();Q.push({resourcesOid:ae,objectOid:Ae}),B.objectNumber=Ae;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+B.boundingBox.map(C).join(" ")+"]"}),ve.push({key:"XStep",value:C(B.xStep)}),ve.push({key:"YStep",value:C(B.yStep)}),ve.push({key:"Resources",value:ae+" 0 R"}),B.matrix&&ve.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),wi({data:B.stream,additionalKeyValues:ve,objectId:B.objectNumber}),ee("endobj")},Ai=function(B){var Q;for(Q in Gt)Gt.hasOwnProperty(Q)&&(Gt[Q]instanceof ef?Ze(Gt[Q]):Gt[Q]instanceof nd&&an(Gt[Q],B))},Ni=function(B){for(var Q in B.objectNumber=Er(),ee("<<"),B)switch(Q){case"opacity":ee("/ca "+D(B[Q]));break;case"stroke-opacity":ee("/CA "+D(B[Q]))}ee(">>"),ee("endobj")},sn=function(){var B;for(B in _t)_t.hasOwnProperty(B)&&Ni(_t[B])},vo=function(){for(var B in ee("/XObject <<"),Ur)Ur.hasOwnProperty(B)&&Ur[B].objectNumber>=0&&ee("/"+B+" "+Ur[B].objectNumber+" 0 R");vt.publish("putXobjectDict"),ee(">>")},iA=function(){hn.oid=Er(),ee("<<"),ee("/Filter /Standard"),ee("/V "+hn.v),ee("/R "+hn.r),ee("/U <"+hn.toHexString(hn.U)+">"),ee("/O <"+hn.toHexString(hn.O)+">"),ee("/P "+hn.P),ee(">>"),ee("endobj")},JA=function(){for(var B in ee("/Font <<"),dt)dt.hasOwnProperty(B)&&(u===!1||u===!0&&f.hasOwnProperty(B))&&ee("/"+B+" "+dt[B].objectNumber+" 0 R");ee(">>")},ic=function(){if(Object.keys(Gt).length>0){for(var B in ee("/Shading <<"),Gt)Gt.hasOwnProperty(B)&&Gt[B]instanceof ef&&Gt[B].objectNumber>=0&&ee("/"+B+" "+Gt[B].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),ee(">>")}},ZA=function(B){if(Object.keys(Gt).length>0){for(var Q in ee("/Pattern <<"),Gt)Gt.hasOwnProperty(Q)&&Gt[Q]instanceof h.TilingPattern&&Gt[Q].objectNumber>=0&&Gt[Q].objectNumber<B&&ee("/"+Q+" "+Gt[Q].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),ee(">>")}},ac=function(){if(Object.keys(_t).length>0){var B;for(B in ee("/ExtGState <<"),_t)_t.hasOwnProperty(B)&&_t[B].objectNumber>=0&&ee("/"+B+" "+_t[B].objectNumber+" 0 R");vt.publish("putGStateDict"),ee(">>")}},on=function(B){si(B.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),JA(),ic(),ZA(B.objectOid),ac(),vo(),ee(">>"),ee("endobj")},sc=function(){var B=[];Ve(),sn(),Zt(),Ai(B),vt.publish("putResources"),B.forEach(on),on({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources")},bu=function(){vt.publish("putAdditionalObjects");for(var B=0;B<ye.length;B++){var Q=ye[B];si(Q.objId,!0),ee(Q.content),ee("endobj")}vt.publish("postPutAdditionalObjects")},aA=function(B){Ht[B.fontName]=Ht[B.fontName]||{},Ht[B.fontName][B.fontStyle]=B.id},el=function(B,Q,ae,Ae,ve){var Oe={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:B,fontName:Q,fontStyle:ae,encoding:Ae,isStandardFont:ve||!1,metadata:{}};return vt.publish("addFont",{font:Oe,instance:this}),dt[Oe.id]=Oe,aA(Oe),Oe.id},sA=function(B){for(var Q=0,ae=Be.length;Q<ae;Q++){var Ae=el.call(this,B[Q][0],B[Q][1],B[Q][2],Be[Q][3],!0);u===!1&&(f[Ae]=!0);var ve=B[Q][0].split("-");aA({id:Ae,fontName:ve[0],fontStyle:ve[1]||""})}vt.publish("addFonts",{fonts:dt,dictionary:Ht})},ya=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(Ae){var Q=Ae.stack||"";~Q.indexOf(" at ")&&(Q=Q.split(" at ")[1]);var ae="Error in function "+Q.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Ut.console)throw new Error(ae);Ut.console.error(ae,Ae),Ut.alert&&alert(ae)}},B.foo.bar=B,B.foo},oA=function(B,Q){var ae,Ae,ve,Oe,Ke,it,wt,Nt,Dt;if(ve=(Q=Q||{}).sourceEncoding||"Unicode",Ke=Q.outputEncoding,(Q.autoencode||Ke)&&dt[ot].metadata&&dt[ot].metadata[ve]&&dt[ot].metadata[ve].encoding&&(Oe=dt[ot].metadata[ve].encoding,!Ke&&dt[ot].encoding&&(Ke=dt[ot].encoding),!Ke&&Oe.codePages&&(Ke=Oe.codePages[0]),typeof Ke=="string"&&(Ke=Oe[Ke]),Ke)){for(wt=!1,it=[],ae=0,Ae=B.length;ae<Ae;ae++)(Nt=Ke[B.charCodeAt(ae)])?it.push(String.fromCharCode(Nt)):it.push(B[ae]),it[ae].charCodeAt(0)>>8&&(wt=!0);B=it.join("")}for(ae=B.length;wt===void 0&&ae!==0;)B.charCodeAt(ae-1)>>8&&(wt=!0),ae--;if(!wt)return B;for(it=Q.noBOM?[]:[254,255],ae=0,Ae=B.length;ae<Ae;ae++){if((Dt=(Nt=B.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(Dt),it.push(Nt-(Dt<<8))}return String.fromCharCode.apply(void 0,it)},xi=h.__private__.pdfEscape=h.pdfEscape=function(B,Q){return oA(B,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ji=h.__private__.beginPage=function(B){me[++Pr]=[],Lt[Pr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},AA(Pr),le(me[U])},Yf=function(B,Q){var ae,Ae,ve;switch(r=Q||r,typeof B=="string"&&(ae=v(B.toLowerCase()),Array.isArray(ae)&&(Ae=ae[0],ve=ae[1])),Array.isArray(B)&&(Ae=B[0]*ze,ve=B[1]*ze),isNaN(Ae)&&(Ae=i[0],ve=i[1]),(Ae>14400||ve>14400)&&(Mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),ve=Math.min(14400,ve)),i=[Ae,ve],r.substr(0,1)){case"l":ve>Ae&&(i=[ve,Ae]);break;case"p":Ae>ve&&(i=[ve,Ae])}Ji(i),cc(ka),ee(ea),Vn!==0&&ee(Vn+" J"),Qa!==0&&ee(Qa+" j"),vt.publish("addPage",{pageNumber:Pr})},oc=function(B){B>0&&B<=Pr&&(me.splice(B,1),Lt.splice(B,1),Pr--,U>Pr&&(U=Pr),this.setPage(U))},AA=function(B){B>0&&B<=Pr&&(U=B)},qf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return me.length-1},tl=function(B,Q,ae){var Ae,ve=void 0;return ae=ae||{},B=B!==void 0?B:dt[ot].fontName,Q=Q!==void 0?Q:dt[ot].fontStyle,Ae=B.toLowerCase(),Ht[Ae]!==void 0&&Ht[Ae][Q]!==void 0?ve=Ht[Ae][Q]:Ht[B]!==void 0&&Ht[B][Q]!==void 0?ve=Ht[B][Q]:ae.disableWarning===!1&&Mr.warn("Unable to look up font label for font '"+B+"', '"+Q+"'. Refer to getFontList() for available fonts."),ve||ae.noFallback||(ve=Ht.times[Q])==null&&(ve=Ht.times.normal),ve},Ac=h.__private__.putInfo=function(){var B=Er(),Q=function(Ae){return Ae};for(var ae in c!==null&&(Q=hn.encryptor(B,0)),ee("<<"),ee("/Producer ("+xi(Q("jsPDF "+Pt.version))+")"),Ye)Ye.hasOwnProperty(ae)&&Ye[ae]&&ee("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+xi(Q(Ye[ae]))+")");ee("/CreationDate ("+xi(Q(z))+")"),ee(">>"),ee("endobj")},rl=h.__private__.putCatalog=function(B){var Q=(B=B||{}).rootDictionaryObjId||oi;switch(Er(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+Q+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+pe;ae.substr(ae.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+D(pe)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}De&&ee("/PageMode /"+De),vt.publish("putCatalog"),ee(">>"),ee("endobj")},Xf=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(te+1)),ee("/Root "+te+" 0 R"),ee("/Info "+(te-1)+" 0 R"),c!==null&&ee("/Encrypt "+hn.oid+" 0 R"),ee("/ID [ <"+N+"> <"+N+"> ]"),ee(">>")},Jf=h.__private__.putHeader=function(){ee("%PDF-"+d),ee("%")},wu=h.__private__.putXRef=function(){var B="0000000000";ee("xref"),ee("0 "+(te+1)),ee("0000000000 65535 f ");for(var Q=1;Q<=te;Q++)typeof ie[Q]=="function"?ee((B+ie[Q]()).slice(-10)+" 00000 n "):ie[Q]!==void 0?ee((B+ie[Q]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ba=h.__private__.buildDocument=function(){Re(),le(oe),vt.publish("buildDocument"),Jf(),At(),bu(),sc(),c!==null&&iA(),Ac(),rl();var B=ne;return wu(),Xf(),ee("startxref"),ee(""+B),ee("%%EOF"),le(me[U]),oe.join(`
`)},nl=h.__private__.getBlob=function(B){return new Blob([Ee(B)],{type:"application/pdf"})},yo=h.output=h.__private__.output=ya(function(B,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",B){case void 0:return ba();case"save":h.save(Q.filename);break;case"arraybuffer":return Ee(ba());case"blob":return nl(ba());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(nl(ba()))||void 0;Mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",Ae=ba();try{ae=H5(Ae)}catch(wn){ae=H5(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+Q.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(ve=Q.pdfObjectUrl,Oe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",it=Ut.open();return it!==null&&it.document.write(Ke),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',Nt=Ut.open();if(Nt!==null){Nt.document.write(wt);var Dt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=Q.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',dn=Ut.open();if(dn!==null&&(dn.document.write(rr),dn.document.title=Q.filename),dn||typeof safari=="undefined")return dn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",Q);default:return null}}),bo=function(B){return Array.isArray(zr)===!0&&zr.indexOf(B)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=bo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var hn=null;Z(),X();var il=function(B){return c!==null?hn.encryptor(B,0):function(Q){return Q}},xu=h.__private__.getPageInfo=h.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Lt[B].objId,pageNumber:B,pageContext:Lt[B]}},Tt=h.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Lt)if(Lt[Q].objId===B)break;return xu(Q)},Eu=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Lt[U].objId,pageNumber:U,pageContext:Lt[U]}};h.addPage=function(){return Yf.apply(this,arguments),this},h.setPage=function(){return AA.apply(this,arguments),le.call(this,me[U]),this},h.insertPage=function(B){return this.addPage(),this.movePage(U,B),this},h.movePage=function(B,Q){var ae,Ae;if(B>Q){ae=me[B],Ae=Lt[B];for(var ve=B;ve>Q;ve--)me[ve]=me[ve-1],Lt[ve]=Lt[ve-1];me[Q]=ae,Lt[Q]=Ae,this.setPage(Q)}else if(B<Q){ae=me[B],Ae=Lt[B];for(var Oe=B;Oe<Q;Oe++)me[Oe]=me[Oe+1],Lt[Oe]=Lt[Oe+1];me[Q]=ae,Lt[Q]=Ae,this.setPage(Q)}return this},h.deletePage=function(){return oc.apply(this,arguments),this},h.__private__.text=h.text=function(B,Q,ae,Ae,ve){var Oe,Ke,it,wt,Nt,Dt,rr,dn,wn,Wn=(Ae=Ae||{}).scope||this;if(typeof B=="number"&&typeof Q=="number"&&(typeof ae=="string"||Array.isArray(ae))){var ta=ae;ae=Q,Q=B,B=ta}if(arguments[3]instanceof yt?(L("The transform parameter of text() with a Matrix value"),wn=ve):(it=arguments[4],wt=arguments[5],lr(rr=arguments[3])==="object"&&rr!==null||(typeof it=="string"&&(wt=it,it=null),typeof rr=="string"&&(wt=rr,rr=null),typeof rr=="number"&&(it=rr,rr=null),Ae={flags:rr,angle:it,align:wt})),isNaN(Q)||isNaN(ae)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Wn;var Ei="",xo=!1,us=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ls,dA=Wn.internal.scaleFactor;function Sv(Qr){return Qr=Qr.split("	").join(Array(Ae.TabLen||9).join(" ")),xi(Qr,rr)}function Xp(Qr){for(var Hr,On=Qr.concat(),li=[],hl=On.length;hl--;)typeof(Hr=On.shift())=="string"?li.push(Hr):Array.isArray(Qr)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?li.push(Hr[0]):li.push([Hr[0],Hr[1],Hr[2]]);return li}function Jp(Qr,Hr){var On;if(typeof Qr=="string")On=Hr(Qr)[0];else if(Array.isArray(Qr)){for(var li,hl,sg=Qr.concat(),fh=[],Ov=sg.length;Ov--;)typeof(li=sg.shift())=="string"?fh.push(Hr(li)[0]):Array.isArray(li)&&typeof li[0]=="string"&&(hl=Hr(li[0],li[1],li[2]),fh.push([hl[0],hl[1],hl[2]]));On=fh}return On}var nh=!1,Zp=!0;if(typeof B=="string")nh=!0;else if(Array.isArray(B)){var eg=B.concat();Ke=[];for(var ih,Hi=eg.length;Hi--;)(typeof(ih=eg.shift())!="string"||Array.isArray(ih)&&typeof ih[0]!="string")&&(Zp=!1);nh=Zp}if(nh===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var ah=Te/Wn.internal.scaleFactor,sh=ah*(us-1);switch(Ae.baseline){case"bottom":ae-=sh;break;case"top":ae+=ah-sh;break;case"hanging":ae+=ah-2*sh;break;case"middle":ae+=ah/2-sh}if((Dt=Ae.maxWidth||0)>0&&(typeof B=="string"?B=Wn.splitTextToSize(B,Dt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Qr,Hr){return Qr.concat(Wn.splitTextToSize(Hr,Dt))},[]))),Oe={text:B,x:Q,y:ae,options:Ae,mutex:{pdfEscape:xi,activeFontKey:ot,fonts:dt,activeFontSize:Te}},vt.publish("preProcessText",Oe),B=Oe.text,it=(Ae=Oe.options).angle,!(wn instanceof yt)&&it&&typeof it=="number"){it*=Math.PI/180,Ae.rotationDirection===0&&(it=-it),w===y.ADVANCED&&(it=-it);var oh=Math.cos(it),tg=Math.sin(it);wn=new yt(oh,tg,-tg,oh,0,0)}else it&&it instanceof yt&&(wn=it);w!==y.ADVANCED||wn||(wn=Xi),(Nt=Ae.charSpace||Ln)!==void 0&&(Ei+=C(F(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=Ae.horizontalScale)!==void 0&&(Ei+=C(100*dn)+` Tz
`),Ae.lang;var Ha=-1,AE=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,rg=Wn.internal.getCurrentPageInfo().pageContext;switch(AE){case 0:case!1:case"fill":Ha=0;break;case 1:case!0:case"stroke":Ha=1;break;case 2:case"fillThenStroke":Ha=2;break;case 3:case"invisible":Ha=3;break;case 4:case"fillAndAddForClipping":Ha=4;break;case 5:case"strokeAndAddPathForClipping":Ha=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ha=6;break;case 7:case"addToPathForClipping":Ha=7}var Tv=rg.usedRenderingMode!==void 0?rg.usedRenderingMode:-1;Ha!==-1?Ei+=Ha+` Tr
`:Tv!==-1&&(Ei+=`0 Tr
`),Ha!==-1&&(rg.usedRenderingMode=Ha),wt=Ae.align||"left";var Ps,Ah=Te*us,_v=Wn.internal.pageSize.getWidth(),Lv=dt[ot];Nt=Ae.charSpace||Ln,Dt=Ae.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var hc=[],Lu=function(Qr){return Wn.getStringUnitWidth(Qr,{font:Lv,charSpace:Nt,fontSize:Te,doKerning:!1})*Te/dA};if(Object.prototype.toString.call(B)==="[object Array]"){var $a;Ke=Xp(B),wt!=="left"&&(Ps=Ke.map(Lu));var xa,dc=0;if(wt==="right"){Q-=Ps[0],B=[],Hi=Ke.length;for(var cl=0;cl<Hi;cl++)cl===0?(xa=Zi(Q),$a=cs(ae)):(xa=F(dc-Ps[cl]),$a=-Ah),B.push([Ke[cl],xa,$a]),dc=Ps[cl]}else if(wt==="center"){Q-=Ps[0]/2,B=[],Hi=Ke.length;for(var ul=0;ul<Hi;ul++)ul===0?(xa=Zi(Q),$a=cs(ae)):(xa=F((dc-Ps[ul])/2),$a=-Ah),B.push([Ke[ul],xa,$a]),dc=Ps[ul]}else if(wt==="left"){B=[],Hi=Ke.length;for(var lh=0;lh<Hi;lh++)B.push(Ke[lh])}else if(wt==="justify"&&Lv.encoding==="Identity-H"){B=[],Hi=Ke.length,Dt=Dt!==0?Dt:_v;for(var fl=0,In=0;In<Hi;In++)if($a=In===0?cs(ae):-Ah,xa=In===0?Zi(Q):fl,In<Hi-1){var ng=F((Dt-Ps[In])/(Ke[In].split(" ").length-1)),Ea=Ke[In].split(" ");B.push([Ea[0]+" ",xa,$a]),fl=0;for(var Us=1;Us<Ea.length;Us++){var ch=(Lu(Ea[Us-1]+" "+Ea[Us])-Lu(Ea[Us]))*dA+ng;Us==Ea.length-1?B.push([Ea[Us],ch,0]):B.push([Ea[Us]+" ",ch,0]),fl-=ch}}else B.push([Ke[In],xa,$a]);B.push(["",fl,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Hi=Ke.length,Dt=Dt!==0?Dt:_v,In=0;In<Hi;In++)$a=In===0?cs(ae):-Ah,xa=In===0?Zi(Q):0,In<Hi-1?hc.push(C(F((Dt-Ps[In])/(Ke[In].split(" ").length-1)))):hc.push(0),B.push([Ke[In],xa,$a])}}var Iv=typeof Ae.R2L=="boolean"?Ae.R2L:Fe;Iv===!0&&(B=Jp(B,function(Qr,Hr,On){return[Qr.split("").reverse().join(""),Hr,On]})),Oe={text:B,x:Q,y:ae,options:Ae,mutex:{pdfEscape:xi,activeFontKey:ot,fonts:dt,activeFontSize:Te}},vt.publish("postProcessText",Oe),B=Oe.text,xo=Oe.mutex.isHex||!1;var ig=dt[ot].encoding;ig!=="WinAnsiEncoding"&&ig!=="StandardEncoding"||(B=Jp(B,function(Qr,Hr,On){return[Sv(Qr),Hr,On]})),Ke=Xp(B),B=[];for(var Iu,Ou,pc,Fu=0,uh=1,Pu=Array.isArray(Ke[0])?uh:Fu,gc="",ag=function(Qr,Hr,On){var li="";return On instanceof yt?(On=typeof Ae.angle=="number"?qi(On,new yt(1,0,0,1,Qr,Hr)):qi(new yt(1,0,0,1,Qr,Hr),On),w===y.ADVANCED&&(On=qi(new yt(1,0,0,-1,0,0),On)),li=On.join(" ")+` Tm
`):li=C(Qr)+" "+C(Hr)+` Td
`,li},Rs=0;Rs<Ke.length;Rs++){switch(gc="",Pu){case uh:pc=(xo?"<":"(")+Ke[Rs][0]+(xo?">":")"),Iu=parseFloat(Ke[Rs][1]),Ou=parseFloat(Ke[Rs][2]);break;case Fu:pc=(xo?"<":"(")+Ke[Rs]+(xo?">":")"),Iu=Zi(Q),Ou=cs(ae)}hc!==void 0&&hc[Rs]!==void 0&&(gc=hc[Rs]+` Tw
`),Rs===0?B.push(gc+ag(Iu,Ou,wn)+pc):Pu===Fu?B.push(gc+pc):Pu===uh&&B.push(gc+ag(Iu,Ou,wn)+pc)}B=Pu===Fu?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var Ds=`BT
/`;return Ds+=ot+" "+Te+` Tf
`,Ds+=C(Te*us)+` TL
`,Ds+=hA+`
`,Ds+=Ei,Ds+=B,ee(Ds+="ET"),f[ot]=!0,Wn};var Bu=h.__private__.clip=h.clip=function(B){return ee(B==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Bu("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var As=h.__private__.isValidStyle=function(B){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(Q=!0),Q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(B){return As(B)&&(l=B),this};var al=h.__private__.getStyle=h.getStyle=function(B){var Q=l;switch(B){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=B}return Q},lc=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(B){return sl("f",B),this},h.fillEvenOdd=function(B){return sl("f*",B),this},h.fillStroke=function(B){return sl("B",B),this},h.fillStrokeEvenOdd=function(B){return sl("B*",B),this};var sl=function(B,Q){lr(Q)==="object"?Zf(Q,B):ee(B)},ki=function(B){B===null||w===y.ADVANCED&&B===void 0||(B=al(B),ee(B))};function Cu(B,Q,ae,Ae,ve){var Oe=new nd(Q||this.boundingBox,ae||this.xStep,Ae||this.yStep,this.gState,ve||this.matrix);Oe.stream=this.stream;var Ke=B+"$$"+this.cloneIndex+++"$$";return mr(Ke,Oe),Oe}var Zf=function(B,Q){var ae=Jt[B.key],Ae=Gt[ae];if(Ae instanceof ef)ee("q"),ee(eh(Q)),Ae.gState&&h.setGState(Ae.gState),ee(B.matrix.toString()+" cm"),ee("/"+ae+" sh"),ee("Q");else if(Ae instanceof nd){var ve=new yt(1,0,0,-1,0,fc());B.matrix&&(ve=ve.multiply(B.matrix||Xi),ae=Cu.call(Ae,B.key,B.boundingBox,B.xStep,B.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ae+" scn"),Ae.gState&&h.setGState(Ae.gState),ee(Q),ee("Q")}},eh=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ol=h.moveTo=function(B,Q){return ee(C(F(B))+" "+C(M(Q))+" m"),this},lA=h.lineTo=function(B,Q){return ee(C(F(B))+" "+C(M(Q))+" l"),this},wo=h.curveTo=function(B,Q,ae,Ae,ve,Oe){return ee([C(F(B)),C(M(Q)),C(F(ae)),C(M(Ae)),C(F(ve)),C(M(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(B,Q,ae,Ae,ve){if(isNaN(B)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||!As(ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[ae-B,Ae-Q]],B,Q,[1,1],ve||"S"):this.lines([[ae-B,Ae-Q]],B,Q,[1,1]).stroke()},h.__private__.lines=h.lines=function(B,Q,ae,Ae,ve,Oe){var Ke,it,wt,Nt,Dt,rr,dn,wn,Wn,ta,Ei,xo;if(typeof B=="number"&&(xo=ae,ae=Q,Q=B,B=xo),Ae=Ae||[1,1],Oe=Oe||!1,isNaN(Q)||isNaN(ae)||!Array.isArray(B)||!Array.isArray(Ae)||!As(ve)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ol(Q,ae),Ke=Ae[0],it=Ae[1],Nt=B.length,ta=Q,Ei=ae,wt=0;wt<Nt;wt++)(Dt=B[wt]).length===2?(ta=Dt[0]*Ke+ta,Ei=Dt[1]*it+Ei,lA(ta,Ei)):(rr=Dt[0]*Ke+ta,dn=Dt[1]*it+Ei,wn=Dt[2]*Ke+ta,Wn=Dt[3]*it+Ei,ta=Dt[4]*Ke+ta,Ei=Dt[5]*it+Ei,wo(rr,dn,wn,Wn,ta,Ei));return Oe&&lc(),ki(ve),this},h.path=function(B){for(var Q=0;Q<B.length;Q++){var ae=B[Q],Ae=ae.c;switch(ae.op){case"m":ol(Ae[0],Ae[1]);break;case"l":lA(Ae[0],Ae[1]);break;case"c":wo.apply(this,Ae);break;case"h":lc()}}return this},h.__private__.rect=h.rect=function(B,Q,ae,Ae,ve){if(isNaN(B)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||!As(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(Ae=-Ae),ee([C(F(B)),C(M(Q)),C(F(ae)),C(F(Ae)),"re"].join(" ")),ki(ve),this},h.__private__.triangle=h.triangle=function(B,Q,ae,Ae,ve,Oe,Ke){if(isNaN(B)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||isNaN(ve)||isNaN(Oe)||!As(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-B,Ae-Q],[ve-ae,Oe-Ae],[B-ve,Q-Oe]],B,Q,[1,1],Ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(B,Q,ae,Ae,ve,Oe,Ke){if(isNaN(B)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||isNaN(ve)||isNaN(Oe)||!As(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ae),Oe=Math.min(Oe,.5*Ae),this.lines([[ae-2*ve,0],[ve*it,0,ve,Oe-Oe*it,ve,Oe],[0,Ae-2*Oe],[0,Oe*it,-ve*it,Oe,-ve,Oe],[2*ve-ae,0],[-ve*it,0,-ve,-Oe*it,-ve,-Oe],[0,2*Oe-Ae],[0,-Oe*it,ve*it,-Oe,ve,-Oe]],B+ve,Q,[1,1],Ke,!0),this},h.__private__.ellipse=h.ellipse=function(B,Q,ae,Ae,ve){if(isNaN(B)||isNaN(Q)||isNaN(ae)||isNaN(Ae)||!As(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ae,Ke=4/3*(Math.SQRT2-1)*Ae;return ol(B+ae,Q),wo(B+ae,Q-Ke,B+Oe,Q-Ae,B,Q-Ae),wo(B-Oe,Q-Ae,B-ae,Q-Ke,B-ae,Q),wo(B-ae,Q+Ke,B-Oe,Q+Ae,B,Q+Ae),wo(B+Oe,Q+Ae,B+ae,Q+Ke,B+ae,Q),ki(ve),this},h.__private__.circle=h.circle=function(B,Q,ae,Ae){if(isNaN(B)||isNaN(Q)||isNaN(ae)||!As(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,Q,ae,ae,Ae)},h.setFont=function(B,Q,ae){return ae&&(Q=E(Q,ae)),ot=tl(B,Q,{disableWarning:!1}),this};var Al=h.__private__.getFont=h.getFont=function(){return dt[tl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var B,Q,ae={};for(B in Ht)if(Ht.hasOwnProperty(B))for(Q in ae[B]=[],Ht[B])Ht[B].hasOwnProperty(Q)&&ae[B].push(Q);return ae},h.addFont=function(B,Q,ae,Ae,ve){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ae=E(ae,Ae)),ve=ve||"Identity-H",el.call(this,B,Q,ae,ve)};var ls,ka=t.lineWidth||.200025,ll=h.__private__.getLineWidth=h.getLineWidth=function(){return ka},cc=h.__private__.setLineWidth=h.setLineWidth=function(B){return ka=B,ee(C(F(B))+" w"),this};h.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(B,Q){if(B=B||[],Q=Q||0,isNaN(Q)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(ae){return C(F(ae))}).join(" "),Q=C(F(Q)),ee("["+B+"] "+Q+" d"),this};var uc=h.__private__.getLineHeight=h.getLineHeight=function(){return Te*ls};h.__private__.getLineHeight=h.getLineHeight=function(){return Te*ls};var cA=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(ls=B),this},Su=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ls};cA(t.lineHeight);var Zi=h.__private__.getHorizontalCoordinate=function(B){return F(B)},cs=h.__private__.getVerticalCoordinate=function(B){return w===y.ADVANCED?B:Lt[U].mediaBox.topRightY-Lt[U].mediaBox.bottomLeftY-F(B)},Qi=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(B){return C(Zi(B))},uA=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(B){return C(cs(B))},ea=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Di(ea)},h.__private__.setStrokeColor=h.setDrawColor=function(B,Q,ae,Ae){return ea=bi({ch1:B,ch2:Q,ch3:ae,ch4:Ae,pdfColorType:"draw",precision:2}),ee(ea),this};var fA=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Di(fA)},h.__private__.setFillColor=h.setFillColor=function(B,Q,ae,Ae){return fA=bi({ch1:B,ch2:Q,ch3:ae,ch4:Ae,pdfColorType:"fill",precision:2}),ee(fA),this};var hA=t.textColor||"0 g",Vp=h.__private__.getTextColor=h.getTextColor=function(){return Di(hA)};h.__private__.setTextColor=h.setTextColor=function(B,Q,ae,Ae){return hA=bi({ch1:B,ch2:Q,ch3:ae,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ln=t.charSpace,wa=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ln||0)};h.__private__.setCharSpace=h.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ln=B,this};var Vn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(B){var Q=h.CapJoinStyles[B];if(Q===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vn=Q,ee(Q+" J"),this};var Qa=0;h.__private__.setLineJoin=h.setLineJoin=function(B){var Q=h.CapJoinStyles[B];if(Q===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=Q,ee(Q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(C(F(B))+" M"),this},h.GState=B2,h.setGState=function(B){(B=typeof B=="string"?_t[Kn[B]]:Tu(null,B)).equals(ir)||(ee("/"+B.id+" gs"),ir=B)};var Tu=function(B,Q){if(!B||!Kn[B]){var ae=!1;for(var Ae in _t)if(_t.hasOwnProperty(Ae)&&_t[Ae].equals(Q)){ae=!0;break}if(ae)Q=_t[Ae];else{var ve="GS"+(Object.keys(_t).length+1).toString(10);_t[ve]=Q,Q.id=ve}return B&&(Kn[B]=Q.id),vt.publish("addGState",Q),Q}};h.addGState=function(B,Q){return Tu(B,Q),this},h.saveGraphicsState=function(){return ee("q"),Fr.push({key:ot,size:Te,color:hA}),this},h.restoreGraphicsState=function(){ee("Q");var B=Fr.pop();return ot=B.key,Te=B.size,hA=B.color,ir=null,this},h.setCurrentTransformationMatrix=function(B){return ee(B.toString()+" cm"),this},h.comment=function(B){return ee("#"+B),this};var th=function(B,Q){var ae=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Oe){isNaN(Oe)||(ae=parseFloat(Oe))}});var Ae=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Oe){isNaN(Oe)||(Ae=parseFloat(Oe))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Oe){ve=Oe.toString()}}),this},Wp=function(B,Q,ae,Ae){th.call(this,B,Q),this.type="rect";var ve=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ke){isNaN(Ke)||(ve=parseFloat(Ke))}});var Oe=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Ke){isNaN(Ke)||(Oe=parseFloat(Ke))}}),this},zp=function(){this.page=Pr,this.currentPage=U,this.pages=me.slice(0),this.pagesContext=Lt.slice(0),this.x=Xt,this.y=Ft,this.matrix=Bt,this.width=_u(U),this.height=fc(U),this.outputDestination=Ie,this.id="",this.objectNumber=-1};zp.prototype.restore=function(){Pr=this.page,U=this.currentPage,Lt=this.pagesContext,me=this.pages,Xt=this.x,Ft=this.y,Bt=this.matrix,Yp(U,this.width),qp(U,this.height),Ie=this.outputDestination};var Cv=function(B,Q,ae,Ae,ve){Ri.push(new zp),Pr=U=0,me=[],Xt=B,Ft=Q,Bt=ve,Ji([ae,Ae])},oE=function(B){if(Ui[B])Ri.pop().restore();else{var Q=new zp,ae="Xo"+(Object.keys(Ur).length+1).toString(10);Q.id=ae,Ui[B]=ae,Ur[ae]=Q,vt.publish("addFormObject",Q),Ri.pop().restore()}};for(var rh in h.beginFormObject=function(B,Q,ae,Ae,ve){return Cv(B,Q,ae,Ae,ve),this},h.endFormObject=function(B){return oE(B),this},h.doFormObject=function(B,Q){var ae=Ur[Ui[B]];return ee("q"),ee(Q.toString()+" cm"),ee("/"+ae.id+" Do"),ee("Q"),this},h.getFormObject=function(B){var Q=Ur[Ui[B]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},h.save=function(B,Q){return B=B||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Vu(nl(ba()),B),typeof Vu.unload=="function"&&Ut.setTimeout&&setTimeout(Vu.unload,911),this):new Promise(function(ae,Ae){try{var ve=Vu(nl(ba()),B);typeof Vu.unload=="function"&&Ut.setTimeout&&setTimeout(Vu.unload,911),ae(ve)}catch(Oe){Ae(Oe.message)}})},Pt.API)Pt.API.hasOwnProperty(rh)&&(rh==="events"&&Pt.API.events.length?function(B,Q){var ae,Ae,ve;for(ve=Q.length-1;ve!==-1;ve--)ae=Q[ve][0],Ae=Q[ve][1],B.subscribe.apply(B,[ae].concat(typeof Ae=="function"?[Ae]:Ae))}(vt,Pt.API.events):h[rh]=Pt.API[rh]);var _u=h.getPageWidth=function(B){return(Lt[B=B||U].mediaBox.topRightX-Lt[B].mediaBox.bottomLeftX)/ze},Yp=h.setPageWidth=function(B,Q){Lt[B].mediaBox.topRightX=Q*ze+Lt[B].mediaBox.bottomLeftX},fc=h.getPageHeight=function(B){return(Lt[B=B||U].mediaBox.topRightY-Lt[B].mediaBox.bottomLeftY)/ze},qp=h.setPageHeight=function(B,Q){Lt[B].mediaBox.topRightY=Q*ze+Lt[B].mediaBox.bottomLeftY};return h.internal={pdfEscape:xi,getStyle:al,getFont:Al,getFontSize:Ue,getCharSpace:wa,getTextColor:Vp,getLineHeight:uc,getLineHeightFactor:Su,getLineWidth:ll,write:He,getHorizontalCoordinate:Zi,getVerticalCoordinate:cs,getCoordinateString:Qi,getVerticalCoordinateString:uA,collections:{},newObject:Er,newAdditionalObject:ma,newObjectDeferred:Rr,newObjectDeferredBegin:si,getFilters:va,putStream:wi,events:vt,scaleFactor:ze,pageSize:{getWidth:function(){return _u(U)},setWidth:function(B){Yp(U,B)},getHeight:function(){return fc(U)},setHeight:function(B){qp(U,B)}},encryptionOptions:c,encryption:hn,getEncryptor:il,output:yo,getNumberOfPages:qf,pages:me,out:ee,f2:D,f3:_,getPageInfo:xu,getPageInfoByObjId:Tt,getCurrentPageInfo:Eu,getPDFVersion:p,Point:th,Rectangle:Wp,Matrix:yt,hasHotfix:bo},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return _u(U)},set:function(B){Yp(U,B)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fc(U)},set:function(B){qp(U,B)},enumerable:!0,configurable:!0}),sA.call(h,Be),ot="F1",Yf(i,r),vt.publish("initialized"),h}Yh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Yh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Yh.prototype.processOwnerPassword=function(t,e){return j5($5(e).substr(0,5),t)},Yh.prototype.encryptor=function(t,e){var r=$5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return j5(r,n)}},B2.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||lr(t)!==lr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Pt.API={events:[]},Pt.version="3.0.0";var En=Pt.API,E4=1,Nf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(t){return t.toFixed(2)},Sc=function(t){return t.toFixed(5)};En.__acroform__={};var ns=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WO=function(t){return t*E4},xA=function(t){var e=new E7,r=ht.internal.getHeight(t)||0,n=ht.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mt(n)),Number(Mt(r))],e},eee=En.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},tee=En.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},ree=En.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dn=En.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ree(t,e-1)},Mn=En.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eee(t,e-1)},Nn=En.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tee(t,e-1)},nee=En.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],A={};return A.lowerLeft_X=r(i)||0,A.lowerLeft_Y=n(a+o)||0,A.upperRight_X=r(i+s)||0,A.upperRight_Y=n(a)||0,[Number(Mt(A.lowerLeft_X)),Number(Mt(A.lowerLeft_Y)),Number(Mt(A.upperRight_X)),Number(Mt(A.upperRight_Y))]},iee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=G5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=xA(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},G5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var a=r,s=ht.internal.getHeight(t)||0;s=s<0?-s:s;var o=ht.internal.getWidth(t)||0;o=o<0?-o:o;var A=function(_,F,R){if(_+1<i.length){var M=F+" "+i[_+1][0];return t1(M,t,R).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var l,c,u=t1("3",t,a).height,f=t.multiline?s-a:(s-u)/2,h=f+=2,d=0,p=0,g=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+t1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var S=!1;if(i[w].length!==1&&g!==i[w].length-1){if((u+2)*(y+2)+2>s)continue e;v+=i[w][g],S=!0,p=w,w--}else{v=(v+=i[w][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var x=parseInt(w),E=A(x,v,a),C=w>=i.length-1;if(E&&!C){v+=" ",g=0;continue}if(E||C){if(C)p=x;else if(t.multiline&&(u+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(u+2)*(y+2)+2>s)continue e;p=x}}for(var L="",O=d;O<=p;O++){var D=i[O];if(t.multiline){if(O===p){L+=D[g]+" ",g=(g+1)%D.length;continue}if(O===d){L+=D[D.length-1]+" ";continue}}L+=D[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,c=t1(L,t,a).width,t.textAlign){case"right":l=o-c-2;break;case"center":l=(o-c)/2;break;case"left":default:l=2}e+=Mt(l)+" "+Mt(h)+` Td
`,e+="("+Nf(L)+`) Tj
`,e+=-Mt(l)+` 0 Td
`,h=-(a+2),c=0,d=S?p:p+1,y++,v=""}break}return n.text=e,n.fontSize=a,n},t1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},aee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},see=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},oee=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),lr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},Aee=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Wo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(aee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");E4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new B7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&see(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],A=[],l=o.Rect;if(o.Rect&&(o.Rect=nee(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ht.createDefaultAppearanceStream(o),lr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(A=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=iee(o);A.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var d=h[s];typeof d=="function"&&(d=d.call(i,o)),u+="/"+s+" "+d+" ",i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d)}}else typeof(d=h)=="function"&&(d=d.call(i,o)),u+="/"+s+" "+d,i.internal.acroformPlugin.xForms.indexOf(d)>=0||i.internal.acroformPlugin.xForms.push(d);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:o.objId}),i.internal.out("endobj")}a&&oee(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},x7=En.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),lr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Nf(n(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},RE=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Nf(n(t))+")"},LA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};LA.prototype.toString=function(){return this.objId+" 0 R"},LA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},LA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:x7(i,this.objId,this.scope)}):i instanceof LA?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var E7=function(){LA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ns(E7,LA);var B7=function(){LA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nf(r(t))+")"}},set:function(r){t=r}})};ns(B7,LA);var Wo=function t(){LA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(v){v?this.F=Mn(e,3):this.F=Nn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof C2)return;a="FieldObject"+t.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Nf(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/E4:l},set:function(v){l=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof C2||this instanceof df))return RE(u,this.objId,this.scope)},set:function(v){v=v.toString(),u=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Li?f:RE(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Li?v:v.substr(0,1)==="("?vh(v.substr(1,v.length-2)):vh(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Li?vh(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Li?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Li?h:RE(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Li?v:v.substr(0,1)==="("?vh(v.substr(1,v.length-2)):vh(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Li?vh(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Li?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){v=!!v,p=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(v){d=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(v){v?this.Ff=Mn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(v){v?this.Ff=Mn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(v){v?this.Ff=Mn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};ns(Wo,LA);var dd=function(){Wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return x7(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var A,l=[];A=s.exec(a);)l.push(A[o]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(r){r?this.Ff=Mn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Mn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(r){r?(this.Ff=Mn(this.Ff,20),e.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(r){r?this.Ff=Mn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(r){r?this.Ff=Mn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(r){r?this.Ff=Mn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};ns(dd,Wo);var pd=function(){dd.call(this),this.fontName="helvetica",this.combo=!1};ns(pd,dd);var gd=function(){pd.call(this),this.combo=!0};ns(gd,pd);var Qy=function(){gd.call(this),this.edit=!0};ns(Qy,gd);var Li=function(){Wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(r){r?this.Ff=Mn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(r){r?this.Ff=Mn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(r){r?this.Ff=Mn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(r){r?this.Ff=Mn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Nf(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){lr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ns(Li,Wo);var Hy=function(){Li.call(this),this.pushButton=!0};ns(Hy,Li);var md=function(){Li.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ns(md,Li);var C2=function(){var t,e;Wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Nf(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){lr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ns(C2,Wo),md.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},md.prototype.createOption=function(t){var e=new C2;return e.Parent=this,e.optionName=t,this.Kids.push(e),lee.call(this.scope,e),e};var $y=function(){Li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};ns($y,Li);var df=function(){Wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=Mn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=Mn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=Mn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=Mn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=Mn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=Mn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ns(df,Wo);var jy=function(){df.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(t){t?this.Ff=Mn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};ns(jy,df);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=G5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Mt(ht.internal.getWidth(t))+" "+Mt(ht.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Mt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=xA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=ht.internal.getHeight(t),s=ht.internal.getWidth(t),o=G5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mt(s)+" "+Mt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(s-1)+" "+Mt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Mt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(ht.internal.getWidth(t))+" "+Mt(ht.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Circle.YesNormal,e.D[t]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=xA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ht.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Sc(ht.internal.getWidth(t)/2)+" "+Sc(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ht.internal.Bezier_C).toFixed(5)),s=Number((n*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sc(ht.internal.getWidth(t)/2)+" "+Sc(ht.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Sc(ht.internal.getWidth(t)/2)+" "+Sc(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=[],n=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sc(ht.internal.getWidth(t)/2)+" "+Sc(ht.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Cross.YesNormal,e.D[t]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=xA(t);e.scope=t.scope;var r=[],n=ht.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Mt(ht.internal.getWidth(t)-2)+" "+Mt(ht.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=ht.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(ht.internal.getWidth(t))+" "+Mt(ht.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Mt(ht.internal.getWidth(t)-2)+" "+Mt(ht.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=xA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(ht.internal.getWidth(t))+" "+Mt(ht.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ht.internal.getWidth(t),r=ht.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ht.internal.getWidth=function(t){var e=0;return lr(t)==="object"&&(e=WO(t.Rect[2])),e},ht.internal.getHeight=function(t){var e=0;return lr(t)==="object"&&(e=WO(t.Rect[3])),e};var lee=En.addField=function(t){if(Aee(this,t),!(t instanceof Wo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};En.AcroFormChoiceField=dd,En.AcroFormListBox=pd,En.AcroFormComboBox=gd,En.AcroFormEditBox=Qy,En.AcroFormButton=Li,En.AcroFormPushButton=Hy,En.AcroFormRadioButton=md,En.AcroFormCheckBox=$y,En.AcroFormTextField=df,En.AcroFormPasswordField=jy,En.AcroFormAppearance=ht,En.AcroForm={ChoiceField:dd,ListBox:pd,ComboBox:gd,EditBox:Qy,Button:Li,PushButton:Hy,RadioButton:md,CheckBox:$y,TextField:df,PasswordField:jy,Appearance:ht},Pt.AcroForm={ChoiceField:dd,ListBox:pd,ComboBox:gd,EditBox:Qy,Button:Li,PushButton:Hy,RadioButton:md,CheckBox:$y,TextField:df,PasswordField:jy,Appearance:ht};Pt.AcroForm;function C7(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(_,F){var R,M,z,N,Y,X=e;if((F=F||e)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(E(_))for(Y in r)for(z=r[Y],R=0;R<z.length;R+=1){for(N=!0,M=0;M<z[R].length;M+=1)if(z[R][M]!==void 0&&z[R][M]!==_[M]){N=!1;break}if(N===!0){X=Y;break}}else for(Y in r)for(z=r[Y],R=0;R<z.length;R+=1){for(N=!0,M=0;M<z[R].length;M+=1)if(z[R][M]!==void 0&&z[R][M]!==_.charCodeAt(M)){N=!1;break}if(N===!0){X=Y;break}}return X===e&&F!==e&&(X=F),X},i=function _(F){for(var R=this.internal.write,M=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var N=[];if(N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Image"}),N.push({key:"Width",value:F.width}),N.push({key:"Height",value:F.height}),F.colorSpace===g.INDEXED?N.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(N.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===g.DEVICE_CMYK&&N.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),N.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&N.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Y="",X=0,H=F.transparency.length;X<H;X++)Y+=F.transparency[X]+" "+F.transparency[X]+" ";N.push({key:"Mask",value:"["+Y+"]"})}F.sMask!==void 0&&N.push({key:"SMask",value:F.objectId+1+" 0 R"});var W=F.filter!==void 0?["/"+F.filter]:void 0;if(M({data:F.data,additionalKeyValues:N,alreadyAppliedFilters:W,objectId:F.objectId}),R("endobj"),"sMask"in F&&F.sMask!==void 0){var Z="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,I={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Z,data:F.sMask};"filter"in F&&(I.filter=F.filter),_.call(this,I)}if(F.colorSpace===g.INDEXED){var U=this.internal.newObject();M({data:L(new Uint8Array(F.palette)),objectId:U}),R("endobj")}},a=function(){var _=this.internal.collections.addImage_images;for(var F in _)i.call(this,_[F])},s=function(){var _,F=this.internal.collections.addImage_images,R=this.internal.write;for(var M in F)R("/I"+(_=F[M]).index,_.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},A=function(){var _=this.internal.collections.addImage_images;return o.call(this),_},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(_){return typeof t["process"+_.toUpperCase()]=="function"},u=function(_){return lr(_)==="object"&&_.nodeType===1},f=function(_,F){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var R=""+_.getAttribute("src");if(R.indexOf("data:image/")===0)return b0(unescape(R).split("base64,").pop());var M=t.loadFile(R,!0);if(M!==void 0)return M}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var z;switch(F){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return b0(_.toDataURL(z,1).split("base64,").pop())}},h=function(_){var F=this.internal.collections.addImage_images;if(F){for(var R in F)if(_===F[R].alias)return F[R]}},d=function(_,F,R){return _||F||(_=-96,F=-96),_<0&&(_=-1*R.width*72/_/this.internal.scaleFactor),F<0&&(F=-1*R.height*72/F/this.internal.scaleFactor),_===0&&(_=F*R.width/R.height),F===0&&(F=_*R.height/R.width),[_,F]},p=function(_,F,R,M,z,N){var Y=d.call(this,R,M,z),X=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,W=A.call(this);if(R=Y[0],M=Y[1],W[z.index]=z,N){N*=Math.PI/180;var Z=Math.cos(N),I=Math.sin(N),U=function(G){return G.toFixed(4)},$=[U(Z),U(I),U(-1*I),U(Z),0,0,"cm"]}this.internal.write("q"),N?(this.internal.write([1,"0","0",1,X(_),H(F+M),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([X(R),"0","0",X(M),"0","0","cm"].join(" "))):this.internal.write([X(R),"0","0",X(M),X(_),H(F+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(_){var F,R,M=0;if(typeof _=="string")for(R=_.length,F=0;F<R;F++)M=(M<<5)-M+_.charCodeAt(F),M|=0;else if(E(_))for(R=_.byteLength/2,F=0;F<R;F++)M=(M<<5)-M+_[F],M|=0;return M},w=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var F=!0;return _.length===0&&(F=!1),_.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(F=!1),F},S=t.__addimage__.extractImageFromDataUrl=function(_){var F=(_=_||"").split("base64,"),R=null;if(F.length===2){var M=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(M)&&(R={mimeType:M[1],charset:M[2],data:F[1]})}return R},x=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};t.__addimage__.isArrayBuffer=function(_){return x()&&_ instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(_){return x()&&typeof Uint32Array!="undefined"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(_){for(var F=_.length,R=new Uint8Array(F),M=0;M<F;M++)R[M]=_.charCodeAt(M);return R},L=t.__addimage__.arrayBufferToBinaryString=function(_){for(var F="",R=E(_)?_:new Uint8Array(_),M=0;M<R.length;M+=8192)F+=String.fromCharCode.apply(null,R.subarray(M,M+8192));return F};t.addImage=function(){var _,F,R,M,z,N,Y,X,H;if(typeof arguments[1]=="number"?(F=e,R=arguments[1],M=arguments[2],z=arguments[3],N=arguments[4],Y=arguments[5],X=arguments[6],H=arguments[7]):(F=arguments[1],R=arguments[2],M=arguments[3],z=arguments[4],N=arguments[5],Y=arguments[6],X=arguments[7],H=arguments[8]),lr(_=arguments[0])==="object"&&!u(_)&&"imageData"in _){var W=_;_=W.imageData,F=W.format||F||e,R=W.x||R||0,M=W.y||M||0,z=W.w||W.width||z,N=W.h||W.height||N,Y=W.alias||Y,X=W.compression||X,H=W.rotation||W.angle||H}var Z=this.internal.getFilters();if(X===void 0&&Z.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(R)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=O.call(this,_,F,Y,X);return p.call(this,R,M,z,N,I,H),this};var O=function(_,F,R,M){var z,N,Y;if(typeof _=="string"&&n(_)===e){_=unescape(_);var X=D(_,!1);(X!==""||(X=t.loadFile(_,!0))!==void 0)&&(_=X)}if(u(_)&&(_=f(_,F)),F=n(_,F),!c(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Y=R)==null||Y.length===0)&&(R=function(H){return typeof H=="string"||E(H)?y(H):E(H.data)?y(H.data):null}(_)),(z=h.call(this,R))||(x()&&(_ instanceof Uint8Array||F==="RGBA"||(N=_,_=C(_))),z=this["process"+F.toUpperCase()](_,l.call(this),R,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:v.NONE}(M),N)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},D=t.__addimage__.convertBase64ToBinaryString=function(_,F){var R;F=typeof F!="boolean"||F;var M,z="";if(typeof _=="string"){M=(R=S(_))!==null?R.data:_;try{z=b0(M)}catch(N){if(F)throw w(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+N.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(_){var F,R,M="";if(u(_)&&(_=f(_)),typeof _=="string"&&n(_)===e&&((M=D(_,!1))===""&&(M=t.loadFile(_)||""),_=M),R=n(_),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!x()||_ instanceof Uint8Array||(_=C(_)),!(F=this["process"+R.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=R,F}})(Pt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Pt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<l.length;f++){n=l[f];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(p.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+h(v(y))+") >>",p.content=a;var w=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(d(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var E=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+E+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:A(r),y:l(n),w:A(r+i),h:l(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,A=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(r,o).length;s=Math.ceil(l*c)}else o=A,s=l;return this.text(r,n,i,a),i+=.2*l,a.align==="center"&&(n-=A/2),a.align==="right"&&(n-=A),this.link(n,i-l,o,s,a),A},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Pt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=t.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&a(p)&&e[p.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&i.indexOf(p.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&a(p)&&e[p.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&a(p)&&e[p.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&a(p)&&e[p.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&a(p)&&e[p.charCodeAt(0)].length==4},u=t.__arabicParser__.resolveLigatures=function(p){var g=0,v=r,y="",w=0;for(g=0;g<p.length;g+=1)v[p.charCodeAt(g)]!==void 0?(w++,typeof(v=v[p.charCodeAt(g)])=="number"&&(y+=String.fromCharCode(v),v=r,w=0),g===p.length-1&&(v=r,y+=p.charAt(g-(w-1)),g-=w-1,w=0)):(v=r,y+=p.charAt(g-w),g-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(p,g,v){return s(p)?a(p)===!1?-1:!l(p)||!s(g)&&!s(v)||!s(v)&&o(g)||o(p)&&!s(g)||o(p)&&A(g)||o(p)&&o(g)?0:c(p)&&s(g)&&!o(g)&&s(v)&&l(v)?3:o(p)||!s(v)?1:2:-1},h=function(p){var g=0,v=0,y=0,w="",S="",x="",E=(p=p||"").split("\\s+"),C=[];for(g=0;g<E.length;g+=1){for(C.push(""),v=0;v<E[g].length;v+=1)w=E[g][v],S=E[g][v-1],x=E[g][v+1],s(w)?(y=f(w,S,x),C[g]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):C[g]+=w;C[g]=u(C[g])}return C.join(" ")},d=t.__arabicParser__.processArabic=t.processArabic=function(){var p,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var y=0;for(v=[],y=0;y<g.length;y+=1)Array.isArray(g[y])?v.push([h(g[y][0]),g[y][1],g[y][2]]):v.push([h(g[y])]);p=v}else p=h(g);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};t.events.push(["preProcessText",d])}(Pt.API),Pt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Pt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return d},set:function(p){d=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),f=l.scaleFactor||this.internal.scaleFactor,h=0,d=0,p=0,g=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var v=l.maxWidth;v>0?typeof A=="string"?A=this.splitTextToSize(A,v):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(w,S){return w.concat(g.splitTextToSize(S,v))},[])):A=Array.isArray(A)?A:[A];for(var y=0;y<A.length;y++)h<(p=this.getStringUnitWidth(A[y],{font:u})*c)&&(h=p);return h!==0&&(d=A.length),{w:h/=f,h:Math.max((d*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,h&&f&&(this.printHeaderRow(A.lineNumber,!0),A.y+=f[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-c,A.y+c,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+c,{align:"center",baseline:"top",maxWidth:A.width-c-c}):this.text(A.text,A.x+c,A.y+c,{align:"left",baseline:"top",maxWidth:A.width-c-c})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,c,u,f){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,d,p,g,v=[],y=[],w=[],S={},x={},E=[],C=[],L=(f=f||{}).autoSize||!1,O=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,_=f.margins||Object.assign({width:this.getPageWidth()},e),F=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",M=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=M,this.setFontSize(D),u==null)y=v=Object.keys(c[0]),w=v.map(function(){return"left"});else if(Array.isArray(u)&&lr(u[0])==="object")for(v=u.map(function(W){return W.name}),y=u.map(function(W){return W.prompt||W.name||""}),w=u.map(function(W){return W.align||"left"}),h=0;h<u.length;h+=1)x[u[h].name]=u[h].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(y=v=u,w=v.map(function(){return"left"}));if(L||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<v.length;h+=1){for(S[g=v[h]]=c.map(function(W){return W[g]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=S[g],this.setFont(void 0,"normal"),p=0;p<d.length;p+=1)E.push(this.getTextDimensions(d[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[g]=Math.max.apply(null,E)+F+F,E=[]}if(O){var z={};for(h=0;h<v.length;h+=1)z[v[h]]={},z[v[h]].text=y[h],z[v[h]].align=w[h];var N=o.call(this,z,x);C=v.map(function(W){return new a(A,l,x[W],N,z[W].text,void 0,z[W].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var Y=u.reduce(function(W,Z){return W[Z.name]=Z.align,W},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var X=o.call(this,c[h],x);for(p=0;p<v.length;p+=1){var H=c[h][v[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:p,data:H},this),s.call(this,new a(A,l,x[v[p]],X,H,h+2,Y[v[p]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var o=function(A,l){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(A).map(function(h){var d=A[h];return this.splitTextToSize(d.hasOwnProperty("text")?d.text:d,l[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/f+c+c},this).reduce(function(h,d){return Math.max(h,d)},0)};t.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=A;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(d)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Pt.API);var S7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K5=C7(T7),_7=[100,200,300,400,500,600,700,800,900],cee=C7(_7);function V5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return S7[a=a||"normal"]?a:"normal"}(t.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof K5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function zO(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var uee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},YO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fee(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},uee,r.genericFontFamilies||{}),a=null,s=null,o=0;o<e.length;++o)if(i[(a=V5(e[o])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){s=t[a.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+qO(a)+"' and default family '"+n+"'.");if(s=function(A,l){if(l[A])return l[A];var c=K5[A],u=c<=K5.normal?-1:1,f=zO(l,T7,c,u);if(!f)throw new Error("Could not find a matching font-stretch value for "+A);return f}(a.stretch,s),s=function(A,l){if(l[A])return l[A];for(var c=S7[A],u=0;u<c.length;++u)if(l[c[u]])return l[c[u]];throw new Error("Could not find a matching font-style for "+A)}(a.style,s),!(s=function(A,l){if(l[A])return l[A];if(A===400&&l[500])return l[500];if(A===500&&l[400])return l[400];var c=cee[A],u=zO(l,_7,c,A<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+A);return u}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+qO(a)+"'.");return s}function XO(t){return t.trimLeft()}function hee(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function dee(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var r1,JO,ZO,DE=["times"];(function(t){var e,r,n,i,a,s,o,A,l,c=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new A,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=I;Object.defineProperty(this,"pdf",{get:function(){return U}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(le){$=!!le}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(le){G=!!le}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(le){isNaN(le)||(te=le)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(le){isNaN(le)||(ie=le)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(le){var ee;typeof le=="number"?ee=[le,le,le,le]:((ee=new Array(4))[0]=le[0],ee[1]=le.length>=2?le[1]:ee[0],ee[2]=le.length>=3?le[2]:ee[0],ee[3]=le.length>=4?le[3]:ee[1]),l.margin=ee}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(le){oe=le}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(le){ne=le}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(le){ye=le}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(le){le instanceof c&&(l=le)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(le){l.path=le}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(le){me=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ee;ee=f(le),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ee=f(le);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var se=null;function Ie(le,ee){if(se===null){var He=function(Ee){var Be=[];return Object.keys(Ee).forEach(function(Te){Ee[Te].forEach(function(pe){var Ue=null;switch(pe){case"bold":Ue={family:Te,weight:"bold"};break;case"italic":Ue={family:Te,style:"italic"};break;case"bolditalic":Ue={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Te}}Ue!==null&&(Ue.ref={name:Te,style:pe},Be.push(Ue))})}),Be}(le.getFontList());se=function(Ee){for(var Be={},Te=0;Te<Ee.length;++Te){var pe=V5(Ee[Te]),Ue=pe.family,Fe=pe.stretch,De=pe.style,Qe=pe.weight;Be[Ue]=Be[Ue]||{},Be[Ue][Fe]=Be[Ue][Fe]||{},Be[Ue][Fe][De]=Be[Ue][Fe][De]||{},Be[Ue][Fe][De][Qe]=pe}return Be}(He.concat(ee))}return se}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(le){se=null,Re=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ee;if(this.ctx.font=le,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var He=ee[1],Ee=(ee[2],ee[3]),Be=ee[4],Te=(ee[5],ee[6]),pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(pe==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:pe==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var Ue=function(Ye){var ot,ze,Xt=[],Ft=Ye.trim();if(Ft==="")return DE;if(Ft in YO)return[YO[Ft]];for(;Ft!=="";){switch(ze=null,ot=(Ft=XO(Ft)).charAt(0)){case'"':case"'":ze=hee(Ft.substring(1),ot);break;default:ze=dee(Ft)}if(ze===null||(Xt.push(ze[0]),(Ft=XO(ze[1]))!==""&&Ft.charAt(0)!==","))return DE;Ft=Ft.replace(/^,/,"")}return Xt}(Te);if(this.fontFaces){var Fe=fee(Ie(this.pdf,this.fontFaces),Ue.map(function(Ye){return{family:Ye,stretch:"normal",weight:Ee,style:He}}));this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var De="";(Ee==="bold"||parseInt(Ee,10)>=700||He==="bold")&&(De="bold"),He==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Qe="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ue.length;lt++){if(this.pdf.internal.getFont(Ue[lt],De,{noFallback:!0,disableWarning:!0})!==void 0){Qe=Ue[lt];break}if(De==="bolditalic"&&this.pdf.internal.getFont(Ue[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=Ue[lt],De="bold";else if(this.pdf.internal.getFont(Ue[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=Ue[lt],De="normal";break}}if(Qe===""){for(var et=0;et<Ue.length;et++)if(Xe[Ue[et]]){Qe=Xe[Ue[et]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};u.prototype.setLineDash=function(I){this.lineDash=I},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){S.call(this,"fill",!1)},u.prototype.stroke=function(){S.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(I,U){if(isNaN(I)||isNaN(U))throw Mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new s(I,U));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new s(I,U)},u.prototype.closePath=function(){var I=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&lr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){I=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},u.prototype.lineTo=function(I,U){if(isNaN(I)||isNaN(U))throw Mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new s(I,U));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new s($.x,$.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},u.prototype.quadraticCurveTo=function(I,U,$,G){if(isNaN($)||isNaN(G)||isNaN(I)||isNaN(U))throw Mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s($,G)),ie=this.ctx.transform.applyToPoint(new s(I,U));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},u.prototype.bezierCurveTo=function(I,U,$,G,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(I)||isNaN(U)||isNaN($)||isNaN(G))throw Mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new s(te,ie)),ne=this.ctx.transform.applyToPoint(new s(I,U)),ye=this.ctx.transform.applyToPoint(new s($,G));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ye.x,y2:ye.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},u.prototype.arc=function(I,U,$,G,te,ie){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G)||isNaN(te))throw Mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new s(I,U));I=oe.x,U=oe.y;var ne=this.ctx.transform.applyToPoint(new s(0,$)),ye=this.ctx.transform.applyToPoint(new s(0,0));$=Math.sqrt(Math.pow(ne.x-ye.x,2)+Math.pow(ne.y-ye.y,2))}Math.abs(te-G)>=2*Math.PI&&(G=0,te=2*Math.PI),this.path.push({type:"arc",x:I,y:U,radius:$,startAngle:G,endAngle:te,counterclockwise:ie})},u.prototype.arcTo=function(I,U,$,G,te){throw new Error("arcTo not implemented.")},u.prototype.rect=function(I,U,$,G){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G))throw Mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,U),this.lineTo(I+$,U),this.lineTo(I+$,U+G),this.lineTo(I,U+G),this.lineTo(I,U),this.lineTo(I+$,U),this.lineTo(I,U)},u.prototype.fillRect=function(I,U,$,G){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G))throw Mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,U,$,G),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},u.prototype.strokeRect=function(I,U,$,G){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G))throw Mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(I,U,$,G),this.stroke())},u.prototype.clearRect=function(I,U,$,G){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G))throw Mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,U,$,G))},u.prototype.save=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},u.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(U),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(I){var U,$,G,te;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))U=0,$=0,G=0,te=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ie!==null)U=parseInt(ie[1]),$=parseInt(ie[2]),G=parseInt(ie[3]),te=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)U=parseInt(ie[1]),$=parseInt(ie[2]),G=parseInt(ie[3]),te=parseFloat(ie[4]);else{if(te=1,typeof I=="string"&&I.charAt(0)!=="#"){var oe=new y7(I);I=oe.ok?oe.toHex():"#000000"}I.length===4?(U=I.substring(1,2),U+=U,$=I.substring(2,3),$+=$,G=I.substring(3,4),G+=G):(U=I.substring(1,3),$=I.substring(3,5),G=I.substring(5,7)),U=parseInt(U,16),$=parseInt($,16),G=parseInt(G,16)}}return{r:U,g:$,b:G,a:te,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},d=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(I,U,$,G){if(isNaN(U)||isNaN($)||typeof I!="string")throw Mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!h.call(this)){var te=X(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:I,x:U,y:$,scale:ie,angle:te,align:this.textAlign,maxWidth:G})}},u.prototype.strokeText=function(I,U,$,G){if(isNaN(U)||isNaN($)||typeof I!="string")throw Mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){G=isNaN(G)?void 0:G;var te=X(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:I,x:U,y:$,scale:ie,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:G})}},u.prototype.measureText=function(I){if(typeof I!="string")throw Mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,$=this.pdf.internal.scaleFactor,G=U.internal.getFontSize(),te=U.getStringUnitWidth(I)*G/U.internal.scaleFactor,ie=function(oe){var ne=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new ie({width:te*=Math.round(96*$/72*1e4)/1e4})},u.prototype.scale=function(I,U){if(isNaN(I)||isNaN(U))throw Mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new A(I,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply($)},u.prototype.rotate=function(I){if(isNaN(I))throw Mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new A(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},u.prototype.translate=function(I,U){if(isNaN(I)||isNaN(U))throw Mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new A(1,0,0,1,I,U);this.ctx.transform=this.ctx.transform.multiply($)},u.prototype.transform=function(I,U,$,G,te,ie){if(isNaN(I)||isNaN(U)||isNaN($)||isNaN(G)||isNaN(te)||isNaN(ie))throw Mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new A(I,U,$,G,te,ie);this.ctx.transform=this.ctx.transform.multiply(oe)},u.prototype.setTransform=function(I,U,$,G,te,ie){I=isNaN(I)?1:I,U=isNaN(U)?0:U,$=isNaN($)?0:$,G=isNaN(G)?1:G,te=isNaN(te)?0:te,ie=isNaN(ie)?0:ie,this.ctx.transform=new A(I,U,$,G,te,ie)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(I,U,$,G,te,ie,oe,ne,ye){var me=this.pdf.getImageProperties(I),se=1,Ie=1,Re=1,le=1;G!==void 0&&ne!==void 0&&(Re=ne/G,le=ye/te,se=me.width/G*ne/G,Ie=me.height/te*ye/te),ie===void 0&&(ie=U,oe=$,U=0,$=0),G!==void 0&&ne===void 0&&(ne=G,ye=te),G===void 0&&ne===void 0&&(ne=me.width,ye=me.height);for(var ee,He=this.ctx.transform.decompose(),Ee=X(He.rotate.shx),Be=new A,Te=(Be=(Be=(Be=Be.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new o(ie-U*Re,oe-$*le,G*se,te*Ie)),pe=g.call(this,Te),Ue=[],Fe=0;Fe<pe.length;Fe+=1)Ue.indexOf(pe[Fe])===-1&&Ue.push(pe[Fe]);if(w(Ue),this.autoPaging)for(var De=Ue[0],Qe=Ue[Ue.length-1],Xe=De;Xe<Qe+1;Xe++){this.pdf.setPage(Xe);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Xe===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Xe===1?0:Ye+(Xe-2)*ot;if(this.ctx.clip_path.length!==0){var Xt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ee,this.posX+this.margin[3],-ze+et+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=Xt}var Ft=JSON.parse(JSON.stringify(Te));Ft=y([Ft],this.posX+this.margin[3],-ze+et+this.ctx.prevPageLastElemOffset)[0];var Bt=(Xe>De||Xe<Qe)&&p.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,ot,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ee),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Ee)};var g=function(I,U,$){var G=[];U=U||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":G.push(Math.floor((I.y+te)/$)+1);break;case"arc":G.push(Math.floor((I.y+te-I.radius)/$)+1),G.push(Math.floor((I.y+te+I.radius)/$)+1);break;case"qct":var ie=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);G.push(Math.floor((ie.y+te)/$)+1),G.push(Math.floor((ie.y+ie.h+te)/$)+1);break;case"bct":var oe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);G.push(Math.floor((oe.y+te)/$)+1),G.push(Math.floor((oe.y+oe.h+te)/$)+1);break;case"rect":G.push(Math.floor((I.y+te)/$)+1),G.push(Math.floor((I.y+I.h+te)/$)+1)}for(var ne=0;ne<G.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<G[ne];)v.call(this);return G},v=function(){var I=this.fillStyle,U=this.strokeStyle,$=this.font,G=this.lineCap,te=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=U,this.font=$,this.lineCap=G,this.lineWidth=te,this.lineJoin=ie},y=function(I,U,$){for(var G=0;G<I.length;G++)switch(I[G].type){case"bct":I[G].x2+=U,I[G].y2+=$;case"qct":I[G].x1+=U,I[G].y1+=$;case"mt":case"lt":case"arc":default:I[G].x+=U,I[G].y+=$}return I},w=function(I){return I.sort(function(U,$){return U-$})},S=function(I,U){for(var $,G,te=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,ne=this.lineWidth,ye=Math.abs(ne*this.ctx.transform.scaleX),me=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Re=[],le=0;le<Ie.length;le++)if(Ie[le].x!==void 0)for(var ee=g.call(this,Ie[le]),He=0;He<ee.length;He+=1)Re.indexOf(ee[He])===-1&&Re.push(ee[He]);for(var Ee=0;Ee<Re.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<Re[Ee];)v.call(this);if(w(Re),this.autoPaging)for(var Be=Re[0],Te=Re[Re.length-1],pe=Be;pe<Te+1;pe++){this.pdf.setPage(pe),this.fillStyle=te,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=ye,this.lineJoin=me;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=pe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=pe===1?0:De+(pe-2)*Qe;if(this.ctx.clip_path.length!==0){var lt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($,this.posX+this.margin[3],-Xe+Fe+this.ctx.prevPageLastElemOffset),x.call(this,I,!0),this.path=lt}if(G=JSON.parse(JSON.stringify(se)),this.path=y(G,this.posX+this.margin[3],-Xe+Fe+this.ctx.prevPageLastElemOffset),U===!1||pe===0){var et=(pe>Be||pe<Te)&&p.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Qe,null).clip().discardPath()),x.call(this,I,U),et&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ye,x.call(this,I,U),this.lineWidth=ne;this.path=se},x=function(I,U){if((I!=="stroke"||U||!d.call(this))&&(I==="stroke"||U||!h.call(this))){for(var $,G,te=[],ie=this.path,oe=0;oe<ie.length;oe++){var ne=ie[oe];switch(ne.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ne,deltas:[],abs:[]});break;case"lt":var ye=te.length;if(ie[oe-1]&&!isNaN(ie[oe-1].x)&&($=[ne.x-ie[oe-1].x,ne.y-ie[oe-1].y],ye>0)){for(;ye>=0;ye--)if(te[ye-1].close!==!0&&te[ye-1].begin!==!0){te[ye-1].deltas.push($),te[ye-1].abs.push(ne);break}}break;case"bct":$=[ne.x1-ie[oe-1].x,ne.y1-ie[oe-1].y,ne.x2-ie[oe-1].x,ne.y2-ie[oe-1].y,ne.x-ie[oe-1].x,ne.y-ie[oe-1].y],te[te.length-1].deltas.push($);break;case"qct":var me=ie[oe-1].x+2/3*(ne.x1-ie[oe-1].x),se=ie[oe-1].y+2/3*(ne.y1-ie[oe-1].y),Ie=ne.x+2/3*(ne.x1-ne.x),Re=ne.y+2/3*(ne.y1-ne.y),le=ne.x,ee=ne.y;$=[me-ie[oe-1].x,se-ie[oe-1].y,Ie-ie[oe-1].x,Re-ie[oe-1].y,le-ie[oe-1].x,ee-ie[oe-1].y],te[te.length-1].deltas.push($);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ne)}}G=U?null:I==="stroke"?"stroke":"fill";for(var He=!1,Ee=0;Ee<te.length;Ee++)if(te[Ee].arc)for(var Be=te[Ee].abs,Te=0;Te<Be.length;Te++){var pe=Be[Te];pe.type==="arc"?L.call(this,pe.x,pe.y,pe.radius,pe.startAngle,pe.endAngle,pe.counterclockwise,void 0,U,!He):R.call(this,pe.x,pe.y),He=!0}else if(te[Ee].close===!0)this.pdf.internal.out("h"),He=!1;else if(te[Ee].begin!==!0){var Ue=te[Ee].start.x,Fe=te[Ee].start.y;M.call(this,te[Ee].deltas,Ue,Fe),He=!0}G&&O.call(this,G),U&&D.call(this)}},E=function(I){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-$;case"top":return I+U-$;case"hanging":return I+U-2*$;case"middle":return I+U/2-$;case"ideographic":return I;case"alphabetic":default:return I}},C=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(U,$){this.colorStops.push([U,$])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(I,U,$,G,te,ie,oe,ne,ye){for(var me=N.call(this,$,G,te,ie),se=0;se<me.length;se++){var Ie=me[se];se===0&&(ye?_.call(this,Ie.x1+I,Ie.y1+U):R.call(this,Ie.x1+I,Ie.y1+U)),z.call(this,I,U,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ne?D.call(this):O.call(this,oe)},O=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(I,U){this.pdf.internal.out(r(I)+" "+n(U)+" m")},F=function(I){var U;switch(I.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var $=this.pdf.getTextDimensions(I.text),G=E.call(this,I.y),te=C.call(this,G)-$.h,ie=this.ctx.transform.applyToPoint(new s(I.x,G)),oe=this.ctx.transform.decompose(),ne=new A;ne=(ne=(ne=ne.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ye,me,se,Ie=this.ctx.transform.applyToRectangle(new o(I.x,G,$.w,$.h)),Re=ne.applyToRectangle(new o(I.x,te,$.w,$.h)),le=g.call(this,Re),ee=[],He=0;He<le.length;He+=1)ee.indexOf(le[He])===-1&&ee.push(le[He]);if(w(ee),this.autoPaging)for(var Ee=ee[0],Be=ee[ee.length-1],Te=Ee;Te<Be+1;Te++){this.pdf.setPage(Te);var pe=Te===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],De=Fe-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],Xe=Qe-this.margin[3],lt=Te===1?0:Ue+(Te-2)*De;if(this.ctx.clip_path.length!==0){var et=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ye,this.posX+this.margin[3],-1*lt+pe),x.call(this,"fill",!0),this.path=et}var Ye=y([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-lt+pe+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*I.scale),se=this.lineWidth,this.lineWidth=se*I.scale);var ot=this.autoPaging!=="text";if(ot||Ye.y+Ye.h<=Fe){if(ot||Ye.y>=pe&&Ye.x<=Qe){var ze=ot?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Qe-Ye.x)[0],Xt=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-lt+pe+this.ctx.prevPageLastElemOffset)[0],Ft=ot&&(Te>Ee||Te<Be)&&p.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,De,null).clip().discardPath()),this.pdf.text(ze,Xt.x,Xt.y,{angle:I.angle,align:U,renderingMode:I.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Ye.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-Ye.y);I.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=se)}else I.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*I.scale),se=this.lineWidth,this.lineWidth=se*I.scale),this.pdf.text(I.text,ie.x+this.posX,ie.y+this.posY,{angle:I.angle,align:U,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=se)},R=function(I,U,$,G){$=$||0,G=G||0,this.pdf.internal.out(r(I+$)+" "+n(U+G)+" l")},M=function(I,U,$){return this.pdf.lines(I,U,$,null,null)},z=function(I,U,$,G,te,ie,oe,ne){this.pdf.internal.out([e(i($+I)),e(a(G+U)),e(i(te+I)),e(a(ie+U)),e(i(oe+I)),e(a(ne+U)),"c"].join(" "))},N=function(I,U,$,G){for(var te=2*Math.PI,ie=Math.PI/2;U>$;)U-=te;var oe=Math.abs($-U);oe<te&&G&&(oe=te-oe);for(var ne=[],ye=G?-1:1,me=U;oe>1e-5;){var se=me+ye*Math.min(oe,ie);ne.push(Y.call(this,I,me,se)),oe-=Math.abs(se-me),me=se}return ne},Y=function(I,U,$){var G=($-U)/2,te=I*Math.cos(G),ie=I*Math.sin(G),oe=te,ne=-ie,ye=oe*oe+ne*ne,me=ye+oe*te+ne*ie,se=4/3*(Math.sqrt(2*ye*me)-me)/(oe*ie-ne*te),Ie=oe-se*ne,Re=ne+se*oe,le=Ie,ee=-Re,He=G+U,Ee=Math.cos(He),Be=Math.sin(He);return{x1:I*Math.cos(U),y1:I*Math.sin(U),x2:Ie*Ee-Re*Be,y2:Ie*Be+Re*Ee,x3:le*Ee-ee*Be,y3:le*Be+ee*Ee,x4:I*Math.cos($),y4:I*Math.sin($)}},X=function(I){return 180*I/Math.PI},H=function(I,U,$,G,te,ie){var oe=I+.5*($-I),ne=U+.5*(G-U),ye=te+.5*($-te),me=ie+.5*(G-ie),se=Math.min(I,te,oe,ye),Ie=Math.max(I,te,oe,ye),Re=Math.min(U,ie,ne,me),le=Math.max(U,ie,ne,me);return new o(se,Re,Ie-se,le-Re)},W=function(I,U,$,G,te,ie,oe,ne){var ye,me,se,Ie,Re,le,ee,He,Ee,Be,Te,pe,Ue,Fe,De=$-I,Qe=G-U,Xe=te-$,lt=ie-G,et=oe-te,Ye=ne-ie;for(me=0;me<41;me++)Ee=(ee=(se=I+(ye=me/40)*De)+ye*((Re=$+ye*Xe)-se))+ye*(Re+ye*(te+ye*et-Re)-ee),Be=(He=(Ie=U+ye*Qe)+ye*((le=G+ye*lt)-Ie))+ye*(le+ye*(ie+ye*Ye-le)-He),me==0?(Te=Ee,pe=Be,Ue=Ee,Fe=Be):(Te=Math.min(Te,Ee),pe=Math.min(pe,Be),Ue=Math.max(Ue,Ee),Fe=Math.max(Fe,Be));return new o(Math.round(Te),Math.round(pe),Math.round(Ue-Te),Math.round(Fe-pe))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,U,$=(I=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:U}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Pt.API),function(t){var e=function(a){var s,o,A,l,c,u,f,h,d,p;for(o=[],A=0,l=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;l>A;A+=4)(c=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(u=(c=((c=((c=((c=(c-(p=c%85))/85)-(d=c%85))/85)-(h=c%85))/85)-(f=c%85))/85)%85,o.push(u+33,f+33,h+33,d+33,p+33)):o.push(122);return function(g,v){for(var y=v;y>0;y--)g.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var s,o,A,l,c,u=String,f="length",h=255,d="charCodeAt",p="slice",g="replace";for(a[p](-2),a=a[p](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),A=[],l=0,c=(a+=s="uuuuu"[p](a[f]%5||5))[f];c>l;l+=5)o=52200625*(a[d](l)-33)+614125*(a[d](l+1)-33)+7225*(a[d](l+2)-33)+85*(a[d](l+3)-33)+(a[d](l+4)-33),A.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(v,y){for(var w=y;w>0;w--)v.pop()}(A,s[f]),u.fromCharCode.apply(u,A)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",A=0;A<a.length;A+=2)o+=String.fromCharCode("0x"+(a[A]+a[A+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=Q5(s)).reduce(function(A,l){return A+String.fromCharCode(l)},"")};t.processDataByFilters=function(a,s){var o=0,A=a||"",l=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=n(A),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:A,reverseChain:l.reverse().join(" ")}}}(Pt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(A,l,c){var u=new XMLHttpRequest,f=0,h=function(d){var p=d.length,g=[],v=String.fromCharCode;for(f=0;f<p;f+=1)g.push(v(255&d.charCodeAt(f)));return g.join("")};if(u.open("GET",A,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?c(h(this.responseText)):c(void 0)}),u.send(null),l&&u.status===200)return h(u.responseText)}(i,a,s)}catch(A){}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Pt.API),function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):S5(()=>Promise.resolve().then(()=>nse),void 0)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):S5(()=>Promise.resolve().then(()=>a3e),void 0)).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=lr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var A=document.createElement(s);for(var l in o.className&&(A.className=o.className),o.innerHTML&&o.dompurify&&(A.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)A.style[l]=o.style[l];return A},a=function s(o){var A=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),l=s.convert(Promise.resolve(),A);return l=(l=l.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(A){return this.set({src:i("div",{innerHTML:s,dompurify:A})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function A(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(A(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,o(this.prop.container,A)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var A=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=l,l)for(var f=0;f<l.length;++f){var h=l[f],d=h.src.find(function(p){return p.format==="truetype"});d&&A.addFont(d.url,h.ref.name,h.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,A.context2d.save(!0),o(this.prop.container,u)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=s[A]};switch(A){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[A]=s[A]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var A=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(A):A})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(A,l){return Math.floor(A*l/72*96)}return this.then(function(){(s=s||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,A,l){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),A!=null&&(this.progress.n=A),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,A,l){return this.setProgress(s?this.progress.val+s:null,o||null,A?this.progress.n+A:null,l?this.progress.stack.concat(l):null)},a.prototype.then=function(s,o){var A=this;return this.thenCore(s,o,function(l,c){return A.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(u){return A.updateProgress(null,l),u}).then(l,c).then(function(u){return A.updateProgress(1),u})})},a.prototype.thenCore=function(s,o,A){A=A||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=A.call(l,s,o);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(A){o=o.thenCore(A)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Pt.getPageSize=function(s,o,A){if(lr(s)==="object"){var l=s;s=l.orientation,o=l.unit||o,A=l.format||A}o=o||"mm",A=A||"a4",s=(""+(s||"P")).toLowerCase();var c,u=(""+A).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var h,d=0,p=0;if(f.hasOwnProperty(u))d=f[u][1]/c,p=f[u][0]/c;else try{d=A[1],p=A[0]}catch(g){throw new Error("Invalid format: "+A)}if(s==="p"||s==="portrait")s="p",p>d&&(h=p,p=d,d=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",d>p&&(h=p,p=d,d=h)}return{width:p,height:d,unit:o,k:c,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(V5):null;var A=new a(o);return o.worker?A:A.from(s).doCallback()}}(Pt.API),Pt.API.addJS=function(t){return ZO=t,this.internal.events.subscribe("postPutResources",function(){r1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZO+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r1!==void 0&&JO!==void 0&&this.internal.out("/Names <</JavaScript "+r1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var A=o[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var u=r.internal.newObject();c.push(u);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var A=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Pt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var A,l=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(A=function(u){for(var f,h=256*u.charCodeAt(4)+u.charCodeAt(5),d=u.length,p={width:0,height:0,numcomponents:1},g=4;g<d;g+=2){if(g+=h,e.indexOf(u.charCodeAt(g+1))!==-1){f=256*u.charCodeAt(g+5)+u.charCodeAt(g+6),p={width:256*u.charCodeAt(g+7)+u.charCodeAt(g+8),height:f,numcomponents:u.charCodeAt(g+9)};break}h=256*u.charCodeAt(g+2)+u.charCodeAt(g+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:A.width,height:A.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(Pt.API);var yh,n1,eF,tF,rF,pee=function(){var t,e,r;function n(a){var s,o,A,l,c,u,f,h,d,p,g,v,y,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(s=this.readUInt32(),d=function(){var S,x;for(x=[],S=0;S<4;++S)x.push(String.fromCharCode(this.data[this.pos++]));return x}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,u.delay=1e3*c/l,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(d==="fdAT"&&(this.pos+=4,s-=4),a=(u!=null?u.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((p=A-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":f=(g=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,g.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),A=0,l=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(u,f,h,d){var p,g,v,y,w,S,x,E,C,L,O,D,_,F,R,M,z,N,Y,X,H,W=Math.ceil((l.width-u)/h),Z=Math.ceil((l.height-f)/d),I=l.width==W&&l.height==Z;for(F=s*W,D=I?o:new Uint8Array(F*Z),S=a.length,_=0,g=0;_<Z&&A<S;){switch(a[A++]){case 0:for(y=z=0;z<F;y=z+=1)D[g++]=a[A++];break;case 1:for(y=N=0;N<F;y=N+=1)p=a[A++],w=y<s?0:D[g-s],D[g++]=(p+w)%256;break;case 2:for(y=Y=0;Y<F;y=Y+=1)p=a[A++],v=(y-y%s)/s,R=_&&D[(_-1)*F+v*s+y%s],D[g++]=(R+p)%256;break;case 3:for(y=X=0;X<F;y=X+=1)p=a[A++],v=(y-y%s)/s,w=y<s?0:D[g-s],R=_&&D[(_-1)*F+v*s+y%s],D[g++]=(p+Math.floor((w+R)/2))%256;break;case 4:for(y=H=0;H<F;y=H+=1)p=a[A++],v=(y-y%s)/s,w=y<s?0:D[g-s],_===0?R=M=0:(R=D[(_-1)*F+v*s+y%s],M=v&&D[(_-1)*F+(v-1)*s+y%s]),x=w+R-M,E=Math.abs(x-w),L=Math.abs(x-R),O=Math.abs(x-M),C=E<=L&&E<=O?w:L<=O?R:M,D[g++]=(p+C)%256;break;default:throw new Error("Invalid filter algorithm: "+a[A-1])}if(!I){var U=((f+_*d)*l.width+u)*s,$=_*F;for(y=0;y<W;y+=1){for(var G=0;G<s;G+=1)o[U++]=D[$++];U+=(h-1)*s}}_++}}return a=WZ(a),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var a,s,o,A,l,c,u,f,h;for(o=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+o.length),A=0,a=0,s=u=0,f=o.length;u<f;s=u+=3)l[A++]=o[s],l[A++]=o[s+1],l[A++]=o[s+2],l[A++]=(h=c[a++])!=null?h:255;return l},n.prototype.copyToImageData=function(a,s){var o,A,l,c,u,f,h,d,p,g,v;if(A=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),A=4,o=!0),d=(l=a.data||a).length,u=p||s,c=f=0,A===1)for(;c<d;)h=p?4*s[c/4]:f,g=u[h++],l[c++]=g,l[c++]=g,l[c++]=g,l[c++]=o?u[h++]:255,f=h;else for(;c<d;)h=p?4*s[c/4]:f,l[c++]=u[h++],l[c++]=u[h++],l[c++]=u[h++],l[c++]=o?u[h++]:255,f=h},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{e=Ut.document.createElement("canvas"),r=e.getContext("2d")}catch(a){return!1}return!0}return!1};return i(),t=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,o,A,l,c,u,f,h;if(this.animation){for(h=[],o=c=0,u=(f=this.animation.frames).length;c<u;o=++c)s=f[o],A=a.createImageData(s.width,s.height),l=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(A,l),s.imageData=A,h.push(s.image=t(A));return h}},n.prototype.renderFrame=function(a,s){var o,A,l;return o=(A=this.animation.frames)[s],l=A[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?a.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&a.putImageData(l.imageData,l.xOffset,l.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var s,o,A,l,c,u,f=this;return o=0,u=this.animation,l=u.numFrames,A=u.frames,c=u.numPlays,(s=function(){var h,d;if(h=o++%l,d=A[h],f.renderFrame(a,h),l>1&&o/l<c)return f.animation._timeout=setTimeout(s,d.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var o=null,A=null;a&&(o=e,A=s,e+=3*s);var l=!0,c=[],u=0,f=null,h=0,d=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,d=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=t[e++];u=t[e++]|t[e++]<<8,f=t[e++],!(1&p)&&(f=null),h=p>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++],x=S>>6&1,E=1<<(7&S)+1,C=o,L=A,O=!1;S>>7&&(O=!0,C=e,L=E,e+=3*E);var D=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}c.push({x:g,y:v,width:y,height:w,has_local_palette:O,palette_offset:C,palette_size:L,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!x,delay:u,disposal:h});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(F){if(F<0||F>=c.length)throw new Error("Frame index out of range.");return c[F]},this.decodeAndBlitFrameBGRA=function(F,R){var M=this.frameInfo(F),z=M.width*M.height,N=new Uint8Array(z);nF(t,M.data_offset,N,z);var Y=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var H=M.width,W=r-H,Z=H,I=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),$=I,G=4*W;M.interlaced===!0&&(G+=4*r*7);for(var te=8,ie=0,oe=N.length;ie<oe;++ie){var ne=N[ie];if(Z===0&&(Z=H,($+=G)>=U&&(G=4*W+4*r*(te-1),$=I+(H+W)*(te<<1),te>>=1)),ne===X)$+=4;else{var ye=t[Y+3*ne],me=t[Y+3*ne+1],se=t[Y+3*ne+2];R[$++]=se,R[$++]=me,R[$++]=ye,R[$++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(F,R){var M=this.frameInfo(F),z=M.width*M.height,N=new Uint8Array(z);nF(t,M.data_offset,N,z);var Y=M.palette_offset,X=M.transparent_index;X===null&&(X=256);var H=M.width,W=r-H,Z=H,I=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),$=I,G=4*W;M.interlaced===!0&&(G+=4*r*7);for(var te=8,ie=0,oe=N.length;ie<oe;++ie){var ne=N[ie];if(Z===0&&(Z=H,($+=G)>=U&&(G=4*W+4*r*(te-1),$=I+(H+W)*(te<<1),te>>=1)),ne===X)$+=4;else{var ye=t[Y+3*ne],me=t[Y+3*ne+1],se=t[Y+3*ne+2];R[$++]=ye,R[$++]=me,R[$++]=se,R[$++]=255}--Z}}}function nF(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,A=i+1,l=(1<<A)-1,c=0,u=0,f=0,h=t[e++],d=new Int32Array(4096),p=null;;){for(;c<16&&h!==0;)u|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<A)break;var g=u&l;if(u>>=A,c-=A,g!==a){if(g===s)break;for(var v=g<o?g:p,y=0,w=v;w>a;)w=d[w]>>8,++y;var S=w;if(f+y+(v!==g?1:0)>n)return void Mr.log("Warning, gif stream longer than expected.");r[f++]=S;var x=f+=y;for(v!==g&&(r[f++]=S),w=v;y--;)w=d[w],r[--x]=255&w,w>>=8;p!==null&&o<4096&&(d[o++]=p<<8|S,o>=l+1&&A<12&&(++A,l=l<<1|1)),p=g}else o=s+1,l=(1<<(A=i+1))-1,p=null}return f!==n&&Mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ME(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),f=new Array(65535),h=new Array(64),d=new Array(64),p=[],g=0,v=7,y=new Array(64),w=new Array(64),S=new Array(64),x=new Array(256),E=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function N(I,U){for(var $=0,G=0,te=new Array,ie=1;ie<=16;ie++){for(var oe=1;oe<=I[ie];oe++)te[U[G]]=[],te[U[G]][0]=$,te[U[G]][1]=ie,G++,$++;$*=2}return te}function Y(I){for(var U=I[0],$=I[1]-1;$>=0;)U&1<<$&&(g|=1<<v),$--,--v<0&&(g==255?(X(255),X(0)):X(g),v=7,g=0)}function X(I){p.push(I)}function H(I){X(I>>8&255),X(255&I)}function W(I,U,$,G,te){for(var ie,oe=te[0],ne=te[240],ye=function(Be,Te){var pe,Ue,Fe,De,Qe,Xe,lt,et,Ye,ot,ze=0;for(Ye=0;Ye<8;++Ye){pe=Be[ze],Ue=Be[ze+1],Fe=Be[ze+2],De=Be[ze+3],Qe=Be[ze+4],Xe=Be[ze+5],lt=Be[ze+6];var Xt=pe+(et=Be[ze+7]),Ft=pe-et,Bt=Ue+lt,dt=Ue-lt,Ht=Fe+Xe,Fr=Fe-Xe,Gt=De+Qe,Jt=De-Qe,_t=Xt+Gt,Kn=Xt-Gt,ir=Bt+Ht,Pr=Bt-Ht;Be[ze]=_t+ir,Be[ze+4]=_t-ir;var Lt=.707106781*(Pr+Kn);Be[ze+2]=Kn+Lt,Be[ze+6]=Kn-Lt;var vt=.382683433*((_t=Jt+Fr)-(Pr=dt+Ft)),zr=.5411961*_t+vt,Ur=1.306562965*Pr+vt,Ui=.707106781*(ir=Fr+dt),Ri=Ft+Ui,yt=Ft-Ui;Be[ze+5]=yt+zr,Be[ze+3]=yt-zr,Be[ze+1]=Ri+Ur,Be[ze+7]=Ri-Ur,ze+=8}for(ze=0,Ye=0;Ye<8;++Ye){pe=Be[ze],Ue=Be[ze+8],Fe=Be[ze+16],De=Be[ze+24],Qe=Be[ze+32],Xe=Be[ze+40],lt=Be[ze+48];var qi=pe+(et=Be[ze+56]),Xi=pe-et,mr=Ue+lt,Er=Ue-lt,Rr=Fe+Xe,si=Fe-Xe,ma=De+Qe,oi=De-Qe,Yr=qi+ma,Di=qi-ma,bi=mr+Rr,va=mr-Rr;Be[ze]=Yr+bi,Be[ze+32]=Yr-bi;var wi=.707106781*(va+Di);Be[ze+16]=Di+wi,Be[ze+48]=Di-wi;var Mi=.382683433*((Yr=oi+si)-(va=Er+Xi)),At=.5411961*Yr+Mi,fe=1.306562965*va+Mi,Ve=.707106781*(bi=si+Er),rt=Xi+Ve,Zt=Xi-Ve;Be[ze+40]=Zt+At,Be[ze+24]=Zt-At,Be[ze+8]=rt+fe,Be[ze+56]=rt-fe,ze++}for(Ye=0;Ye<64;++Ye)ot=Be[Ye]*Te[Ye],h[Ye]=ot>0?ot+.5|0:ot-.5|0;return h}(I,U),me=0;me<64;++me)d[C[me]]=ye[me];var se=d[0]-$;$=d[0],se==0?Y(G[0]):(Y(G[f[ie=32767+se]]),Y(u[ie]));for(var Ie=63;Ie>0&&d[Ie]==0;)Ie--;if(Ie==0)return Y(oe),$;for(var Re,le=1;le<=Ie;){for(var ee=le;d[le]==0&&le<=Ie;)++le;var He=le-ee;if(He>=16){Re=He>>4;for(var Ee=1;Ee<=Re;++Ee)Y(ne);He&=15}ie=32767+d[le],Y(te[(He<<4)+f[ie]]),Y(u[ie]),le++}return Ie!=63&&Y(oe),$}function Z(I){I=Math.min(Math.max(I,1),100),a!=I&&(function(U){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var te=s(($[G]*U+50)/100);te=Math.min(Math.max(te,1),255),o[C[G]]=te}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ne=s((ie[oe]*U+50)/100);ne=Math.min(Math.max(ne,1),255),A[C[oe]]=ne}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,se=0;se<8;se++)for(var Ie=0;Ie<8;Ie++)l[me]=1/(o[C[me]]*ye[se]*ye[Ie]*8),c[me]=1/(A[C[me]]*ye[se]*ye[Ie]*8),me++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,U){U&&Z(U),p=new Array,g=0,v=7,H(65496),H(65504),H(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),H(1),H(1),X(0),X(0),function(){H(65499),H(132),X(0);for(var Ue=0;Ue<64;Ue++)X(o[Ue]);X(1);for(var Fe=0;Fe<64;Fe++)X(A[Fe])}(),function(Ue,Fe){H(65472),H(17),X(8),H(Fe),H(Ue),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(I.width,I.height),function(){H(65476),H(418),X(0);for(var Ue=0;Ue<16;Ue++)X(L[Ue+1]);for(var Fe=0;Fe<=11;Fe++)X(O[Fe]);X(16);for(var De=0;De<16;De++)X(D[De+1]);for(var Qe=0;Qe<=161;Qe++)X(_[Qe]);X(1);for(var Xe=0;Xe<16;Xe++)X(F[Xe+1]);for(var lt=0;lt<=11;lt++)X(R[lt]);X(17);for(var et=0;et<16;et++)X(M[et+1]);for(var Ye=0;Ye<=161;Ye++)X(z[Ye])}(),H(65498),H(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var $=0,G=0,te=0;g=0,v=7,this.encode.displayName="_encode_";for(var ie,oe,ne,ye,me,se,Ie,Re,le,ee=I.data,He=I.width,Ee=I.height,Be=4*He,Te=0;Te<Ee;){for(ie=0;ie<Be;){for(me=Be*Te+ie,Ie=-1,Re=0,le=0;le<64;le++)se=me+(Re=le>>3)*Be+(Ie=4*(7&le)),Te+Re>=Ee&&(se-=Be*(Te+1+Re-Ee)),ie+Ie>=Be&&(se-=ie+Ie-Be+4),oe=ee[se++],ne=ee[se++],ye=ee[se++],y[le]=(E[oe]+E[ne+256>>0]+E[ye+512>>0]>>16)-128,w[le]=(E[oe+768>>0]+E[ne+1024>>0]+E[ye+1280>>0]>>16)-128,S[le]=(E[oe+1280>>0]+E[ne+1536>>0]+E[ye+1792>>0]>>16)-128;$=W(y,l,$,e,n),G=W(w,c,G,r,i),te=W(S,c,te,r,i),ie+=32}Te+=8}if(v>=0){var pe=[];pe[1]=v+1,pe[0]=(1<<v+1)-1,Y(pe)}return H(65497),new Uint8Array(p)},t=t||50,function(){for(var I=String.fromCharCode,U=0;U<256;U++)x[U]=I(U)}(),e=N(L,O),r=N(F,R),n=N(D,_),i=N(M,z),function(){for(var I=1,U=2,$=1;$<=15;$++){for(var G=I;G<U;G++)f[32767+G]=$,u[32767+G]=[],u[32767+G][1]=$,u[32767+G][0]=G;for(var te=-(U-1);te<=-I;te++)f[32767+te]=$,u[32767+te]=[],u[32767+te][1]=$,u[32767+te][0]=U-1+te;I<<=1,U<<=1}}(),function(){for(var I=0;I<256;I++)E[I]=19595*I,E[I+256>>0]=38470*I,E[I+512>>0]=7471*I+32768,E[I+768>>0]=-11059*I,E[I+1024>>0]=-21709*I,E[I+1280>>0]=32768*I+8421375,E[I+1536>>0]=-27439*I,E[I+1792>>0]=-5329*I}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iF(t){function e(L){if(!L)throw Error("assert :P")}function r(L,O,D){for(var _=0;4>_;_++)if(L[O+_]!=D.charCodeAt(_))return!0;return!1}function n(L,O,D,_,F){for(var R=0;R<F;R++)L[O+R]=D[_+R]}function i(L,O,D,_){for(var F=0;F<_;F++)L[O+F]=D}function a(L){return new Int32Array(L)}function s(L,O){for(var D=[],_=0;_<L;_++)D.push(new O);return D}function o(L,O){var D=[];return function _(F,R,M){for(var z=M[R],N=0;N<z&&(F.push(M.length>R+1?[]:new O),!(M.length<R+1));N++)_(F[N],R+1,M)}(D,0,L),D}var A=function(){var L=this;function O(m,b){for(var T=1<<b-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function D(m,b,T,P,k){e(!(P%T));do m[b+(P-=T)]=k;while(0<P)}function _(m,b,T,P,k){if(e(2328>=k),512>=k)var K=a(512);else if((K=a(k))==null)return 0;return function(V,q,J,re,ce,we){var xe,ge,ke=q,Le=1<<J,ue=a(16),de=a(16);for(e(ce!=0),e(re!=null),e(V!=null),e(0<J),ge=0;ge<ce;++ge){if(15<re[ge])return 0;++ue[re[ge]]}if(ue[0]==ce)return 0;for(de[1]=0,xe=1;15>xe;++xe){if(ue[xe]>1<<xe)return 0;de[xe+1]=de[xe]+ue[xe]}for(ge=0;ge<ce;++ge)xe=re[ge],0<re[ge]&&(we[de[xe]++]=ge);if(de[15]==1)return(re=new F).g=0,re.value=we[0],D(V,ke,1,Le,re),Le;var Me,je=-1,Ne=Le-1,at=0,qe=1,Ct=1,tt=1<<J;for(ge=0,xe=1,ce=2;xe<=J;++xe,ce<<=1){if(qe+=Ct<<=1,0>(Ct-=ue[xe]))return 0;for(;0<ue[xe];--ue[xe])(re=new F).g=xe,re.value=we[ge++],D(V,ke+at,ce,tt,re),at=O(at,xe)}for(xe=J+1,ce=2;15>=xe;++xe,ce<<=1){if(qe+=Ct<<=1,0>(Ct-=ue[xe]))return 0;for(;0<ue[xe];--ue[xe]){if(re=new F,(at&Ne)!=je){for(ke+=tt,Me=1<<(je=xe)-J;15>je&&!(0>=(Me-=ue[je]));)++je,Me<<=1;Le+=tt=1<<(Me=je-J),V[q+(je=at&Ne)].g=Me+J,V[q+je].value=ke-q-je}re.g=xe-J,re.value=we[ge++],D(V,ke+(at>>J),ce,tt,re),at=O(at,xe)}}return qe!=2*de[15]-1?0:Le}(m,b,T,P,k,K)}function F(){this.value=this.g=0}function R(){this.value=this.g=0}function M(){this.G=s(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Hi,R)}function z(m,b,T,P){e(m!=null),e(b!=null),e(2147483648>P),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=T,m.Jd=b,m.Yc=T+P,m.Zc=4<=P?T+P-4+1:T,ie(m)}function N(m,b){for(var T=0;0<b--;)T|=ne(m,128)<<b;return T}function Y(m,b){var T=N(m,b);return oe(m)?-T:T}function X(m,b,T,P){var k,K=0;for(e(m!=null),e(b!=null),e(4294967288>P),m.Sb=P,m.Ra=0,m.u=0,m.h=0,4<P&&(P=4),k=0;k<P;++k)K+=b[T+k]<<8*k;m.Ra=K,m.bb=P,m.oa=b,m.pa=T}function H(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<oh-8>>>0,++m.bb,m.u-=8;$(m)&&(m.h=1,m.u=0)}function W(m,b){if(e(0<=b),!m.h&&b<=sh){var T=U(m)&ah[b];return m.u+=b,H(m),T}return m.h=1,m.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(m){return m.Ra>>>(m.u&oh-1)>>>0}function $(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>oh}function G(m,b){m.u=b,m.h=$(m)}function te(m){m.u>=tg&&(e(m.u>=tg),H(m))}function ie(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function oe(m){return N(m,1)}function ne(m,b){var T=m.Ca;0>m.b&&ie(m);var P=m.b,k=T*b>>>8,K=(m.I>>>P>k)+0;for(K?(T-=k,m.I-=k+1<<P>>>0):T=k+1,P=T,k=0;256<=P;)k+=8,P>>=8;return P=7^k+Ha[P],m.b-=P,m.Ca=(T<<P)-1,K}function ye(m,b,T){m[b+0]=T>>24&255,m[b+1]=T>>16&255,m[b+2]=T>>8&255,m[b+3]=T>>0&255}function me(m,b){return m[b+0]<<0|m[b+1]<<8}function se(m,b){return me(m,b)|m[b+2]<<16}function Ie(m,b){return me(m,b)|me(m,b+2)<<16}function Re(m,b){var T=1<<b;return e(m!=null),e(0<b),m.X=a(T),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function le(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function He(m,b,T,P){e(T!=null),e(P!=null);var k=T[0],K=P[0];return k==0&&(k=(m*K+b/2)/b),K==0&&(K=(b*k+m/2)/m),0>=k||0>=K?0:(T[0]=k,P[0]=K,1)}function Ee(m,b){return m+(1<<b)-1>>>b}function Be(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Te(m,b){L[b]=function(T,P,k,K,V,q,J){var re;for(re=0;re<V;++re){var ce=L[m](q[J+re-1],k,K+re);q[J+re]=Be(T[P+re],ce)}}}function pe(){this.ud=this.hd=this.jd=0}function Ue(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Fe(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function De(m,b){return Fe(m+(m-b+.5>>1))}function Qe(m,b,T){return Math.abs(b-T)-Math.abs(m-T)}function Xe(m,b,T,P,k,K,V){for(P=K[V-1],T=0;T<k;++T)K[V+T]=P=Be(m[b+T],P)}function lt(m,b,T,P,k){var K;for(K=0;K<T;++K){var V=m[b+K],q=V>>8&255,J=16711935&(J=(J=16711935&V)+((q<<16)+q));P[k+K]=(4278255360&V)+J>>>0}}function et(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function Ye(m,b,T,P,k,K){var V;for(V=0;V<P;++V){var q=b[T+V],J=q>>>8,re=q,ce=255&(ce=(ce=q>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re=re+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),k[K+V]=(4278255360&q)+(ce<<16)+re}}function ot(m,b,T,P,k){L[b]=function(K,V,q,J,re,ce,we,xe,ge){for(J=we;J<xe;++J)for(we=0;we<ge;++we)re[ce++]=k(q[P(K[V++])])},L[m]=function(K,V,q,J,re,ce,we){var xe=8>>K.b,ge=K.Ea,ke=K.K[0],Le=K.w;if(8>xe)for(K=(1<<K.b)-1,Le=(1<<xe)-1;V<q;++V){var ue,de=0;for(ue=0;ue<ge;++ue)ue&K||(de=P(J[re++])),ce[we++]=k(ke[de&Le]),de>>=xe}else L["VP8LMapColor"+T](J,re,ke,Le,ce,we,V,q,ge)}}function ze(m,b,T,P,k){for(T=b+T;b<T;){var K=m[b++];P[k++]=K>>16&255,P[k++]=K>>8&255,P[k++]=K>>0&255}}function Xt(m,b,T,P,k){for(T=b+T;b<T;){var K=m[b++];P[k++]=K>>16&255,P[k++]=K>>8&255,P[k++]=K>>0&255,P[k++]=K>>24&255}}function Ft(m,b,T,P,k){for(T=b+T;b<T;){var K=(V=m[b++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;P[k++]=K,P[k++]=V}}function Bt(m,b,T,P,k){for(T=b+T;b<T;){var K=(V=m[b++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;P[k++]=K,P[k++]=V}}function dt(m,b,T,P,k){for(T=b+T;b<T;){var K=m[b++];P[k++]=K>>0&255,P[k++]=K>>8&255,P[k++]=K>>16&255}}function Ht(m,b,T,P,k,K){if(K==0)for(T=b+T;b<T;)ye(P,((K=m[b++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),k+=32;else n(P,k,m,b,T)}function Fr(m,b){L[b][0]=L[m+"0"],L[b][1]=L[m+"1"],L[b][2]=L[m+"2"],L[b][3]=L[m+"3"],L[b][4]=L[m+"4"],L[b][5]=L[m+"5"],L[b][6]=L[m+"6"],L[b][7]=L[m+"7"],L[b][8]=L[m+"8"],L[b][9]=L[m+"9"],L[b][10]=L[m+"10"],L[b][11]=L[m+"11"],L[b][12]=L[m+"12"],L[b][13]=L[m+"13"],L[b][14]=L[m+"0"],L[b][15]=L[m+"0"]}function Gt(m){return m==uE||m==fE||m==Mv||m==hE}function Jt(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jt,this.f.kb=new _t,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function vt(m,b){var T=m.T,P=b.ba.f.RGBA,k=P.eb,K=P.fb+m.ka*P.A,V=Ns[b.ba.S],q=m.y,J=m.O,re=m.f,ce=m.N,we=m.ea,xe=m.W,ge=b.cc,ke=b.dc,Le=b.Mc,ue=b.Nc,de=m.ka,Me=m.ka+m.T,je=m.U,Ne=je+1>>1;for(de==0?V(q,J,null,null,re,ce,we,xe,re,ce,we,xe,k,K,null,null,je):(V(b.ec,b.fc,q,J,ge,ke,Le,ue,re,ce,we,xe,k,K-P.A,k,K,je),++T);de+2<Me;de+=2)ge=re,ke=ce,Le=we,ue=xe,ce+=m.Rc,xe+=m.Rc,K+=2*P.A,V(q,(J+=2*m.fa)-m.fa,q,J,ge,ke,Le,ue,re,ce,we,xe,k,K-P.A,k,K,je);return J+=m.fa,m.j+Me<m.o?(n(b.ec,b.fc,q,J,je),n(b.cc,b.dc,re,ce,Ne),n(b.Mc,b.Nc,we,xe,Ne),T--):1&Me||V(q,J,null,null,re,ce,we,xe,re,ce,we,xe,k,K+P.A,null,null,je),T}function zr(m,b,T){var P=m.F,k=[m.J];if(P!=null){var K=m.U,V=b.ba.S,q=V==Dv||V==Mv;b=b.ba.f.RGBA;var J=[0],re=m.ka;J[0]=m.T,m.Kb&&(re==0?--J[0]:(--re,k[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-re));var ce=b.eb;re=b.fb+re*b.A,m=Hr(P,k[0],m.width,K,J,ce,re+(q?0:3),b.A),e(T==J),m&&Gt(V)&&Ds(ce,re,q,K,J,b.A)}return 0}function Ur(m){var b=m.ma,T=b.ba.S,P=11>T,k=T==Uv||T==Rv||T==Dv||T==cE||T==12||Gt(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Zp(b.Oa,m,k?11:12))return 0;if(k&&Gt(T)&&Ke(),m.da)alert("todo:use_scaling");else{if(P){if(b.Ib=Lt,m.Kb){if(T=m.U+1>>1,b.memory=a(m.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=vt,Ke()}}else alert("todo:EmitYUV");k&&(b.Jb=zr,P&&ve())}if(P&&!ZI){for(m=0;256>m;++m)kq[m]=89858*(m-128)+kv>>Nv,$q[m]=-22014*(m-128)+kv,Hq[m]=-45773*(m-128),Qq[m]=113618*(m-128)+kv>>Nv;for(m=Ag;m<gE;++m)b=76283*(m-16)+kv>>Nv,jq[m-Ag]=us(b,255),Gq[m-Ag]=us(b+8>>4,15);ZI=1}return 1}function Ui(m){var b=m.ma,T=m.U,P=m.T;return e(!(1&m.ka)),0>=T||0>=P?0:(T=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,T),b.Dc+=T,1)}function Ri(m){m.ma.memory=null}function yt(m,b,T,P){return W(m,8)!=47?0:(b[0]=W(m,14)+1,T[0]=W(m,14)+1,P[0]=W(m,1),W(m,3)!=0?0:!m.h)}function qi(m,b){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+W(b,T)+1}function Xi(m,b){return 120<b?b-120:1<=(T=((T=Cq[b-1])>>4)*m+(8-(15&T)))?T:1;var T}function mr(m,b,T){var P=U(T),k=m[b+=255&P].g-8;return 0<k&&(G(T,T.u+8),P=U(T),b+=m[b].value,b+=P&(1<<k)-1),G(T,T.u+m[b].g),m[b].value}function Er(m,b,T){return T.g+=m.g,T.value+=m.value<<b>>>0,e(8>=T.g),m.g}function Rr(m,b,T){var P=m.xc;return e((b=P==0?0:m.vc[m.md*(T>>P)+(b>>P)])<m.Wb),m.Ya[b]}function si(m,b,T,P){var k=m.ab,K=m.c*b,V=m.C;b=V+b;var q=T,J=P;for(P=m.Ta,T=m.Ua;0<k--;){var re=m.gc[k],ce=V,we=b,xe=q,ge=J,ke=(J=P,q=T,re.Ea);switch(e(ce<we),e(we<=re.nc),re.hc){case 2:Tv(xe,ge,(we-ce)*ke,J,q);break;case 0:var Le=ce,ue=we,de=J,Me=q,je=(tt=re).Ea;Le==0&&(AE(xe,ge,null,null,1,de,Me),Xe(xe,ge+1,0,0,je-1,de,Me+1),ge+=je,Me+=je,++Le);for(var Ne=1<<tt.b,at=Ne-1,qe=Ee(je,tt.b),Ct=tt.K,tt=tt.w+(Le>>tt.b)*qe;Le<ue;){var fr=Ct,Br=tt,ar=1;for(rg(xe,ge,de,Me-je,1,de,Me);ar<je;){var Wt=(ar&~at)+Ne;Wt>je&&(Wt=je),(0,hc[fr[Br++]>>8&15])(xe,ge+ +ar,de,Me+ar-je,Wt-ar,de,Me+ar),ar=Wt}ge+=je,Me+=je,++Le&at||(tt+=qe)}we!=re.nc&&n(J,q-ke,J,q+(we-ce-1)*ke,ke);break;case 1:for(ke=xe,ue=ge,je=(xe=re.Ea)-(Me=xe&~(de=(ge=1<<re.b)-1)),Le=Ee(xe,re.b),Ne=re.K,re=re.w+(ce>>re.b)*Le;ce<we;){for(at=Ne,qe=re,Ct=new pe,tt=ue+Me,fr=ue+xe;ue<tt;)et(at[qe++],Ct),Lu(Ct,ke,ue,ge,J,q),ue+=ge,q+=ge;ue<fr&&(et(at[qe++],Ct),Lu(Ct,ke,ue,je,J,q),ue+=je,q+=je),++ce&de||(re+=Le)}break;case 3:if(xe==J&&ge==q&&0<re.b){for(ue=J,xe=ke=q+(we-ce)*ke-(Me=(we-ce)*Ee(re.Ea,re.b)),ge=J,de=q,Le=[],Me=(je=Me)-1;0<=Me;--Me)Le[Me]=ge[de+Me];for(Me=je-1;0<=Me;--Me)ue[xe+Me]=Le[Me];Ps(re,ce,we,J,ke,J,q)}else Ps(re,ce,we,xe,ge,J,q)}q=P,J=T}J!=T&&n(P,T,q,J,K)}function ma(m,b){var T=m.V,P=m.Ba+m.c*m.C,k=b-m.C;if(e(b<=m.l.o),e(16>=k),0<k){var K=m.l,V=m.Ta,q=m.Ua,J=K.width;if(si(m,k,T,P),k=q=[q],e((T=m.C)<(P=b)),e(K.v<K.va),P>K.o&&(P=K.o),T<K.j){var re=K.j-T;T=K.j,k[0]+=re*J}if(T>=P?T=0:(k[0]+=4*K.v,K.ka=T-K.j,K.U=K.va-K.v,K.T=P-T,T=1),T){if(q=q[0],11>(T=m.ca).S){var ce=T.f.RGBA,we=(P=T.S,k=K.U,K=K.T,re=ce.eb,ce.A),xe=K;for(ce=ce.fb+m.Ma*ce.A;0<xe--;){var ge=V,ke=q,Le=k,ue=re,de=ce;switch(P){case Pv:$a(ge,ke,Le,ue,de);break;case Uv:xa(ge,ke,Le,ue,de);break;case uE:xa(ge,ke,Le,ue,de),Ds(ue,de,0,Le,1,0);break;case GI:ul(ge,ke,Le,ue,de);break;case Rv:Ht(ge,ke,Le,ue,de,1);break;case fE:Ht(ge,ke,Le,ue,de,1),Ds(ue,de,0,Le,1,0);break;case Dv:Ht(ge,ke,Le,ue,de,0);break;case Mv:Ht(ge,ke,Le,ue,de,0),Ds(ue,de,1,Le,1,0);break;case cE:dc(ge,ke,Le,ue,de);break;case hE:dc(ge,ke,Le,ue,de),Qr(ue,de,Le,1,0);break;case KI:cl(ge,ke,Le,ue,de);break;default:e(0)}q+=J,ce+=we}m.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=b,e(m.C<=m.i)}function oi(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var T=m.Ya[b].G,P=m.Ya[b].H;if(0<T[1][P[1]+0].g||0<T[2][P[2]+0].g||0<T[3][P[3]+0].g)return 0}return 1}function Yr(m,b,T,P,k,K){if(m.Z!=0){var V=m.qd,q=m.rd;for(e(vc[m.Z]!=null);b<T;++b)vc[m.Z](V,q,P,k,P,k,K),V=P,q=k,k+=K;m.qd=V,m.rd=q}}function Di(m,b){var T=m.l.ma,P=T.Z==0||T.Z==1?m.l.j:m.C;if(P=m.C<P?P:m.C,e(b<=m.l.o),b>P){var k=m.l.width,K=T.ca,V=T.tb+k*P,q=m.V,J=m.Ba+m.c*P,re=m.gc;e(m.ab==1),e(re[0].hc==3),_v(re[0],P,b,q,J,K,V),Yr(T,P,b,K,V,k)}m.C=m.Ma=b}function bi(m,b,T,P,k,K,V){var q=m.$/P,J=m.$%P,re=m.m,ce=m.s,we=T+m.$,xe=we;k=T+P*k;var ge=T+P*K,ke=280+ce.ua,Le=m.Pb?q:16777216,ue=0<ce.ua?ce.Wa:null,de=ce.wc,Me=we<ge?Rr(ce,J,q):null;e(m.C<K),e(ge<=k);var je=!1;e:for(;;){for(;je||we<ge;){var Ne=0;if(q>=Le){var at=we-T;e((Le=m).Pb),Le.wd=Le.m,Le.xd=at,0<Le.s.ua&&le(Le.s.Wa,Le.s.vb),Le=q+Tq}if(J&de||(Me=Rr(ce,J,q)),e(Me!=null),Me.Qb&&(b[we]=Me.qb,je=!0),!je)if(te(re),Me.jc){Ne=re,at=b;var qe=we,Ct=Me.pd[U(Ne)&Hi-1];e(Me.jc),256>Ct.g?(G(Ne,Ne.u+Ct.g),at[qe]=Ct.value,Ne=0):(G(Ne,Ne.u+Ct.g-256),e(256<=Ct.value),Ne=Ct.value),Ne==0&&(je=!0)}else Ne=mr(Me.G[0],Me.H[0],re);if(re.h)break;if(je||256>Ne){if(!je)if(Me.nd)b[we]=(Me.qb|Ne<<8)>>>0;else{if(te(re),je=mr(Me.G[1],Me.H[1],re),te(re),at=mr(Me.G[2],Me.H[2],re),qe=mr(Me.G[3],Me.H[3],re),re.h)break;b[we]=(qe<<24|je<<16|Ne<<8|at)>>>0}if(je=!1,++we,++J>=P&&(J=0,++q,V!=null&&q<=K&&!(q%16)&&V(m,q),ue!=null))for(;xe<we;)Ne=b[xe++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne}else if(280>Ne){if(Ne=qi(Ne-256,re),at=mr(Me.G[4],Me.H[4],re),te(re),at=Xi(P,at=qi(at,re)),re.h)break;if(we-T<at||k-we<Ne)break e;for(qe=0;qe<Ne;++qe)b[we+qe]=b[we+qe-at];for(we+=Ne,J+=Ne;J>=P;)J-=P,++q,V!=null&&q<=K&&!(q%16)&&V(m,q);if(e(we<=k),J&de&&(Me=Rr(ce,J,q)),ue!=null)for(;xe<we;)Ne=b[xe++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne}else{if(!(Ne<ke))break e;for(je=Ne-280,e(ue!=null);xe<we;)Ne=b[xe++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne;Ne=we,e(!(je>>>(at=ue).Xa)),b[Ne]=at.X[je],je=!0}je||e(re.h==$(re))}if(m.Pb&&re.h&&we<k)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&le(m.s.vb,m.s.Wa);else{if(re.h)break e;V!=null&&V(m,q>K?K:q),m.a=0,m.$=we-T}return 1}return m.a=3,0}function va(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function wi(){var m=new oE;return m==null?null:(m.a=0,m.xb=zI,Fr("Predictor","VP8LPredictors"),Fr("Predictor","VP8LPredictors_C"),Fr("PredictorAdd","VP8LPredictorsAdd"),Fr("PredictorAdd","VP8LPredictorsAdd_C"),Tv=lt,Lu=Ye,$a=ze,xa=Xt,dc=Ft,cl=Bt,ul=dt,L.VP8LMapColor32b=Ah,L.VP8LMapColor8b=Lv,m)}function Mi(m,b,T,P,k){var K=1,V=[m],q=[b],J=P.m,re=P.s,ce=null,we=0;e:for(;;){if(T)for(;K&&W(J,1);){var xe=V,ge=q,ke=P,Le=1,ue=ke.m,de=ke.gc[ke.ab],Me=W(ue,2);if(ke.Oc&1<<Me)K=0;else{switch(ke.Oc|=1<<Me,de.hc=Me,de.Ea=xe[0],de.nc=ge[0],de.K=[null],++ke.ab,e(4>=ke.ab),Me){case 0:case 1:de.b=W(ue,3)+2,Le=Mi(Ee(de.Ea,de.b),Ee(de.nc,de.b),0,ke,de.K),de.K=de.K[0];break;case 3:var je,Ne=W(ue,8)+1,at=16<Ne?0:4<Ne?1:2<Ne?2:3;if(xe[0]=Ee(de.Ea,at),de.b=at,je=Le=Mi(Ne,1,0,ke,de.K)){var qe,Ct=Ne,tt=de,fr=1<<(8>>tt.b),Br=a(fr);if(Br==null)je=0;else{var ar=tt.K[0],Wt=tt.w;for(Br[0]=tt.K[0][0],qe=1;qe<1*Ct;++qe)Br[qe]=Be(ar[Wt+qe],Br[qe-1]);for(;qe<4*fr;++qe)Br[qe]=0;tt.K[0]=null,tt.K[0]=Br,je=1}}Le=je;break;case 2:break;default:e(0)}K=Le}}if(V=V[0],q=q[0],K&&W(J,1)&&!(K=1<=(we=W(J,4))&&11>=we)){P.a=3;break e}var Dr;if(Dr=K)t:{var _r,$t,zn,ja=P,Yn=V,Ga=q,Cr=we,hs=T,ds=ja.m,Bi=ja.s,$i=[null],Ba=1,ks=0,pA=Sq[Cr];r:for(;;){if(hs&&W(ds,1)){var Ci=W(ds,3)+2,pl=Ee(Yn,Ci),Uu=Ee(Ga,Ci),hh=pl*Uu;if(!Mi(pl,Uu,0,ja,$i))break r;for($i=$i[0],Bi.xc=Ci,_r=0;_r<hh;++_r){var yc=$i[_r]>>8&65535;$i[_r]=yc,yc>=Ba&&(Ba=yc+1)}}if(ds.h)break r;for($t=0;5>$t;++$t){var xn=VI[$t];!$t&&0<Cr&&(xn+=1<<Cr),ks<xn&&(ks=xn)}var mE=s(Ba*pA,F),rO=Ba,nO=s(rO,M);if(nO==null)var Hv=null;else e(65536>=rO),Hv=nO;var lg=a(ks);if(Hv==null||lg==null||mE==null){ja.a=1;break r}var $v=mE;for(_r=zn=0;_r<Ba;++_r){var Bo=Hv[_r],dh=Bo.G,ph=Bo.H,iO=0,jv=1,aO=0;for($t=0;5>$t;++$t){xn=VI[$t],dh[$t]=$v,ph[$t]=zn,!$t&&0<Cr&&(xn+=1<<Cr);i:{var Gv,vE=xn,Kv=ja,cg=lg,Wq=$v,zq=zn,yE=0,bc=Kv.m,Yq=W(bc,1);if(i(cg,0,0,vE),Yq){var qq=W(bc,1)+1,Xq=W(bc,1),sO=W(bc,Xq==0?1:8);cg[sO]=1,qq==2&&(cg[sO=W(bc,8)]=1);var Vv=1}else{var oO=a(19),AO=W(bc,4)+4;if(19<AO){Kv.a=3;var Wv=0;break i}for(Gv=0;Gv<AO;++Gv)oO[Bq[Gv]]=W(bc,3);var bE=void 0,ug=void 0,lO=Kv,Jq=oO,zv=vE,cO=cg,wE=0,wc=lO.m,uO=8,fO=s(128,F);n:for(;_(fO,0,7,Jq,19);){if(W(wc,1)){var Zq=2+2*W(wc,3);if((bE=2+W(wc,Zq))>zv)break n}else bE=zv;for(ug=0;ug<zv&&bE--;){te(wc);var hO=fO[0+(127&U(wc))];G(wc,wc.u+hO.g);var gh=hO.value;if(16>gh)cO[ug++]=gh,gh!=0&&(uO=gh);else{var eX=gh==16,dO=gh-16,tX=xq[dO],pO=W(wc,wq[dO])+tX;if(ug+pO>zv)break n;for(var rX=eX?uO:0;0<pO--;)cO[ug++]=rX}}wE=1;break n}wE||(lO.a=3),Vv=wE}(Vv=Vv&&!bc.h)&&(yE=_(Wq,zq,8,cg,vE)),Vv&&yE!=0?Wv=yE:(Kv.a=3,Wv=0)}if(Wv==0)break r;if(jv&&Eq[$t]==1&&(jv=$v[zn].g==0),iO+=$v[zn].g,zn+=Wv,3>=$t){var fg,xE=lg[0];for(fg=1;fg<xn;++fg)lg[fg]>xE&&(xE=lg[fg]);aO+=xE}}if(Bo.nd=jv,Bo.Qb=0,jv&&(Bo.qb=(dh[3][ph[3]+0].value<<24|dh[1][ph[1]+0].value<<16|dh[2][ph[2]+0].value)>>>0,iO==0&&256>dh[0][ph[0]+0].value&&(Bo.Qb=1,Bo.qb+=dh[0][ph[0]+0].value<<8)),Bo.jc=!Bo.Qb&&6>aO,Bo.jc){var Yv,gl=Bo;for(Yv=0;Yv<Hi;++Yv){var xc=Yv,Ec=gl.pd[xc],qv=gl.G[0][gl.H[0]+xc];256<=qv.value?(Ec.g=qv.g+256,Ec.value=qv.value):(Ec.g=0,Ec.value=0,xc>>=Er(qv,8,Ec),xc>>=Er(gl.G[1][gl.H[1]+xc],16,Ec),xc>>=Er(gl.G[2][gl.H[2]+xc],0,Ec),Er(gl.G[3][gl.H[3]+xc],24,Ec))}}}Bi.vc=$i,Bi.Wb=Ba,Bi.Ya=Hv,Bi.yc=mE,Dr=1;break t}Dr=0}if(!(K=Dr)){P.a=3;break e}if(0<we){if(re.ua=1<<we,!Re(re.Wa,we)){P.a=1,K=0;break e}}else re.ua=0;var EE=P,gO=V,nX=q,BE=EE.s,CE=BE.xc;if(EE.c=gO,EE.i=nX,BE.md=Ee(gO,CE),BE.wc=CE==0?-1:(1<<CE)-1,T){P.xb=Uq;break e}if((ce=a(V*q))==null){P.a=1,K=0;break e}K=(K=bi(P,ce,0,V,q,q,null))&&!J.h;break e}return K?(k!=null?k[0]=ce:(e(ce==null),e(T)),P.$=0,T||va(re)):va(re),K}function At(m,b){var T=m.c*m.i,P=T+b+16*b;return e(m.c<=b),m.V=a(P),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+b,1)}function fe(m,b){var T=m.C,P=b-T,k=m.V,K=m.Ba+m.c*T;for(e(b<=m.l.o);0<P;){var V=16<P?16:P,q=m.l.ma,J=m.l.width,re=J*V,ce=q.ca,we=q.tb+J*T,xe=m.Ta,ge=m.Ua;si(m,V,k,K),On(xe,ge,ce,we,re),Yr(q,T,T+V,ce,we,J),P-=V,k+=V*m.c,T+=V}e(T==b),m.C=m.Ma=b}function Ve(){this.ub=this.yd=this.td=this.Rb=0}function rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function qr(){this.Yb=function(){var m=[];return function b(T,P,k){for(var K=k[P],V=0;V<K&&(T.push(k.length>P+1?[]:0),!(k.length<P+1));V++)b(T[V],P+1,k)}(m,0,[3,11]),m}()}function Ze(){this.jb=a(3),this.Wc=o([4,8],qr),this.Xc=o([4,17],qr)}function an(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ai(){this.ld=this.La=this.dd=this.tc=0}function Ni(){this.Na=this.la=0}function sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function iA(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ai),this.Y=0,this.ya=Array(new vo),this.aa=0,this.l=new ZA}function JA(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ic(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new Ve,this.Kc=new rt,this.ed=new an,this.Qa=new Zt,this.Ic=this.$c=this.Aa=0,this.D=new iA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,sn),this.Pa=new Ze,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new JA),this.Hd=0,this.rb=Array(new Ni),this.sb=0,this.wa=Array(new Ai),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vo),this.L=this.aa=0,this.gd=o([4,2],Ai),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ZA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ac(){var m=new ic;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,og||(og=aA)),m}function on(m,b,T){return m.a==0&&(m.a=b,m.sc=T,m.cb=0),0}function sc(m,b,T){return 3<=T&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function bu(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return on(m,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,P=b.w,k=b.ha;if(4>k)return on(m,7,"Truncated header.");var K=T[P+0]|T[P+1]<<8|T[P+2]<<16,V=m.Od;if(V.Rb=!(1&K),V.td=K>>1&7,V.yd=K>>4&1,V.ub=K>>5,3<V.td)return on(m,3,"Incorrect keyframe parameters.");if(!V.yd)return on(m,4,"Frame not displayable.");P+=3,k-=3;var q=m.Kc;if(V.Rb){if(7>k)return on(m,7,"cannot parse picture header");if(!sc(T,P,k))return on(m,3,"Bad code word");q.c=16383&(T[P+4]<<8|T[P+3]),q.Td=T[P+4]>>6,q.i=16383&(T[P+6]<<8|T[P+5]),q.Ud=T[P+6]>>6,P+=7,k-=7,m.za=q.c+15>>4,m.Ub=q.i+15>>4,b.width=q.c,b.height=q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((K=m.Pa).jb,0,255,K.jb.length),e((K=m.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(V.ub>k)return on(m,7,"bad partition length");z(K=m.m,T,P,V.ub),P+=V.ub,k-=V.ub,V.Rb&&(q.Ld=oe(K),q.Kd=oe(K)),q=m.Qa;var J,re=m.Pa;if(e(K!=null),e(q!=null),q.Cb=oe(K),q.Cb){if(q.Bb=oe(K),oe(K)){for(q.Fb=oe(K),J=0;4>J;++J)q.Zb[J]=oe(K)?Y(K,7):0;for(J=0;4>J;++J)q.Lb[J]=oe(K)?Y(K,6):0}if(q.Bb)for(J=0;3>J;++J)re.jb[J]=oe(K)?N(K,8):255}else q.Bb=0;if(K.Ka)return on(m,3,"cannot parse segment header");if((q=m.ed).zd=oe(K),q.Tb=N(K,6),q.wb=N(K,3),q.Pc=oe(K),q.Pc&&oe(K)){for(re=0;4>re;++re)oe(K)&&(q.vd[re]=Y(K,6));for(re=0;4>re;++re)oe(K)&&(q.od[re]=Y(K,6))}if(m.L=q.Tb==0?0:q.zd?1:2,K.Ka)return on(m,3,"cannot parse filter header");var ce=k;if(k=J=P,P=J+ce,q=ce,m.Xb=(1<<N(m.m,2))-1,ce<3*(re=m.Xb))T=7;else{for(J+=3*re,q-=3*re,ce=0;ce<re;++ce){var we=T[k+0]|T[k+1]<<8|T[k+2]<<16;we>q&&(we=q),z(m.Jc[+ce],T,J,we),J+=we,q-=we,k+=3}z(m.Jc[+re],T,J,q),T=J<P?0:5}if(T!=0)return on(m,T,"cannot parse partitions");for(T=N(J=m.m,7),k=oe(J)?Y(J,4):0,P=oe(J)?Y(J,4):0,q=oe(J)?Y(J,4):0,re=oe(J)?Y(J,4):0,J=oe(J)?Y(J,4):0,ce=m.Qa,we=0;4>we;++we){if(ce.Cb){var xe=ce.Zb[we];ce.Fb||(xe+=T)}else{if(0<we){m.pb[we]=m.pb[0];continue}xe=T}var ge=m.pb[we];ge.Sc[0]=dE[us(xe+k,127)],ge.Sc[1]=pE[us(xe+0,127)],ge.Eb[0]=2*dE[us(xe+P,127)],ge.Eb[1]=101581*pE[us(xe+q,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=dE[us(xe+re,117)],ge.Qc[1]=pE[us(xe+J,127)],ge.lc=xe+J}if(!V.Rb)return on(m,4,"Not a key frame.");for(oe(K),V=m.Pa,T=0;4>T;++T){for(k=0;8>k;++k)for(P=0;3>P;++P)for(q=0;11>q;++q)re=ne(K,Fq[T][k][P][q])?N(K,8):Iq[T][k][P][q],V.Wc[T][k].Yb[P][q]=re;for(k=0;17>k;++k)V.Xc[T][k]=V.Wc[T][Pq[k]]}return m.kc=oe(K),m.kc&&(m.Bd=N(K,8)),m.cb=1}function aA(m,b,T,P,k,K,V){var q=b[k].Yb[T];for(T=0;16>k;++k){if(!ne(m,q[T+0]))return k;for(;!ne(m,q[T+1]);)if(q=b[++k].Yb[0],T=0,k==16)return 16;var J=b[k+1].Yb;if(ne(m,q[T+2])){var re=m,ce=0;if(ne(re,(xe=q)[(we=T)+3]))if(ne(re,xe[we+6])){for(q=0,we=2*(ce=ne(re,xe[we+8]))+(xe=ne(re,xe[we+9+ce])),ce=0,xe=_q[we];xe[q];++q)ce+=ce+ne(re,xe[q]);ce+=3+(8<<we)}else ne(re,xe[we+7])?(ce=7+2*ne(re,165),ce+=ne(re,145)):ce=5+ne(re,159);else ce=ne(re,xe[we+4])?3+ne(re,xe[we+5]):2;q=J[2]}else ce=1,q=J[1];J=V+Lq[k],0>(re=m).b&&ie(re);var we,xe=re.b,ge=(we=re.Ca>>1)-(re.I>>xe)>>31;--re.b,re.Ca+=ge,re.Ca|=1,re.I-=(we+1&ge)<<xe,K[J]=((ce^ge)-ge)*P[(0<k)+0]}return 16}function el(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function sA(m,b){if(m==null)return 0;if(b==null)return on(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!bu(m,b))return 0;if(e(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var T=Qv[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-T>>4,m.zb=b.j-T>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+T>>4,m.Hb=b.va+15+T>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var P=m.ed;for(T=0;4>T;++T){var k;if(m.Qa.Cb){var K=m.Qa.Lb[T];m.Qa.Fb||(K+=P.Tb)}else K=P.Tb;for(k=0;1>=k;++k){var V=m.gd[T][k],q=K;if(P.Pc&&(q+=P.vd[0],k&&(q+=P.od[0])),0<(q=0>q?0:63<q?63:q)){var J=q;0<P.wb&&(J=4<P.wb?J>>2:J>>1)>9-P.wb&&(J=9-P.wb),1>J&&(J=1),V.dd=J,V.tc=2*q+J,V.ld=40<=q?2:15<=q?1:0}else V.tc=0;V.La=k}}}T=0}else on(m,6,"Frame setup failed"),T=m.a;if(T=T==0){if(T){m.$c=0,0<m.Aa||(m.Ic=Vq);e:{T=m.Ic,P=4*(J=m.za);var re=32*J,ce=J+1,we=0<m.L?J*(0<m.Aa?2:1):0,xe=(m.Aa==2?2:1)*J;if((V=P+832+(k=3*(16*T+Qv[m.L])/2*re)+(K=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=V)T=0;else{if(V>m.Vb){if(m.Vb=0,m.Ec=a(V),m.Fc=0,m.Ec==null){T=on(m,1,"no memory during frame initialization.");break e}m.Vb=V}V=m.Ec,q=m.Fc,m.Ac=V,m.Bc=q,q+=P,m.Gd=s(re,JA),m.Hd=0,m.rb=s(ce+1,Ni),m.sb=1,m.wa=we?s(we,Ai):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),e(!0),m.oc=V,m.pc=q,q+=832,m.ya=s(xe,vo),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(re=Qv[m.L])*m.R,re=re/2*m.B,m.sa=V,m.ta=q+J,m.qa=m.sa,m.ra=m.ta+16*T*m.R+re,m.Ha=m.qa,m.Ia=m.ra+8*T*m.B+re,m.$c=0,q+=k,m.mb=K?V:null,m.nb=K?q:null,e(q+K<=m.Fc+m.Vb),el(m),i(m.Ac,m.Bc,0,P),T=1}}if(T){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!Ov){for(T=-255;255>=T;++T)li[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)hl[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)sg[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)fh[255+T]=0>T?0:255<T?255:T;Ov=1}lh=Ac,fl=oc,ng=AA,Ea=qf,Us=tl,In=Yf,ch=fA,Iv=hA,ig=wa,Iu=Vn,Ou=Vp,pc=Ln,Fu=Qa,uh=Tu,Pu=Su,gc=Zi,ag=cs,Rs=Qi,Eo[0]=As,Eo[1]=Xf,Eo[2]=Eu,Eo[3]=Bu,Eo[4]=al,Eo[5]=sl,Eo[6]=lc,Eo[7]=ki,Eo[8]=Zf,Eo[9]=Cu,mc[0]=bo,mc[1]=wu,mc[2]=ba,mc[3]=nl,mc[4]=hn,mc[5]=il,mc[6]=xu,dl[0]=wo,dl[1]=Jf,dl[2]=eh,dl[3]=ol,dl[4]=ls,dl[5]=Al,dl[6]=ka,T=1}else T=0}T&&(T=function(ge,ke){for(ge.M=0;ge.M<ge.Va;++ge.M){var Le,ue=ge.Jc[ge.M&ge.Xb],de=ge.m,Me=ge;for(Le=0;Le<Me.za;++Le){var je=de,Ne=Me,at=Ne.Ac,qe=Ne.Bc+4*Le,Ct=Ne.zc,tt=Ne.ya[Ne.aa+Le];if(Ne.Qa.Bb?tt.$b=ne(je,Ne.Pa.jb[0])?2+ne(je,Ne.Pa.jb[2]):ne(je,Ne.Pa.jb[1]):tt.$b=0,Ne.kc&&(tt.Ad=ne(je,Ne.Bd)),tt.Za=!ne(je,145)+0,tt.Za){var fr=tt.Ob,Br=0;for(Ne=0;4>Ne;++Ne){var ar,Wt=Ct[0+Ne];for(ar=0;4>ar;++ar){Wt=Oq[at[qe+ar]][Wt];for(var Dr=WI[ne(je,Wt[0])];0<Dr;)Dr=WI[2*Dr+ne(je,Wt[Dr])];Wt=-Dr,at[qe+ar]=Wt}n(fr,Br,at,qe,4),Br+=4,Ct[0+Ne]=Wt}}else Wt=ne(je,156)?ne(je,128)?1:3:ne(je,163)?2:0,tt.Ob[0]=Wt,i(at,qe,Wt,4),i(Ct,0,Wt,4);tt.Dd=ne(je,142)?ne(je,114)?ne(je,183)?1:3:2:0}if(Me.m.Ka)return on(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Me=ue,je=(de=ge).rb[de.sb-1],at=de.rb[de.sb+de.ja],Le=de.ya[de.aa+de.ja],qe=de.kc?Le.Ad:0)je.la=at.la=0,Le.Za||(je.Na=at.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var _r,$t;if(je=at,at=Me,qe=de.Pa.Xc,Ct=de.ya[de.aa+de.ja],tt=de.pb[Ct.$b],Ne=Ct.ad,fr=0,Br=de.rb[de.sb-1],Wt=ar=0,i(Ne,fr,0,384),Ct.Za)var zn=0,ja=qe[3];else{Dr=a(16);var Yn=je.Na+Br.Na;if(Yn=og(at,qe[1],Yn,tt.Eb,0,Dr,0),je.Na=Br.Na=(0<Yn)+0,1<Yn)lh(Dr,0,Ne,fr);else{var Ga=Dr[0]+3>>3;for(Dr=0;256>Dr;Dr+=16)Ne[fr+Dr]=Ga}zn=1,ja=qe[0]}var Cr=15&je.la,hs=15&Br.la;for(Dr=0;4>Dr;++Dr){var ds=1&hs;for(Ga=$t=0;4>Ga;++Ga)Cr=Cr>>1|(ds=(Yn=og(at,ja,Yn=ds+(1&Cr),tt.Sc,zn,Ne,fr))>zn)<<7,$t=$t<<2|(3<Yn?3:1<Yn?2:Ne[fr+0]!=0),fr+=16;Cr>>=4,hs=hs>>1|ds<<7,ar=(ar<<8|$t)>>>0}for(ja=Cr,zn=hs>>4,_r=0;4>_r;_r+=2){for($t=0,Cr=je.la>>4+_r,hs=Br.la>>4+_r,Dr=0;2>Dr;++Dr){for(ds=1&hs,Ga=0;2>Ga;++Ga)Yn=ds+(1&Cr),Cr=Cr>>1|(ds=0<(Yn=og(at,qe[2],Yn,tt.Qc,0,Ne,fr)))<<3,$t=$t<<2|(3<Yn?3:1<Yn?2:Ne[fr+0]!=0),fr+=16;Cr>>=2,hs=hs>>1|ds<<5}Wt|=$t<<4*_r,ja|=Cr<<4<<_r,zn|=(240&hs)<<_r}je.la=ja,Br.la=zn,Ct.Hc=ar,Ct.Gc=Wt,Ct.ia=43690&Wt?0:tt.ia,qe=!(ar|Wt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[Le.$b][Le.Za],de.wa[de.Y+de.ja].La|=!qe),Me.Ka)return on(ge,7,"Premature end-of-file encountered.")}if(el(ge),de=ke,Me=1,Le=(ue=ge).D,je=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Le.M=ue.M,Le.uc=je,Jp(ue,Le),Me=1,Le=($t=ue.D).Nb,je=(Wt=Qv[ue.L])*ue.R,at=Wt/2*ue.B,Dr=16*Le*ue.R,Ga=8*Le*ue.B,qe=ue.sa,Ct=ue.ta-je+Dr,tt=ue.qa,Ne=ue.ra-at+Ga,fr=ue.Ha,Br=ue.Ia-at+Ga,hs=(Cr=$t.M)==0,ar=Cr>=ue.Va-1,ue.Aa==2&&Jp(ue,$t),$t.uc)for(ds=(Yn=ue).D.M,e(Yn.D.uc),$t=Yn.yb;$t<Yn.Hb;++$t){zn=$t,ja=ds;var Bi=($i=(xn=Yn).D).Nb;_r=xn.R;var $i=$i.wa[$i.Y+zn],Ba=xn.sa,ks=xn.ta+16*Bi*_r+16*zn,pA=$i.dd,Ci=$i.tc;if(Ci!=0)if(e(3<=Ci),xn.L==1)0<zn&&gc(Ba,ks,_r,Ci+4),$i.La&&Rs(Ba,ks,_r,Ci),0<ja&&Pu(Ba,ks,_r,Ci+4),$i.La&&ag(Ba,ks,_r,Ci);else{var pl=xn.B,Uu=xn.qa,hh=xn.ra+8*Bi*pl+8*zn,yc=xn.Ha,xn=xn.Ia+8*Bi*pl+8*zn;Bi=$i.ld,0<zn&&(Iv(Ba,ks,_r,Ci+4,pA,Bi),Iu(Uu,hh,yc,xn,pl,Ci+4,pA,Bi)),$i.La&&(pc(Ba,ks,_r,Ci,pA,Bi),uh(Uu,hh,yc,xn,pl,Ci,pA,Bi)),0<ja&&(ch(Ba,ks,_r,Ci+4,pA,Bi),ig(Uu,hh,yc,xn,pl,Ci+4,pA,Bi)),$i.La&&(Ou(Ba,ks,_r,Ci,pA,Bi),Fu(Uu,hh,yc,xn,pl,Ci,pA,Bi))}}if(ue.ia&&alert("todo:DitherRow"),de.put!=null){if($t=16*Cr,Cr=16*(Cr+1),hs?(de.y=ue.sa,de.O=ue.ta+Dr,de.f=ue.qa,de.N=ue.ra+Ga,de.ea=ue.Ha,de.W=ue.Ia+Ga):($t-=Wt,de.y=qe,de.O=Ct,de.f=tt,de.N=Ne,de.ea=fr,de.W=Br),ar||(Cr-=Wt),Cr>de.o&&(Cr=de.o),de.F=null,de.J=null,ue.Fa!=null&&0<ue.Fa.length&&$t<Cr&&(de.J=qp(ue,de,$t,Cr-$t),de.F=ue.mb,de.F==null&&de.F.length==0)){Me=on(ue,3,"Could not decode alpha data.");break e}$t<de.j&&(Wt=de.j-$t,$t=de.j,e(!(1&Wt)),de.O+=ue.R*Wt,de.N+=ue.B*(Wt>>1),de.W+=ue.B*(Wt>>1),de.F!=null&&(de.J+=de.width*Wt)),$t<Cr&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=$t-de.j,de.U=de.va-de.v,de.T=Cr-$t,Me=de.put(de))}Le+1!=ue.Ic||ar||(n(ue.sa,ue.ta-je,qe,Ct+16*ue.R,je),n(ue.qa,ue.ra-at,tt,Ne+8*ue.B,at),n(ue.Ha,ue.Ia-at,fr,Br+8*ue.B,at))}if(!Me)return on(ge,6,"Output aborted.")}return 1}(m,b)),b.bc!=null&&b.bc(b),T&=1}return T?(m.cb=0,T):0}function ya(m,b,T,P,k){k=m[b+T+32*P]+(k>>3),m[b+T+32*P]=-256&k?0>k?0:255:k}function oA(m,b,T,P,k,K){ya(m,b,0,T,P+k),ya(m,b,1,T,P+K),ya(m,b,2,T,P-K),ya(m,b,3,T,P-k)}function xi(m){return(20091*m>>16)+m}function Ji(m,b,T,P){var k,K=0,V=a(16);for(k=0;4>k;++k){var q=m[b+0]+m[b+8],J=m[b+0]-m[b+8],re=(35468*m[b+4]>>16)-xi(m[b+12]),ce=xi(m[b+4])+(35468*m[b+12]>>16);V[K+0]=q+ce,V[K+1]=J+re,V[K+2]=J-re,V[K+3]=q-ce,K+=4,b++}for(k=K=0;4>k;++k)q=(m=V[K+0]+4)+V[K+8],J=m-V[K+8],re=(35468*V[K+4]>>16)-xi(V[K+12]),ya(T,P,0,0,q+(ce=xi(V[K+4])+(35468*V[K+12]>>16))),ya(T,P,1,0,J+re),ya(T,P,2,0,J-re),ya(T,P,3,0,q-ce),K++,P+=32}function Yf(m,b,T,P){var k=m[b+0]+4,K=35468*m[b+4]>>16,V=xi(m[b+4]),q=35468*m[b+1]>>16;oA(T,P,0,k+V,m=xi(m[b+1]),q),oA(T,P,1,k+K,m,q),oA(T,P,2,k-K,m,q),oA(T,P,3,k-V,m,q)}function oc(m,b,T,P,k){Ji(m,b,T,P),k&&Ji(m,b+16,T,P+4)}function AA(m,b,T,P){fl(m,b+0,T,P,1),fl(m,b+32,T,P+128,1)}function qf(m,b,T,P){var k;for(m=m[b+0]+4,k=0;4>k;++k)for(b=0;4>b;++b)ya(T,P,b,k,m)}function tl(m,b,T,P){m[b+0]&&Ea(m,b+0,T,P),m[b+16]&&Ea(m,b+16,T,P+4),m[b+32]&&Ea(m,b+32,T,P+128),m[b+48]&&Ea(m,b+48,T,P+128+4)}function Ac(m,b,T,P){var k,K=a(16);for(k=0;4>k;++k){var V=m[b+0+k]+m[b+12+k],q=m[b+4+k]+m[b+8+k],J=m[b+4+k]-m[b+8+k],re=m[b+0+k]-m[b+12+k];K[0+k]=V+q,K[8+k]=V-q,K[4+k]=re+J,K[12+k]=re-J}for(k=0;4>k;++k)V=(m=K[0+4*k]+3)+K[3+4*k],q=K[1+4*k]+K[2+4*k],J=K[1+4*k]-K[2+4*k],re=m-K[3+4*k],T[P+0]=V+q>>3,T[P+16]=re+J>>3,T[P+32]=V-q>>3,T[P+48]=re-J>>3,P+=64}function rl(m,b,T){var P,k=b-32,K=fs,V=255-m[k-1];for(P=0;P<T;++P){var q,J=K,re=V+m[b-1];for(q=0;q<T;++q)m[b+q]=J[re+m[k+q]];b+=32}}function Xf(m,b){rl(m,b,4)}function Jf(m,b){rl(m,b,8)}function wu(m,b){rl(m,b,16)}function ba(m,b){var T;for(T=0;16>T;++T)n(m,b+32*T,m,b-32,16)}function nl(m,b){var T;for(T=16;0<T;--T)i(m,b,m[b-1],16),b+=32}function yo(m,b,T){var P;for(P=0;16>P;++P)i(b,T+32*P,m,16)}function bo(m,b){var T,P=16;for(T=0;16>T;++T)P+=m[b-1+32*T]+m[b+T-32];yo(P>>5,m,b)}function hn(m,b){var T,P=8;for(T=0;16>T;++T)P+=m[b-1+32*T];yo(P>>4,m,b)}function il(m,b){var T,P=8;for(T=0;16>T;++T)P+=m[b+T-32];yo(P>>4,m,b)}function xu(m,b){yo(128,m,b)}function Tt(m,b,T){return m+2*b+T+2>>2}function Eu(m,b){var T,P=b-32;for(P=new Uint8Array([Tt(m[P-1],m[P+0],m[P+1]),Tt(m[P+0],m[P+1],m[P+2]),Tt(m[P+1],m[P+2],m[P+3]),Tt(m[P+2],m[P+3],m[P+4])]),T=0;4>T;++T)n(m,b+32*T,P,0,P.length)}function Bu(m,b){var T=m[b-1],P=m[b-1+32],k=m[b-1+64],K=m[b-1+96];ye(m,b+0,16843009*Tt(m[b-1-32],T,P)),ye(m,b+32,16843009*Tt(T,P,k)),ye(m,b+64,16843009*Tt(P,k,K)),ye(m,b+96,16843009*Tt(k,K,K))}function As(m,b){var T,P=4;for(T=0;4>T;++T)P+=m[b+T-32]+m[b-1+32*T];for(P>>=3,T=0;4>T;++T)i(m,b+32*T,P,4)}function al(m,b){var T=m[b-1+0],P=m[b-1+32],k=m[b-1+64],K=m[b-1-32],V=m[b+0-32],q=m[b+1-32],J=m[b+2-32],re=m[b+3-32];m[b+0+96]=Tt(P,k,m[b-1+96]),m[b+1+96]=m[b+0+64]=Tt(T,P,k),m[b+2+96]=m[b+1+64]=m[b+0+32]=Tt(K,T,P),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Tt(V,K,T),m[b+3+64]=m[b+2+32]=m[b+1+0]=Tt(q,V,K),m[b+3+32]=m[b+2+0]=Tt(J,q,V),m[b+3+0]=Tt(re,J,q)}function lc(m,b){var T=m[b+1-32],P=m[b+2-32],k=m[b+3-32],K=m[b+4-32],V=m[b+5-32],q=m[b+6-32],J=m[b+7-32];m[b+0+0]=Tt(m[b+0-32],T,P),m[b+1+0]=m[b+0+32]=Tt(T,P,k),m[b+2+0]=m[b+1+32]=m[b+0+64]=Tt(P,k,K),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Tt(k,K,V),m[b+3+32]=m[b+2+64]=m[b+1+96]=Tt(K,V,q),m[b+3+64]=m[b+2+96]=Tt(V,q,J),m[b+3+96]=Tt(q,J,J)}function sl(m,b){var T=m[b-1+0],P=m[b-1+32],k=m[b-1+64],K=m[b-1-32],V=m[b+0-32],q=m[b+1-32],J=m[b+2-32],re=m[b+3-32];m[b+0+0]=m[b+1+64]=K+V+1>>1,m[b+1+0]=m[b+2+64]=V+q+1>>1,m[b+2+0]=m[b+3+64]=q+J+1>>1,m[b+3+0]=J+re+1>>1,m[b+0+96]=Tt(k,P,T),m[b+0+64]=Tt(P,T,K),m[b+0+32]=m[b+1+96]=Tt(T,K,V),m[b+1+32]=m[b+2+96]=Tt(K,V,q),m[b+2+32]=m[b+3+96]=Tt(V,q,J),m[b+3+32]=Tt(q,J,re)}function ki(m,b){var T=m[b+0-32],P=m[b+1-32],k=m[b+2-32],K=m[b+3-32],V=m[b+4-32],q=m[b+5-32],J=m[b+6-32],re=m[b+7-32];m[b+0+0]=T+P+1>>1,m[b+1+0]=m[b+0+64]=P+k+1>>1,m[b+2+0]=m[b+1+64]=k+K+1>>1,m[b+3+0]=m[b+2+64]=K+V+1>>1,m[b+0+32]=Tt(T,P,k),m[b+1+32]=m[b+0+96]=Tt(P,k,K),m[b+2+32]=m[b+1+96]=Tt(k,K,V),m[b+3+32]=m[b+2+96]=Tt(K,V,q),m[b+3+64]=Tt(V,q,J),m[b+3+96]=Tt(q,J,re)}function Cu(m,b){var T=m[b-1+0],P=m[b-1+32],k=m[b-1+64],K=m[b-1+96];m[b+0+0]=T+P+1>>1,m[b+2+0]=m[b+0+32]=P+k+1>>1,m[b+2+32]=m[b+0+64]=k+K+1>>1,m[b+1+0]=Tt(T,P,k),m[b+3+0]=m[b+1+32]=Tt(P,k,K),m[b+3+32]=m[b+1+64]=Tt(k,K,K),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=K}function Zf(m,b){var T=m[b-1+0],P=m[b-1+32],k=m[b-1+64],K=m[b-1+96],V=m[b-1-32],q=m[b+0-32],J=m[b+1-32],re=m[b+2-32];m[b+0+0]=m[b+2+32]=T+V+1>>1,m[b+0+32]=m[b+2+64]=P+T+1>>1,m[b+0+64]=m[b+2+96]=k+P+1>>1,m[b+0+96]=K+k+1>>1,m[b+3+0]=Tt(q,J,re),m[b+2+0]=Tt(V,q,J),m[b+1+0]=m[b+3+32]=Tt(T,V,q),m[b+1+32]=m[b+3+64]=Tt(P,T,V),m[b+1+64]=m[b+3+96]=Tt(k,P,T),m[b+1+96]=Tt(K,k,P)}function eh(m,b){var T;for(T=0;8>T;++T)n(m,b+32*T,m,b-32,8)}function ol(m,b){var T;for(T=0;8>T;++T)i(m,b,m[b-1],8),b+=32}function lA(m,b,T){var P;for(P=0;8>P;++P)i(b,T+32*P,m,8)}function wo(m,b){var T,P=8;for(T=0;8>T;++T)P+=m[b+T-32]+m[b-1+32*T];lA(P>>4,m,b)}function Al(m,b){var T,P=4;for(T=0;8>T;++T)P+=m[b+T-32];lA(P>>3,m,b)}function ls(m,b){var T,P=4;for(T=0;8>T;++T)P+=m[b-1+32*T];lA(P>>3,m,b)}function ka(m,b){lA(128,m,b)}function ll(m,b,T){var P=m[b-T],k=m[b+0],K=3*(k-P)+lE[1020+m[b-2*T]-m[b+T]],V=Fv[112+(K+4>>3)];m[b-T]=fs[255+P+Fv[112+(K+3>>3)]],m[b+0]=fs[255+k-V]}function cc(m,b,T,P){var k=m[b+0],K=m[b+T];return Ms[255+m[b-2*T]-m[b-T]]>P||Ms[255+K-k]>P}function uc(m,b,T,P){return 4*Ms[255+m[b-T]-m[b+0]]+Ms[255+m[b-2*T]-m[b+T]]<=P}function cA(m,b,T,P,k){var K=m[b-3*T],V=m[b-2*T],q=m[b-T],J=m[b+0],re=m[b+T],ce=m[b+2*T],we=m[b+3*T];return 4*Ms[255+q-J]+Ms[255+V-re]>P?0:Ms[255+m[b-4*T]-K]<=k&&Ms[255+K-V]<=k&&Ms[255+V-q]<=k&&Ms[255+we-ce]<=k&&Ms[255+ce-re]<=k&&Ms[255+re-J]<=k}function Su(m,b,T,P){var k=2*P+1;for(P=0;16>P;++P)uc(m,b+P,T,k)&&ll(m,b+P,T)}function Zi(m,b,T,P){var k=2*P+1;for(P=0;16>P;++P)uc(m,b+P*T,1,k)&&ll(m,b+P*T,1)}function cs(m,b,T,P){var k;for(k=3;0<k;--k)Su(m,b+=4*T,T,P)}function Qi(m,b,T,P){var k;for(k=3;0<k;--k)Zi(m,b+=4,T,P)}function uA(m,b,T,P,k,K,V,q){for(K=2*K+1;0<k--;){if(cA(m,b,T,K,V))if(cc(m,b,T,q))ll(m,b,T);else{var J=m,re=b,ce=T,we=J[re-2*ce],xe=J[re-ce],ge=J[re+0],ke=J[re+ce],Le=J[re+2*ce],ue=27*(Me=lE[1020+3*(ge-xe)+lE[1020+we-ke]])+63>>7,de=18*Me+63>>7,Me=9*Me+63>>7;J[re-3*ce]=fs[255+J[re-3*ce]+Me],J[re-2*ce]=fs[255+we+de],J[re-ce]=fs[255+xe+ue],J[re+0]=fs[255+ge-ue],J[re+ce]=fs[255+ke-de],J[re+2*ce]=fs[255+Le-Me]}b+=P}}function ea(m,b,T,P,k,K,V,q){for(K=2*K+1;0<k--;){if(cA(m,b,T,K,V))if(cc(m,b,T,q))ll(m,b,T);else{var J=m,re=b,ce=T,we=J[re-ce],xe=J[re+0],ge=J[re+ce],ke=Fv[112+((Le=3*(xe-we))+4>>3)],Le=Fv[112+(Le+3>>3)],ue=ke+1>>1;J[re-2*ce]=fs[255+J[re-2*ce]+ue],J[re-ce]=fs[255+we+Le],J[re+0]=fs[255+xe-ke],J[re+ce]=fs[255+ge-ue]}b+=P}}function fA(m,b,T,P,k,K){uA(m,b,T,1,16,P,k,K)}function hA(m,b,T,P,k,K){uA(m,b,1,T,16,P,k,K)}function Vp(m,b,T,P,k,K){var V;for(V=3;0<V;--V)ea(m,b+=4*T,T,1,16,P,k,K)}function Ln(m,b,T,P,k,K){var V;for(V=3;0<V;--V)ea(m,b+=4,1,T,16,P,k,K)}function wa(m,b,T,P,k,K,V,q){uA(m,b,k,1,8,K,V,q),uA(T,P,k,1,8,K,V,q)}function Vn(m,b,T,P,k,K,V,q){uA(m,b,1,k,8,K,V,q),uA(T,P,1,k,8,K,V,q)}function Qa(m,b,T,P,k,K,V,q){ea(m,b+4*k,k,1,8,K,V,q),ea(T,P+4*k,k,1,8,K,V,q)}function Tu(m,b,T,P,k,K,V,q){ea(m,b+4,1,k,8,K,V,q),ea(T,P+4,1,k,8,K,V,q)}function th(){this.ba=new Kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wp(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cv(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new F}function oE(){this.xb=this.a=0,this.l=new ZA,this.ca=new Kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cv,this.ab=0,this.gc=s(4,zp),this.Oc=0}function rh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ZA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _u(m,b,T,P,k,K,V){for(m=m==null?0:m[b+0],b=0;b<V;++b)k[K+b]=m+T[P+b]&255,m=k[K+b]}function Yp(m,b,T,P,k,K,V){var q;if(m==null)_u(null,null,T,P,k,K,V);else for(q=0;q<V;++q)k[K+q]=m[b+q]+T[P+q]&255}function fc(m,b,T,P,k,K,V){if(m==null)_u(null,null,T,P,k,K,V);else{var q,J=m[b+0],re=J,ce=J;for(q=0;q<V;++q)re=ce+(J=m[b+q])-re,ce=T[P+q]+(-256&re?0>re?0:255:re)&255,re=J,k[K+q]=ce}}function qp(m,b,T,P){var k=b.width,K=b.o;if(e(m!=null&&b!=null),0>T||0>=P||T+P>K)return null;if(!m.Cc){if(m.ga==null){var V;if(m.ga=new rh,(V=m.ga==null)||(V=b.width*b.o,e(m.Gb.length==0),m.Gb=a(V),m.Uc=0,m.Gb==null?V=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,V=1),V=!V),!V){V=m.ga;var q=m.Fa,J=m.P,re=m.qc,ce=m.mb,we=m.nb,xe=J+1,ge=re-1,ke=V.l;if(e(q!=null&&ce!=null&&b!=null),vc[0]=null,vc[1]=_u,vc[2]=Yp,vc[3]=fc,V.ca=ce,V.tb=we,V.c=b.width,V.i=b.height,e(0<V.c&&0<V.i),1>=re)b=0;else if(V.$a=q[J+0]>>0&3,V.Z=q[J+0]>>2&3,V.Lc=q[J+0]>>4&3,J=q[J+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||J)b=0;else if(ke.put=Ui,ke.ac=Ur,ke.bc=Ri,ke.ma=V,ke.width=b.width,ke.height=b.height,ke.Da=b.Da,ke.v=b.v,ke.va=b.va,ke.j=b.j,ke.o=b.o,V.$a)e:{e(V.$a==1),b=wi();t:for(;;){if(b==null){b=0;break e}if(e(V!=null),V.mc=b,b.c=V.c,b.i=V.i,b.l=V.l,b.l.ma=V,b.l.width=V.c,b.l.height=V.i,b.a=0,X(b.m,q,xe,ge),!Mi(V.c,V.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&oi(b.s)?(V.ic=1,q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(V.ic=0,b=At(b,V.c)),!b))break t;b=1;break e}V.mc=null,b=0}else b=ge>=V.c*V.i;V=!b}if(V)return null;m.ga.Lc!=1?m.Ga=0:P=K-T}e(m.ga!=null),e(T+P<=K);e:{if(b=(q=m.ga).c,K=q.l.o,q.$a==0){if(xe=m.rc,ge=m.Vc,ke=m.Fa,J=m.P+1+T*b,re=m.mb,ce=m.nb+T*b,e(J<=m.P+m.qc),q.Z!=0)for(e(vc[q.Z]!=null),V=0;V<P;++V)vc[q.Z](xe,ge,ke,J,re,ce,b),xe=re,ge=ce,ce+=b,J+=b;else for(V=0;V<P;++V)n(re,ce,ke,J,b),xe=re,ge=ce,ce+=b,J+=b;m.rc=xe,m.Vc=ge}else{if(e(q.mc!=null),b=T+P,e((V=q.mc)!=null),e(b<=V.i),V.C>=b)b=1;else if(q.ic||ve(),q.ic){q=V.V,xe=V.Ba,ge=V.c;var Le=V.i,ue=(ke=1,J=V.$/ge,re=V.$%ge,ce=V.m,we=V.s,V.$),de=ge*Le,Me=ge*b,je=we.wc,Ne=ue<Me?Rr(we,re,J):null;e(ue<=de),e(b<=Le),e(oi(we));t:for(;;){for(;!ce.h&&ue<Me;){if(re&je||(Ne=Rr(we,re,J)),e(Ne!=null),te(ce),256>(Le=mr(Ne.G[0],Ne.H[0],ce)))q[xe+ue]=Le,++ue,++re>=ge&&(re=0,++J<=b&&!(J%16)&&Di(V,J));else{if(!(280>Le)){ke=0;break t}Le=qi(Le-256,ce);var at,qe=mr(Ne.G[4],Ne.H[4],ce);if(te(ce),!(ue>=(qe=Xi(ge,qe=qi(qe,ce)))&&de-ue>=Le)){ke=0;break t}for(at=0;at<Le;++at)q[xe+ue+at]=q[xe+ue+at-qe];for(ue+=Le,re+=Le;re>=ge;)re-=ge,++J<=b&&!(J%16)&&Di(V,J);ue<Me&&re&je&&(Ne=Rr(we,re,J))}e(ce.h==$(ce))}Di(V,J>b?b:J);break t}!ke||ce.h&&ue<de?(ke=0,V.a=ce.h?5:3):V.$=ue,b=ke}else b=bi(V,V.V,V.Ba,V.c,V.i,b,fe);if(!b){P=0;break e}}T+P>=K&&(m.Cc=1),P=1}if(!P)return null;if(m.Cc&&((P=m.ga)!=null&&(P.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*k}function B(m,b,T,P,k,K){for(;0<k--;){var V,q=m,J=b+(T?1:0),re=m,ce=b+(T?0:3);for(V=0;V<P;++V){var we=re[ce+4*V];we!=255&&(we*=32897,q[J+4*V+0]=q[J+4*V+0]*we>>23,q[J+4*V+1]=q[J+4*V+1]*we>>23,q[J+4*V+2]=q[J+4*V+2]*we>>23)}b+=K}}function Q(m,b,T,P,k){for(;0<P--;){var K;for(K=0;K<T;++K){var V=m[b+2*K+0],q=15&(re=m[b+2*K+1]),J=4369*q,re=(240&re|re>>4)*J>>16;m[b+2*K+0]=(240&V|V>>4)*J>>16&240|(15&V|V<<4)*J>>16>>4&15,m[b+2*K+1]=240&re|q}b+=k}}function ae(m,b,T,P,k,K,V,q){var J,re,ce=255;for(re=0;re<k;++re){for(J=0;J<P;++J){var we=m[b+J];K[V+4*J]=we,ce&=we}b+=T,V+=q}return ce!=255}function Ae(m,b,T,P,k){var K;for(K=0;K<k;++K)T[P+K]=m[b+K]>>8}function ve(){Ds=B,Qr=Q,Hr=ae,On=Ae}function Oe(m,b,T){L[m]=function(P,k,K,V,q,J,re,ce,we,xe,ge,ke,Le,ue,de,Me,je){var Ne,at=je-1>>1,qe=q[J+0]|re[ce+0]<<16,Ct=we[xe+0]|ge[ke+0]<<16;e(P!=null);var tt=3*qe+Ct+131074>>2;for(b(P[k+0],255&tt,tt>>16,Le,ue),K!=null&&(tt=3*Ct+qe+131074>>2,b(K[V+0],255&tt,tt>>16,de,Me)),Ne=1;Ne<=at;++Ne){var fr=q[J+Ne]|re[ce+Ne]<<16,Br=we[xe+Ne]|ge[ke+Ne]<<16,ar=qe+fr+Ct+Br+524296,Wt=ar+2*(fr+Ct)>>3;tt=Wt+qe>>1,qe=(ar=ar+2*(qe+Br)>>3)+fr>>1,b(P[k+2*Ne-1],255&tt,tt>>16,Le,ue+(2*Ne-1)*T),b(P[k+2*Ne-0],255&qe,qe>>16,Le,ue+(2*Ne-0)*T),K!=null&&(tt=ar+Ct>>1,qe=Wt+Br>>1,b(K[V+2*Ne-1],255&tt,tt>>16,de,Me+(2*Ne-1)*T),b(K[V+2*Ne+0],255&qe,qe>>16,de,Me+(2*Ne+0)*T)),qe=fr,Ct=Br}1&je||(tt=3*qe+Ct+131074>>2,b(P[k+je-1],255&tt,tt>>16,Le,ue+(je-1)*T),K!=null&&(tt=3*Ct+qe+131074>>2,b(K[V+je-1],255&tt,tt>>16,de,Me+(je-1)*T)))}}function Ke(){Ns[Pv]=Rq,Ns[Uv]=YI,Ns[GI]=Dq,Ns[Rv]=qI,Ns[Dv]=XI,Ns[cE]=JI,Ns[KI]=Mq,Ns[uE]=YI,Ns[fE]=qI,Ns[Mv]=XI,Ns[hE]=JI}function it(m){return m&-16384?0>m?0:255:m>>Nq}function wt(m,b){return it((19077*m>>8)+(26149*b>>8)-14234)}function Nt(m,b,T){return it((19077*m>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function Dt(m,b){return it((19077*m>>8)+(33050*b>>8)-17685)}function rr(m,b,T,P,k){P[k+0]=wt(m,T),P[k+1]=Nt(m,b,T),P[k+2]=Dt(m,b)}function dn(m,b,T,P,k){P[k+0]=Dt(m,b),P[k+1]=Nt(m,b,T),P[k+2]=wt(m,T)}function wn(m,b,T,P,k){var K=Nt(m,b,T);b=K<<3&224|Dt(m,b)>>3,P[k+0]=248&wt(m,T)|K>>5,P[k+1]=b}function Wn(m,b,T,P,k){var K=240&Dt(m,b)|15;P[k+0]=240&wt(m,T)|Nt(m,b,T)>>4,P[k+1]=K}function ta(m,b,T,P,k){P[k+0]=255,rr(m,b,T,P,k+1)}function Ei(m,b,T,P,k){dn(m,b,T,P,k),P[k+3]=255}function xo(m,b,T,P,k){rr(m,b,T,P,k),P[k+3]=255}function us(m,b){return 0>m?0:m>b?b:m}function dA(m,b,T){L[m]=function(P,k,K,V,q,J,re,ce,we){for(var xe=ce+(-2&we)*T;ce!=xe;)b(P[k+0],K[V+0],q[J+0],re,ce),b(P[k+1],K[V+0],q[J+0],re,ce+T),k+=2,++V,++J,ce+=2*T;1&we&&b(P[k+0],K[V+0],q[J+0],re,ce)}}function Sv(m,b,T){return T==0?m==0?b==0?6:5:b==0?4:0:T}function Xp(m,b,T,P,k){switch(m>>>30){case 3:fl(b,T,P,k,0);break;case 2:In(b,T,P,k);break;case 1:Ea(b,T,P,k)}}function Jp(m,b){var T,P,k=b.M,K=b.Nb,V=m.oc,q=m.pc+40,J=m.oc,re=m.pc+584,ce=m.oc,we=m.pc+600;for(T=0;16>T;++T)V[q+32*T-1]=129;for(T=0;8>T;++T)J[re+32*T-1]=129,ce[we+32*T-1]=129;for(0<k?V[q-1-32]=J[re-1-32]=ce[we-1-32]=129:(i(V,q-32-1,127,21),i(J,re-32-1,127,9),i(ce,we-32-1,127,9)),P=0;P<m.za;++P){var xe=b.ya[b.aa+P];if(0<P){for(T=-1;16>T;++T)n(V,q+32*T-4,V,q+32*T+12,4);for(T=-1;8>T;++T)n(J,re+32*T-4,J,re+32*T+4,4),n(ce,we+32*T-4,ce,we+32*T+4,4)}var ge=m.Gd,ke=m.Hd+P,Le=xe.ad,ue=xe.Hc;if(0<k&&(n(V,q-32,ge[ke].y,0,16),n(J,re-32,ge[ke].f,0,8),n(ce,we-32,ge[ke].ea,0,8)),xe.Za){var de=V,Me=q-32+16;for(0<k&&(P>=m.za-1?i(de,Me,ge[ke].y[15],4):n(de,Me,ge[ke+1].y,0,4)),T=0;4>T;T++)de[Me+128+T]=de[Me+256+T]=de[Me+384+T]=de[Me+0+T];for(T=0;16>T;++T,ue<<=2)de=V,Me=q+eO[T],Eo[xe.Ob[T]](de,Me),Xp(ue,Le,16*+T,de,Me)}else if(de=Sv(P,k,xe.Ob[0]),mc[de](V,q),ue!=0)for(T=0;16>T;++T,ue<<=2)Xp(ue,Le,16*+T,V,q+eO[T]);for(T=xe.Gc,de=Sv(P,k,xe.Dd),dl[de](J,re),dl[de](ce,we),ue=Le,de=J,Me=re,255&(xe=T>>0)&&(170&xe?ng(ue,256,de,Me):Us(ue,256,de,Me)),xe=ce,ue=we,255&(T>>=8)&&(170&T?ng(Le,320,xe,ue):Us(Le,320,xe,ue)),k<m.Ub-1&&(n(ge[ke].y,0,V,q+480,16),n(ge[ke].f,0,J,re+224,8),n(ge[ke].ea,0,ce,we+224,8)),T=8*K*m.B,ge=m.sa,ke=m.ta+16*P+16*K*m.R,Le=m.qa,xe=m.ra+8*P+T,ue=m.Ha,de=m.Ia+8*P+T,T=0;16>T;++T)n(ge,ke+T*m.R,V,q+32*T,16);for(T=0;8>T;++T)n(Le,xe+T*m.B,J,re+32*T,8),n(ue,de+T*m.B,ce,we+32*T,8)}}function nh(m,b,T,P,k,K,V,q,J){var re=[0],ce=[0],we=0,xe=J!=null?J.kd:0,ge=J!=null?J:new Wp;if(m==null||12>T)return 7;ge.data=m,ge.w=b,ge.ha=T,b=[b],T=[T],ge.gb=[ge.gb];e:{var ke=b,Le=T,ue=ge.gb;if(e(m!=null),e(Le!=null),e(ue!=null),ue[0]=0,12<=Le[0]&&!r(m,ke[0],"RIFF")){if(r(m,ke[0]+8,"WEBP")){ue=3;break e}var de=Ie(m,ke[0]+4);if(12>de||4294967286<de){ue=3;break e}if(xe&&de>Le[0]-8){ue=7;break e}ue[0]=de,ke[0]+=12,Le[0]-=12}ue=0}if(ue!=0)return ue;for(de=0<ge.gb[0],T=T[0];;){e:{var Me=m;Le=b,ue=T;var je=re,Ne=ce,at=ke=[0];if((tt=we=[we])[0]=0,8>ue[0])ue=7;else{if(!r(Me,Le[0],"VP8X")){if(Ie(Me,Le[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var qe=Ie(Me,Le[0]+8),Ct=1+se(Me,Le[0]+12);if(2147483648<=Ct*(Me=1+se(Me,Le[0]+15))){ue=3;break e}at!=null&&(at[0]=qe),je!=null&&(je[0]=Ct),Ne!=null&&(Ne[0]=Me),Le[0]+=18,ue[0]-=18,tt[0]=1}ue=0}}if(we=we[0],ke=ke[0],ue!=0)return ue;if(Le=!!(2&ke),!de&&we)return 3;if(K!=null&&(K[0]=!!(16&ke)),V!=null&&(V[0]=Le),q!=null&&(q[0]=0),V=re[0],ke=ce[0],we&&Le&&J==null){ue=0;break}if(4>T){ue=7;break}if(de&&we||!de&&!we&&!r(m,b[0],"ALPH")){T=[T],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{qe=m,ue=b,de=T;var tt=ge.gb;je=ge.na,Ne=ge.P,at=ge.Sa,Ct=22,e(qe!=null),e(de!=null),Me=ue[0];var fr=de[0];for(e(je!=null),e(at!=null),je[0]=null,Ne[0]=null,at[0]=0;;){if(ue[0]=Me,de[0]=fr,8>fr){ue=7;break e}var Br=Ie(qe,Me+4);if(4294967286<Br){ue=3;break e}var ar=8+Br+1&-2;if(Ct+=ar,0<tt&&Ct>tt){ue=3;break e}if(!r(qe,Me,"VP8 ")||!r(qe,Me,"VP8L")){ue=0;break e}if(fr[0]<ar){ue=7;break e}r(qe,Me,"ALPH")||(je[0]=qe,Ne[0]=Me+8,at[0]=Br),Me+=ar,fr-=ar}}if(T=T[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ue!=0)break}T=[T],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(tt=m,ue=b,de=T,je=ge.gb[0],Ne=ge.Ja,at=ge.xa,qe=ue[0],Me=!r(tt,qe,"VP8 "),Ct=!r(tt,qe,"VP8L"),e(tt!=null),e(de!=null),e(Ne!=null),e(at!=null),8>de[0])ue=7;else{if(Me||Ct){if(tt=Ie(tt,qe+4),12<=je&&tt>je-12){ue=3;break e}if(xe&&tt>de[0]-8){ue=7;break e}Ne[0]=tt,ue[0]+=8,de[0]-=8,at[0]=Ct}else at[0]=5<=de[0]&&tt[qe+0]==47&&!(tt[qe+4]>>5),Ne[0]=de[0];ue=0}if(T=T[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],b=b[0],ue!=0)break;if(4294967286<ge.Ja)return 3;if(q==null||Le||(q[0]=ge.xa?2:1),V=[V],ke=[ke],ge.xa){if(5>T){ue=7;break}q=V,xe=ke,Le=K,m==null||5>T?m=0:5<=T&&m[b+0]==47&&!(m[b+4]>>5)?(de=[0],tt=[0],je=[0],X(Ne=new I,m,b,T),yt(Ne,de,tt,je)?(q!=null&&(q[0]=de[0]),xe!=null&&(xe[0]=tt[0]),Le!=null&&(Le[0]=je[0]),m=1):m=0):m=0}else{if(10>T){ue=7;break}q=ke,m==null||10>T||!sc(m,b+3,T-3)?m=0:(xe=m[b+0]|m[b+1]<<8|m[b+2]<<16,Le=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=ge.Ja||!Le||!m?m=0:(V&&(V[0]=Le),q&&(q[0]=m),m=1))}if(!m||(V=V[0],ke=ke[0],we&&(re[0]!=V||ce[0]!=ke)))return 3;J!=null&&(J[0]=ge,J.offset=b-J.w,e(4294967286>b-J.w),e(J.offset==J.ha-T));break}return ue==0||ue==7&&we&&J==null?(K!=null&&(K[0]|=ge.na!=null&&0<ge.na.length),P!=null&&(P[0]=V),k!=null&&(k[0]=ke),0):ue}function Zp(m,b,T){var P=b.width,k=b.height,K=0,V=0,q=P,J=k;if(b.Da=m!=null&&0<m.Da,b.Da&&(q=m.cd,J=m.bd,K=m.v,V=m.j,11>T||(K&=-2,V&=-2),0>K||0>V||0>=q||0>=J||K+q>P||V+J>k))return 0;if(b.v=K,b.j=V,b.va=K+q,b.o=V+J,b.U=q,b.T=J,b.da=m!=null&&0<m.da,b.da){if(!He(q,J,T=[m.ib],K=[m.hb]))return 0;b.ib=T[0],b.hb=K[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*P/4&&b.hb<3*k/4,b.Kb=0),1}function eg(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function ih(m,b,T,P){if(P==null||0>=m||0>=b)return 2;if(T!=null){if(T.Da){var k=T.cd,K=T.bd,V=-2&T.v,q=-2&T.j;if(0>V||0>q||0>=k||0>=K||V+k>m||q+K>b)return 2;m=k,b=K}if(T.da){if(!He(m,b,k=[T.ib],K=[T.hb]))return 2;m=k[0],b=K[0]}}P.width=m,P.height=b;e:{var J=P.width,re=P.height;if(m=P.S,0>=J||0>=re||!(m>=Pv&&13>m))m=2;else{if(0>=P.Rd&&P.sd==null){V=K=k=b=0;var ce=(q=J*tO[m])*re;if(11>m||(K=(re+1)/2*(b=(J+1)/2),m==12&&(V=(k=J)*re)),(re=a(ce+2*K+V))==null){m=1;break e}P.sd=re,11>m?((J=P.f.RGBA).eb=re,J.fb=0,J.A=q,J.size=ce):((J=P.f.kb).y=re,J.O=0,J.fa=q,J.Fd=ce,J.f=re,J.N=0+ce,J.Ab=b,J.Cd=K,J.ea=re,J.W=0+ce+K,J.Db=b,J.Ed=K,m==12&&(J.F=re,J.J=0+ce+2*K),J.Tc=V,J.lb=k)}if(b=1,k=P.S,K=P.width,V=P.height,k>=Pv&&13>k)if(11>k)m=P.f.RGBA,b&=(q=Math.abs(m.A))*(V-1)+K<=m.size,b&=q>=K*tO[k],b&=m.eb!=null;else{m=P.f.kb,q=(K+1)/2,ce=(V+1)/2,J=Math.abs(m.fa),re=Math.abs(m.Ab);var we=Math.abs(m.Db),xe=Math.abs(m.lb),ge=xe*(V-1)+K;b&=J*(V-1)+K<=m.Fd,b&=re*(ce-1)+q<=m.Cd,b=(b&=we*(ce-1)+q<=m.Ed)&J>=K&re>=q&we>=q,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,k==12&&(b&=xe>=K,b&=ge<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||T!=null&&T.fd&&(m=eg(P)),m}var Hi=64,ah=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sh=24,oh=32,tg=8,Ha=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,b,T){return b[T+0]},L.Predictor3=function(m,b,T){return b[T+1]},L.Predictor4=function(m,b,T){return b[T-1]},L.Predictor5=function(m,b,T){return Ue(Ue(m,b[T+1]),b[T+0])},L.Predictor6=function(m,b,T){return Ue(m,b[T-1])},L.Predictor7=function(m,b,T){return Ue(m,b[T+0])},L.Predictor8=function(m,b,T){return Ue(b[T-1],b[T+0])},L.Predictor9=function(m,b,T){return Ue(b[T+0],b[T+1])},L.Predictor10=function(m,b,T){return Ue(Ue(m,b[T-1]),Ue(b[T+0],b[T+1]))},L.Predictor11=function(m,b,T){var P=b[T+0];return 0>=Qe(P>>24&255,m>>24&255,(b=b[T-1])>>24&255)+Qe(P>>16&255,m>>16&255,b>>16&255)+Qe(P>>8&255,m>>8&255,b>>8&255)+Qe(255&P,255&m,255&b)?P:m},L.Predictor12=function(m,b,T){var P=b[T+0];return(Fe((m>>24&255)+(P>>24&255)-((b=b[T-1])>>24&255))<<24|Fe((m>>16&255)+(P>>16&255)-(b>>16&255))<<16|Fe((m>>8&255)+(P>>8&255)-(b>>8&255))<<8|Fe((255&m)+(255&P)-(255&b)))>>>0},L.Predictor13=function(m,b,T){var P=b[T-1];return(De((m=Ue(m,b[T+0]))>>24&255,P>>24&255)<<24|De(m>>16&255,P>>16&255)<<16|De(m>>8&255,P>>8&255)<<8|De(m>>0&255,P>>0&255))>>>0};var AE=L.PredictorAdd0;L.PredictorAdd1=Xe,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var rg=L.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Tv,Ps=L.ColorIndexInverseTransform,Ah=L.MapARGB,_v=L.VP8LColorIndexInverseTransformAlpha,Lv=L.MapAlpha,hc=L.VP8LPredictorsAdd=[];hc.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Lu,$a,xa,dc,cl,ul,lh,fl,In,ng,Ea,Us,ch,Iv,ig,Iu,Ou,pc,Fu,uh,Pu,gc,ag,Rs,Ds,Qr,Hr,On,li=a(511),hl=a(2041),sg=a(225),fh=a(767),Ov=0,lE=hl,Fv=sg,fs=fh,Ms=li,Pv=0,Uv=1,GI=2,Rv=3,Dv=4,cE=5,KI=6,uE=7,fE=8,Mv=9,hE=10,wq=[2,3,7],xq=[3,3,11],VI=[280,256,256,256,40],Eq=[0,1,1,1,0],Bq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sq=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tq=8,dE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],og=null,_q=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lq=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],WI=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Iq=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Oq=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fq=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pq=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mc=[],Eo=[],dl=[],Uq=1,zI=2,vc=[],Ns=[];Oe("UpsampleRgbLinePair",rr,3),Oe("UpsampleBgrLinePair",dn,3),Oe("UpsampleRgbaLinePair",xo,4),Oe("UpsampleBgraLinePair",Ei,4),Oe("UpsampleArgbLinePair",ta,4),Oe("UpsampleRgba4444LinePair",Wn,2),Oe("UpsampleRgb565LinePair",wn,2);var Rq=L.UpsampleRgbLinePair,Dq=L.UpsampleBgrLinePair,YI=L.UpsampleRgbaLinePair,qI=L.UpsampleBgraLinePair,XI=L.UpsampleArgbLinePair,JI=L.UpsampleRgba4444LinePair,Mq=L.UpsampleRgb565LinePair,Nv=16,kv=1<<Nv-1,Ag=-227,gE=482,Nq=6,ZI=0,kq=a(256),Qq=a(256),Hq=a(256),$q=a(256),jq=a(gE-Ag),Gq=a(gE-Ag);dA("YuvToRgbRow",rr,3),dA("YuvToBgrRow",dn,3),dA("YuvToRgbaRow",xo,4),dA("YuvToBgraRow",Ei,4),dA("YuvToArgbRow",ta,4),dA("YuvToRgba4444Row",Wn,2),dA("YuvToRgb565Row",wn,2);var eO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qv=[0,2,8],Kq=[8,7,6,4,4,2,2,2,1,1,1,1],Vq=1;this.WebPDecodeRGBA=function(m,b,T,P,k){var K=Uv,V=new th,q=new Kn;V.ba=q,q.S=K,q.width=[q.width],q.height=[q.height];var J=q.width,re=q.height,ce=new ir;if(ce==null||m==null)var we=2;else e(ce!=null),we=nh(m,b,T,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(we!=0?J=0:(J!=null&&(J[0]=ce.width[0]),re!=null&&(re[0]=ce.height[0]),J=1),J){q.width=q.width[0],q.height=q.height[0],P!=null&&(P[0]=q.width),k!=null&&(k[0]=q.height);e:{if(P=new ZA,(k=new Wp).data=m,k.w=b,k.ha=T,k.kd=1,b=[0],e(k!=null),((m=nh(k.data,k.w,k.ha,null,null,null,b,null,k))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(V!=null),P.data=k.data,P.w=k.w+k.offset,P.ha=k.ha-k.offset,P.put=Ui,P.ac=Ur,P.bc=Ri,P.ma=V,k.xa){if((m=wi())==null){V=1;break e}if(function(xe,ge){var ke=[0],Le=[0],ue=[0];t:for(;;){if(xe==null)return 0;if(ge==null)return xe.a=2,0;if(xe.l=ge,xe.a=0,X(xe.m,ge.data,ge.w,ge.ha),!yt(xe.m,ke,Le,ue)){xe.a=3;break t}if(xe.xb=zI,ge.width=ke[0],ge.height=Le[0],!Mi(ke[0],Le[0],1,xe,null))break t;return 1}return e(xe.a!=0),0}(m,P)){if(P=(b=ih(P.width,P.height,V.Oa,V.ba))==0){t:{P=m;r:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((T=P.l)!=null),e((k=T.ma)!=null),P.xb!=0){if(P.ca=k.ba,P.tb=k.tb,e(P.ca!=null),!Zp(k.Oa,T,Rv)){P.a=2;break r}if(!At(P,T.width)||T.da)break r;if((T.da||Gt(P.ca.S))&&ve(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&ve()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!Re(P.s.vb,P.s.Wa.Xa)){P.a=1;break r}P.xb=0}if(!bi(P,P.V,P.Ba,P.c,P.i,T.o,ma))break r;k.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(b=m.a)}else b=m.a}else{if((m=new ac)==null){V=1;break e}if(m.Fa=k.na,m.P=k.P,m.qc=k.Sa,bu(m,P)){if((b=ih(P.width,P.height,V.Oa,V.ba))==0){if(m.Aa=0,T=V.Oa,e((k=m)!=null),T!=null){if(0<(J=0>(J=T.Md)?0:100<J?255:255*J/100)){for(re=ce=0;4>re;++re)12>(we=k.pb[re]).lc&&(we.ia=J*Kq[0>we.lc?0:we.lc]>>3),ce|=we.ia;ce&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=T.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}sA(m,P)||(b=m.a)}}else b=m.a}b==0&&V.Oa!=null&&V.Oa.fd&&(b=eg(V.ba))}V=b}K=V!=0?null:11>K?q.f.RGBA.eb:q.f.kb.y}else K=null;return K};var tO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(L,O){for(var D="",_=0;_<4;_++)D+=String.fromCharCode(L[O++]);return D}function c(L,O){return(L[O+0]<<0|L[O+1]<<8|L[O+2]<<16)>>>0}function u(L,O){return(L[O+0]<<0|L[O+1]<<8|L[O+2]<<16|L[O+3]<<24)>>>0}new A;var f=[0],h=[0],d=[],p=new A,g=t,v=function(L,O){var D={},_=0,F=!1,R=0,M=0;if(D.frames=[],!function(U,$,G,te){for(var ie=0;ie<te;ie++)if(U[$+ie]!=G.charCodeAt(ie))return!0;return!1}(L,O,"RIFF",4)){var z,N;for(u(L,O+=4),O+=8;O<L.length;){var Y=l(L,O),X=u(L,O+=4);O+=4;var H=X+(1&X);switch(Y){case"VP8 ":case"VP8L":D.frames[_]===void 0&&(D.frames[_]={}),(I=D.frames[_]).src_off=F?M:O-8,I.src_size=R+X+8,_++,F&&(F=!1,R=0,M=0);break;case"VP8X":(I=D.header={}).feature_flags=L[O];var W=O+4;I.canvas_width=1+c(L,W),W+=3,I.canvas_height=1+c(L,W),W+=3;break;case"ALPH":F=!0,R=H+8,M=O-8;break;case"ANIM":(I=D.header).bgcolor=u(L,O),W=O+4,I.loop_count=(z=L)[(N=W)+0]<<0|z[N+1]<<8,W+=2;break;case"ANMF":var Z,I;(I=D.frames[_]={}).offset_x=2*c(L,O),O+=3,I.offset_y=2*c(L,O),O+=3,I.width=1+c(L,O),O+=3,I.height=1+c(L,O),O+=3,I.duration=c(L,O),O+=3,Z=L[O++],I.dispose=1&Z,I.blend=Z>>1&1}Y!="ANMF"&&(O+=H)}return D}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,w=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],h=[y.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var x=w[0],E=p.WebPDecodeRGBA(g,x.src_off,x.src_size,h,f);x.rgba=E,x.imgwidth=h[0],x.imgheight=f[0];for(var C=0;C<h[0]*f[0]*4;C++)d[C]=E[C];return this.width=h,this.height=f,this.data=d,this}(function(t){var e=function(){return typeof Q5=="function"},r=function(f,h,d,p){var g=4,v=s;switch(p){case t.image_compression.FAST:g=1,v=a;break;case t.image_compression.MEDIUM:g=6,v=o;break;case t.image_compression.SLOW:g=9,v=A}f=n(f,h,d,v);var y=Q5(f,{level:g});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,h,d,p){for(var g,v,y,w=f.length/h,S=new Uint8Array(f.length+w),x=c(),E=0;E<w;E+=1){if(y=E*h,g=f.subarray(y,y+h),p)S.set(p(g,d,v),y+E);else{for(var C,L=x.length,O=[];C<L;C+=1)O[C]=x[C](g,d,v);var D=u(O.concat());S.set(O[D],y+E)}v=g}return S},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},a=function(f,h){var d,p=[],g=f.length;p[0]=1;for(var v=0;v<g;v+=1)d=f[v-h]||0,p[v+1]=f[v]-d+256&255;return p},s=function(f,h,d){var p,g=[],v=f.length;g[0]=2;for(var y=0;y<v;y+=1)p=d&&d[y]||0,g[y+1]=f[y]-p+256&255;return g},o=function(f,h,d){var p,g,v=[],y=f.length;v[0]=3;for(var w=0;w<y;w+=1)p=f[w-h]||0,g=d&&d[w]||0,v[w+1]=f[w]+256-(p+g>>>1)&255;return v},A=function(f,h,d){var p,g,v,y,w=[],S=f.length;w[0]=4;for(var x=0;x<S;x+=1)p=f[x-h]||0,g=d&&d[x]||0,v=d&&d[x-h]||0,y=l(p,g,v),w[x+1]=f[x]-y+256&255;return w},l=function(f,h,d){if(f===h&&h===d)return f;var p=Math.abs(h-d),g=Math.abs(f-d),v=Math.abs(f+h-d-d);return p<=g&&p<=v?f:g<=v?h:d},c=function(){return[i,a,s,o,A]},u=function(f){var h=f.map(function(d){return d.reduce(function(p,g){return p+Math.abs(g)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(f,h,d,p){var g,v,y,w,S,x,E,C,L,O,D,_,F,R,M,z=this.decode.FLATE_DECODE,N="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new pee(f)).imgData,v=y.bits,g=y.colorSpace,S=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){L=(C=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,D=new Uint8Array(L*y.colors),O=new Uint8Array(L);var Y,X=y.pixelBitlength-y.bits;for(R=0,M=0;R<L;R++){for(F=C[R],Y=0;Y<X;)D[M++]=F>>>Y&255,Y+=y.bits;O[R]=F>>>Y&255}}if(y.bits===16){L=(C=new Uint32Array(y.decodePixels().buffer)).length,D=new Uint8Array(L*(32/y.pixelBitlength)*y.colors),O=new Uint8Array(L*(32/y.pixelBitlength)),_=y.colors>1,R=0,M=0;for(var H=0;R<L;)F=C[R++],D[M++]=F>>>0&255,_&&(D[M++]=F>>>16&255,F=C[R++],D[M++]=F>>>0&255),O[H++]=F>>>16&255;v=8}p!==t.image_compression.NONE&&e()?(f=r(D,y.width*y.colors,y.colors,p),E=r(O,y.width,1,p)):(f=D,E=O,z=void 0)}if(y.colorType===3&&(g=this.color_spaces.INDEXED,x=y.palette,y.transparency.indexed)){var W=y.transparency.indexed,Z=0;for(R=0,L=W.length;R<L;++R)Z+=W[R];if((Z/=255)===L-1&&W.indexOf(0)!==-1)w=[W.indexOf(0)];else if(Z!==L){for(C=y.decodePixels(),O=new Uint8Array(C.length),R=0,L=C.length;R<L;R++)O[R]=W[C[R]];E=r(O,y.width,1)}}var I=function(U){var $;switch(U){case t.image_compression.FAST:$=11;break;case t.image_compression.MEDIUM:$=13;break;case t.image_compression.SLOW:$=14;break;default:$=12}return $}(p);return z===this.decode.FLATE_DECODE&&(N="/Predictor "+I+" "),N+="/Colors "+S+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:d,data:f,index:h,filter:z,decodeParameters:N,transparency:w,palette:x,sMask:E,predictor:I,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:g}}}})(Pt.API),function(t){t.processGIF89A=function(e,r,n,i){var a=new gee(e),s=a.width,o=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:s,height:o},c=new ME(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(Pt.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Mr.log("bit decode error:"+r)}},So.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var A=this.palette[a>>7-o&1];this.data[s+4*o]=A.blue,this.data[s+4*o+1]=A.green,this.data[s+4*o+2]=A.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},So.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,A=15&a,l=this.palette[o];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[s+4]=l.blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,A=(a>>10&e)/e*255|0,l=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=A,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=l}this.pos+=t}},So.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,A=(s>>5&r)/r*255|0,l=(s>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},So.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},So.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new So(e,!1),s=a.width,o=a.height,A={data:a.getData(),width:s,height:o},l=new ME(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(Pt.API),iF.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new iF(e),s=a.width,o=a.height,A={data:a.getData(),width:s,height:o},l=new ME(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(Pt.API),Pt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,A=0,l=0;l<i;l+=4){var c=n[l],u=n[l+1],f=n[l+2],h=n[l+3];a[o++]=c,a[o++]=u,a[o++]=f,s[A++]=h}var d=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:d,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Pt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yh=Pt.API,n1=yh.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,A=o.fof?o.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=e.doKerning!==!1,f=0,h=t.length,d=0,p=o[0]||A,g=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(f=u&&lr(l[n])==="object"&&!isNaN(parseInt(l[n][d],10))?l[n][d]/c:0,g.push((o[n]||p)/A+f)),d=n;return g},eF=yh.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return yh.processArabic&&(t=yh.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:n1.apply(this,arguments).reduce(function(a,s){return a+s},0)},tF=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var A=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(A,a)),o=0,A=a),o+=e[a],a++;return A!==a&&i.push(t.slice(A,a)),i},rF=function(t,e,r){r||(r={});var n,i,a,s,o,A,l,c=[],u=[c],f=r.textIndent||0,h=0,d=0,p=t.split(" "),g=n1.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var v=Array(A).join(" "),y=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(x,E){return(E&&x.length?`
`:"")+x})):y.push(S[0])}),p=y,A=eF.apply(this,[v,r])}for(a=0,s=p.length;a<s;a++){var w=0;if(n=p[a],A&&n[0]==`
`&&(n=n.substr(1),w=1),f+h+(d=(i=n1.apply(this,[n,r])).reduce(function(S,x){return S+x},0))>e||w){if(d>e){for(o=tF.apply(this,[n,i,e-(f+h),e]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);d=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(S,x){return S+x},0)}else c=[n];u.push(c),f=d+A,h=g}else c.push(n),f+=h+d,h=g}return l=A?function(S,x){return(x?v:"")+S.join(" ")}:function(S){return S.join(" ")},u.map(l)},yh.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,A,l=[];for(o=0,A=n.length;o<A;o++)l=l.concat(rF.apply(this,[n[o],s,a]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(u){return"0x"+parseInt(u,10).toString(16)},s=t.__fontmetrics__.compress=function(u){var f,h,d,p,g=["{"];for(var v in u){if(f=u[v],isNaN(parseInt(v,10))?h="'"+v+"'":(v=parseInt(v,10),h=(h=a(v).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof f=="number")f<0?(d=a(f).slice(3),p="-"):(d=a(f).slice(2),p=""),d=p+d.slice(0,-1)+n[d.slice(-1)];else{if(lr(f)!=="object")throw new Error("Don't know what to do with value type "+lr(f)+".");d=s(f)}g.push(h+d)}return g.push("}"),g.join("")},o=t.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,d,p,g={},v=1,y=g,w=[],S="",x="",E=u.length-1,C=1;C<E;C+=1)(p=u[C])=="'"?f?(d=f.join(""),f=void 0):f=[]:f?f.push(p):p=="{"?(w.push([y,d]),y={},d=void 0):p=="}"?((h=w.pop())[0][h[1]]=y,d=void 0,y=h[0]):p=="-"?v=-1:d===void 0?r.hasOwnProperty(p)?(S+=r[p],d=parseInt(S,16)*v,v=1,S=""):S+=p:r.hasOwnProperty(p)?(x+=r[p],y[d]=parseInt(x,16)*v,v=1,d=void 0,x=""):x+=p;return g},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(u){var f=u.font,h=c.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var d=l.Unicode[f.postScriptName];d&&(f.metadata.Unicode.encoding=d,f.encoding=d.codePages[0])}])}(Pt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(b0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Pt),function(t){function e(){return(Ut.canvg?Promise.resolve(Ut.canvg):S5(()=>Promise.resolve().then(()=>Z6e),void 0)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Pt.API.addSvgAsImage=function(r,n,i,a,s,o,A,l){if(isNaN(n)||isNaN(i))throw Mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(d){return d.fromString(u,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,i,a,s,A,l)})}}(),Pt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Pt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),A=[],l=0,c=0,u=0;function f(d,p){var g,v=!1;for(g=0;g<d.length;g+=1)d[g]===p&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(u=0;u<h;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if(lr(t)==="object"){for(i in t)if(a=t[i],f(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&f(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(l=0;l<a.length;l+=1)if(n=!0,a[l].length===1&&typeof a[l][0]=="number")A.push(String(a[l]-1));else if(a[l].length>1){for(c=0;c<a[l].length;c+=1)typeof a[l][c]!="number"&&(n=!1);n===!0&&A.push([a[l][0]-1,a[l][1]-1].join(" "))}r[i].value="["+A.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var d,p=[];for(d in r)r[d].explicitSet===!0&&(r[d].type==="name"?p.push("/"+d+" /"+r[d].value):p.push("/"+d+" "+r[d].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=a.length+s.length+o.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Pt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,A=s.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],u=0,f=a.length;u<f;++u){if(o=s.metadata.characterToGlyph(a.charCodeAt(u)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(u),A.indexOf(o)==-1&&(A.push(o),A.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(l[4-o.length],o)}return c.join("")},n=function(a){var s,o,A,l,c,u,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,f=(o=Object.keys(a).sort(function(h,d){return h-d})).length;u<f;u++)s=o[u],A.length>=100&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(l=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),A.push("<"+s+"><"+l+">"));return A.length&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,A=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var p=l();c({data:h,addLength1:!0,objectId:p}),A("endobj");var g=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var v=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+qh(o.fontName)),A("/FontFile2 "+p+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),A("/Flags "+o.metadata.flags),A("/StemV "+o.metadata.stemV),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A(">>"),A("endobj");var y=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+qh(o.fontName)),A("/FontDescriptor "+v+" 0 R"),A("/W "+t.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+o.encoding+")"),A(">>"),A(">>"),A("endobj"),o.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+g+" 0 R"),A("/BaseFont /"+qh(o.fontName)),A("/Encoding /"+o.encoding),A("/DescendantFonts ["+y+" 0 R]"),A(">>"),A("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,A=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,f="",h=0;h<u.length;h++)f+=String.fromCharCode(u[h]);var d=l();c({data:f,addLength1:!0,objectId:d}),A("endobj");var p=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),A("endobj");var g=l();A("<<"),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A("/StemV "+o.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+d+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),A("/FontName /"+qh(o.fontName)),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A(">>"),A("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+qh(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),A("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",A=a.x,l=a.y,c=a.options||{},u=a.mutex||{},f=u.pdfEscape,h=u.activeFontKey,d=u.fonts,p=h,g="",v=0,y="",w=d[p].encoding;if(d[p].encoding!=="Identity-H")return{text:o,x:A,y:l,options:c,mutex:u};for(y=o,p=h,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)d[p].metadata.hasOwnProperty("cmap")&&(s=d[p].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),s||y[v].charCodeAt(0)<256&&d[p].metadata.hasOwnProperty("Unicode")?g+=y[v]:g+="";var S="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?S=f(g,p).split("").map(function(x){return x.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=r(g,d[p])),u.isHex=!0,{text:S,x:A,y:l,options:c,mutex:u}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],A={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&s[l].length===3?o.push([i(Object.assign({},A,{text:s[l][0]})).text,s[l][1],s[l][2]]):o.push(i(Object.assign({},A,{text:s[l]})).text);a.text=o}else a.text=i(Object.assign({},A,{text:s})).text}])}(Pt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Pt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,A,l,c,u=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var S=function(_){var F=_.charCodeAt(),R=F>>8,M=p[R];return M!==void 0?u[256*M+(255&F)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},x=function(_){for(var F,R=0;R<_.length;R++){if((F=S(_.charAt(R)))==="L")return!1;if(F==="R")return!0}return!1},E=function(_,F,R,M){var z,N,Y,X,H=F[M];switch(H){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":H="N";break;case"CS":M<1||M+1>=F.length||(z=R[M-1])!=="EN"&&z!=="AN"||(N=F[M+1])!=="EN"&&N!=="AN"?H="N":y&&(N="AN"),H=N===z?N:"N";break;case"ES":H=(z=M>0?R[M-1]:"B")==="EN"&&M+1<F.length&&F[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&R[M-1]==="EN"){H="EN";break}if(y){H="N";break}for(Y=M+1,X=F.length;Y<X&&F[Y]==="ET";)Y++;H=Y<X&&F[Y]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(X=F.length,Y=M+1;Y<X&&F[Y]==="NSM";)Y++;if(Y<X){var W=_[M],Z=W>=1425&&W<=2303||W===64286;if(z=F[Y],Z&&(z==="R"||z==="AL")){H="R";break}}}H=M<1||(z=F[M-1])==="B"?"N":R[M-1];break;case"B":y=!1,i=!0,H=w;break;case"S":a=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":H="N"}return H},C=function(_,F,R){var M=_.split("");return R&&L(M,R,{hiLevel:w}),M.reverse(),F&&F.reverse(),M.join("")},L=function(_,F,R){var M,z,N,Y,X,H=-1,W=_.length,Z=0,I=[],U=w?h:f,$=[];for(y=!1,i=!1,a=!1,z=0;z<W;z++)$[z]=S(_[z]);for(N=0;N<W;N++){if(X=Z,I[N]=E(_,$,I,N),M=240&(Z=U[X][d[I[N]]]),Z&=15,F[N]=Y=U[Z][5],M>0)if(M===16){for(z=H;z<N;z++)F[z]=1;H=-1}else H=-1;if(U[Z][6])H===-1&&(H=N);else if(H>-1){for(z=H;z<N;z++)F[z]=Y;H=-1}$[N]==="B"&&(F[N]=0),R.hiLevel|=Y}a&&function(G,te,ie){for(var oe=0;oe<ie;oe++)if(G[oe]==="S"){te[oe]=w;for(var ne=oe-1;ne>=0&&G[ne]==="WS";ne--)te[ne]=w}}($,F,W)},O=function(_,F,R,M,z){if(!(z.hiLevel<_)){if(_===1&&w===1&&!i)return F.reverse(),void(R&&R.reverse());for(var N,Y,X,H,W=F.length,Z=0;Z<W;){if(M[Z]>=_){for(X=Z+1;X<W&&M[X]>=_;)X++;for(H=Z,Y=X-1;H<Y;H++,Y--)N=F[H],F[H]=F[Y],F[Y]=N,R&&(N=R[H],R[H]=R[Y],R[Y]=N);Z=X}Z++}}},D=function(_,F,R){var M=_.split(""),z={hiLevel:w};return R||(R=[]),L(M,R,z),function(N,Y,X){if(X.hiLevel!==0&&c)for(var H,W=0;W<N.length;W++)Y[W]===1&&(H=g.indexOf(N[W]))>=0&&(N[W]=g[H+1])}(M,R,z),O(2,M,F,R,z),O(1,M,F,R,z),M.join("")};return this.__bidiEngine__.doBidiReorder=function(_,F,R){if(function(z,N){if(N)for(var Y=0;Y<z.length;Y++)N[Y]=Y;o===void 0&&(o=x(z)),l===void 0&&(l=x(z))}(_,F),s||!A||l)if(s&&A&&o^l)w=o?1:0,_=C(_,F,R);else if(!s&&A&&l)w=o?1:0,_=D(_,F,R),_=C(_,F);else if(!s||o||A||l){if(s&&!A&&o^l)_=C(_,F),o?(w=0,_=D(_,F,R)):(w=1,_=D(_,F,R),_=C(_,F));else if(s&&o&&!A&&l)w=1,_=D(_,F,R),_=C(_,F);else if(!s&&!A&&o^l){var M=c;o?(w=1,_=D(_,F,R),w=0,c=!1,_=D(_,F,R),c=M):(w=0,_=D(_,F,R),_=C(_,F),w=1,c=!1,_=D(_,F,R),c=M,_=C(_,F))}}else w=0,_=D(_,F,R);else w=o?1:0,_=D(_,F,R);return _},this.__bidiEngine__.setOptions=function(_){_&&(s=_.isInputVisual,A=_.isOutputVisual,o=_.isInputRtl,l=_.isOutputRtl,c=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),s=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new tu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Oee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mee(this.contents),this.head=new yee(this),this.name=new Bee(this),this.cmap=new L7(this),this.toUnicode={},this.hhea=new bee(this),this.maxp=new Cee(this),this.hmtx=new See(this),this.post=new xee(this),this.os2=new wee(this),this.loca=new Iee(this),this.glyf=new Tee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,A,l;for(l=[],s=0,o=(A=this.bbox).length;s<o;s++)e=A[s],l.push(Math.round(e*this.scaleFactor));return l}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var zo,tu=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,A;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^A)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+A},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),mee=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,A,l,c,u,f,h,d,p;for(p in h=Object.keys(r).length,A=Math.log(2),u=16*Math.floor(Math.log(h)/A),s=Math.floor(u/A),c=16*h-u,(i=new tu).writeInt(this.scalarType),i.writeShort(h),i.writeShort(u),i.writeShort(s),i.writeShort(c),a=16*h,l=i.pos+a,o=null,d=[],r)for(f=r[p],i.writeString(p),i.writeInt(t(f)),i.writeInt(l),i.writeInt(f.length),d=d.concat(f),p==="head"&&(o=l),l+=f.length;l%4;)d.push(0),l++;return i.write(d),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=I7.call(r);r.length%4;)r.push(0);for(a=new tu(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),vee={}.hasOwnProperty,KA=function(t,e){for(var r in e)vee.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};zo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new tu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),aF=function(){function t(e,r){var n,i,a,s,o,A,l,c,u,f,h,d,p,g,v,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,a=function(){var S,x;for(x=[],A=S=0;0<=f?S<f:S>f;A=0<=f?++S:--S)x.push(e.readUInt16());return x}(),e.pos+=2,p=function(){var S,x;for(x=[],A=S=0;0<=f?S<f:S>f;A=0<=f?++S:--S)x.push(e.readUInt16());return x}(),l=function(){var S,x;for(x=[],A=S=0;0<=f?S<f:S>f;A=0<=f?++S:--S)x.push(e.readUInt16());return x}(),c=function(){var S,x;for(x=[],A=S=0;0<=f?S<f:S>f;A=0<=f?++S:--S)x.push(e.readUInt16());return x}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,x;for(x=[],A=S=0;0<=i?S<i:S>i;A=0<=i?++S:--S)x.push(e.readUInt16());return x}(),A=v=0,w=a.length;v<w;A=++v)for(g=a[A],n=y=d=p[A];d<=g?y<=g:y>=g;n=d<=g?++y:--y)c[A]===0?s=n+l[A]:(s=o[c[A]/2+(n-d)-(f-A)]||0)!==0&&(s+=l[A]),this.codeMap[n]=65535&s}e.pos=u}return t.encode=function(e,r){var n,i,a,s,o,A,l,c,u,f,h,d,p,g,v,y,w,S,x,E,C,L,O,D,_,F,R,M,z,N,Y,X,H,W,Z,I,U,$,G,te,ie,oe,ne,ye,me,se;switch(M=new tu,s=Object.keys(e).sort(function(Ie,Re){return Ie-Re}),r){case"macroman":for(p=0,g=function(){var Ie=[];for(d=0;d<256;++d)Ie.push(0);return Ie}(),y={0:0},a={},z=0,H=s.length;z<H;z++)y[ne=e[i=s[z]]]==null&&(y[ne]=++p),a[i]={old:e[i],new:y[e[i]]},g[i]=y[e[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(g),{charMap:a,subtable:M.data,maxGlyphID:p+1};case"unicode":for(F=[],u=[],w=0,y={},n={},v=l=null,N=0,W=s.length;N<W;N++)y[x=e[i=s[N]]]==null&&(y[x]=++w),n[i]={old:x,new:y[x]},o=y[x]-i,v!=null&&o===l||(v&&u.push(v),F.push(i),l=o),v=i;for(v&&u.push(v),u.push(65535),F.push(65535),D=2*(O=F.length),L=2*Math.pow(Math.log(O)/Math.LN2,2),f=Math.log(L/2)/Math.LN2,C=2*O-L,A=[],E=[],h=[],d=Y=0,Z=F.length;Y<Z;d=++Y){if(_=F[d],c=u[d],_===65535){A.push(0),E.push(0);break}if(_-(R=n[_].new)>=32768)for(A.push(0),E.push(2*(h.length+O-d)),i=X=_;_<=c?X<=c:X>=c;i=_<=c?++X:--X)h.push(n[i].new);else A.push(R-_),E.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*O+2*h.length),M.writeUInt16(0),M.writeUInt16(D),M.writeUInt16(L),M.writeUInt16(f),M.writeUInt16(C),ie=0,I=u.length;ie<I;ie++)i=u[ie],M.writeUInt16(i);for(M.writeUInt16(0),oe=0,U=F.length;oe<U;oe++)i=F[oe],M.writeUInt16(i);for(ye=0,$=A.length;ye<$;ye++)o=A[ye],M.writeUInt16(o);for(me=0,G=E.length;me<G;me++)S=E[me],M.writeUInt16(S);for(se=0,te=h.length;se<te;se++)p=h[se],M.writeUInt16(p);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},t}(),L7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new aF(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=aF.encode(r,n),(a=new tu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),bee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),wee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),xee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=function(){var o,A,l;for(l=[],s=o=0,A=this.file.maxp.numGlyphs;0<=A?o<A:o>A;s=0<=A?++o:--o)l.push(r.readUInt32());return l}.call(this)}},e}(),Eee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Bee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,a,s,o,A,l,c,u,f,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),A=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+A+r.readShort()});for(l={},s=u=0,f=i.length;u<f;s=++u)a=i[s],r.pos=a.offset,c=r.readString(a.length),o=new Eee(c,a),l[h=a.nameID]==null&&(l[h]=[]),l[a.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(d){this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),Cee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),See=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,a,s,o,A,l;for(r.pos=this.offset,this.metrics=[],n=0,A=this.file.hhea.numberOfMetrics;0<=A?n<A:n>A;n=0<=A?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=a?c<a:c>a;n=0<=a?++c:--c)u.push(r.readInt16());return u}(),this.widths=function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)s=f[c],h.push(s.advance);return h}.call(this),i=this.widths[this.widths.length-1],l=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),I7=[].slice,Tee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,a,s,o,A,l,c,u,f;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(A=new tu(n.read(a))).readShort(),c=A.readShort(),f=A.readShort(),l=A.readShort(),u=A.readShort(),this.cache[r]=o===-1?new Lee(A,c,f,l,u):new _ee(A,o,c,f,l,u),this.cache[r]))},e.prototype.encode=function(r,n,i){var a,s,o,A,l;for(o=[],s=[],A=0,l=n.length;A<l;A++)a=r[n[A]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},e}(),_ee=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Lee=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new tu(I7.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Iee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return KA(e,zo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}.call(this):function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<n.length&&n[s]==o){++s,i[o]=a;var A=this.offsets[o],l=this.offsets[o+1]-A;l>0&&(a+=l)}for(var c=new Array(4*i.length),u=0;u<i.length;++u)c[4*u+3]=255&i[u],c[4*u+2]=(65280&i[u])>>8,c[4*u+1]=(16711680&i[u])>>16,c[4*u]=(4278190080&i[u])>>24;return c},e}(),Oee=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,A;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in A=this.glyphsFor(r))n=A[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,A,l,c,u,f,h,d,p,g,v;for(i in n=L7.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},v=n.charMap)h[(A=v[i]).old]=A.new;for(d in f=n.maxGlyphID,s)d in h||(h[d]=f++);return c=function(y){var w,S;for(w in S={},y)S[y[w]]=w;return S}(h),u=Object.keys(c).sort(function(y,w){return y-w}),p=function(){var y,w,S;for(S=[],y=0,w=u.length;y<w;y++)o=u[y],S.push(c[o]);return S}(),a=this.font.glyf.encode(s,p,h),l=this.font.loca.encode(a.offsets,p),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();Pt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,A,l;for(l=[],o=0,A=r.length;o<A;o++)n=r[o],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W5=function(t,e){return W5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},W5(t,e)};function Yo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");W5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z5=function(){return z5=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z5.apply(this,arguments)};function La(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Aa(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function i1(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var Kl=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),xw=function(t,e){return Kl.fromClientRect(t,e.getBoundingClientRect())},Fee=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Kl(0,0,n,i)},Ew=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Un=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},sF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pee=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var a1=0;a1<sF.length;a1++)Pee[sF.charCodeAt(a1)]=a1;var oF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a0=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var s1=0;s1<oF.length;s1++)a0[oF.charCodeAt(s1)]=s1;var Uee=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=a0[t.charCodeAt(n)],s=a0[t.charCodeAt(n+1)],o=a0[t.charCodeAt(n+2)],A=a0[t.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},Ree=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Dee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},pf=5,B4=11,NE=2,Mee=B4-pf,O7=65536>>pf,Nee=1<<pf,kE=Nee-1,kee=1024>>pf,Qee=O7+kee,Hee=Qee,$ee=32,jee=Hee+$ee,Gee=65536>>B4,Kee=1<<Mee,Vee=Kee-1,AF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Wee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},zee=function(t,e){var r=Uee(t),n=Array.isArray(r)?Dee(r):new Uint32Array(r),i=Array.isArray(r)?Ree(r):new Uint16Array(r),a=24,s=AF(i,a/2,n[4]/2),o=n[5]===2?AF(i,(a+n[4])/2):Wee(n,Math.ceil((a+n[4])/4));return new Yee(n[0],n[1],n[2],n[3],s,o)},Yee=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>pf],r=(r<<NE)+(e&kE),this.data[r];if(e<=65535)return r=this.index[O7+(e-55296>>pf)],r=(r<<NE)+(e&kE),this.data[r];if(e<this.highStart)return r=jee-Gee+(e>>B4),r=this.index[r],r+=e>>pf&Vee,r=this.index[r],r=(r<<NE)+(e&kE),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),lF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qee=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var o1=0;o1<lF.length;o1++)qee[lF.charCodeAt(o1)]=o1;var Xee="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cF=50,Jee=1,F7=2,P7=3,Zee=4,ete=5,uF=7,U7=8,fF=9,Hc=10,Y5=11,hF=12,q5=13,tte=14,s0=15,X5=16,A1=17,mg=18,rte=19,dF=20,J5=21,vg=22,QE=23,bh=24,ps=25,o0=26,A0=27,wh=28,nte=29,tf=30,ite=31,l1=32,c1=33,Z5=34,eS=35,tS=36,W0=37,rS=38,Gy=39,Ky=40,HE=41,R7=42,ate=43,ste=[9001,65288],D7="!",zt="",u1="",nS=zee(Xee),vl=[tf,tS],iS=[Jee,F7,P7,ete],M7=[Hc,U7],pF=[A0,o0],ote=iS.concat(M7),gF=[rS,Gy,Ky,Z5,eS],Ate=[s0,q5],lte=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(a,s){var o=nS.get(a);if(o>cF?(i.push(!0),o-=cF):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(s),r.push(X5);if(o===Zee||o===Y5){if(s===0)return n.push(s),r.push(tf);var A=r[s-1];return ote.indexOf(A)===-1?(n.push(n[s-1]),r.push(A)):(n.push(s),r.push(tf))}if(n.push(s),o===ite)return r.push(e==="strict"?J5:W0);if(o===R7||o===nte)return r.push(tf);if(o===ate)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(W0):r.push(tf);r.push(o)}),[n,r,i]},$E=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=r;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==Hc)break}if(i===Hc)for(var a=r;a>0;){a--;var o=n[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var s=n[A];if(s===e)return!0;if(s!==Hc)break}if(o!==Hc)break}return!1},mF=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Hc)r--;else return n}return 0},cte=function(t,e,r,n,i){if(r[n]===0)return zt;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return zt;var s=a-1,o=a+1,A=e[a],l=s>=0?e[s]:0,c=e[o];if(A===F7&&c===P7)return zt;if(iS.indexOf(A)!==-1)return D7;if(iS.indexOf(c)!==-1||M7.indexOf(c)!==-1)return zt;if(mF(a,e)===U7)return u1;if(nS.get(t[a])===Y5||(A===l1||A===c1)&&nS.get(t[o])===Y5||A===uF||c===uF||A===fF||[Hc,q5,s0].indexOf(A)===-1&&c===fF||[A1,mg,rte,bh,wh].indexOf(c)!==-1||mF(a,e)===vg||$E(QE,vg,a,e)||$E([A1,mg],J5,a,e)||$E(hF,hF,a,e))return zt;if(A===Hc)return u1;if(A===QE||c===QE)return zt;if(c===X5||A===X5)return u1;if([q5,s0,J5].indexOf(c)!==-1||A===tte||l===tS&&Ate.indexOf(A)!==-1||A===wh&&c===tS||c===dF||vl.indexOf(c)!==-1&&A===ps||vl.indexOf(A)!==-1&&c===ps||A===A0&&[W0,l1,c1].indexOf(c)!==-1||[W0,l1,c1].indexOf(A)!==-1&&c===o0||vl.indexOf(A)!==-1&&pF.indexOf(c)!==-1||pF.indexOf(A)!==-1&&vl.indexOf(c)!==-1||[A0,o0].indexOf(A)!==-1&&(c===ps||[vg,s0].indexOf(c)!==-1&&e[o+1]===ps)||[vg,s0].indexOf(A)!==-1&&c===ps||A===ps&&[ps,wh,bh].indexOf(c)!==-1)return zt;if([ps,wh,bh,A1,mg].indexOf(c)!==-1)for(var u=a;u>=0;){var f=e[u];if(f===ps)return zt;if([wh,bh].indexOf(f)!==-1)u--;else break}if([A0,o0].indexOf(c)!==-1)for(var u=[A1,mg].indexOf(A)!==-1?s:a;u>=0;){var f=e[u];if(f===ps)return zt;if([wh,bh].indexOf(f)!==-1)u--;else break}if(rS===A&&[rS,Gy,Z5,eS].indexOf(c)!==-1||[Gy,Z5].indexOf(A)!==-1&&[Gy,Ky].indexOf(c)!==-1||[Ky,eS].indexOf(A)!==-1&&c===Ky||gF.indexOf(A)!==-1&&[dF,o0].indexOf(c)!==-1||gF.indexOf(c)!==-1&&A===A0||vl.indexOf(A)!==-1&&vl.indexOf(c)!==-1||A===bh&&vl.indexOf(c)!==-1||vl.concat(ps).indexOf(A)!==-1&&c===vg&&ste.indexOf(t[o])===-1||vl.concat(ps).indexOf(c)!==-1&&A===mg)return zt;if(A===HE&&c===HE){for(var h=r[a],d=1;h>0&&(h--,e[h]===HE);)d++;if(d%2!==0)return zt}return A===l1&&c===c1?zt:u1},ute=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=lte(t,e.lineBreak),n=r[0],i=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[ps,tf,R7].indexOf(o)!==-1?W0:o}));var s=e.wordBreak==="keep-all"?a.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,s]},fte=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===D7,this.start=n,this.end=i}return t.prototype.slice=function(){return Un.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),hte=function(t,e){var r=Ew(t),n=ute(r,e),i=n[0],a=n[1],s=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=zt;l<o&&(c=cte(r,a,i,++l,s))===zt;);if(c!==zt||l===o){var u=new fte(r,c,A,l);return A=l,{value:u,done:!1}}return{done:!0,value:null}}}},dte=1,pte=2,Gm=4,vF=8,S2=10,yF=47,w0=92,gte=9,mte=32,f1=34,yg=61,vte=35,yte=36,bte=37,h1=39,d1=40,bg=41,wte=95,Xa=45,xte=33,Ete=60,Bte=62,Cte=64,Ste=91,Tte=93,_te=61,Lte=123,p1=63,Ite=125,bF=124,Ote=126,Fte=128,wF=65533,jE=42,nf=43,Pte=44,Ute=58,Rte=59,z0=46,Dte=0,Mte=8,Nte=11,kte=14,Qte=31,Hte=127,gA=-1,N7=48,k7=97,Q7=101,$te=102,jte=117,Gte=122,H7=65,$7=69,j7=70,Kte=85,Vte=90,ua=function(t){return t>=N7&&t<=57},Wte=function(t){return t>=55296&&t<=57343},xh=function(t){return ua(t)||t>=H7&&t<=j7||t>=k7&&t<=$te},zte=function(t){return t>=k7&&t<=Gte},Yte=function(t){return t>=H7&&t<=Vte},qte=function(t){return zte(t)||Yte(t)},Xte=function(t){return t>=Fte},g1=function(t){return t===S2||t===gte||t===mte},T2=function(t){return qte(t)||Xte(t)||t===wte},xF=function(t){return T2(t)||ua(t)||t===Xa},Jte=function(t){return t>=Dte&&t<=Mte||t===Nte||t>=kte&&t<=Qte||t===Hte},Fc=function(t,e){return t!==w0?!1:e!==S2},m1=function(t,e,r){return t===Xa?T2(e)||Fc(e,r):T2(t)?!0:!!(t===w0&&Fc(t,e))},GE=function(t,e,r){return t===nf||t===Xa?ua(e)?!0:e===z0&&ua(r):ua(t===z0?e:t)},Zte=function(t){var e=0,r=1;(t[e]===nf||t[e]===Xa)&&(t[e]===Xa&&(r=-1),e++);for(var n=[];ua(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Un.apply(void 0,n),10):0;t[e]===z0&&e++;for(var a=[];ua(t[e]);)a.push(t[e++]);var s=a.length,o=s?parseInt(Un.apply(void 0,a),10):0;(t[e]===$7||t[e]===Q7)&&e++;var A=1;(t[e]===nf||t[e]===Xa)&&(t[e]===Xa&&(A=-1),e++);for(var l=[];ua(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Un.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-s))*Math.pow(10,A*c)},ere={type:2},tre={type:3},rre={type:4},nre={type:13},ire={type:8},are={type:21},sre={type:9},ore={type:10},Are={type:11},lre={type:12},cre={type:14},v1={type:23},ure={type:1},fre={type:25},hre={type:24},dre={type:26},pre={type:27},gre={type:28},mre={type:29},vre={type:31},aS={type:32},G7=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ew(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==aS;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case f1:return this.consumeStringToken(f1);case vte:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(xF(r)||Fc(n,i)){var a=m1(r,n,i)?pte:dte,s=this.consumeName();return{type:5,value:s,flags:a}}break;case yte:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),nre;break;case h1:return this.consumeStringToken(h1);case d1:return ere;case bg:return tre;case jE:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),cre;break;case nf:if(GE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Pte:return rre;case Xa:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(GE(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(m1(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Xa&&l===Bte)return this.consumeCodePoint(),this.consumeCodePoint(),hre;break;case z0:if(GE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yF:if(this.peekCodePoint(0)===jE)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===jE&&(c=this.consumeCodePoint(),c===yF))return this.consumeToken();if(c===gA)return this.consumeToken()}break;case Ute:return dre;case Rte:return pre;case Ete:if(this.peekCodePoint(0)===xte&&this.peekCodePoint(1)===Xa&&this.peekCodePoint(2)===Xa)return this.consumeCodePoint(),this.consumeCodePoint(),fre;break;case Cte:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(m1(u,f,h)){var s=this.consumeName();return{type:7,value:s}}break;case Ste:return gre;case w0:if(Fc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Tte:return mre;case _te:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),ire;break;case Lte:return Are;case Ite:return lre;case jte:case Kte:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d===nf&&(xh(p)||p===p1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bF:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),sre;if(this.peekCodePoint(0)===bF)return this.consumeCodePoint(),are;break;case Ote:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),ore;break;case gA:return aS}return g1(e)?(this.consumeWhiteSpace(),vre):ua(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):T2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Un(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e=="undefined"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();xh(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===p1&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Un.apply(void 0,e.map(function(A){return A===p1?N7:A})),16),a=parseInt(Un.apply(void 0,e.map(function(A){return A===p1?j7:A})),16);return{type:30,start:i,end:a}}var s=parseInt(Un.apply(void 0,e),16);if(this.peekCodePoint(0)===Xa&&xh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];xh(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var a=parseInt(Un.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===d1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===d1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===h1||r===f1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gA||this.peekCodePoint(0)===bg)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),v1)}for(;;){var i=this.consumeCodePoint();if(i===gA||i===bg)return{type:22,value:Un.apply(void 0,e)};if(g1(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gA||this.peekCodePoint(0)===bg?(this.consumeCodePoint(),{type:22,value:Un.apply(void 0,e)}):(this.consumeBadUrlRemnants(),v1);if(i===f1||i===h1||i===d1||Jte(i))return this.consumeBadUrlRemnants(),v1;if(i===w0)if(Fc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),v1;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;g1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===bg||e===gA)return;Fc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Un.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===gA||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===S2)return this._value.splice(0,n),ure;if(i===w0){var a=this._value[n+1];a!==gA&&a!==void 0&&(a===S2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Fc(i,a)&&(r+=this.consumeStringSlice(n),r+=Un(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Gm,n=this.peekCodePoint(0);for((n===nf||n===Xa)&&e.push(this.consumeCodePoint());ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===z0&&ua(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vF;ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===$7||n===Q7)&&((i===nf||i===Xa)&&ua(a)||ua(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=vF;ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Zte(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(m1(i,a,s)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===bte?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(xh(e)){for(var r=Un(e);xh(this.peekCodePoint(0))&&r.length<6;)r+=Un(this.consumeCodePoint());g1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Wte(n)||n>1114111?wF:n}return e===gA?wF:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(xF(r))e+=Un(r);else if(Fc(r,this.peekCodePoint(0)))e+=Un(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),K7=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new G7;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||bre(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e=="undefined"?aS:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Km=function(t){return t.type===15},yp=function(t){return t.type===17},Or=function(t){return t.type===20},yre=function(t){return t.type===0},sS=function(t,e){return Or(t)&&t.value===e},V7=function(t){return t.type!==31},Ud=function(t){return t.type!==31&&t.type!==4},VA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},bre=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ru=function(t){return t.type===17||t.type===15},ni=function(t){return t.type===16||ru(t)},W7=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Wi={type:17,number:0,flags:Gm},C4={type:16,number:50,flags:Gm},$c={type:16,number:100,flags:Gm},l0=function(t,e,r){var n=t[0],i=t[1];return[Kr(n,e),Kr(typeof i!="undefined"?i:n,r)]},Kr=function(t,e){if(t.type===16)return t.number/100*e;if(Km(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},z7="deg",Y7="grad",q7="rad",X7="turn",Bw={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case z7:return Math.PI*e.number/180;case Y7:return Math.PI/200*e.number;case q7:return e.number;case X7:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},J7=function(t){return t.type===15&&(t.unit===z7||t.unit===Y7||t.unit===q7||t.unit===X7)},Z7=function(t){var e=t.filter(Or).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Wi,Wi];case"to top":case"bottom":return Zs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Wi,$c];case"to right":case"left":return Zs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$c,$c];case"to bottom":case"top":return Zs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$c,Wi];case"to left":case"right":return Zs(270)}return 0},Zs=function(t){return Math.PI*t/180},Wc={name:"color",parse:function(t,e){if(e.type===18){var r=wre[e.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return jc(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return jc(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return jc(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return jc(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var o=Ml[e.value.toUpperCase()];if(typeof o!="undefined")return o}return Ml.TRANSPARENT}},zc=function(t){return(255&t)===0},Ti=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},jc=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},EF=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},BF=function(t,e){var r=e.filter(Ud);if(r.length===3){var n=r.map(EF),i=n[0],a=n[1],s=n[2];return jc(i,a,s,1)}if(r.length===4){var o=r.map(EF),i=o[0],a=o[1],s=o[2],A=o[3];return jc(i,a,s,A)}return 0};function KE(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var CF=function(t,e){var r=e.filter(Ud),n=r[0],i=r[1],a=r[2],s=r[3],o=(n.type===17?Zs(n.number):Bw.parse(t,n))/(Math.PI*2),A=ni(i)?i.number/100:0,l=ni(a)?a.number/100:0,c=typeof s!="undefined"&&ni(s)?Kr(s,1):1;if(A===0)return jc(l*255,l*255,l*255,1);var u=l<=.5?l*(A+1):l+A-l*A,f=l*2-u,h=KE(f,u,o+1/3),d=KE(f,u,o),p=KE(f,u,o-1/3);return jc(h*255,d*255,p*255,c)},wre={hsl:CF,hsla:CF,rgb:BF,rgba:BF},x0=function(t,e){return Wc.parse(t,K7.create(e).parseComponentValue())},Ml={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xre={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ere={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cw=function(t,e){var r=Wc.parse(t,e[0]),n=e[1];return n&&ni(n)?{color:r,stop:n}:{color:r,stop:null}},SF=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Wi),n.stop===null&&(n.stop=$c);for(var i=[],a=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var A=Kr(o,e);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var l=null,s=0;s<i.length;s++){var c=i[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var u=s-l,f=i[l-1],h=(c-f)/(u+1),d=1;d<=u;d++)i[l+d-1]=h*d;l=null}}return t.map(function(p,g){var v=p.color;return{color:v,stop:Math.max(Math.min(1,i[g]/e),0)}})},Bre=function(t,e,r){var n=e/2,i=r/2,a=Kr(t[0],e)-n,s=i-Kr(t[1],r);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},Cre=function(t,e,r){var n=typeof t=="number"?t:Bre(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,s=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,a-l,a+l,s-A,s+A]},Io=function(t,e){return Math.sqrt(t*t+e*e)},TF=function(t,e,r,n,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,o){var A=o[0],l=o[1],c=Io(r-A,n-l);return(i?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Sre=function(t,e,r,n,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)a=s=Math.min(Io(e,r),Io(e,r-i),Io(e-n,r),Io(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=TF(n,i,e,r,!0),l=A[0],c=A[1];a=Io(l-e,(c-r)/o),s=o*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)a=s=Math.max(Io(e,r),Io(e,r-i),Io(e-n,r),Io(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=TF(n,i,e,r,!1),l=u[0],c=u[1];a=Io(l-e,(c-r)/o),s=o*a}break}return Array.isArray(t.size)&&(a=Kr(t.size[0],n),s=t.size.length===2?Kr(t.size[1],i):a),[a,s]},Tre=function(t,e){var r=Zs(180),n=[];return VA(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){r=Z7(i);return}else if(J7(s)){r=Bw.parse(t,s);return}}var o=Cw(t,i);n.push(o)}),{angle:r,stops:n,type:1}},y1=function(t,e){var r=Zs(180),n=[];return VA(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){r=Z7(i);return}else if(J7(s)){r=(Bw.parse(t,s)+Zs(270))%Zs(360);return}}var o=Cw(t,i);n.push(o)}),{angle:r,stops:n,type:1}},_re=function(t,e){var r=Zs(180),n=[],i=1,a=0,s=3,o=[];return VA(e).forEach(function(A,l){var c=A[0];if(l===0){if(Or(c)&&c.value==="linear"){i=1;return}else if(Or(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Wc.parse(t,c.values[0]);n.push({stop:Wi,color:u})}else if(c.name==="to"){var u=Wc.parse(t,c.values[0]);n.push({stop:$c,color:u})}else if(c.name==="color-stop"){var f=c.values.filter(Ud);if(f.length===2){var u=Wc.parse(t,f[1]),h=f[0];yp(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:u})}}}}),i===1?{angle:(r+Zs(180))%Zs(360),stops:n,type:i}:{size:s,shape:a,stops:n,position:o,type:i}},eH="closest-side",tH="farthest-side",rH="closest-corner",nH="farthest-corner",iH="circle",aH="ellipse",sH="cover",oH="contain",Lre=function(t,e){var r=0,n=3,i=[],a=[];return VA(e).forEach(function(s,o){var A=!0;if(o===0){var l=!1;A=s.reduce(function(u,f){if(l)if(Or(f))switch(f.value){case"center":return a.push(C4),u;case"top":case"left":return a.push(Wi),u;case"right":case"bottom":return a.push($c),u}else(ni(f)||ru(f))&&a.push(f);else if(Or(f))switch(f.value){case iH:return r=0,!1;case aH:return r=1,!1;case"at":return l=!0,!1;case eH:return n=0,!1;case sH:case tH:return n=1,!1;case oH:case rH:return n=2,!1;case nH:return n=3,!1}else if(ru(f)||ni(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return u},A)}if(A){var c=Cw(t,s);i.push(c)}}),{size:n,shape:r,stops:i,position:a,type:2}},b1=function(t,e){var r=0,n=3,i=[],a=[];return VA(e).forEach(function(s,o){var A=!0;if(o===0?A=s.reduce(function(c,u){if(Or(u))switch(u.value){case"center":return a.push(C4),!1;case"top":case"left":return a.push(Wi),!1;case"right":case"bottom":return a.push($c),!1}else if(ni(u)||ru(u))return a.push(u),!1;return c},A):o===1&&(A=s.reduce(function(c,u){if(Or(u))switch(u.value){case iH:return r=0,!1;case aH:return r=1,!1;case oH:case eH:return n=0,!1;case tH:return n=1,!1;case rH:return n=2,!1;case sH:case nH:return n=3,!1}else if(ru(u)||ni(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},A)),A){var l=Cw(t,s);i.push(l)}}),{size:n,shape:r,stops:i,position:a,type:2}},Ire=function(t){return t.type===1},Ore=function(t){return t.type===2},S4={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=AH[e.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Fre(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!AH[t.name])}var AH={"linear-gradient":Tre,"-moz-linear-gradient":y1,"-ms-linear-gradient":y1,"-o-linear-gradient":y1,"-webkit-linear-gradient":y1,"radial-gradient":Lre,"-moz-radial-gradient":b1,"-ms-radial-gradient":b1,"-o-radial-gradient":b1,"-webkit-radial-gradient":b1,"-webkit-gradient":_re},Pre={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Ud(n)&&Fre(n)}).map(function(n){return S4.parse(t,n)})}},Ure={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rre={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return VA(e).map(function(r){return r.filter(ni)}).map(W7)}},Dre={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return VA(e).map(function(r){return r.filter(Or).map(function(n){return n.value}).join(" ")}).map(Mre)}},Mre=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},vd;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(vd||(vd={}));var Nre={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return VA(e).map(function(r){return r.filter(kre)})}},kre=function(t){return Or(t)||ni(t)},Sw=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Qre=Sw("top"),Hre=Sw("right"),$re=Sw("bottom"),jre=Sw("left"),Tw=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return W7(r.filter(ni))}}},Gre=Tw("top-left"),Kre=Tw("top-right"),Vre=Tw("bottom-right"),Wre=Tw("bottom-left"),_w=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},zre=_w("top"),Yre=_w("right"),qre=_w("bottom"),Xre=_w("left"),Lw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Km(r)?r.number:0}}},Jre=Lw("top"),Zre=Lw("right"),ene=Lw("bottom"),tne=Lw("left"),rne={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nne={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},ine={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Or).reduce(function(r,n){return r|ane(n.value)},0)}},ane=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},sne={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},one={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},_2;(function(t){t.NORMAL="normal",t.STRICT="strict"})(_2||(_2={}));var Ane={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return _2.STRICT;case"normal":default:return _2.NORMAL}}},lne={name:"line-height",initialValue:"normal",prefix:!1,type:4},_F=function(t,e){return Or(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ni(t)?Kr(t,e):e},cne={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:S4.parse(t,e)}},une={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},oS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Iw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},fne=Iw("top"),hne=Iw("right"),dne=Iw("bottom"),pne=Iw("left"),gne={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Or).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},mne={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ow=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vne=Ow("top"),yne=Ow("right"),bne=Ow("bottom"),wne=Ow("left"),xne={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Ene={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Bne={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sS(e[0],"none")?[]:VA(e).map(function(r){for(var n={color:Ml.TRANSPARENT,offsetX:Wi,offsetY:Wi,blur:Wi},i=0,a=0;a<r.length;a++){var s=r[a];ru(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=Wc.parse(t,s)}return n})}},Cne={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Sne={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=Lne[e.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Tne=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},_ne=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,a,s,o]:null},Lne={matrix:Tne,matrix3d:_ne},LF={type:16,number:50,flags:Gm},Ine=[LF,LF],One={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ni);return r.length!==2?Ine:[r[0],r[1]]}},Fne={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},E0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(E0||(E0={}));var Pne={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return E0.BREAK_ALL;case"keep-all":return E0.KEEP_ALL;case"normal":default:return E0.NORMAL}}},Une={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(yp(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},lH={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Rne={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return yp(e)?e.number:1}},Dne={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mne={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Or).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Nne={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},kne={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Qne={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(yp(e))return e.number;if(Or(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Hne={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Or).map(function(r){return r.value})}},$ne={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},di=function(t,e){return(t&e)!==0},jne={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Gne={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(V7),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var A=o&&yp(o)?o.number:1;n.push({counter:s.value,increment:A})}}return n}},Kne={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(V7),i=0;i<n.length;i++){var a=n[i],s=n[i+1];if(Or(a)&&a.value!=="none"){var o=s&&yp(s)?s.number:0;r.push({counter:a.value,reset:o})}}return r}},Vne={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Km).map(function(r){return lH.parse(t,r)})}},Wne={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(yre);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;n.push({open:s,close:o})}return n}},IF=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},zne={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sS(e[0],"none")?[]:VA(e).map(function(r){for(var n={color:255,offsetX:Wi,offsetY:Wi,blur:Wi,spread:Wi,inset:!1},i=0,a=0;a<r.length;a++){var s=r[a];sS(s,"inset")?n.inset=!0:ru(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=Wc.parse(t,s)}return n})}},Yne={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Or).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},qne={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Xne={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Km(e)?e.number:0}},Jne=function(){function t(e,r){var n,i;this.animationDuration=st(e,Vne,r.animationDuration),this.backgroundClip=st(e,xre,r.backgroundClip),this.backgroundColor=st(e,Ere,r.backgroundColor),this.backgroundImage=st(e,Pre,r.backgroundImage),this.backgroundOrigin=st(e,Ure,r.backgroundOrigin),this.backgroundPosition=st(e,Rre,r.backgroundPosition),this.backgroundRepeat=st(e,Dre,r.backgroundRepeat),this.backgroundSize=st(e,Nre,r.backgroundSize),this.borderTopColor=st(e,Qre,r.borderTopColor),this.borderRightColor=st(e,Hre,r.borderRightColor),this.borderBottomColor=st(e,$re,r.borderBottomColor),this.borderLeftColor=st(e,jre,r.borderLeftColor),this.borderTopLeftRadius=st(e,Gre,r.borderTopLeftRadius),this.borderTopRightRadius=st(e,Kre,r.borderTopRightRadius),this.borderBottomRightRadius=st(e,Vre,r.borderBottomRightRadius),this.borderBottomLeftRadius=st(e,Wre,r.borderBottomLeftRadius),this.borderTopStyle=st(e,zre,r.borderTopStyle),this.borderRightStyle=st(e,Yre,r.borderRightStyle),this.borderBottomStyle=st(e,qre,r.borderBottomStyle),this.borderLeftStyle=st(e,Xre,r.borderLeftStyle),this.borderTopWidth=st(e,Jre,r.borderTopWidth),this.borderRightWidth=st(e,Zre,r.borderRightWidth),this.borderBottomWidth=st(e,ene,r.borderBottomWidth),this.borderLeftWidth=st(e,tne,r.borderLeftWidth),this.boxShadow=st(e,zne,r.boxShadow),this.color=st(e,rne,r.color),this.direction=st(e,nne,r.direction),this.display=st(e,ine,r.display),this.float=st(e,sne,r.cssFloat),this.fontFamily=st(e,Nne,r.fontFamily),this.fontSize=st(e,kne,r.fontSize),this.fontStyle=st(e,$ne,r.fontStyle),this.fontVariant=st(e,Hne,r.fontVariant),this.fontWeight=st(e,Qne,r.fontWeight),this.letterSpacing=st(e,one,r.letterSpacing),this.lineBreak=st(e,Ane,r.lineBreak),this.lineHeight=st(e,lne,r.lineHeight),this.listStyleImage=st(e,cne,r.listStyleImage),this.listStylePosition=st(e,une,r.listStylePosition),this.listStyleType=st(e,oS,r.listStyleType),this.marginTop=st(e,fne,r.marginTop),this.marginRight=st(e,hne,r.marginRight),this.marginBottom=st(e,dne,r.marginBottom),this.marginLeft=st(e,pne,r.marginLeft),this.opacity=st(e,Rne,r.opacity);var a=st(e,gne,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=st(e,mne,r.overflowWrap),this.paddingTop=st(e,vne,r.paddingTop),this.paddingRight=st(e,yne,r.paddingRight),this.paddingBottom=st(e,bne,r.paddingBottom),this.paddingLeft=st(e,wne,r.paddingLeft),this.paintOrder=st(e,Yne,r.paintOrder),this.position=st(e,Ene,r.position),this.textAlign=st(e,xne,r.textAlign),this.textDecorationColor=st(e,Dne,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=st(e,Mne,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=st(e,Bne,r.textShadow),this.textTransform=st(e,Cne,r.textTransform),this.transform=st(e,Sne,r.transform),this.transformOrigin=st(e,One,r.transformOrigin),this.visibility=st(e,Fne,r.visibility),this.webkitTextStrokeColor=st(e,qne,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(e,Xne,r.webkitTextStrokeWidth),this.wordBreak=st(e,Pne,r.wordBreak),this.zIndex=st(e,Une,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return zc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return di(this.display,4)||di(this.display,33554432)||di(this.display,268435456)||di(this.display,536870912)||di(this.display,67108864)||di(this.display,134217728)},t}(),Zne=function(){function t(e,r){this.content=st(e,jne,r.content),this.quotes=st(e,Wne,r.quotes)}return t}(),OF=function(){function t(e,r){this.counterIncrement=st(e,Gne,r.counterIncrement),this.counterReset=st(e,Kne,r.counterReset)}return t}(),st=function(t,e,r){var n=new G7,i=r!==null&&typeof r!="undefined"?r.toString():e.initialValue;n.write(i);var a=new K7(n.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Or(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return Bw.parse(t,a.parseComponentValue());case"color":return Wc.parse(t,a.parseComponentValue());case"image":return S4.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return ru(o)?o:Wi;case"length-percentage":var A=a.parseComponentValue();return ni(A)?A:Wi;case"time":return lH.parse(t,a.parseComponentValue())}break}},eie="data-html2canvas-debug",tie=function(t){var e=t.getAttribute(eie);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},AS=function(t,e){var r=tie(t);return r===1||e===r},WA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,AS(r,3))debugger;this.styles=new Jne(e,window.getComputedStyle(r,null)),uS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=xw(this.context,r),AS(r,4)&&(this.flags|=16)}return t}(),rie="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",FF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c0=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var w1=0;w1<FF.length;w1++)c0[FF.charCodeAt(w1)]=w1;var nie=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=c0[t.charCodeAt(n)],s=c0[t.charCodeAt(n+1)],o=c0[t.charCodeAt(n+2)],A=c0[t.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},iie=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},aie=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},gf=5,T4=11,VE=2,sie=T4-gf,cH=65536>>gf,oie=1<<gf,WE=oie-1,Aie=1024>>gf,lie=cH+Aie,cie=lie,uie=32,fie=cie+uie,hie=65536>>T4,die=1<<sie,pie=die-1,PF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},gie=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},mie=function(t,e){var r=nie(t),n=Array.isArray(r)?aie(r):new Uint32Array(r),i=Array.isArray(r)?iie(r):new Uint16Array(r),a=24,s=PF(i,a/2,n[4]/2),o=n[5]===2?PF(i,(a+n[4])/2):gie(n,Math.ceil((a+n[4])/4));return new vie(n[0],n[1],n[2],n[3],s,o)},vie=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>gf],r=(r<<VE)+(e&WE),this.data[r];if(e<=65535)return r=this.index[cH+(e-55296>>gf)],r=(r<<VE)+(e&WE),this.data[r];if(e<this.highStart)return r=fie-hie+(e>>T4),r=this.index[r],r+=e>>gf&pie,r=this.index[r],r=(r<<VE)+(e&WE),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),UF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yie=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var x1=0;x1<UF.length;x1++)yie[UF.charCodeAt(x1)]=x1;var bie=1,zE=2,YE=3,RF=4,DF=5,wie=7,MF=8,qE=9,XE=10,NF=11,kF=12,QF=13,HF=14,JE=15,xie=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Eie=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Bie=mie(rie),Ws="",ZE="",Cie=function(t){return Bie.get(t)},Sie=function(t,e,r){var n=r-2,i=e[n],a=e[r-1],s=e[r];if(a===zE&&s===YE)return Ws;if(a===zE||a===YE||a===RF||s===zE||s===YE||s===RF)return ZE;if(a===MF&&[MF,qE,NF,kF].indexOf(s)!==-1||(a===NF||a===qE)&&(s===qE||s===XE)||(a===kF||a===XE)&&s===XE||s===QF||s===DF||s===wie||a===bie)return Ws;if(a===QF&&s===HF){for(;i===DF;)i=e[--n];if(i===HF)return Ws}if(a===JE&&s===JE){for(var o=0;i===JE;)o++,i=e[--n];if(o%2===0)return Ws}return ZE},Tie=function(t){var e=xie(t),r=e.length,n=0,i=0,a=e.map(Cie);return{next:function(){if(n>=r)return{done:!0,value:null};for(var s=Ws;n<r&&(s=Sie(e,a,++n))===Ws;);if(s!==Ws||n===r){var o=Eie.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},_ie=function(t){for(var e=Tie(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Lie=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),a===e)return!0}}return!1},Iie=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Ew(n.data).map(function(A){return Un(A)}),a=0,s={},o=i.every(function(A,l){r.setStart(n,a),r.setEnd(n,a+A.length);var c=r.getBoundingClientRect();a+=A.length;var u=c.x>s.x||c.y>s.y;return s=c,l===0?!0:u});return t.body.removeChild(e),o},Oie=function(){return typeof new Image().crossOrigin!="undefined"},Fie=function(){return typeof new XMLHttpRequest().responseType=="string"},Pie=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch(i){return!1}return!0},$F=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Uie=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=e.toDataURL();i.src=a;var s=lS(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),jF(s).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+a+")",l.style.height=r+"px",$F(A)?jF(lS(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$F(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},lS=function(t,e,r,n,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},jF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Gi={get SUPPORT_RANGE_BOUNDS(){var t=Lie(document);return Object.defineProperty(Gi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Gi.SUPPORT_RANGE_BOUNDS&&Iie(document);return Object.defineProperty(Gi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Pie(document);return Object.defineProperty(Gi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Uie(document):Promise.resolve(!1);return Object.defineProperty(Gi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Oie();return Object.defineProperty(Gi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Fie();return Object.defineProperty(Gi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Gi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(Gi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},B0=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Rie=function(t,e,r,n){var i=Nie(e,r),a=[],s=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Gi.SUPPORT_RANGE_BOUNDS){var A=GF(n,s,o.length).getClientRects();if(A.length>1){var l=_4(o),c=0;l.forEach(function(f){a.push(new B0(f,Kl.fromDOMRectList(t,GF(n,c+s,f.length).getClientRects()))),c+=f.length})}else a.push(new B0(o,Kl.fromDOMRectList(t,A)))}else{var u=n.splitText(o.length);a.push(new B0(o,Die(t,n))),n=u}else Gi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),a},Die=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=xw(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return Kl.EMPTY},GF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},_4=function(t){if(Gi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return _ie(t)},Mie=function(t,e){if(Gi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Qie(t,e)},Nie=function(t,e){return e.letterSpacing!==0?_4(t):Mie(t,e)},kie=[32,160,4961,65792,65793,4153,4241],Qie=function(t,e){for(var r=hte(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var s=i.value.slice(),o=Ew(s),A="";o.forEach(function(l){kie.indexOf(l)===-1?A+=Un(l):(A.length&&n.push(A),n.push(Un(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)a();return n},Hie=function(){function t(e,r,n){this.text=$ie(r.data,n.textTransform),this.textBounds=Rie(e,this.text,n,r)}return t}(),$ie=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(jie,Gie);case 2:return t.toUpperCase();default:return t}},jie=/(^|\s|:|-|\(|\))([a-z])/g,Gie=function(t,e,r){return t.length>0?e+r.toUpperCase():t},uH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(WA),fH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(WA),hH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=new XMLSerializer,s=xw(r,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(WA),dH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(WA),cS=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(WA),Kie=[{type:15,flags:0,unit:"px",number:3}],Vie=[{type:16,flags:0,number:50}],Wie=function(t){return t.width>t.height?new Kl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Kl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},zie=function(t){var e=t.type===Yie?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},L2="checkbox",I2="radio",Yie="password",KF=707406591,L4=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=zie(n),(i.type===L2||i.type===I2)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Wie(i.bounds)),i.type){case L2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Kie;break;case I2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Vie;break}return i}return e}(WA),pH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(WA),gH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(WA),mH=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=yH(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?x0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ml.TRANSPARENT,s=n.contentWindow.document.body?x0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ml.TRANSPARENT;i.backgroundColor=zc(a)?zc(s)?i.styles.backgroundColor:s:a}}catch(o){}return i}return e}(WA),qie=["OL","UL","MENU"],Vy=function(t,e,r,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,bH(i)&&i.data.trim().length>0)r.textNodes.push(new Hie(t,i,r.styles));else if(id(i))if(BH(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Vy(t,o,r,n)});else{var s=vH(t,i);s.styles.isVisible()&&(Xie(i,s,n)?s.flags|=4:Jie(s.styles)&&(s.flags|=2),qie.indexOf(i.tagName)!==-1&&(s.flags|=8),r.elements.push(s),i.slot,i.shadowRoot?Vy(t,i.shadowRoot,s,n):!O2(i)&&!wH(i)&&!F2(i)&&Vy(t,i,s,n))}},vH=function(t,e){return fS(e)?new uH(t,e):xH(e)?new fH(t,e):wH(e)?new hH(t,e):Zie(e)?new dH(t,e):eae(e)?new cS(t,e):tae(e)?new L4(t,e):F2(e)?new pH(t,e):O2(e)?new gH(t,e):EH(e)?new mH(t,e):new WA(t,e)},yH=function(t,e){var r=vH(t,e);return r.flags|=4,Vy(t,e,r,r),r},Xie=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||I4(t)&&r.styles.isTransparent()},Jie=function(t){return t.isPositioned()||t.isFloating()},bH=function(t){return t.nodeType===Node.TEXT_NODE},id=function(t){return t.nodeType===Node.ELEMENT_NODE},uS=function(t){return id(t)&&typeof t.style!="undefined"&&!Wy(t)},Wy=function(t){return typeof t.className=="object"},Zie=function(t){return t.tagName==="LI"},eae=function(t){return t.tagName==="OL"},tae=function(t){return t.tagName==="INPUT"},rae=function(t){return t.tagName==="HTML"},wH=function(t){return t.tagName==="svg"},I4=function(t){return t.tagName==="BODY"},xH=function(t){return t.tagName==="CANVAS"},VF=function(t){return t.tagName==="VIDEO"},fS=function(t){return t.tagName==="IMG"},EH=function(t){return t.tagName==="IFRAME"},WF=function(t){return t.tagName==="STYLE"},nae=function(t){return t.tagName==="SCRIPT"},O2=function(t){return t.tagName==="TEXTAREA"},F2=function(t){return t.tagName==="SELECT"},BH=function(t){return t.tagName==="SLOT"},zF=function(t){return t.tagName.indexOf("-")>0},iae=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var A=r.counters[o.counter];s.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),s},t}(),YF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},aae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Eh=function(t,e,r,n,i,a){return t<e||t>r?Y0(t,i,a.length>0):n.integers.reduce(function(s,o,A){for(;t>=o;)t-=o,s+=n.values[A];return s},"")+a},CH=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Pn=function(t,e,r,n,i){var a=r-e+1;return(t<0?"-":"")+(CH(Math.abs(t),a,n,function(s){return Un(Math.floor(s%a)+e)})+i)},Ru=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return CH(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Xh=1,Lc=2,Ic=4,u0=8,yl=function(t,e,r,n,i,a){if(t<-9999||t>9999)return Y0(t,4,i.length>0);var s=Math.abs(t),o=i;if(s===0)return e[0]+o;for(var A=0;s>0&&A<=4;A++){var l=s%10;l===0&&di(a,Xh)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&di(a,Lc)||l===1&&A===1&&di(a,Ic)&&t>100||l===1&&A>1&&di(a,u0)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),s=Math.floor(s/10)}return(t<0?n:"")+o},XF="",JF="",ZF="",eB="",Y0=function(t,e,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",s=r?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=Pn(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Ru(t,"",i);case 6:return Eh(t,1,3999,YF,3,n).toLowerCase();case 7:return Eh(t,1,3999,YF,3,n);case 8:return Pn(t,945,969,!1,n);case 9:return Pn(t,97,122,!1,n);case 10:return Pn(t,65,90,!1,n);case 11:return Pn(t,1632,1641,!0,n);case 12:case 49:return Eh(t,1,9999,qF,3,n);case 35:return Eh(t,1,9999,qF,3,n).toLowerCase();case 13:return Pn(t,2534,2543,!0,n);case 14:case 30:return Pn(t,6112,6121,!0,n);case 15:return Ru(t,"",i);case 16:return Ru(t,"",i);case 17:case 48:return yl(t,"",XF,"",i,Lc|Ic|u0);case 47:return yl(t,"",JF,"",i,Xh|Lc|Ic|u0);case 42:return yl(t,"",XF,"",i,Lc|Ic|u0);case 41:return yl(t,"",JF,"",i,Xh|Lc|Ic|u0);case 26:return yl(t,"","",ZF,i,0);case 25:return yl(t,"","",ZF,i,Xh|Lc|Ic);case 31:return yl(t,"","",eB,a,Xh|Lc|Ic);case 33:return yl(t,"","",eB,a,0);case 32:return yl(t,"","",eB,a,Xh|Lc|Ic);case 18:return Pn(t,2406,2415,!0,n);case 20:return Eh(t,1,19999,sae,3,n);case 21:return Pn(t,2790,2799,!0,n);case 22:return Pn(t,2662,2671,!0,n);case 22:return Eh(t,1,10999,aae,3,n);case 23:return Ru(t,"");case 24:return Ru(t,"");case 27:return Pn(t,3302,3311,!0,n);case 28:return Ru(t,"",i);case 29:return Ru(t,"",i);case 34:return Pn(t,3792,3801,!0,n);case 37:return Pn(t,6160,6169,!0,n);case 38:return Pn(t,4160,4169,!0,n);case 39:return Pn(t,2918,2927,!0,n);case 40:return Pn(t,1776,1785,!0,n);case 43:return Pn(t,3046,3055,!0,n);case 44:return Pn(t,3174,3183,!0,n);case 45:return Pn(t,3664,3673,!0,n);case 46:return Pn(t,3872,3881,!0,n);case 3:default:return Pn(t,48,57,!0,n)}},SH="data-html2canvas-ignore",eP=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new iae,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=oae(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=cae(i).then(function(){return La(n,void 0,void 0,function(){var c,u;return Aa(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(dae),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lae(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(fae(document.doctype)+"<html></html>"),hae(this.referenceElement.ownerDocument,a,s),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(AS(e,2))debugger;if(xH(e))return this.createCanvasClone(e);if(VF(e))return this.createVideoClone(e);if(WF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return fS(r)&&(fS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),zF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return tB(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(l){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch(l){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch(a){this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!id(r)||!nae(r)&&!r.hasAttribute(SH)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!id(r)||!WF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(id(a)&&BH(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(bH(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&id(e)&&(uS(e)||Wy(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&uS(i)&&(this.clonedReferenceElement=i),I4(i)&&mae(i);var A=this.counters.parse(new OF(this.context,a)),l=this.resolvePseudoContent(e,i,s,C0.BEFORE);zF(e)&&(r=!0),VF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,o,C0.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(a&&(this.options.copyStyles||Wy(e))&&!EH(e)||r)&&tB(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(O2(e)||F2(e))&&(O2(i)||F2(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var a=this;if(n){var s=n.content,o=r.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new OF(this.context,n));var A=new Zne(this.context,n),l=o.createElement("html2canvaspseudoelement");tB(n,l),A.content.forEach(function(u){if(u.type===0)l.appendChild(o.createTextNode(u.value));else if(u.type===22){var f=o.createElement("img");f.src=u.value,f.style.opacity="1",l.appendChild(f)}else if(u.type===18){if(u.name==="attr"){var h=u.values.filter(Or);h.length&&l.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(u.name==="counter"){var d=u.values.filter(Ud),p=d[0],g=d[1];if(p&&Or(p)){var v=a.counters.getCounterValue(p.value),y=g&&Or(g)?oS.parse(a.context,g.value):3;l.appendChild(o.createTextNode(Y0(v,y,!1)))}}else if(u.name==="counters"){var w=u.values.filter(Ud),p=w[0],S=w[1],g=w[2];if(p&&Or(p)){var x=a.counters.getCounterValues(p.value),E=g&&Or(g)?oS.parse(a.context,g.value):3,C=S&&S.type===0?S.value:"",L=x.map(function(_){return Y0(_,E,!1)}).join(C);l.appendChild(o.createTextNode(L))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(o.createTextNode(IF(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(IF(A.quotes,--a.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(u.value))}}),l.className=hS+" "+dS;var c=i===C0.BEFORE?" "+hS:" "+dS;return Wy(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),C0;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(C0||(C0={}));var oae=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(SH,"true"),t.body.appendChild(r),r},Aae=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},lae=function(t){return Promise.all([].slice.call(t.images,0).map(Aae))},cae=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},uae=["all","d","content"],tB=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);uae.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},fae=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},hae=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},dae=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},pae=":before",gae=":after",hS="___html2canvas___pseudoelement_before",dS="___html2canvas___pseudoelement_after",tP=`{
    content: "" !important;
    display: none !important;
}`,mae=function(t){vae(t,"."+hS+pae+tP+`
         .`+dS+gae+tP)},vae=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},TH=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),yae=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(nB(e)||Eae(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return La(this,void 0,void 0,function(){var r,n,i,a,s=this;return Aa(this,function(o){switch(o.label){case 0:return r=TH.isSameOrigin(e),n=!rB(e)&&this._options.useCORS===!0&&Gi.SUPPORT_CORS_IMAGES&&!r,i=!rB(e)&&!r&&!nB(e)&&typeof this._options.proxy=="string"&&Gi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!rB(e)&&!nB(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(Bae(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return A(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]!="undefined"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var o=Gi.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")a(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(f){return s(f)},!1),u.readAsDataURL(A.response)}else s("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var c=r._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+i)}}A.send()})},t}(),bae=/^data:image\/svg\+xml/i,wae=/^data:image\/.*;base64,/i,xae=/^data:image\/.*/i,Eae=function(t){return Gi.SUPPORT_SVG_DRAWING||!Cae(t)},rB=function(t){return xae.test(t)},Bae=function(t){return wae.test(t)},nB=function(t){return t.substr(0,4)==="blob"},Cae=function(t){return t.substr(-3).toLowerCase()==="svg"||bae.test(t)},nt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Bh=function(t,e,r){return new nt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},E1=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Bh(this.start,this.startControl,e),i=Bh(this.startControl,this.endControl,e),a=Bh(this.endControl,this.end,e),s=Bh(n,i,e),o=Bh(i,a,e),A=Bh(s,o,e);return r?new t(this.start,n,s,A):new t(A,o,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ys=function(t){return t.type===1},Sae=function(){function t(e){var r=e.styles,n=e.bounds,i=l0(r.borderTopLeftRadius,n.width,n.height),a=i[0],s=i[1],o=l0(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],c=l0(r.borderBottomRightRadius,n.width,n.height),u=c[0],f=c[1],h=l0(r.borderBottomLeftRadius,n.width,n.height),d=h[0],p=h[1],g=[];g.push((a+A)/n.width),g.push((d+u)/n.width),g.push((s+p)/n.height),g.push((l+f)/n.height);var v=Math.max.apply(Math,g);v>1&&(a/=v,s/=v,A/=v,l/=v,u/=v,f/=v,d/=v,p/=v);var y=n.width-A,w=n.height-f,S=n.width-u,x=n.height-p,E=r.borderTopWidth,C=r.borderRightWidth,L=r.borderBottomWidth,O=r.borderLeftWidth,D=Kr(r.paddingTop,e.bounds.width),_=Kr(r.paddingRight,e.bounds.width),F=Kr(r.paddingBottom,e.bounds.width),R=Kr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?An(n.left+O/3,n.top+E/3,a-O/3,s-E/3,yr.TOP_LEFT):new nt(n.left+O/3,n.top+E/3),this.topRightBorderDoubleOuterBox=a>0||s>0?An(n.left+y,n.top+E/3,A-C/3,l-E/3,yr.TOP_RIGHT):new nt(n.left+n.width-C/3,n.top+E/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?An(n.left+S,n.top+w,u-C/3,f-L/3,yr.BOTTOM_RIGHT):new nt(n.left+n.width-C/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?An(n.left+O/3,n.top+x,d-O/3,p-L/3,yr.BOTTOM_LEFT):new nt(n.left+O/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?An(n.left+O*2/3,n.top+E*2/3,a-O*2/3,s-E*2/3,yr.TOP_LEFT):new nt(n.left+O*2/3,n.top+E*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?An(n.left+y,n.top+E*2/3,A-C*2/3,l-E*2/3,yr.TOP_RIGHT):new nt(n.left+n.width-C*2/3,n.top+E*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?An(n.left+S,n.top+w,u-C*2/3,f-L*2/3,yr.BOTTOM_RIGHT):new nt(n.left+n.width-C*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?An(n.left+O*2/3,n.top+x,d-O*2/3,p-L*2/3,yr.BOTTOM_LEFT):new nt(n.left+O*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=a>0||s>0?An(n.left+O/2,n.top+E/2,a-O/2,s-E/2,yr.TOP_LEFT):new nt(n.left+O/2,n.top+E/2),this.topRightBorderStroke=a>0||s>0?An(n.left+y,n.top+E/2,A-C/2,l-E/2,yr.TOP_RIGHT):new nt(n.left+n.width-C/2,n.top+E/2),this.bottomRightBorderStroke=u>0||f>0?An(n.left+S,n.top+w,u-C/2,f-L/2,yr.BOTTOM_RIGHT):new nt(n.left+n.width-C/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=d>0||p>0?An(n.left+O/2,n.top+x,d-O/2,p-L/2,yr.BOTTOM_LEFT):new nt(n.left+O/2,n.top+n.height-L/2),this.topLeftBorderBox=a>0||s>0?An(n.left,n.top,a,s,yr.TOP_LEFT):new nt(n.left,n.top),this.topRightBorderBox=A>0||l>0?An(n.left+y,n.top,A,l,yr.TOP_RIGHT):new nt(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||f>0?An(n.left+S,n.top+w,u,f,yr.BOTTOM_RIGHT):new nt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?An(n.left,n.top+x,d,p,yr.BOTTOM_LEFT):new nt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?An(n.left+O,n.top+E,Math.max(0,a-O),Math.max(0,s-E),yr.TOP_LEFT):new nt(n.left+O,n.top+E),this.topRightPaddingBox=A>0||l>0?An(n.left+Math.min(y,n.width-C),n.top+E,y>n.width+C?0:Math.max(0,A-C),Math.max(0,l-E),yr.TOP_RIGHT):new nt(n.left+n.width-C,n.top+E),this.bottomRightPaddingBox=u>0||f>0?An(n.left+Math.min(S,n.width-O),n.top+Math.min(w,n.height-L),Math.max(0,u-C),Math.max(0,f-L),yr.BOTTOM_RIGHT):new nt(n.left+n.width-C,n.top+n.height-L),this.bottomLeftPaddingBox=d>0||p>0?An(n.left+O,n.top+Math.min(x,n.height-L),Math.max(0,d-O),Math.max(0,p-L),yr.BOTTOM_LEFT):new nt(n.left+O,n.top+n.height-L),this.topLeftContentBox=a>0||s>0?An(n.left+O+R,n.top+E+D,Math.max(0,a-(O+R)),Math.max(0,s-(E+D)),yr.TOP_LEFT):new nt(n.left+O+R,n.top+E+D),this.topRightContentBox=A>0||l>0?An(n.left+Math.min(y,n.width+O+R),n.top+E+D,y>n.width+O+R?0:A-O+R,l-(E+D),yr.TOP_RIGHT):new nt(n.left+n.width-(C+_),n.top+E+D),this.bottomRightContentBox=u>0||f>0?An(n.left+Math.min(S,n.width-(O+R)),n.top+Math.min(w,n.height+E+D),Math.max(0,u-(C+_)),f-(L+F),yr.BOTTOM_RIGHT):new nt(n.left+n.width-(C+_),n.top+n.height-(L+F)),this.bottomLeftContentBox=d>0||p>0?An(n.left+O+R,n.top+x,Math.max(0,d-(O+R)),p-(L+F),yr.BOTTOM_LEFT):new nt(n.left+O+R,n.top+n.height-(L+F))}return t}(),yr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(yr||(yr={}));var An=function(t,e,r,n,i){var a=4*((Math.sqrt(2)-1)/3),s=r*a,o=n*a,A=t+r,l=e+n;switch(i){case yr.TOP_LEFT:return new E1(new nt(t,l),new nt(t,l-o),new nt(A-s,e),new nt(A,e));case yr.TOP_RIGHT:return new E1(new nt(t,e),new nt(t+s,e),new nt(A,l-o),new nt(A,l));case yr.BOTTOM_RIGHT:return new E1(new nt(A,e),new nt(A,e+o),new nt(t+s,l),new nt(t,l));case yr.BOTTOM_LEFT:default:return new E1(new nt(A,l),new nt(A-s,l),new nt(t,e+o),new nt(t,e))}},P2=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Tae=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},U2=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},_ae=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),B1=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Lae=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Iae=function(t){return t.type===0},_H=function(t){return t.type===1},Oae=function(t){return t.type===2},rP=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Fae=function(t,e,r,n,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+i);case 3:return a.add(e,r+i)}return a})},LH=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),IH=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Sae(this.container),this.container.styles.opacity<1&&this.effects.push(new Lae(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new _ae(n,i,a))}if(this.container.styles.overflowX!==0){var s=P2(this.curves),o=U2(this.curves);rP(s,o)?this.effects.push(new B1(s,6)):(this.effects.push(new B1(s,2)),this.effects.push(new B1(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(A){return!_H(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=P2(n.curves),o=U2(n.curves);rP(s,o)||i.unshift(new B1(o,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(A){return di(A.target,e)})},t}(),pS=function(t,e,r,n){t.container.elements.forEach(function(i){var a=di(i.flags,4),s=di(i.flags,2),o=new IH(i,t);di(i.styles.display,2048)&&n.push(o);var A=di(i.flags,8)?[]:n;if(a||s){var l=a||i.styles.isPositioned()?r:e,c=new LH(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var f=0;l.negativeZIndex.some(function(d,p){return u>d.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,c)}else if(u>0){var h=0;l.positiveZIndex.some(function(d,p){return u>=d.element.container.styles.zIndex.order?(h=p+1,!1):h>0}),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);pS(o,c,a?c:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),pS(o,e,r,A);di(i.flags,8)&&OH(i,A)})},OH=function(t,e){for(var r=t instanceof cS?t.start:1,n=t instanceof cS?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof dH&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Y0(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},Pae=function(t){var e=new IH(t,null),r=new LH(e),n=[];return pS(e,r,r,n),OH(e.container,n),r},nP=function(t,e){switch(e){case 0:return eo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return eo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return eo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return eo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Uae=function(t,e){switch(e){case 0:return eo(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return eo(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return eo(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return eo(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Rae=function(t,e){switch(e){case 0:return eo(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return eo(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return eo(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return eo(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Dae=function(t,e){switch(e){case 0:return C1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return C1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return C1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return C1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},C1=function(t,e){var r=[];return Ys(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ys(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},eo=function(t,e,r,n){var i=[];return Ys(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ys(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ys(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ys(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},FH=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},R2=function(t){var e=t.styles,r=t.bounds,n=Kr(e.paddingLeft,r.width),i=Kr(e.paddingRight,r.width),a=Kr(e.paddingTop,r.width),s=Kr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},Mae=function(t,e){return t===0?e.bounds:t===2?R2(e):FH(e)},Nae=function(t,e){return t===0?e.bounds:t===2?R2(e):FH(e)},iB=function(t,e,r){var n=Mae(Jh(t.styles.backgroundOrigin,e),t),i=Nae(Jh(t.styles.backgroundClip,e),t),a=kae(Jh(t.styles.backgroundSize,e),r,n),s=a[0],o=a[1],A=l0(Jh(t.styles.backgroundPosition,e),n.width-s,n.height-o),l=Qae(Jh(t.styles.backgroundRepeat,e),A,a,n,i),c=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[l,c,u,s,o]},Ch=function(t){return Or(t)&&t.value===vd.AUTO},S1=function(t){return typeof t=="number"},kae=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(ni(s)&&o&&ni(o))return[Kr(s,r.width),Kr(o,r.height)];var A=S1(a);if(Or(s)&&(s.value===vd.CONTAIN||s.value===vd.COVER)){if(S1(a)){var l=r.width/r.height;return l<a!=(s.value===vd.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var c=S1(n),u=S1(i),f=c||u;if(Ch(s)&&(!o||Ch(o))){if(c&&u)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var h=c?n:i*a,d=u?i:n/a;return[h,d]}var p=c?n:r.width,g=u?i:r.height;return[p,g]}if(A){var v=0,y=0;return ni(s)?v=Kr(s,r.width):ni(o)&&(y=Kr(o,r.height)),Ch(s)?v=y*a:(!o||Ch(o))&&(y=v/a),[v,y]}var w=null,S=null;if(ni(s)?w=Kr(s,r.width):o&&ni(o)&&(S=Kr(o,r.height)),w!==null&&(!o||Ch(o))&&(S=c&&u?w/n*i:r.height),S!==null&&Ch(s)&&(w=c&&u?S/i*n:r.width),w!==null&&S!==null)return[w,S];throw new Error("Unable to calculate background-size for element")},Jh=function(t,e){var r=t[e];return typeof r=="undefined"?t[0]:r},Qae=function(t,e,r,n,i){var a=e[0],s=e[1],o=r[0],A=r[1];switch(t){case 2:return[new nt(Math.round(n.left),Math.round(n.top+s)),new nt(Math.round(n.left+n.width),Math.round(n.top+s)),new nt(Math.round(n.left+n.width),Math.round(A+n.top+s)),new nt(Math.round(n.left),Math.round(A+n.top+s))];case 3:return[new nt(Math.round(n.left+a),Math.round(n.top)),new nt(Math.round(n.left+a+o),Math.round(n.top)),new nt(Math.round(n.left+a+o),Math.round(n.height+n.top)),new nt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new nt(Math.round(n.left+a),Math.round(n.top+s)),new nt(Math.round(n.left+a+o),Math.round(n.top+s)),new nt(Math.round(n.left+a+o),Math.round(n.top+s+A)),new nt(Math.round(n.left+a),Math.round(n.top+s+A))];default:return[new nt(Math.round(i.left),Math.round(i.top)),new nt(Math.round(i.left+i.width),Math.round(i.top)),new nt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new nt(Math.round(i.left),Math.round(i.height+i.top))]}},Hae="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",iP="Hidden Text",$ae=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=Hae,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(iP)),n.appendChild(a),n.appendChild(i);var o=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(iP)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]=="undefined"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),PH=function(){function t(e,r){this.context=e,this.options=r}return t}(),jae=1e4,Gae=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new $ae(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Oae(r)&&(this.ctx.globalAlpha=r.opacity),Iae(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),_H(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return La(this,void 0,void 0,function(){var n;return Aa(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return La(this,void 0,void 0,function(){return Aa(this,function(n){switch(n.label){case 0:if(di(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var s=_4(r.text);s.reduce(function(o,A){return a.ctx.fillText(A,o,r.bounds.top+i),o+a.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=Yae(r.fontFamily).join(", "),a=Km(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(r,n){return La(this,void 0,void 0,function(){var i,a,s,o,A,l,c,u,f=this;return Aa(this,function(h){return i=this.createFontStyle(n),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(s,o),l=A.baseline,c=A.middle,u=n.paintOrder,r.textBounds.forEach(function(d){u.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=Ti(n.color),f.renderTextWithLetterSpacing(d,n.letterSpacing,l);var g=n.textShadow;g.length&&d.text.trim().length&&(g.slice(0).reverse().forEach(function(v){f.ctx.shadowColor=Ti(v.color),f.ctx.shadowOffsetX=v.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=v.offsetY.number*f.options.scale,f.ctx.shadowBlur=v.blur.number,f.renderTextWithLetterSpacing(d,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=Ti(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:f.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:f.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:f.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&d.text.trim().length&&(f.ctx.strokeStyle=Ti(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=R2(r),s=U2(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return La(this,void 0,void 0,function(){var n,i,a,s,o,A,y,y,l,c,u,f,S,h,d,x,p,g,v,y,w,S,x;return Aa(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,s=0,o=n.textNodes,E.label=1;case 1:return s<o.length?(A=o[s],[4,this.renderTextNode(A,a)]):[3,4];case 2:E.sent(),E.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof uH))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=E.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof fH&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof hH))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=E.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof mH&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=E.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),E.label=14;case 14:if(n instanceof L4&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===L2?n.checked&&(this.ctx.save(),this.path([new nt(n.bounds.left+u*.39363,n.bounds.top+u*.79),new nt(n.bounds.left+u*.16,n.bounds.top+u*.5549),new nt(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new nt(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new nt(n.bounds.left+u*.72983,n.bounds.top+u*.23),new nt(n.bounds.left+u*.84,n.bounds.top+u*.34085),new nt(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Ti(KF),this.ctx.fill(),this.ctx.restore()):n.type===I2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ti(KF),this.ctx.fill(),this.ctx.restore())),Kae(n)&&n.value.length){switch(f=this.createFontStyle(a),S=f[0],h=f[1],d=this.fontMetrics.getMetrics(S,h).baseline,this.ctx.font=S,this.ctx.fillStyle=Ti(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Wae(n.styles.textAlign),x=R2(n),p=0,n.styles.textAlign){case 1:p+=x.width/2;break;case 2:p+=x.width;break}g=x.add(p,0,0,-x.height/2+1),this.ctx.save(),this.path([new nt(x.left,x.top),new nt(x.left+x.width,x.top),new nt(x.left+x.width,x.top+x.height),new nt(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new B0(n.value,g),a.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!di(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];y=void 0,w=v.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=E.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(a)[0],this.ctx.font=S,this.ctx.fillStyle=Ti(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new Kl(n.bounds.left,n.bounds.top+Kr(n.styles.paddingTop,n.bounds.width),n.bounds.width,_F(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new B0(r.listValue,x),a.letterSpacing,_F(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return La(this,void 0,void 0,function(){var n,i,v,a,s,v,o,A,v,l,c,v,u,f,v,h,d,v,p,g,v;return Aa(this,function(y){switch(y.label){case 0:if(di(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,i=r.negativeZIndex,y.label=2;case 2:return n<i.length?(v=i[n],[4,this.renderStack(v)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),a=0,s=r.nonInlineLevel,y.label=7;case 7:return a<s.length?(v=s[a],[4,this.renderNode(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:o=0,A=r.nonPositionedFloats,y.label=11;case 11:return o<A.length?(v=A[o],[4,this.renderStack(v)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,y.label=15;case 15:return l<c.length?(v=c[l],[4,this.renderStack(v)]):[3,18];case 16:y.sent(),y.label=17;case 17:return l++,[3,15];case 18:u=0,f=r.inlineLevel,y.label=19;case 19:return u<f.length?(v=f[u],[4,this.renderNode(v)]):[3,22];case 20:y.sent(),y.label=21;case 21:return u++,[3,19];case 22:h=0,d=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<d.length?(v=d[h],[4,this.renderStack(v)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:p=0,g=r.positiveZIndex,y.label=27;case 27:return p<g.length?(v=g[p],[4,this.renderStack(v)]):[3,30];case 28:y.sent(),y.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var s=Ys(i)?i.start:i;a===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Ys(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return La(this,void 0,void 0,function(){var n,i,a,s,o,A;return Aa(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var u,f,h,D,N,Y,R,M,L,d,D,N,Y,R,M,p,g,v,y,w,S,x,E,C,L,O,D,_,F,R,M,z,N,Y,X,H,W,Z,I,U,$,G;return Aa(this,function(te){switch(te.label){case 0:if(c.type!==0)return[3,5];u=void 0,f=c.url,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return u=te.sent(),[3,4];case 3:return te.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(h=iB(r,n,[u.width,u.height,u.width/u.height]),D=h[0],N=h[1],Y=h[2],R=h[3],M=h[4],L=a.ctx.createPattern(a.resizeImage(u,R,M),"repeat"),a.renderRepeat(D,L,N,Y)),[3,6];case 5:Ire(c)?(d=iB(r,n,[null,null,null]),D=d[0],N=d[1],Y=d[2],R=d[3],M=d[4],p=Cre(c.angle,R,M),g=p[0],v=p[1],y=p[2],w=p[3],S=p[4],x=document.createElement("canvas"),x.width=R,x.height=M,E=x.getContext("2d"),C=E.createLinearGradient(v,w,y,S),SF(c.stops,g).forEach(function(ie){return C.addColorStop(ie.stop,Ti(ie.color))}),E.fillStyle=C,E.fillRect(0,0,R,M),R>0&&M>0&&(L=a.ctx.createPattern(x,"repeat"),a.renderRepeat(D,L,N,Y))):Ore(c)&&(O=iB(r,n,[null,null,null]),D=O[0],_=O[1],F=O[2],R=O[3],M=O[4],z=c.position.length===0?[C4]:c.position,N=Kr(z[0],R),Y=Kr(z[z.length-1],M),X=Sre(c,N,Y,R,M),H=X[0],W=X[1],H>0&&W>0&&(Z=a.ctx.createRadialGradient(_+N,F+Y,0,_+N,F+Y,H),SF(c.stops,H*2).forEach(function(ie){return Z.addColorStop(ie.stop,Ti(ie.color))}),a.path(D),a.ctx.fillStyle=Z,H!==W?(I=r.bounds.left+.5*r.bounds.width,U=r.bounds.top+.5*r.bounds.height,$=W/H,G=1/$,a.ctx.save(),a.ctx.translate(I,U),a.ctx.transform(1,0,0,$,0,0),a.ctx.translate(-I,-U),a.ctx.fillRect(_,G*(F-U)+U,R,M*G),a.ctx.restore()):a.ctx.fill())),te.label=6;case 6:return n--,[2]}})},a=this,s=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(A=o[s],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return La(this,void 0,void 0,function(){return Aa(this,function(a){return this.path(nP(i,n)),this.ctx.fillStyle=Ti(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,a){return La(this,void 0,void 0,function(){var s,o;return Aa(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return s=Uae(a,i),this.path(s),this.ctx.fillStyle=Ti(r),this.ctx.fill(),o=Rae(a,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return La(this,void 0,void 0,function(){var n,i,a,s,o,A,l,c,u=this;return Aa(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!zc(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=Vae(Jh(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),zc(n.backgroundColor)||(this.ctx.fillStyle=Ti(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){u.ctx.save();var d=P2(r.curves),p=h.inset?0:jae,g=Fae(d,-p+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(u.path(d),u.ctx.clip(),u.mask(g)):(u.mask(d),u.ctx.clip(),u.path(g)),u.ctx.shadowOffsetX=h.offsetX.number+p,u.ctx.shadowOffsetY=h.offsetY.number,u.ctx.shadowColor=Ti(h.color),u.ctx.shadowBlur=h.blur.number,u.ctx.fillStyle=h.inset?Ti(h.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=a,f.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!zc(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,a,s){return La(this,void 0,void 0,function(){var o,A,l,c,u,f,h,d,p,g,v,y,w,S,x,E,x,E;return Aa(this,function(C){return this.ctx.save(),o=Dae(a,i),A=nP(a,i),s===2&&(this.path(A),this.ctx.clip()),Ys(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),Ys(A[1])?(u=A[1].end.x,f=A[1].end.y):(u=A[1].x,f=A[1].y),i===0||i===2?h=Math.abs(l-u):h=Math.abs(c-f),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(A.slice(0,2)),d=n<3?n*3:n*2,p=n<3?n*2:n,s===3&&(d=n,p=n),g=!0,h<=d*2?g=!1:h<=d*2+p?(v=h/(2*d+p),d*=v,p*=v):(y=Math.floor((h+p)/(d+p)),w=(h-y*d)/(y-1),S=(h-(y+1)*d)/y,p=S<=0||Math.abs(p-w)<Math.abs(p-S)?w:S),g&&(s===3?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ti(r),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Ys(A[0])&&(x=A[3],E=A[0],this.ctx.beginPath(),this.formatPath([new nt(x.end.x,x.end.y),new nt(E.start.x,E.start.y)]),this.ctx.stroke()),Ys(A[1])&&(x=A[1],E=A[2],this.ctx.beginPath(),this.formatPath([new nt(x.end.x,x.end.y),new nt(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return La(this,void 0,void 0,function(){var n;return Aa(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ti(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Pae(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(PH),Kae=function(t){return t instanceof gH||t instanceof pH?!0:t instanceof L4&&t.type!==I2&&t.type!==L2},Vae=function(t,e){switch(t){case 0:return P2(e);case 2:return Tae(e);case 1:default:return U2(e)}},Wae=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},zae=["-apple-system","system-ui"],Yae=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return zae.indexOf(e)===-1}):t},qae=function(t){Yo(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return La(this,void 0,void 0,function(){var n,i;return Aa(this,function(a){switch(a.label){case 0:return n=lS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Xae(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ti(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(PH),Xae=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Jae=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,i1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,i1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,i1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,i1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Zae=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Jae({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new yae(this,e)}return t.instanceCount=1,t}(),ese=function(t,e){return e===void 0&&(e={}),tse(t,e)};typeof window!="undefined"&&TH.setContext(window);var tse=function(t,e){return La(void 0,void 0,void 0,function(){var r,n,i,a,s,o,A,l,c,u,f,h,d,p,g,v,y,w,S,x,C,E,C,L,O,D,_,F,R,M,z,N,Y,X,H,W,Z,I,U,$;return Aa(this,function(G){switch(G.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(L=e.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},a=z5({logging:(_=e.logging)!==null&&_!==void 0?_:!0,cache:e.cache},i),s={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(R=e.windowHeight)!==null&&R!==void 0?R:n.innerHeight,scrollX:(M=e.scrollX)!==null&&M!==void 0?M:n.pageXOffset,scrollY:(z=e.scrollY)!==null&&z!==void 0?z:n.pageYOffset},o=new Kl(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),A=new Zae(a,o),l=(N=e.foreignObjectRendering)!==null&&N!==void 0?N:!1,c={allowTaint:(Y=e.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new eP(A,t,c),f=u.clonedReferenceElement,f?[4,u.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=G.sent(),d=I4(f)||rae(f)?Fee(f.ownerDocument):xw(A,f),p=d.width,g=d.height,v=d.left,y=d.top,w=rse(A,f,e.backgroundColor),S={canvas:e.canvas,backgroundColor:w,scale:(H=(X=e.scale)!==null&&X!==void 0?X:n.devicePixelRatio)!==null&&H!==void 0?H:1,x:((W=e.x)!==null&&W!==void 0?W:0)+v,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+y,width:(I=e.width)!==null&&I!==void 0?I:Math.ceil(p),height:(U=e.height)!==null&&U!==void 0?U:Math.ceil(g)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new qae(A,S),[4,C.render(f)]):[3,3];case 2:return x=G.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+v+","+y+" with size "+p+"x"+g+" using computed rendering"),A.logger.debug("Starting DOM parsing"),E=yH(A,f),w===E.styles.backgroundColor&&(E.styles.backgroundColor=Ml.TRANSPARENT),A.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),C=new Gae(A,S),[4,C.render(E)];case 4:x=G.sent(),G.label=5;case 5:return(!(($=e.removeContainer)!==null&&$!==void 0)||$)&&(eP.destroy(h)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,x]}})})},rse=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?x0(t,getComputedStyle(n.documentElement).backgroundColor):Ml.TRANSPARENT,a=n.body?x0(t,getComputedStyle(n.body).backgroundColor):Ml.TRANSPARENT,s=typeof r=="string"?x0(t,r):r===null?Ml.TRANSPARENT:4294967295;return e===n.documentElement?zc(i)?zc(a)?s:a:i:s};const nse=Object.freeze(Object.defineProperty({__proto__:null,default:ese},Symbol.toStringTag,{value:"Module"}));var UH={exports:{}},RH={},DH={exports:{}},MH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=We;function ise(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ase=typeof Object.is=="function"?Object.is:ise,sse=Rd.useState,ose=Rd.useEffect,Ase=Rd.useLayoutEffect,lse=Rd.useDebugValue;function cse(t,e){var r=e(),n=sse({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Ase(function(){i.value=r,i.getSnapshot=e,aB(i)&&a({inst:i})},[t,r,e]),ose(function(){return aB(i)&&a({inst:i}),t(function(){aB(i)&&a({inst:i})})},[t]),lse(r),r}function aB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ase(t,r)}catch(n){return!0}}function use(t,e){return e()}var fse=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?use:cse;MH.useSyncExternalStore=Rd.useSyncExternalStore!==void 0?Rd.useSyncExternalStore:fse;DH.exports=MH;var hse=DH.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=We,dse=hse;function pse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gse=typeof Object.is=="function"?Object.is:pse,mse=dse.useSyncExternalStore,vse=Fw.useRef,yse=Fw.useEffect,bse=Fw.useMemo,wse=Fw.useDebugValue;RH.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=vse(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=bse(function(){function A(h){if(!l){if(l=!0,c=h,h=n(h),i!==void 0&&s.hasValue){var d=s.value;if(i(d,h))return u=d}return u=h}if(d=u,gse(c,h))return d;var p=n(h);return i!==void 0&&i(d,p)?(c=h,d):(c=h,u=p)}var l=!1,c,u,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=mse(t,a[0],a[1]);return yse(function(){s.hasValue=!0,s.value=o},[o]),wse(o),o};UH.exports=RH;var xse=UH.exports;const NH=xr(xse),aP=t=>{let e;const r=new Set,n=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const f=e;e=(c!=null?c:typeof u!="object"||u===null)?u:Object.assign({},e,u),r.forEach(h=>h(e,f))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>A,subscribe:l=>(r.add(l),()=>r.delete(l))},A=e=t(n,i,o);return o},Ese=t=>t?aP(t):aP,{useSyncExternalStoreWithSelector:Bse}=NH,Cse=t=>t;function Sse(t,e=Cse,r){const n=Bse(t.subscribe,t.getState,t.getInitialState,e,r);return he.useDebugValue(n),n}const sP=(t,e)=>{const r=Ese(t),n=(i,a=e)=>Sse(r,i,a);return Object.assign(n,r),n},PGe=(t,e)=>t?sP(t,e):sP;function kH(t,e,r){if(!t)return;if(r(t)===!0)return t;let n=e?t.return:t.child;for(;n;){const i=kH(n,e,r);if(i)return i;n=e?null:n.sibling}}function QH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(e){return t}}const O4=QH(We.createContext(null));let Tse=class extends We.Component{render(){return We.createElement(O4.Provider,{value:this._reactInternals},this.props.children)}};function _se(){const t=We.useContext(O4);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=We.useId();return We.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const n=kH(r,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[t,e])}const Lse=Symbol.for("react.context"),Ise=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Lse;function Ose(){const t=_se(),[e]=We.useState(()=>new Map);e.clear();let r=t;for(;r;){const n=r.type;Ise(n)&&n!==O4&&!e.has(n)&&e.set(n,We.use(QH(n))),r=r.return}return e}function RGe(){const t=Ose();return We.useMemo(()=>Array.from(t.keys()).reduce((e,r)=>n=>We.createElement(e,null,We.createElement(r.Provider,Xv(mh({},n),{value:t.get(r)}))),e=>We.createElement(Tse,mh({},e))),[t])}var Fse=Array.isArray,is=Fse,Pse=typeof jo=="object"&&jo&&jo.Object===Object&&jo,HH=Pse,Use=HH,Rse=typeof self=="object"&&self&&self.Object===Object&&self,Dse=Use||Rse||Function("return this")(),zA=Dse,Mse=zA,Nse=Mse.Symbol,Vm=Nse,oP=Vm,$H=Object.prototype,kse=$H.hasOwnProperty,Qse=$H.toString,wg=oP?oP.toStringTag:void 0;function Hse(t){var e=kse.call(t,wg),r=t[wg];try{t[wg]=void 0;var n=!0}catch(a){}var i=Qse.call(t);return n&&(e?t[wg]=r:delete t[wg]),i}var $se=Hse,jse=Object.prototype,Gse=jse.toString;function Kse(t){return Gse.call(t)}var Vse=Kse,AP=Vm,Wse=$se,zse=Vse,Yse="[object Null]",qse="[object Undefined]",lP=AP?AP.toStringTag:void 0;function Xse(t){return t==null?t===void 0?qse:Yse:lP&&lP in Object(t)?Wse(t):zse(t)}var Jl=Xse;function Jse(t){return t!=null&&typeof t=="object"}var Zl=Jse,Zse=Jl,eoe=Zl,toe="[object Symbol]";function roe(t){return typeof t=="symbol"||eoe(t)&&Zse(t)==toe}var bp=roe,noe=is,ioe=bp,aoe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,soe=/^\w*$/;function ooe(t,e){if(noe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ioe(t)?!0:soe.test(t)||!aoe.test(t)||e!=null&&t in Object(e)}var F4=ooe;function Aoe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fu=Aoe;const wp=xr(fu);var loe=Jl,coe=fu,uoe="[object AsyncFunction]",foe="[object Function]",hoe="[object GeneratorFunction]",doe="[object Proxy]";function poe(t){if(!coe(t))return!1;var e=loe(t);return e==foe||e==hoe||e==uoe||e==doe}var P4=poe;const Kt=xr(P4);var goe=zA,moe=goe["__core-js_shared__"],voe=moe,sB=voe,cP=function(){var t=/[^.]+$/.exec(sB&&sB.keys&&sB.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yoe(t){return!!cP&&cP in t}var boe=yoe,woe=Function.prototype,xoe=woe.toString;function Eoe(t){if(t!=null){try{return xoe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var jH=Eoe,Boe=P4,Coe=boe,Soe=fu,Toe=jH,_oe=/[\\^$.*+?()[\]{}|]/g,Loe=/^\[object .+?Constructor\]$/,Ioe=Function.prototype,Ooe=Object.prototype,Foe=Ioe.toString,Poe=Ooe.hasOwnProperty,Uoe=RegExp("^"+Foe.call(Poe).replace(_oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Roe(t){if(!Soe(t)||Coe(t))return!1;var e=Boe(t)?Uoe:Loe;return e.test(Toe(t))}var Doe=Roe;function Moe(t,e){return t==null?void 0:t[e]}var Noe=Moe,koe=Doe,Qoe=Noe;function Hoe(t,e){var r=Qoe(t,e);return koe(r)?r:void 0}var kf=Hoe,$oe=kf,joe=$oe(Object,"create"),Pw=joe,uP=Pw;function Goe(){this.__data__=uP?uP(null):{},this.size=0}var Koe=Goe;function Voe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Woe=Voe,zoe=Pw,Yoe="__lodash_hash_undefined__",qoe=Object.prototype,Xoe=qoe.hasOwnProperty;function Joe(t){var e=this.__data__;if(zoe){var r=e[t];return r===Yoe?void 0:r}return Xoe.call(e,t)?e[t]:void 0}var Zoe=Joe,eAe=Pw,tAe=Object.prototype,rAe=tAe.hasOwnProperty;function nAe(t){var e=this.__data__;return eAe?e[t]!==void 0:rAe.call(e,t)}var iAe=nAe,aAe=Pw,sAe="__lodash_hash_undefined__";function oAe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=aAe&&e===void 0?sAe:e,this}var AAe=oAe,lAe=Koe,cAe=Woe,uAe=Zoe,fAe=iAe,hAe=AAe;function xp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xp.prototype.clear=lAe;xp.prototype.delete=cAe;xp.prototype.get=uAe;xp.prototype.has=fAe;xp.prototype.set=hAe;var dAe=xp;function pAe(){this.__data__=[],this.size=0}var gAe=pAe;function mAe(t,e){return t===e||t!==t&&e!==e}var U4=mAe,vAe=U4;function yAe(t,e){for(var r=t.length;r--;)if(vAe(t[r][0],e))return r;return-1}var Uw=yAe,bAe=Uw,wAe=Array.prototype,xAe=wAe.splice;function EAe(t){var e=this.__data__,r=bAe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xAe.call(e,r,1),--this.size,!0}var BAe=EAe,CAe=Uw;function SAe(t){var e=this.__data__,r=CAe(e,t);return r<0?void 0:e[r][1]}var TAe=SAe,_Ae=Uw;function LAe(t){return _Ae(this.__data__,t)>-1}var IAe=LAe,OAe=Uw;function FAe(t,e){var r=this.__data__,n=OAe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var PAe=FAe,UAe=gAe,RAe=BAe,DAe=TAe,MAe=IAe,NAe=PAe;function Ep(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ep.prototype.clear=UAe;Ep.prototype.delete=RAe;Ep.prototype.get=DAe;Ep.prototype.has=MAe;Ep.prototype.set=NAe;var Rw=Ep,kAe=kf,QAe=zA,HAe=kAe(QAe,"Map"),R4=HAe,fP=dAe,$Ae=Rw,jAe=R4;function GAe(){this.size=0,this.__data__={hash:new fP,map:new(jAe||$Ae),string:new fP}}var KAe=GAe;function VAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WAe=VAe,zAe=WAe;function YAe(t,e){var r=t.__data__;return zAe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Dw=YAe,qAe=Dw;function XAe(t){var e=qAe(this,t).delete(t);return this.size-=e?1:0,e}var JAe=XAe,ZAe=Dw;function ele(t){return ZAe(this,t).get(t)}var tle=ele,rle=Dw;function nle(t){return rle(this,t).has(t)}var ile=nle,ale=Dw;function sle(t,e){var r=ale(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ole=sle,Ale=KAe,lle=JAe,cle=tle,ule=ile,fle=ole;function Bp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bp.prototype.clear=Ale;Bp.prototype.delete=lle;Bp.prototype.get=cle;Bp.prototype.has=ule;Bp.prototype.set=fle;var D4=Bp,GH=D4,hle="Expected a function";function M4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hle);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(M4.Cache||GH),r}M4.Cache=GH;var KH=M4;const dle=xr(KH);var ple=KH,gle=500;function mle(t){var e=ple(t,function(n){return r.size===gle&&r.clear(),n}),r=e.cache;return e}var vle=mle,yle=vle,ble=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wle=/\\(\\)?/g,xle=yle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ble,function(r,n,i,a){e.push(i?a.replace(wle,"$1"):n||r)}),e}),Ele=xle;function Ble(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var N4=Ble,hP=Vm,Cle=N4,Sle=is,Tle=bp,dP=hP?hP.prototype:void 0,pP=dP?dP.toString:void 0;function VH(t){if(typeof t=="string")return t;if(Sle(t))return Cle(t,VH)+"";if(Tle(t))return pP?pP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _le=VH,Lle=_le;function Ile(t){return t==null?"":Lle(t)}var WH=Ile,Ole=is,Fle=F4,Ple=Ele,Ule=WH;function Rle(t,e){return Ole(t)?t:Fle(t,e)?[t]:Ple(Ule(t))}var zH=Rle,Dle=bp;function Mle(t){if(typeof t=="string"||Dle(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mw=Mle,Nle=zH,kle=Mw;function Qle(t,e){e=Nle(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[kle(e[r++])];return r&&r==n?t:void 0}var k4=Qle,Hle=k4;function $le(t,e,r){var n=t==null?void 0:Hle(t,e);return n===void 0?r:n}var YH=$le;const io=xr(YH);function jle(t){return t==null}var Gle=jle;const Yt=xr(Gle);var Kle=Jl,Vle=is,Wle=Zl,zle="[object String]";function Yle(t){return typeof t=="string"||!Vle(t)&&Wle(t)&&Kle(t)==zle}var qle=Yle;const Wm=xr(qle);var Xle=Jl,Jle=Zl,Zle="[object Number]";function ece(t){return typeof t=="number"||Jle(t)&&Xle(t)==Zle}var qH=ece;const tce=xr(qH);var rce=qH;function nce(t){return rce(t)&&t!=+t}var ice=nce;const zm=xr(ice);var Go=function(e){return e===0?0:e>0?1:-1},af=function(e){return Wm(e)&&e.indexOf("%")===e.length-1},Je=function(e){return tce(e)&&!zm(e)},gi=function(e){return Je(e)||Wm(e)},ace=0,Ym=function(e){var r=++ace;return"".concat(e||"").concat(r)},_f=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!Wm(e))return n;var a;if(af(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return zm(a)&&(a=n),i&&a>r&&(a=r),a},Dc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},sce=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Qo=function(e,r){return Je(e)&&Je(r)?function(n){return e+n*(r-e)}:function(){return r}};function D2(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):io(n,e))===r})}function yd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function gS(t){"@babel/helpers - typeof";return gS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(t)}var oce=["viewBox","children"],Ace=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gP=["points","pathLength"],oB={svg:oce,polygon:gP,polyline:gP},Q4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],M2=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(We.isValidElement(e)&&(n=e.props),!wp(n))return null;var i={};return Object.keys(n).forEach(function(a){Q4.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},lce=function(e,r,n){return function(i){return e(r,n,i),null}},N2=function(e,r,n){if(!wp(e)||gS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Q4.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=lce(s,r,n))}),i},cce=["children"],uce=["children"];function mP(t,e){if(t==null)return{};var r=fce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mS(t){"@babel/helpers - typeof";return mS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mS(t)}var vP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yP=null,AB=null,H4=function t(e){if(e===yP&&Array.isArray(AB))return AB;var r=[];return We.Children.forEach(e,function(n){Yt(n)||(uX.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),AB=r,yP=e,r};function ao(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Nl(i)}):n=[Nl(e)],H4(t).forEach(function(i){var a=io(i,"type.displayName")||io(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ws(t,e){var r=ao(t,e);return r&&r[0]}var bP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Je(n)||n<=0||!Je(i)||i<=0)},hce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dce=function(e){return e&&e.type&&Wm(e.type)&&hce.indexOf(e.type)>=0},pce=function(e){return e&&mS(e)==="object"&&"clipDot"in e},gce=function(e,r,n,i){var a,s=(a=oB==null?void 0:oB[i])!==null&&a!==void 0?a:[];return!Kt(e)&&(i&&s.includes(r)||Ace.includes(r))||n&&Q4.includes(r)},tr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(We.isValidElement(e)&&(i=e.props),!wp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;gce((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},vS=function t(e,r){if(e===r)return!0;var n=We.Children.count(e);if(n!==We.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!wP(a,s))return!1}return!0},wP=function(e,r){if(Yt(e)&&Yt(r))return!0;if(!Yt(e)&&!Yt(r)){var n=e.props||{},i=n.children,a=mP(n,cce),s=r.props||{},o=s.children,A=mP(s,uce);return i&&o?yd(a,A)&&vS(i,o):!i&&!o?yd(a,A):!1}return!1},xP=function(e,r){var n=[],i={};return H4(e).forEach(function(a,s){if(dce(a))n.push(a);else if(a){var o=Nl(a.type),A=r[o]||{},l=A.handler,c=A.once;if(l&&(!c||!i[o])){var u=l(a,o,s);n.push(u),i[o]=!0}}}),n},mce=function(e){var r=e&&e.type;return r&&vP[r]?vP[r]:null},vce=function(e,r){return H4(r).indexOf(e)},yce=["children","width","height","viewBox","className","style","title","desc"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yS.apply(this,arguments)}function bce(t,e){if(t==null)return{};var r=wce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,A=t.desc,l=bce(t,yce),c=i||{width:r,height:n,x:0,y:0},u=cr("recharts-surface",a);return he.createElement("svg",yS({},tr(l,!0,"svg"),{className:u,width:r,height:n,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),he.createElement("title",null,o),he.createElement("desc",null,A),e)}var xce=["children","className"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wS.apply(this,arguments)}function Ece(t,e){if(t==null)return{};var r=Bce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kn=he.forwardRef(function(t,e){var r=t.children,n=t.className,i=Ece(t,xce),a=cr("recharts-layer",n);return he.createElement("g",wS({className:a},tr(i,!0),{ref:e}),r)}),kl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Cce(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Sce=Cce,Tce=Sce;function _ce(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Tce(t,e,r)}var Lce=_ce,Ice="\\ud800-\\udfff",Oce="\\u0300-\\u036f",Fce="\\ufe20-\\ufe2f",Pce="\\u20d0-\\u20ff",Uce=Oce+Fce+Pce,Rce="\\ufe0e\\ufe0f",Dce="\\u200d",Mce=RegExp("["+Dce+Ice+Uce+Rce+"]");function Nce(t){return Mce.test(t)}var XH=Nce;function kce(t){return t.split("")}var Qce=kce,JH="\\ud800-\\udfff",Hce="\\u0300-\\u036f",$ce="\\ufe20-\\ufe2f",jce="\\u20d0-\\u20ff",Gce=Hce+$ce+jce,Kce="\\ufe0e\\ufe0f",Vce="["+JH+"]",xS="["+Gce+"]",ES="\\ud83c[\\udffb-\\udfff]",Wce="(?:"+xS+"|"+ES+")",ZH="[^"+JH+"]",e$="(?:\\ud83c[\\udde6-\\uddff]){2}",t$="[\\ud800-\\udbff][\\udc00-\\udfff]",zce="\\u200d",r$=Wce+"?",n$="["+Kce+"]?",Yce="(?:"+zce+"(?:"+[ZH,e$,t$].join("|")+")"+n$+r$+")*",qce=n$+r$+Yce,Xce="(?:"+[ZH+xS+"?",xS,e$,t$,Vce].join("|")+")",Jce=RegExp(ES+"(?="+ES+")|"+Xce+qce,"g");function Zce(t){return t.match(Jce)||[]}var eue=Zce,tue=Qce,rue=XH,nue=eue;function iue(t){return rue(t)?nue(t):tue(t)}var aue=iue,sue=Lce,oue=XH,Aue=aue,lue=WH;function cue(t){return function(e){e=lue(e);var r=oue(e)?Aue(e):void 0,n=r?r[0]:e.charAt(0),i=r?sue(r,1).join(""):e.slice(1);return n[t]()+i}}var uue=cue,fue=uue,hue=fue("toUpperCase"),due=hue;const Nw=xr(due);function jr(t){return function(){return t}}const i$=Math.cos,k2=Math.sin,qo=Math.sqrt,Q2=Math.PI,kw=2*Q2,BS=Math.PI,CS=2*BS,Wu=1e-6,pue=CS-Wu;function a$(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function gue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return a$;const r=SE(10,e);return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class mue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?a$:gue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,A=n-e,l=i-r,c=s-e,u=o-r,f=c*c+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Wu)if(!(Math.abs(u*A-l*c)>Wu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,d=i-o,p=A*A+l*l,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),w=a*Math.tan((BS-Math.acos((p+f-g)/(2*v*y)))/2),S=w/y,x=w/v;Math.abs(S-1)>Wu&&this._append`L${e+S*c},${r+S*u}`,this._append`A${a},${a},0,0,${+(u*h>c*d)},${this._x1=e+x*A},${this._y1=r+x*l}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,c=r+A,u=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Wu||Math.abs(this._y1-c)>Wu)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%CS+CS),f>pue?this._append`A${n},${n},0,1,${u},${e-o},${r-A}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:f>Wu&&this._append`A${n},${n},0,${+(f>=BS)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function $4(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new mue(e)}function j4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function s$(t){this._context=t}s$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qw(t){return new s$(t)}function o$(t){return t[0]}function A$(t){return t[1]}function l$(t,e){var r=jr(!0),n=null,i=Qw,a=null,s=$4(o);t=typeof t=="function"?t:t===void 0?o$:jr(t),e=typeof e=="function"?e:e===void 0?A$:jr(e);function o(A){var l,c=(A=j4(A)).length,u,f=!1,h;for(n==null&&(a=i(h=s())),l=0;l<=c;++l)!(l<c&&r(u=A[l],l,A))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,l,A),+e(u,l,A));if(h)return a=null,h+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:jr(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:jr(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:jr(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(a=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=a=null:a=i(n=A),o):n},o}function T1(t,e,r){var n=null,i=jr(!0),a=null,s=Qw,o=null,A=$4(l);t=typeof t=="function"?t:t===void 0?o$:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?A$:jr(+r);function l(u){var f,h,d,p=(u=j4(u)).length,g,v=!1,y,w=new Array(p),S=new Array(p);for(a==null&&(o=s(y=A())),f=0;f<=p;++f){if(!(f<p&&i(g=u[f],f,u))===v)if(v=!v)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=f-1;d>=h;--d)o.point(w[d],S[d]);o.lineEnd(),o.areaEnd()}v&&(w[f]=+t(g,f,u),S[f]=+e(g,f,u),o.point(n?+n(g,f,u):w[f],r?+r(g,f,u):S[f]))}if(y)return o=null,y+""||null}function c(){return l$().defined(i).curve(s).context(a)}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:jr(+u),n=null,l):t},l.x0=function(u){return arguments.length?(t=typeof u=="function"?u:jr(+u),l):t},l.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:jr(+u),l):n},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:jr(+u),r=null,l):e},l.y0=function(u){return arguments.length?(e=typeof u=="function"?u:jr(+u),l):e},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:jr(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(n).y(e)},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:jr(!!u),l):i},l.curve=function(u){return arguments.length?(s=u,a!=null&&(o=s(a)),l):s},l.context=function(u){return arguments.length?(u==null?a=o=null:o=s(a=u),l):a},l}class c${constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function vue(t){return new c$(t,!0)}function yue(t){return new c$(t,!1)}const G4={draw(t,e){const r=qo(e/Q2);t.moveTo(r,0),t.arc(0,0,r,0,kw)}},bue={draw(t,e){const r=qo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},u$=qo(1/3),wue=u$*2,xue={draw(t,e){const r=qo(e/wue),n=r*u$;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Eue={draw(t,e){const r=qo(e),n=-r/2;t.rect(n,n,r,r)}},Bue=.8908130915292852,f$=k2(Q2/10)/k2(7*Q2/10),Cue=k2(kw/10)*f$,Sue=-i$(kw/10)*f$,Tue={draw(t,e){const r=qo(e*Bue),n=Cue*r,i=Sue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=kw*a/5,o=i$(s),A=k2(s);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},lB=qo(3),_ue={draw(t,e){const r=-qo(e/(lB*3));t.moveTo(0,r*2),t.lineTo(-lB*r,-r),t.lineTo(lB*r,-r),t.closePath()}},Qs=-.5,Hs=qo(3)/2,SS=1/qo(12),Lue=(SS/2+1)*3,Iue={draw(t,e){const r=qo(e/Lue),n=r/2,i=r*SS,a=n,s=r*SS+r,o=-a,A=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,A),t.lineTo(Qs*n-Hs*i,Hs*n+Qs*i),t.lineTo(Qs*a-Hs*s,Hs*a+Qs*s),t.lineTo(Qs*o-Hs*A,Hs*o+Qs*A),t.lineTo(Qs*n+Hs*i,Qs*i-Hs*n),t.lineTo(Qs*a+Hs*s,Qs*s-Hs*a),t.lineTo(Qs*o+Hs*A,Qs*A-Hs*o),t.closePath()}};function Oue(t,e){let r=null,n=$4(i);t=typeof t=="function"?t:jr(t||G4),e=typeof e=="function"?e:jr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jr(+a),i):e},i.context=function(a){return arguments.length?(r=a==null?null:a,i):r},i}function H2(){}function $2(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function h$(t){this._context=t}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fue(t){return new h$(t)}function d$(t){this._context=t}d$.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pue(t){return new d$(t)}function p$(t){this._context=t}p$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uue(t){return new p$(t)}function g$(t){this._context=t}g$.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rue(t){return new g$(t)}function EP(t){return t<0?-1:1}function BP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(EP(a)+EP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function CP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function cB(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function j2(t){this._context=t}j2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cB(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cB(this,CP(this,r=BP(this,t,e)),r);break;default:cB(this,this._t0,r=BP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function m$(t){this._context=new v$(t)}(m$.prototype=Object.create(j2.prototype)).point=function(t,e){j2.prototype.point.call(this,e,t)};function v$(t){this._context=t}v$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Due(t){return new j2(t)}function Mue(t){return new m$(t)}function y$(t){this._context=t}y$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=SP(t),i=SP(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Nue(t){return new y$(t)}function Hw(t,e){this._context=t,this._t=e}Hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kue(t){return new Hw(t,.5)}function Que(t){return new Hw(t,0)}function Hue(t){return new Hw(t,1)}function Dd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function TS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function $ue(t,e){return t[e]}function jue(t){const e=[];return e.key=t,e}function Gue(){var t=jr([]),e=TS,r=Dd,n=$ue;function i(a){var s=Array.from(t.apply(this,arguments),jue),o,A=s.length,l=-1,c;for(const u of a)for(o=0,++l;o<A;++o)(s[o][l]=[0,+n(u,s[o].key,l,a)]).data=u;for(o=0,c=j4(e(s));o<A;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:jr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?TS:typeof a=="function"?a:jr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a==null?Dd:a,i):r},i}function Kue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Dd(t,e)}}function Vue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Dd(t,e)}}function Wue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,A=0,l=0;o<s;++o){for(var c=t[e[o]],u=c[n][1]||0,f=c[n-1][1]||0,h=(u-f)/2,d=0;d<o;++d){var p=t[e[d]],g=p[n][1]||0,v=p[n-1][1]||0;h+=g-v}A+=u,l+=h*u}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,Dd(t,e)}}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}var zue=["type","size","sizeType"];function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_S.apply(this,arguments)}function TP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(r),!0).forEach(function(n){Yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yue(t,e,r){return e=que(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function que(t){var e=Xue(t,"string");return q0(e)=="symbol"?e:e+""}function Xue(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jue(t,e){if(t==null)return{};var r=Zue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var b$={symbolCircle:G4,symbolCross:bue,symbolDiamond:xue,symbolSquare:Eue,symbolStar:Tue,symbolTriangle:_ue,symbolWye:Iue},efe=Math.PI/180,tfe=function(e){var r="symbol".concat(Nw(e));return b$[r]||G4},rfe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*efe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nfe=function(e,r){b$["symbol".concat(Nw(e))]=r},K4=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,A=Jue(e,zue),l=_P(_P({},A),{},{type:n,size:a,sizeType:o}),c=function(){var g=tfe(n),v=Oue().type(g).size(rfe(a,o,n));return v()},u=l.className,f=l.cx,h=l.cy,d=tr(l,!0);return f===+f&&h===+h&&a===+a?he.createElement("path",_S({},d,{className:cr("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:c()})):null};K4.registerSymbol=nfe;function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LS.apply(this,arguments)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ife(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function ofe(t,e,r){return e&&sfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Afe(t,e,r){return e=G2(e),lfe(t,w$()?Reflect.construct(e,r||[],G2(t).constructor):e.apply(t,r))}function lfe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(t)}function cfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w$=function(){return!!t})()}function G2(t){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G2(t)}function ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IS(t,e)}function X0(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=ffe(t,"string");return Md(e)=="symbol"?e:e+""}function ffe(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var To=32,V4=function(t){function e(){return afe(this,e),Afe(this,e,arguments)}return ufe(e,t),ofe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=To/2,s=To/6,o=To/3,A=n.inactive?i:n.color;if(n.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:A,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:To,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:A,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(To,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return he.createElement("path",{stroke:"none",fill:A,d:"M0,".concat(To/8,"h").concat(To,"v").concat(To*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(he.isValidElement(n.legendIcon)){var l=ife({},n);return delete l.legendIcon,he.cloneElement(n.legendIcon,l)}return he.createElement(K4,{fill:A,cx:a,cy:a,size:To,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,A=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:To,height:To},u={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,d){var p=h.formatter||A,g=cr(X0(X0({"recharts-legend-item":!0},"legend-item-".concat(d),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Kt(h.value)?null:h.value;kl(!Kt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?l:h.color;return he.createElement("li",LS({className:g,style:u,key:"legend-item-".concat(d)},N2(n.props,h,d)),he.createElement(bS,{width:s,height:s,viewBox:c,style:f},n.renderIcon(h)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(v,h,d):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(We.PureComponent);X0(V4,"displayName","Legend");X0(V4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hfe=Rw;function dfe(){this.__data__=new hfe,this.size=0}var pfe=dfe;function gfe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var mfe=gfe;function vfe(t){return this.__data__.get(t)}var yfe=vfe;function bfe(t){return this.__data__.has(t)}var wfe=bfe,xfe=Rw,Efe=R4,Bfe=D4,Cfe=200;function Sfe(t,e){var r=this.__data__;if(r instanceof xfe){var n=r.__data__;if(!Efe||n.length<Cfe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bfe(n)}return r.set(t,e),this.size=r.size,this}var Tfe=Sfe,_fe=Rw,Lfe=pfe,Ife=mfe,Ofe=yfe,Ffe=wfe,Pfe=Tfe;function Cp(t){var e=this.__data__=new _fe(t);this.size=e.size}Cp.prototype.clear=Lfe;Cp.prototype.delete=Ife;Cp.prototype.get=Ofe;Cp.prototype.has=Ffe;Cp.prototype.set=Pfe;var E$=Cp,Ufe="__lodash_hash_undefined__";function Rfe(t){return this.__data__.set(t,Ufe),this}var Dfe=Rfe;function Mfe(t){return this.__data__.has(t)}var Nfe=Mfe,kfe=D4,Qfe=Dfe,Hfe=Nfe;function K2(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new kfe;++e<r;)this.add(t[e])}K2.prototype.add=K2.prototype.push=Qfe;K2.prototype.has=Hfe;var B$=K2;function $fe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var C$=$fe;function jfe(t,e){return t.has(e)}var S$=jfe,Gfe=B$,Kfe=C$,Vfe=S$,Wfe=1,zfe=2;function Yfe(t,e,r,n,i,a){var s=r&Wfe,o=t.length,A=e.length;if(o!=A&&!(s&&A>o))return!1;var l=a.get(t),c=a.get(e);if(l&&c)return l==e&&c==t;var u=-1,f=!0,h=r&zfe?new Gfe:void 0;for(a.set(t,e),a.set(e,t);++u<o;){var d=t[u],p=e[u];if(n)var g=s?n(p,d,u,e,t,a):n(d,p,u,t,e,a);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!Kfe(e,function(v,y){if(!Vfe(h,y)&&(d===v||i(d,v,r,n,a)))return h.push(y)})){f=!1;break}}else if(!(d===p||i(d,p,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var T$=Yfe,qfe=zA,Xfe=qfe.Uint8Array,Jfe=Xfe;function Zfe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var ehe=Zfe;function the(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var W4=the,IP=Vm,OP=Jfe,rhe=U4,nhe=T$,ihe=ehe,ahe=W4,she=1,ohe=2,Ahe="[object Boolean]",lhe="[object Date]",che="[object Error]",uhe="[object Map]",fhe="[object Number]",hhe="[object RegExp]",dhe="[object Set]",phe="[object String]",ghe="[object Symbol]",mhe="[object ArrayBuffer]",vhe="[object DataView]",FP=IP?IP.prototype:void 0,uB=FP?FP.valueOf:void 0;function yhe(t,e,r,n,i,a,s){switch(r){case vhe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mhe:return!(t.byteLength!=e.byteLength||!a(new OP(t),new OP(e)));case Ahe:case lhe:case fhe:return rhe(+t,+e);case che:return t.name==e.name&&t.message==e.message;case hhe:case phe:return t==e+"";case uhe:var o=ihe;case dhe:var A=n&she;if(o||(o=ahe),t.size!=e.size&&!A)return!1;var l=s.get(t);if(l)return l==e;n|=ohe,s.set(t,e);var c=nhe(o(t),o(e),n,i,a,s);return s.delete(t),c;case ghe:if(uB)return uB.call(t)==uB.call(e)}return!1}var bhe=yhe;function whe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var _$=whe,xhe=_$,Ehe=is;function Bhe(t,e,r){var n=e(t);return Ehe(t)?n:xhe(n,r(t))}var Che=Bhe;function She(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var The=She;function _he(){return[]}var Lhe=_he,Ihe=The,Ohe=Lhe,Fhe=Object.prototype,Phe=Fhe.propertyIsEnumerable,PP=Object.getOwnPropertySymbols,Uhe=PP?function(t){return t==null?[]:(t=Object(t),Ihe(PP(t),function(e){return Phe.call(t,e)}))}:Ohe,Rhe=Uhe;function Dhe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Mhe=Dhe,Nhe=Jl,khe=Zl,Qhe="[object Arguments]";function Hhe(t){return khe(t)&&Nhe(t)==Qhe}var $he=Hhe,UP=$he,jhe=Zl,L$=Object.prototype,Ghe=L$.hasOwnProperty,Khe=L$.propertyIsEnumerable,Vhe=UP(function(){return arguments}())?UP:function(t){return jhe(t)&&Ghe.call(t,"callee")&&!Khe.call(t,"callee")},z4=Vhe,V2={exports:{}};function Whe(){return!1}var zhe=Whe;V2.exports;(function(t,e){var r=zA,n=zhe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,A=o?o.isBuffer:void 0,l=A||n;t.exports=l})(V2,V2.exports);var I$=V2.exports,Yhe=9007199254740991,qhe=/^(?:0|[1-9]\d*)$/;function Xhe(t,e){var r=typeof t;return e=e==null?Yhe:e,!!e&&(r=="number"||r!="symbol"&&qhe.test(t))&&t>-1&&t%1==0&&t<e}var Y4=Xhe,Jhe=9007199254740991;function Zhe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jhe}var q4=Zhe,ede=Jl,tde=q4,rde=Zl,nde="[object Arguments]",ide="[object Array]",ade="[object Boolean]",sde="[object Date]",ode="[object Error]",Ade="[object Function]",lde="[object Map]",cde="[object Number]",ude="[object Object]",fde="[object RegExp]",hde="[object Set]",dde="[object String]",pde="[object WeakMap]",gde="[object ArrayBuffer]",mde="[object DataView]",vde="[object Float32Array]",yde="[object Float64Array]",bde="[object Int8Array]",wde="[object Int16Array]",xde="[object Int32Array]",Ede="[object Uint8Array]",Bde="[object Uint8ClampedArray]",Cde="[object Uint16Array]",Sde="[object Uint32Array]",Jr={};Jr[vde]=Jr[yde]=Jr[bde]=Jr[wde]=Jr[xde]=Jr[Ede]=Jr[Bde]=Jr[Cde]=Jr[Sde]=!0;Jr[nde]=Jr[ide]=Jr[gde]=Jr[ade]=Jr[mde]=Jr[sde]=Jr[ode]=Jr[Ade]=Jr[lde]=Jr[cde]=Jr[ude]=Jr[fde]=Jr[hde]=Jr[dde]=Jr[pde]=!1;function Tde(t){return rde(t)&&tde(t.length)&&!!Jr[ede(t)]}var _de=Tde;function Lde(t){return function(e){return t(e)}}var O$=Lde,W2={exports:{}};W2.exports;(function(t,e){var r=HH,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var A=i&&i.require&&i.require("util").types;return A||s&&s.binding&&s.binding("util")}catch(l){}}();t.exports=o})(W2,W2.exports);var Ide=W2.exports,Ode=_de,Fde=O$,RP=Ide,DP=RP&&RP.isTypedArray,Pde=DP?Fde(DP):Ode,F$=Pde,Ude=Mhe,Rde=z4,Dde=is,Mde=I$,Nde=Y4,kde=F$,Qde=Object.prototype,Hde=Qde.hasOwnProperty;function $de(t,e){var r=Dde(t),n=!r&&Rde(t),i=!r&&!n&&Mde(t),a=!r&&!n&&!i&&kde(t),s=r||n||i||a,o=s?Ude(t.length,String):[],A=o.length;for(var l in t)(e||Hde.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Nde(l,A)))&&o.push(l);return o}var jde=$de,Gde=Object.prototype;function Kde(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Gde;return t===r}var Vde=Kde;function Wde(t,e){return function(r){return t(e(r))}}var P$=Wde,zde=P$,Yde=zde(Object.keys,Object),qde=Yde,Xde=Vde,Jde=qde,Zde=Object.prototype,epe=Zde.hasOwnProperty;function tpe(t){if(!Xde(t))return Jde(t);var e=[];for(var r in Object(t))epe.call(t,r)&&r!="constructor"&&e.push(r);return e}var rpe=tpe,npe=P4,ipe=q4;function ape(t){return t!=null&&ipe(t.length)&&!npe(t)}var qm=ape,spe=jde,ope=rpe,Ape=qm;function lpe(t){return Ape(t)?spe(t):ope(t)}var $w=lpe,cpe=Che,upe=Rhe,fpe=$w;function hpe(t){return cpe(t,fpe,upe)}var dpe=hpe,MP=dpe,ppe=1,gpe=Object.prototype,mpe=gpe.hasOwnProperty;function vpe(t,e,r,n,i,a){var s=r&ppe,o=MP(t),A=o.length,l=MP(e),c=l.length;if(A!=c&&!s)return!1;for(var u=A;u--;){var f=o[u];if(!(s?f in e:mpe.call(e,f)))return!1}var h=a.get(t),d=a.get(e);if(h&&d)return h==e&&d==t;var p=!0;a.set(t,e),a.set(e,t);for(var g=s;++u<A;){f=o[u];var v=t[f],y=e[f];if(n)var w=s?n(y,v,f,e,t,a):n(v,y,f,t,e,a);if(!(w===void 0?v===y||i(v,y,r,n,a):w)){p=!1;break}g||(g=f=="constructor")}if(p&&!g){var S=t.constructor,x=e.constructor;S!=x&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(p=!1)}return a.delete(t),a.delete(e),p}var ype=vpe,bpe=kf,wpe=zA,xpe=bpe(wpe,"DataView"),Epe=xpe,Bpe=kf,Cpe=zA,Spe=Bpe(Cpe,"Promise"),Tpe=Spe,_pe=kf,Lpe=zA,Ipe=_pe(Lpe,"Set"),U$=Ipe,Ope=kf,Fpe=zA,Ppe=Ope(Fpe,"WeakMap"),Upe=Ppe,OS=Epe,FS=R4,PS=Tpe,US=U$,RS=Upe,R$=Jl,Sp=jH,NP="[object Map]",Rpe="[object Object]",kP="[object Promise]",QP="[object Set]",HP="[object WeakMap]",$P="[object DataView]",Dpe=Sp(OS),Mpe=Sp(FS),Npe=Sp(PS),kpe=Sp(US),Qpe=Sp(RS),zu=R$;(OS&&zu(new OS(new ArrayBuffer(1)))!=$P||FS&&zu(new FS)!=NP||PS&&zu(PS.resolve())!=kP||US&&zu(new US)!=QP||RS&&zu(new RS)!=HP)&&(zu=function(t){var e=R$(t),r=e==Rpe?t.constructor:void 0,n=r?Sp(r):"";if(n)switch(n){case Dpe:return $P;case Mpe:return NP;case Npe:return kP;case kpe:return QP;case Qpe:return HP}return e});var Hpe=zu,fB=E$,$pe=T$,jpe=bhe,Gpe=ype,jP=Hpe,GP=is,KP=I$,Kpe=F$,Vpe=1,VP="[object Arguments]",WP="[object Array]",_1="[object Object]",Wpe=Object.prototype,zP=Wpe.hasOwnProperty;function zpe(t,e,r,n,i,a){var s=GP(t),o=GP(e),A=s?WP:jP(t),l=o?WP:jP(e);A=A==VP?_1:A,l=l==VP?_1:l;var c=A==_1,u=l==_1,f=A==l;if(f&&KP(t)){if(!KP(e))return!1;s=!0,c=!1}if(f&&!c)return a||(a=new fB),s||Kpe(t)?$pe(t,e,r,n,i,a):jpe(t,e,A,r,n,i,a);if(!(r&Vpe)){var h=c&&zP.call(t,"__wrapped__"),d=u&&zP.call(e,"__wrapped__");if(h||d){var p=h?t.value():t,g=d?e.value():e;return a||(a=new fB),i(p,g,r,n,a)}}return f?(a||(a=new fB),Gpe(t,e,r,n,i,a)):!1}var Ype=zpe,qpe=Ype,YP=Zl;function D$(t,e,r,n,i){return t===e?!0:t==null||e==null||!YP(t)&&!YP(e)?t!==t&&e!==e:qpe(t,e,r,n,D$,i)}var X4=D$,Xpe=E$,Jpe=X4,Zpe=1,ege=2;function tge(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var A=o[0],l=t[A],c=o[1];if(s&&o[2]){if(l===void 0&&!(A in t))return!1}else{var u=new Xpe;if(n)var f=n(l,c,A,t,e,u);if(!(f===void 0?Jpe(c,l,Zpe|ege,n,u):f))return!1}}return!0}var rge=tge,nge=fu;function ige(t){return t===t&&!nge(t)}var M$=ige,age=M$,sge=$w;function oge(t){for(var e=sge(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,age(i)]}return e}var Age=oge;function lge(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var N$=lge,cge=rge,uge=Age,fge=N$;function hge(t){var e=uge(t);return e.length==1&&e[0][2]?fge(e[0][0],e[0][1]):function(r){return r===t||cge(r,t,e)}}var dge=hge;function pge(t,e){return t!=null&&e in Object(t)}var gge=pge,mge=zH,vge=z4,yge=is,bge=Y4,wge=q4,xge=Mw;function Ege(t,e,r){e=mge(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=xge(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&wge(i)&&bge(s,i)&&(yge(t)||vge(t)))}var Bge=Ege,Cge=gge,Sge=Bge;function Tge(t,e){return t!=null&&Sge(t,e,Cge)}var _ge=Tge,Lge=X4,Ige=YH,Oge=_ge,Fge=F4,Pge=M$,Uge=N$,Rge=Mw,Dge=1,Mge=2;function Nge(t,e){return Fge(t)&&Pge(e)?Uge(Rge(t),e):function(r){var n=Ige(r,t);return n===void 0&&n===e?Oge(r,t):Lge(e,n,Dge|Mge)}}var kge=Nge;function Qge(t){return t}var Tp=Qge;function Hge(t){return function(e){return e==null?void 0:e[t]}}var $ge=Hge,jge=k4;function Gge(t){return function(e){return jge(e,t)}}var Kge=Gge,Vge=$ge,Wge=Kge,zge=F4,Yge=Mw;function qge(t){return zge(t)?Vge(Yge(t)):Wge(t)}var Xge=qge,Jge=dge,Zge=kge,e0e=Tp,t0e=is,r0e=Xge;function n0e(t){return typeof t=="function"?t:t==null?e0e:typeof t=="object"?t0e(t)?Zge(t[0],t[1]):Jge(t):r0e(t)}var hu=n0e;function i0e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var k$=i0e;function a0e(t){return t!==t}var s0e=a0e;function o0e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var A0e=o0e,l0e=k$,c0e=s0e,u0e=A0e;function f0e(t,e,r){return e===e?u0e(t,e,r):l0e(t,c0e,r)}var h0e=f0e,d0e=h0e;function p0e(t,e){var r=t==null?0:t.length;return!!r&&d0e(t,e,0)>-1}var g0e=p0e;function m0e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var v0e=m0e;function y0e(){}var b0e=y0e,hB=U$,w0e=b0e,x0e=W4,E0e=1/0,B0e=hB&&1/x0e(new hB([,-0]))[1]==E0e?function(t){return new hB(t)}:w0e,C0e=B0e,S0e=B$,T0e=g0e,_0e=v0e,L0e=S$,I0e=C0e,O0e=W4,F0e=200;function P0e(t,e,r){var n=-1,i=T0e,a=t.length,s=!0,o=[],A=o;if(r)s=!1,i=_0e;else if(a>=F0e){var l=e?null:I0e(t);if(l)return O0e(l);s=!1,i=L0e,A=new S0e}else A=e?[]:o;e:for(;++n<a;){var c=t[n],u=e?e(c):c;if(c=r||c!==0?c:0,s&&u===u){for(var f=A.length;f--;)if(A[f]===u)continue e;e&&A.push(u),o.push(c)}else i(A,u,r)||(A!==o&&A.push(u),o.push(c))}return o}var U0e=P0e,R0e=hu,D0e=U0e;function M0e(t,e){return t&&t.length?D0e(t,R0e(e)):[]}var N0e=M0e;const qP=xr(N0e);function Q$(t,e,r){return e===!0?qP(t,r):Kt(e)?qP(t,e):t}function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}var k0e=["ref"];function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){jw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$$(n.key),n)}}function H0e(t,e,r){return e&&JP(t.prototype,e),r&&JP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $0e(t,e,r){return e=z2(e),j0e(t,H$()?Reflect.construct(e,r||[],z2(t).constructor):e.apply(t,r))}function j0e(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G0e(t)}function G0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(H$=function(){return!!t})()}function z2(t){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z2(t)}function K0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DS(t,e)}function jw(t,e,r){return e=$$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$(t){var e=V0e(t,"string");return Nd(e)=="symbol"?e:e+""}function V0e(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W0e(t,e){if(t==null)return{};var r=z0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y0e(t){return t.value}function q0e(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var r=W0e(e,k0e);return he.createElement(V4,r)}var ZP=1,bd=function(t){function e(){var r;Q0e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$0e(this,e,[].concat(i)),jw(r,"lastBoundingBox",{width:-1,height:-1}),r}return K0e(e,t),H0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ZP||Math.abs(i.height-this.lastBoundingBox.height)>ZP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,A=i.margin,l=i.chartWidth,c=i.chartHeight,u,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();u={left:((l||0)-h.width)/2}}else u=s==="right"?{right:A&&A.right||0}:{left:A&&A.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var d=this.getBBoxSnapshot();f={top:((c||0)-d.height)/2}}else f=o==="bottom"?{bottom:A&&A.bottom||0}:{top:A&&A.top||0};return bl(bl({},u),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,A=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,u=bl(bl({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(A)),A);return he.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(h){n.wrapperNode=h}},q0e(a,bl(bl({},this.props),{},{payload:Q$(c,l,Y0e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=bl(bl({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Je(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(We.PureComponent);jw(bd,"displayName","Legend");jw(bd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eU=Vm,X0e=z4,J0e=is,tU=eU?eU.isConcatSpreadable:void 0;function Z0e(t){return J0e(t)||X0e(t)||!!(tU&&t&&t[tU])}var eme=Z0e,tme=_$,rme=eme;function j$(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=rme),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?j$(o,e-1,r,n,i):tme(i,o):n||(i[i.length]=o)}return i}var G$=j$;function nme(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var A=s[t?o:++i];if(r(a[A],A,a)===!1)break}return e}}var ime=nme,ame=ime,sme=ame(),ome=sme,Ame=ome,lme=$w;function cme(t,e){return t&&Ame(t,e,lme)}var K$=cme,ume=qm;function fme(t,e){return function(r,n){if(r==null)return r;if(!ume(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var hme=fme,dme=K$,pme=hme,gme=pme(dme),J4=gme,mme=J4,vme=qm;function yme(t,e){var r=-1,n=vme(t)?Array(t.length):[];return mme(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var V$=yme;function bme(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var wme=bme,rU=bp;function xme(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=rU(t),s=e!==void 0,o=e===null,A=e===e,l=rU(e);if(!o&&!l&&!a&&t>e||a&&s&&A&&!o&&!l||n&&s&&A||!r&&A||!i)return 1;if(!n&&!a&&!l&&t<e||l&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!A)return-1}return 0}var Eme=xme,Bme=Eme;function Cme(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var A=Bme(i[n],a[n]);if(A){if(n>=o)return A;var l=r[n];return A*(l=="desc"?-1:1)}}return t.index-e.index}var Sme=Cme,dB=N4,Tme=k4,_me=hu,Lme=V$,Ime=wme,Ome=O$,Fme=Sme,Pme=Tp,Ume=is;function Rme(t,e,r){e.length?e=dB(e,function(a){return Ume(a)?function(s){return Tme(s,a.length===1?a[0]:a)}:a}):e=[Pme];var n=-1;e=dB(e,Ome(_me));var i=Lme(t,function(a,s,o){var A=dB(e,function(l){return l(a)});return{criteria:A,index:++n,value:a}});return Ime(i,function(a,s){return Fme(a,s,r)})}var Dme=Rme;function Mme(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Nme=Mme,kme=Nme,nU=Math.max;function Qme(t,e,r){return e=nU(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=nU(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),kme(t,this,o)}}var Hme=Qme;function $me(t){return function(){return t}}var jme=$me,Gme=kf,Kme=function(){try{var t=Gme(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),W$=Kme,Vme=jme,iU=W$,Wme=Tp,zme=iU?function(t,e){return iU(t,"toString",{configurable:!0,enumerable:!1,value:Vme(e),writable:!0})}:Wme,Yme=zme,qme=800,Xme=16,Jme=Date.now;function Zme(t){var e=0,r=0;return function(){var n=Jme(),i=Xme-(n-r);if(r=n,i>0){if(++e>=qme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eve=Zme,tve=Yme,rve=eve,nve=rve(tve),ive=nve,ave=Tp,sve=Hme,ove=ive;function Ave(t,e){return ove(sve(t,e,ave),t+"")}var lve=Ave,cve=U4,uve=qm,fve=Y4,hve=fu;function dve(t,e,r){if(!hve(r))return!1;var n=typeof e;return(n=="number"?uve(r)&&fve(e,r.length):n=="string"&&e in r)?cve(r[e],t):!1}var Gw=dve,pve=G$,gve=Dme,mve=lve,aU=Gw,vve=mve(function(t,e){if(t==null)return[];var r=e.length;return r>1&&aU(t,e[0],e[1])?e=[]:r>2&&aU(e[0],e[1],e[2])&&(e=[e[0]]),gve(t,pve(e,1),[])}),yve=vve;const Z4=xr(yve);function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MS.apply(this,arguments)}function bve(t,e){return Bve(t)||Eve(t,e)||xve(t,e)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(t,e){if(t){if(typeof t=="string")return sU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sU(t,e)}}function sU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eve(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function Bve(t){if(Array.isArray(t))return t}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){Cve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cve(t,e,r){return e=Sve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sve(t){var e=Tve(t,"string");return J0(e)=="symbol"?e:e+""}function Tve(t,e){if(J0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ve(t){return Array.isArray(t)&&gi(t[0])&&gi(t[1])?t.join(" ~ "):t}var Lve=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,A=e.labelStyle,l=A===void 0?{}:A,c=e.payload,u=e.formatter,f=e.itemSorter,h=e.wrapperClassName,d=e.labelClassName,p=e.label,g=e.labelFormatter,v=e.accessibilityLayer,y=v===void 0?!1:v,w=function(){if(c&&c.length){var F={padding:0,margin:0},R=(f?Z4(c,f):c).map(function(M,z){if(M.type==="none")return null;var N=pB({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),Y=M.formatter||u||_ve,X=M.value,H=M.name,W=X,Z=H;if(Y&&W!=null&&Z!=null){var I=Y(X,H,M,z,c);if(Array.isArray(I)){var U=bve(I,2);W=U[0],Z=U[1]}else W=I}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:N},gi(Z)?he.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,gi(Z)?he.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,he.createElement("span",{className:"recharts-tooltip-item-value"},W),he.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:F},R)}return null},S=pB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=pB({margin:0},l),E=!Yt(p),C=E?p:"",L=cr("recharts-default-tooltip",h),O=cr("recharts-tooltip-label",d);E&&g&&c!==void 0&&c!==null&&(C=g(p,c));var D=y?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",MS({className:L,style:S},D),he.createElement("p",{className:O,style:x},he.isValidElement(C)?C:"".concat(C)),w())};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function L1(t,e,r){return e=Ive(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ive(t){var e=Ove(t,"string");return Z0(e)=="symbol"?e:e+""}function Ove(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg="recharts-tooltip-wrapper",Fve={visibility:"hidden"};function Pve(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return cr(xg,L1(L1(L1(L1({},"".concat(xg,"-right"),Je(r)&&e&&Je(e.x)&&r>=e.x),"".concat(xg,"-left"),Je(r)&&e&&Je(e.x)&&r<e.x),"".concat(xg,"-bottom"),Je(n)&&e&&Je(e.y)&&n>=e.y),"".concat(xg,"-top"),Je(n)&&e&&Je(e.y)&&n<e.y))}function AU(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,A=t.viewBox,l=t.viewBoxDimension;if(a&&Je(a[n]))return a[n];var c=r[n]-o-i,u=r[n]+i;if(e[n])return s[n]?c:u;if(s[n]){var f=c,h=A[n];return f<h?Math.max(u,A[n]):Math.max(c,A[n])}var d=u+o,p=A[n]+l;return d>p?Math.max(c,A[n]):Math.max(u,A[n])}function Uve(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Rve(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,A=t.viewBox,l,c,u;return s.height>0&&s.width>0&&r?(c=AU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:A,viewBoxDimension:A.width}),u=AU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:A,viewBoxDimension:A.height}),l=Uve({translateX:c,translateY:u,useTranslate3d:o})):l=Fve,{cssProperties:l,cssClasses:Pve({translateX:c,translateY:u,coordinate:r})}}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function lU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(r),!0).forEach(function(n){kS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y$(n.key),n)}}function Nve(t,e,r){return e&&Mve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kve(t,e,r){return e=Y2(e),Qve(t,z$()?Reflect.construct(e,r||[],Y2(t).constructor):e.apply(t,r))}function Qve(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hve(t)}function Hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(z$=function(){return!!t})()}function Y2(t){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y2(t)}function $ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NS(t,e)}function kS(t,e,r){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y$(t){var e=jve(t,"string");return kd(e)=="symbol"?e:e+""}function jve(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uU=1,Gve=function(t){function e(){var r;Dve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kve(this,e,[].concat(i)),kS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kS(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,A,l,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(A=r.props.coordinate)===null||A===void 0?void 0:A.x)!==null&&o!==void 0?o:0,y:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),r}return $ve(e,t),Nve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uU||Math.abs(n.height-this.state.lastBoundingBox.height)>uU)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,A=i.animationEasing,l=i.children,c=i.coordinate,u=i.hasPayload,f=i.isAnimationActive,h=i.offset,d=i.position,p=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,y=i.wrapperStyle,w=Rve({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:h,position:d,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),S=w.cssClasses,x=w.cssProperties,E=cU(cU({transition:f&&a?"transform ".concat(o,"ms ").concat(A):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0},y);return he.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(L){n.wrapperNode=L}},l)}}])}(We.PureComponent),Kve=function(){return!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout)},_p={isSsr:Kve()};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function fU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(r),!0).forEach(function(n){e3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X$(n.key),n)}}function zve(t,e,r){return e&&Wve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yve(t,e,r){return e=q2(e),qve(t,q$()?Reflect.construct(e,r||[],q2(t).constructor):e.apply(t,r))}function qve(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(t)}function Xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q$=function(){return!!t})()}function q2(t){return q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q2(t)}function Jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QS(t,e)}function e3(t,e,r){return e=X$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X$(t){var e=Zve(t,"string");return Qd(e)=="symbol"?e:e+""}function Zve(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function e1e(t){return t.dataKey}function t1e(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(Lve,e)}var Tl=function(t){function e(){return Vve(this,e),Yve(this,e,arguments)}return Jve(e,t),zve(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,A=i.animationEasing,l=i.content,c=i.coordinate,u=i.filterNull,f=i.isAnimationActive,h=i.offset,d=i.payload,p=i.payloadUniqBy,g=i.position,v=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,x=d!=null?d:[];u&&x.length&&(x=Q$(d.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),p,e1e));var E=x.length>0;return he.createElement(Gve,{allowEscapeViewBox:s,animationDuration:o,animationEasing:A,isAnimationActive:f,active:a,coordinate:c,hasPayload:E,offset:h,position:g,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:S},t1e(l,hU(hU({},this.props),{},{payload:x})))}}])}(We.PureComponent);e3(Tl,"displayName","Tooltip");e3(Tl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_p.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var r1e=zA,n1e=function(){return r1e.Date.now()},i1e=n1e,a1e=/\s/;function s1e(t){for(var e=t.length;e--&&a1e.test(t.charAt(e)););return e}var o1e=s1e,A1e=o1e,l1e=/^\s+/;function c1e(t){return t&&t.slice(0,A1e(t)+1).replace(l1e,"")}var u1e=c1e,f1e=u1e,dU=fu,h1e=bp,pU=NaN,d1e=/^[-+]0x[0-9a-f]+$/i,p1e=/^0b[01]+$/i,g1e=/^0o[0-7]+$/i,m1e=parseInt;function v1e(t){if(typeof t=="number")return t;if(h1e(t))return pU;if(dU(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dU(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=f1e(t);var r=p1e.test(t);return r||g1e.test(t)?m1e(t.slice(2),r?2:8):d1e.test(t)?pU:+t}var J$=v1e,y1e=fu,gB=i1e,gU=J$,b1e="Expected a function",w1e=Math.max,x1e=Math.min;function E1e(t,e,r){var n,i,a,s,o,A,l=0,c=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(b1e);e=gU(e)||0,y1e(r)&&(c=!!r.leading,u="maxWait"in r,a=u?w1e(gU(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function h(E){var C=n,L=i;return n=i=void 0,l=E,s=t.apply(L,C),s}function d(E){return l=E,o=setTimeout(v,e),c?h(E):s}function p(E){var C=E-A,L=E-l,O=e-C;return u?x1e(O,a-L):O}function g(E){var C=E-A,L=E-l;return A===void 0||C>=e||C<0||u&&L>=a}function v(){var E=gB();if(g(E))return y(E);o=setTimeout(v,p(E))}function y(E){return o=void 0,f&&n?h(E):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),l=0,n=A=i=o=void 0}function S(){return o===void 0?s:y(gB())}function x(){var E=gB(),C=g(E);if(n=arguments,i=this,A=E,C){if(o===void 0)return d(A);if(u)return clearTimeout(o),o=setTimeout(v,e),h(A)}return o===void 0&&(o=setTimeout(v,e)),s}return x.cancel=w,x.flush=S,x}var B1e=E1e,C1e=B1e,S1e=fu,T1e="Expected a function";function _1e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(T1e);return S1e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),C1e(t,e,{leading:n,maxWait:e,trailing:i})}var L1e=_1e;const Z$=xr(L1e);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){I1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I1e(t,e,r){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O1e(t){var e=F1e(t,"string");return em(e)=="symbol"?e:e+""}function F1e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P1e(t,e){return M1e(t)||D1e(t,e)||R1e(t,e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R1e(t,e){if(t){if(typeof t=="string")return vU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vU(t,e)}}function vU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D1e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function M1e(t){if(Array.isArray(t))return t}var DGe=We.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,A=o===void 0?"100%":o,l=t.minWidth,c=l===void 0?0:l,u=t.minHeight,f=t.maxHeight,h=t.children,d=t.debounce,p=d===void 0?0:d,g=t.id,v=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,x=We.useRef(null),E=We.useRef();E.current=y,We.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var C=We.useState({containerWidth:i.width,containerHeight:i.height}),L=P1e(C,2),O=L[0],D=L[1],_=We.useCallback(function(R,M){D(function(z){var N=Math.round(R),Y=Math.round(M);return z.containerWidth===N&&z.containerHeight===Y?z:{containerWidth:N,containerHeight:Y}})},[]);We.useEffect(function(){var R=function(H){var W,Z=H[0].contentRect,I=Z.width,U=Z.height;_(I,U),(W=E.current)===null||W===void 0||W.call(E,I,U)};p>0&&(R=Z$(R,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),z=x.current.getBoundingClientRect(),N=z.width,Y=z.height;return _(N,Y),M.observe(x.current),function(){M.disconnect()}},[_,p]);var F=We.useMemo(function(){var R=O.containerWidth,M=O.containerHeight;if(R<0||M<0)return null;kl(af(s)||af(A),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,A),kl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=af(s)?R:s,N=af(A)?M:A;r&&r>0&&(z?N=z/r:N&&(z=N*r),f&&N>f&&(N=f)),kl(z>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,s,A,c,u,r);var Y=!Array.isArray(h)&&Nl(h.type).endsWith("Chart");return he.Children.map(h,function(X){return he.isValidElement(X)?We.cloneElement(X,I1({width:z,height:N},Y?{style:I1({height:"100%",width:"100%",maxHeight:N,maxWidth:z},X.props.style)}:{})):X})},[r,h,A,f,u,c,O,s]);return he.createElement("div",{id:g?"".concat(g):void 0,className:cr("recharts-responsive-container",v),style:I1(I1({},S),{},{width:s,height:A,minWidth:c,minHeight:u,maxHeight:f}),ref:x},F)}),e9=function(e){return null};e9.displayName="Cell";function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(n){N1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N1e(t,e,r){return e=k1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k1e(t){var e=Q1e(t,"string");return tm(e)=="symbol"?e:e+""}function Q1e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh={widthCache:{},cacheCount:0},H1e=2e3,$1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bU="recharts_measurement_span";function j1e(t){var e=HS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var S0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_p.isSsr)return{width:0,height:0};var n=j1e(r),i=JSON.stringify({text:e,copyStyle:n});if(Sh.widthCache[i])return Sh.widthCache[i];try{var a=document.getElementById(bU);a||(a=document.createElement("span"),a.setAttribute("id",bU),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=HS(HS({},$1e),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),A={width:o.width,height:o.height};return Sh.widthCache[i]=A,++Sh.cacheCount>H1e&&(Sh.cacheCount=0,Sh.widthCache={}),A}catch(l){return{width:0,height:0}}},G1e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function X2(t,e){return z1e(t)||W1e(t,e)||V1e(t,e)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(t,e){if(t){if(typeof t=="string")return wU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wU(t,e)}}function wU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W1e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function z1e(t){if(Array.isArray(t))return t}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X1e(n.key),n)}}function q1e(t,e,r){return e&&xU(t.prototype,e),r&&xU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1e(t){var e=J1e(t,"string");return rm(e)=="symbol"?e:e+""}function J1e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,t9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tye=Object.keys(t9),ad="NaN";function rye(t,e){return t*t9[e]}var O1=function(){function t(e,r){Y1e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Z1e.test(r)&&(this.num=NaN,this.unit=""),tye.includes(r)&&(this.num=rye(e,r),this.unit="px")}return q1e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=eye.exec(r))!==null&&n!==void 0?n:[],a=X2(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o!=null?o:"")}}])}();function r9(t){if(t.includes(ad))return ad;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=EU.exec(e))!==null&&r!==void 0?r:[],i=X2(n,4),a=i[1],s=i[2],o=i[3],A=O1.parse(a!=null?a:""),l=O1.parse(o!=null?o:""),c=s==="*"?A.multiply(l):A.divide(l);if(c.isNaN())return ad;e=e.replace(EU,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,f=(u=BU.exec(e))!==null&&u!==void 0?u:[],h=X2(f,4),d=h[1],p=h[2],g=h[3],v=O1.parse(d!=null?d:""),y=O1.parse(g!=null?g:""),w=p==="+"?v.add(y):v.subtract(y);if(w.isNaN())return ad;e=e.replace(BU,w.toString())}return e}var CU=/\(([^()]*)\)/;function nye(t){for(var e=t;e.includes("(");){var r=CU.exec(e),n=X2(r,2),i=n[1];e=e.replace(CU,r9(i))}return e}function iye(t){var e=t.replace(/\s+/g,"");return e=nye(e),e=r9(e),e}function aye(t){try{return iye(t)}catch(e){return ad}}function mB(t){var e=aye(t.slice(5,-1));return e===ad?"":e}var sye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oye=["dx","dy","angle","className","breakAll"];function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$S.apply(this,arguments)}function SU(t,e){if(t==null)return{};var r=Aye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TU(t,e){return fye(t)||uye(t,e)||cye(t,e)||lye()}function lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cye(t,e){if(t){if(typeof t=="string")return _U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _U(t,e)}}function _U(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uye(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function fye(t){if(Array.isArray(t))return t}var n9=/[ \f\n\r\t\v\u2028\u2029]+/,i9=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Yt(r)||(n?a=r.toString().split(""):a=r.toString().split(n9));var s=a.map(function(A){return{word:A,width:S0(A,i).width}}),o=n?0:S0("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch(A){return null}},hye=function(e,r,n,i,a){var s=e.maxLines,o=e.children,A=e.style,l=e.breakAll,c=Je(s),u=o,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(N,Y){var X=Y.word,H=Y.width,W=N[N.length-1];if(W&&(i==null||a||W.width+H+n<Number(i)))W.words.push(X),W.width+=H+n;else{var Z={words:[X],width:H};N.push(Z)}return N},[])},h=f(r),d=function(z){return z.reduce(function(N,Y){return N.width>Y.width?N:Y})};if(!c)return h;for(var p="",g=function(z){var N=u.slice(0,z),Y=i9({breakAll:l,style:A,children:N+p}).wordsWithComputedWidth,X=f(Y),H=X.length>s||d(X).width>Number(i);return[H,X]},v=0,y=u.length-1,w=0,S;v<=y&&w<=u.length-1;){var x=Math.floor((v+y)/2),E=x-1,C=g(E),L=TU(C,2),O=L[0],D=L[1],_=g(x),F=TU(_,1),R=F[0];if(!O&&!R&&(v=x+1),O&&R&&(y=x-1),!O&&R){S=D;break}w++}return S||h},LU=function(e){var r=Yt(e)?[]:e.toString().split(n9);return[{words:r}]},dye=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!_p.isSsr){var A,l,c=i9({breakAll:s,children:i,style:a});if(c){var u=c.wordsWithComputedWidth,f=c.spaceWidth;A=u,l=f}else return LU(i);return hye({breakAll:s,children:i,maxLines:o,style:a},A,l,r,n)}return LU(i)},IU="#808080",J2=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,A=e.capHeight,l=A===void 0?"0.71em":A,c=e.scaleToFit,u=c===void 0?!1:c,f=e.textAnchor,h=f===void 0?"start":f,d=e.verticalAnchor,p=d===void 0?"end":d,g=e.fill,v=g===void 0?IU:g,y=SU(e,sye),w=We.useMemo(function(){return dye({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),S=y.dx,x=y.dy,E=y.angle,C=y.className,L=y.breakAll,O=SU(y,oye);if(!gi(n)||!gi(a))return null;var D=n+(Je(S)?S:0),_=a+(Je(x)?x:0),F;switch(p){case"start":F=mB("calc(".concat(l,")"));break;case"middle":F=mB("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:F=mB("calc(".concat(w.length-1," * -").concat(o,")"));break}var R=[];if(u){var M=w[0].width,z=y.width;R.push("scale(".concat((Je(z)?z/M:1)/M,")"))}return E&&R.push("rotate(".concat(E,", ").concat(D,", ").concat(_,")")),R.length&&(O.transform=R.join(" ")),he.createElement("text",$S({},tr(O,!0),{x:D,y:_,className:cr("recharts-text",C),textAnchor:h,fill:v.includes("url")?IU:v}),w.map(function(N,Y){var X=N.words.join(L?"":" ");return he.createElement("tspan",{x:D,dy:Y===0?F:o,key:"".concat(X,"-").concat(Y)},X)}))};function Yc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t3(t){let e,r,n;t.length!==2?(e=Yc,r=(o,A)=>Yc(t(o),A),n=(o,A)=>t(o)-A):(e=t===Yc||t===pye?t:gye,r=t,n=t);function i(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const u=l+c>>>1;r(o[u],A)<0?l=u+1:c=u}while(l<c)}return l}function a(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const u=l+c>>>1;r(o[u],A)<=0?l=u+1:c=u}while(l<c)}return l}function s(o,A,l=0,c=o.length){const u=i(o,A,l,c-1);return u>l&&n(o[u-1],A)>-n(o[u],A)?u-1:u}return{left:i,center:s,right:a}}function gye(){return 0}function a9(t){return t===null?NaN:+t}function*mye(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const vye=t3(Yc),Xm=vye.right;t3(a9).center;class OU extends Map{constructor(e,r=wye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(FU(this,e))}has(e){return super.has(FU(this,e))}set(e,r){return super.set(yye(this,e),r)}delete(e){return super.delete(bye(this,e))}}function FU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function yye({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function bye({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function wye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xye(t=Yc){if(t===Yc)return s9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function s9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Eye=Math.sqrt(50),Bye=Math.sqrt(10),Cye=Math.sqrt(2);function Z2(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Eye?10:a>=Bye?5:a>=Cye?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/s,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*s,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?Z2(t,e,r*2):[o,A,l]}function jS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Z2(e,t,r):Z2(t,e,r);if(!(a>=i))return[];const o=a-i+1,A=new Array(o);if(n)if(s<0)for(let l=0;l<o;++l)A[l]=(a-l)/-s;else for(let l=0;l<o;++l)A[l]=(a-l)*s;else if(s<0)for(let l=0;l<o;++l)A[l]=(i+l)/-s;else for(let l=0;l<o;++l)A[l]=(i+l)*s;return A}function GS(t,e,r){return e=+e,t=+t,r=+r,Z2(t,e,r)[2]}function KS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?GS(e,t,r):GS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function PU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function o9(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?s9:xye(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,c=Math.log(A),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(A-u)/A)*(l-A/2<0?-1:1),h=Math.max(r,Math.floor(e-l*u/A+f)),d=Math.min(n,Math.floor(e+(A-l)*u/A+f));o9(t,e,h,d,i)}const a=t[e];let s=r,o=n;for(Eg(t,r,e),i(t[n],a)>0&&Eg(t,r,n);s<o;){for(Eg(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Eg(t,r,o):(++o,Eg(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Eg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Sye(t,e,r){if(t=Float64Array.from(mye(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return UU(t);if(e>=1)return PU(t);var n,i=(n-1)*e,a=Math.floor(i),s=PU(o9(t,a).subarray(0,a+1)),o=UU(t.subarray(a+1));return s+(o-s)*(i-a)}}function Tye(t,e,r=a9){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function _ye(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ec(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VS=Symbol("implicit");function r3(){var t=new OU,e=[],r=[],n=VS;function i(a){let s=t.get(a);if(s===void 0){if(n!==VS)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new OU;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return r3(e,r).unknown(n)},fo.apply(i,arguments),i}function nm(){var t=r3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,A=0,l=0,c=.5;delete t.unknown;function u(){var f=e().length,h=i<n,d=h?i:n,p=h?n:i;a=(p-d)/Math.max(1,f-A+l*2),o&&(a=Math.floor(a)),d+=(p-d-a*(f-A))*c,s=a*(1-A),o&&(d=Math.round(d),s=Math.round(s));var g=_ye(f).map(function(v){return d+a*v});return r(h?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),u()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,u()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,u()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(f){return arguments.length?(o=!!f,u()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),u()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),u()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,u()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},t.copy=function(){return nm(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(c)},fo.apply(u(),arguments)}function A9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return A9(e())},t}function T0(){return A9(nm.apply(null,arguments).paddingInner(1))}function n3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function l9(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Jm(){}var im=.7,eb=1/im,wd="\\s*([+-]?\\d+)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",DA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lye=/^#([0-9a-f]{3,8})$/,Iye=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),Oye=new RegExp(`^rgb\\(${DA},${DA},${DA}\\)$`),Fye=new RegExp(`^rgba\\(${wd},${wd},${wd},${am}\\)$`),Pye=new RegExp(`^rgba\\(${DA},${DA},${DA},${am}\\)$`),Uye=new RegExp(`^hsl\\(${am},${DA},${DA}\\)$`),Rye=new RegExp(`^hsla\\(${am},${DA},${DA},${am}\\)$`),RU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n3(Jm,sm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DU,formatHex:DU,formatHex8:Dye,formatHsl:Mye,formatRgb:MU,toString:MU});function DU(){return this.rgb().formatHex()}function Dye(){return this.rgb().formatHex8()}function Mye(){return c9(this).formatHsl()}function MU(){return this.rgb().formatRgb()}function sm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Lye.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?NU(e):r===3?new Ja(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?F1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?F1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Iye.exec(t))?new Ja(e[1],e[2],e[3],1):(e=Oye.exec(t))?new Ja(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fye.exec(t))?F1(e[1],e[2],e[3],e[4]):(e=Pye.exec(t))?F1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uye.exec(t))?HU(e[1],e[2]/100,e[3]/100,1):(e=Rye.exec(t))?HU(e[1],e[2]/100,e[3]/100,e[4]):RU.hasOwnProperty(t)?NU(RU[t]):t==="transparent"?new Ja(NaN,NaN,NaN,0):null}function NU(t){return new Ja(t>>16&255,t>>8&255,t&255,1)}function F1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ja(t,e,r,n)}function Nye(t){return t instanceof Jm||(t=sm(t)),t?(t=t.rgb(),new Ja(t.r,t.g,t.b,t.opacity)):new Ja}function WS(t,e,r,n){return arguments.length===1?Nye(t):new Ja(t,e,r,n==null?1:n)}function Ja(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}n3(Ja,WS,l9(Jm,{brighter(t){return t=t==null?eb:Math.pow(eb,t),new Ja(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new Ja(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ja(mf(this.r),mf(this.g),mf(this.b),tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kU,formatHex:kU,formatHex8:kye,formatRgb:QU,toString:QU}));function kU(){return`#${sf(this.r)}${sf(this.g)}${sf(this.b)}`}function kye(){return`#${sf(this.r)}${sf(this.g)}${sf(this.b)}${sf((isNaN(this.opacity)?1:this.opacity)*255)}`}function QU(){const t=tb(this.opacity);return`${t===1?"rgb(":"rgba("}${mf(this.r)}, ${mf(this.g)}, ${mf(this.b)}${t===1?")":`, ${t})`}`}function tb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sf(t){return t=mf(t),(t<16?"0":"")+t.toString(16)}function HU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $o(t,e,r,n)}function c9(t){if(t instanceof $o)return new $o(t.h,t.s,t.l,t.opacity);if(t instanceof Jm||(t=sm(t)),!t)return new $o;if(t instanceof $o)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,A=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=A<.5?a+i:2-a-i,s*=60):o=A>0&&A<1?0:s,new $o(s,o,A,t.opacity)}function Qye(t,e,r,n){return arguments.length===1?c9(t):new $o(t,e,r,n==null?1:n)}function $o(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}n3($o,Qye,l9(Jm,{brighter(t){return t=t==null?eb:Math.pow(eb,t),new $o(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new $o(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ja(vB(t>=240?t-240:t+120,i,n),vB(t,i,n),vB(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new $o($U(this.h),P1(this.s),P1(this.l),tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tb(this.opacity);return`${t===1?"hsl(":"hsla("}${$U(this.h)}, ${P1(this.s)*100}%, ${P1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $U(t){return t=(t||0)%360,t<0?t+360:t}function P1(t){return Math.max(0,Math.min(1,t||0))}function vB(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const i3=t=>()=>t;function Hye(t,e){return function(r){return t+r*e}}function $ye(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function jye(t){return(t=+t)==1?u9:function(e,r){return r-e?$ye(e,r,t):i3(isNaN(e)?r:e)}}function u9(t,e){var r=e-t;return r?Hye(t,r):i3(isNaN(t)?e:t)}const jU=function t(e){var r=jye(e);function n(i,a){var s=r((i=WS(i)).r,(a=WS(a)).r),o=r(i.g,a.g),A=r(i.b,a.b),l=u9(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=A(c),i.opacity=l(c),i+""}}return n.gamma=t,n}(1);function Gye(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Kye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vye(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Lp(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Wye(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function rb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function zye(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var zS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yB=new RegExp(zS.source,"g");function Yye(t){return function(){return t}}function qye(t){return function(e){return t(e)+""}}function Xye(t,e){var r=zS.lastIndex=yB.lastIndex=0,n,i,a,s=-1,o=[],A=[];for(t=t+"",e=e+"";(n=zS.exec(t))&&(i=yB.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,A.push({i:s,x:rb(n,i)})),r=yB.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?A[0]?qye(A[0].x):Yye(e):(e=A.length,function(l){for(var c=0,u;c<e;++c)o[(u=A[c]).i]=u.x(l);return o.join("")})}function Lp(t,e){var r=typeof e,n;return e==null||r==="boolean"?i3(e):(r==="number"?rb:r==="string"?(n=sm(e))?(e=n,jU):Xye:e instanceof sm?jU:e instanceof Date?Wye:Kye(e)?Gye:Array.isArray(e)?Vye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zye:rb)(t,e)}function a3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Jye(t,e){e===void 0&&(e=t,t=Lp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Zye(t){return function(){return t}}function nb(t){return+t}var GU=[0,1];function Oa(t){return t}function YS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zye(isNaN(e)?NaN:.5)}function e2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function t2e(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=YS(i,n),a=r(s,a)):(n=YS(n,i),a=r(a,s)),function(o){return a(n(o))}}function r2e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=YS(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var A=Xm(t,o,1,n)-1;return a[A](i[A](o))}}function Zm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kw(){var t=GU,e=GU,r=Lp,n,i,a,s=Oa,o,A,l;function c(){var f=Math.min(t.length,e.length);return s!==Oa&&(s=e2e(t[0],t[f-1])),o=f>2?r2e:t2e,A=l=null,u}function u(f){return f==null||isNaN(f=+f)?a:(A||(A=o(t.map(n),e,r)))(n(s(f)))}return u.invert=function(f){return s(i((l||(l=o(e,t.map(n),rb)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,nb),c()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),r=a3,c()},u.clamp=function(f){return arguments.length?(s=f?!0:Oa,c()):s!==Oa},u.interpolate=function(f){return arguments.length?(r=f,c()):r},u.unknown=function(f){return arguments.length?(a=f,u):a},function(f,h){return n=f,i=h,c()}}function s3(){return Kw()(Oa,Oa)}function n2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ib(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Hd(t){return t=ib(Math.abs(t)),t?t[1]:NaN}function i2e(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),a.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function a2e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var s2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function om(t){if(!(e=s2e.exec(t)))throw new Error("invalid format: "+t);var e;return new o3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}om.prototype=o3.prototype;function o3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}o3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o2e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var f9;function A2e(t,e){var r=ib(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(f9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ib(t,Math.max(0,e+a-1))[0]}function KU(t,e){var r=ib(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const VU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:n2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KU(t*100,e),r:KU,s:A2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WU(t){return t}var zU=Array.prototype.map,YU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l2e(t){var e=t.grouping===void 0||t.thousands===void 0?WU:i2e(zU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?WU:a2e(zU.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(u){u=om(u);var f=u.fill,h=u.align,d=u.sign,p=u.symbol,g=u.zero,v=u.width,y=u.comma,w=u.precision,S=u.trim,x=u.type;x==="n"?(y=!0,x="g"):VU[x]||(w===void 0&&(w=12),S=!0,x="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",C=p==="$"?n:/[%p]/.test(x)?s:"",L=VU[x],O=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(_){var F=E,R=C,M,z,N;if(x==="c")R=L(_)+R,_="";else{_=+_;var Y=_<0||1/_<0;if(_=isNaN(_)?A:L(Math.abs(_),w),S&&(_=o2e(_)),Y&&+_==0&&d!=="+"&&(Y=!1),F=(Y?d==="("?d:o:d==="-"||d==="("?"":d)+F,R=(x==="s"?YU[8+f9/3]:"")+R+(Y&&d==="("?")":""),O){for(M=-1,z=_.length;++M<z;)if(N=_.charCodeAt(M),48>N||N>57){R=(N===46?i+_.slice(M+1):_.slice(M))+R,_=_.slice(0,M);break}}}y&&!g&&(_=e(_,1/0));var X=F.length+_.length+R.length,H=X<v?new Array(v-X+1).join(f):"";switch(y&&g&&(_=e(H+_,H.length?v-R.length:1/0),H=""),h){case"<":_=F+_+R+H;break;case"=":_=F+H+_+R;break;case"^":_=H.slice(0,X=H.length>>1)+F+_+R+H.slice(X);break;default:_=H+F+_+R;break}return a(_)}return D.toString=function(){return u+""},D}function c(u,f){var h=l((u=om(u),u.type="f",u)),d=Math.max(-8,Math.min(8,Math.floor(Hd(f)/3)))*3,p=Math.pow(10,-d),g=YU[8+d/3];return function(v){return h(p*v)+g}}return{format:l,formatPrefix:c}}var U1,A3,h9;c2e({thousands:",",grouping:[3],currency:["$",""]});function c2e(t){return U1=l2e(t),A3=U1.format,h9=U1.formatPrefix,U1}function u2e(t){return Math.max(0,-Hd(Math.abs(t)))}function f2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(e)/3)))*3-Hd(Math.abs(t)))}function h2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hd(e)-Hd(t))+1}function d9(t,e,r,n){var i=KS(t,e,r),a;switch(n=om(n==null?",f":n),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=f2e(i,s))&&(n.precision=a),h9(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=h2e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=u2e(i))&&(n.precision=a-(n.type==="%")*2);break}}return A3(n)}function du(t){var e=t.domain;return t.ticks=function(r){var n=e();return jS(n[0],n[n.length-1],r==null?10:r)},t.tickFormat=function(r,n){var i=e();return d9(i[0],i[i.length-1],r==null?10:r,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],A,l,c=10;for(o<s&&(l=s,s=o,o=l,l=i,i=a,a=l);c-- >0;){if(l=GS(s,o,r),l===A)return n[i]=s,n[a]=o,e(n);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function ab(){var t=s3();return t.copy=function(){return Zm(t,ab())},fo.apply(t,arguments),du(t)}function p9(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,nb),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return p9(t).unknown(e)},t=arguments.length?Array.from(t,nb):[0,1],du(r)}function g9(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function qU(t){return Math.log(t)}function XU(t){return Math.exp(t)}function d2e(t){return-Math.log(-t)}function p2e(t){return-Math.exp(-t)}function g2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function m2e(t){return t===10?g2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function v2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JU(t){return(e,r)=>-t(-e,r)}function l3(t){const e=t(qU,XU),r=e.domain;let n=10,i,a;function s(){return i=v2e(n),a=m2e(n),r()[0]<0?(i=JU(i),a=JU(a),t(d2e,p2e)):t(qU,XU),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const A=r();let l=A[0],c=A[A.length-1];const u=c<l;u&&([l,c]=[c,l]);let f=i(l),h=i(c),d,p;const g=o==null?10:+o;let v=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(d=1;d<n;++d)if(p=f<0?d/a(-f):d*a(f),!(p<l)){if(p>c)break;v.push(p)}}else for(;f<=h;++f)for(d=n-1;d>=1;--d)if(p=f>0?d/a(-f):d*a(f),!(p<l)){if(p>c)break;v.push(p)}v.length*2<g&&(v=jS(l,c,g))}else v=jS(f,h,Math.min(h-f,g)).map(a);return u?v.reverse():v},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=om(A)).precision==null&&(A.trim=!0),A=A3(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return c=>{let u=c/a(Math.round(i(c)));return u*n<n-.5&&(u*=n),u<=l?A(c):""}},e.nice=()=>r(g9(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function m9(){const t=l3(Kw()).domain([1,10]);return t.copy=()=>Zm(t,m9()).base(t.base()),fo.apply(t,arguments),t}function ZU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c3(t){var e=1,r=t(ZU(e),eR(e));return r.constant=function(n){return arguments.length?t(ZU(e=+n),eR(e)):e},du(r)}function v9(){var t=c3(Kw());return t.copy=function(){return Zm(t,v9()).constant(t.constant())},fo.apply(t,arguments)}function tR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function y2e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function b2e(t){return t<0?-t*t:t*t}function u3(t){var e=t(Oa,Oa),r=1;function n(){return r===1?t(Oa,Oa):r===.5?t(y2e,b2e):t(tR(r),tR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},du(e)}function f3(){var t=u3(Kw());return t.copy=function(){return Zm(t,f3()).exponent(t.exponent())},fo.apply(t,arguments),t}function w2e(){return f3.apply(null,arguments).exponent(.5)}function rR(t){return Math.sign(t)*t*t}function x2e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function y9(){var t=s3(),e=[0,1],r=!1,n;function i(a){var s=x2e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(rR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,nb)).map(rR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fo.apply(i,arguments),du(i)}function b9(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Tye(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Xm(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Yc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return b9().domain(t).range(e).unknown(n)},fo.apply(a,arguments)}function w9(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(A){return A!=null&&A<=A?i[Xm(n,A,0,r)]:a}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return s}return s.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},s.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},s.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},s.unknown=function(A){return arguments.length&&(a=A),s},s.thresholds=function(){return n.slice()},s.copy=function(){return w9().domain([t,e]).range(i).unknown(a)},fo.apply(du(s),arguments)}function x9(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Xm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return x9().domain(t).range(e).unknown(r)},fo.apply(i,arguments)}const bB=new Date,wB=new Date;function yi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const A=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return A;let l;do A.push(l=new Date(+a)),e(a,o),t(a);while(l<a&&a<s);return A},i.filter=a=>yi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(bB.setTime(+a),wB.setTime(+s),t(bB),t(wB),Math.floor(r(bB,wB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const sb=yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):sb);sb.range;const Ul=1e3,to=Ul*60,Rl=to*60,Vl=Rl*24,h3=Vl*7,nR=Vl*30,xB=Vl*365,of=yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ul)},(t,e)=>(e-t)/Ul,t=>t.getUTCSeconds());of.range;const d3=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ul)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getMinutes());d3.range;const p3=yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCMinutes());p3.range;const g3=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ul-t.getMinutes()*to)},(t,e)=>{t.setTime(+t+e*Rl)},(t,e)=>(e-t)/Rl,t=>t.getHours());g3.range;const m3=yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rl)},(t,e)=>(e-t)/Rl,t=>t.getUTCHours());m3.range;const ev=yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*to)/Vl,t=>t.getDate()-1);ev.range;const Vw=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vl,t=>t.getUTCDate()-1);Vw.range;const E9=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vl,t=>Math.floor(t/Vl));E9.range;function Qf(t){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*to)/h3)}const Ww=Qf(0),ob=Qf(1),E2e=Qf(2),B2e=Qf(3),$d=Qf(4),C2e=Qf(5),S2e=Qf(6);Ww.range;ob.range;E2e.range;B2e.range;$d.range;C2e.range;S2e.range;function Hf(t){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/h3)}const zw=Hf(0),Ab=Hf(1),T2e=Hf(2),_2e=Hf(3),jd=Hf(4),L2e=Hf(5),I2e=Hf(6);zw.range;Ab.range;T2e.range;_2e.range;jd.range;L2e.range;I2e.range;const v3=yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());v3.range;const y3=yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());y3.range;const Wl=yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Wl.range;const zl=yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});zl.range;function B9(t,e,r,n,i,a){const s=[[of,1,Ul],[of,5,5*Ul],[of,15,15*Ul],[of,30,30*Ul],[a,1,to],[a,5,5*to],[a,15,15*to],[a,30,30*to],[i,1,Rl],[i,3,3*Rl],[i,6,6*Rl],[i,12,12*Rl],[n,1,Vl],[n,2,2*Vl],[r,1,h3],[e,1,nR],[e,3,3*nR],[t,1,xB]];function o(l,c,u){const f=c<l;f&&([l,c]=[c,l]);const h=u&&typeof u.range=="function"?u:A(l,c,u),d=h?h.range(l,+c+1):[];return f?d.reverse():d}function A(l,c,u){const f=Math.abs(c-l)/u,h=t3(([,,g])=>g).right(s,f);if(h===s.length)return t.every(KS(l/xB,c/xB,u));if(h===0)return sb.every(Math.max(KS(l,c,u),1));const[d,p]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return d.every(p)}return[o,A]}const[O2e,F2e]=B9(zl,y3,zw,E9,m3,p3),[P2e,U2e]=B9(Wl,v3,Ww,ev,g3,d3);function EB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function BB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function R2e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,A=t.shortMonths,l=Cg(i),c=Sg(i),u=Cg(a),f=Sg(a),h=Cg(s),d=Sg(s),p=Cg(o),g=Sg(o),v=Cg(A),y=Sg(A),w={a:Y,A:X,b:H,B:W,c:null,d:lR,e:lR,f:ibe,g:dbe,G:gbe,H:tbe,I:rbe,j:nbe,L:C9,m:abe,M:sbe,p:Z,q:I,Q:fR,s:hR,S:obe,u:Abe,U:lbe,V:cbe,w:ube,W:fbe,x:null,X:null,y:hbe,Y:pbe,Z:mbe,"%":uR},S={a:U,A:$,b:G,B:te,c:null,d:cR,e:cR,f:wbe,g:Obe,G:Pbe,H:vbe,I:ybe,j:bbe,L:T9,m:xbe,M:Ebe,p:ie,q:oe,Q:fR,s:hR,S:Bbe,u:Cbe,U:Sbe,V:Tbe,w:_be,W:Lbe,x:null,X:null,y:Ibe,Y:Fbe,Z:Ube,"%":uR},x={a:D,A:_,b:F,B:R,c:M,d:oR,e:oR,f:X2e,g:sR,G:aR,H:AR,I:AR,j:W2e,L:q2e,m:V2e,M:z2e,p:O,q:K2e,Q:Z2e,s:ebe,S:Y2e,u:Q2e,U:H2e,V:$2e,w:k2e,W:j2e,x:z,X:N,y:sR,Y:aR,Z:G2e,"%":J2e};w.x=E(r,w),w.X=E(n,w),w.c=E(e,w),S.x=E(r,S),S.X=E(n,S),S.c=E(e,S);function E(ne,ye){return function(me){var se=[],Ie=-1,Re=0,le=ne.length,ee,He,Ee;for(me instanceof Date||(me=new Date(+me));++Ie<le;)ne.charCodeAt(Ie)===37&&(se.push(ne.slice(Re,Ie)),(He=iR[ee=ne.charAt(++Ie)])!=null?ee=ne.charAt(++Ie):He=ee==="e"?" ":"0",(Ee=ye[ee])&&(ee=Ee(me,He)),se.push(ee),Re=Ie+1);return se.push(ne.slice(Re,Ie)),se.join("")}}function C(ne,ye){return function(me){var se=Bg(1900,void 0,1),Ie=L(se,ne,me+="",0),Re,le;if(Ie!=me.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ye&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Re=BB(Bg(se.y,0,1)),le=Re.getUTCDay(),Re=le>4||le===0?Ab.ceil(Re):Ab(Re),Re=Vw.offset(Re,(se.V-1)*7),se.y=Re.getUTCFullYear(),se.m=Re.getUTCMonth(),se.d=Re.getUTCDate()+(se.w+6)%7):(Re=EB(Bg(se.y,0,1)),le=Re.getDay(),Re=le>4||le===0?ob.ceil(Re):ob(Re),Re=ev.offset(Re,(se.V-1)*7),se.y=Re.getFullYear(),se.m=Re.getMonth(),se.d=Re.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),le="Z"in se?BB(Bg(se.y,0,1)).getUTCDay():EB(Bg(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(le+5)%7:se.w+se.U*7-(le+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,BB(se)):EB(se)}}function L(ne,ye,me,se){for(var Ie=0,Re=ye.length,le=me.length,ee,He;Ie<Re;){if(se>=le)return-1;if(ee=ye.charCodeAt(Ie++),ee===37){if(ee=ye.charAt(Ie++),He=x[ee in iR?ye.charAt(Ie++):ee],!He||(se=He(ne,me,se))<0)return-1}else if(ee!=me.charCodeAt(se++))return-1}return se}function O(ne,ye,me){var se=l.exec(ye.slice(me));return se?(ne.p=c.get(se[0].toLowerCase()),me+se[0].length):-1}function D(ne,ye,me){var se=h.exec(ye.slice(me));return se?(ne.w=d.get(se[0].toLowerCase()),me+se[0].length):-1}function _(ne,ye,me){var se=u.exec(ye.slice(me));return se?(ne.w=f.get(se[0].toLowerCase()),me+se[0].length):-1}function F(ne,ye,me){var se=v.exec(ye.slice(me));return se?(ne.m=y.get(se[0].toLowerCase()),me+se[0].length):-1}function R(ne,ye,me){var se=p.exec(ye.slice(me));return se?(ne.m=g.get(se[0].toLowerCase()),me+se[0].length):-1}function M(ne,ye,me){return L(ne,e,ye,me)}function z(ne,ye,me){return L(ne,r,ye,me)}function N(ne,ye,me){return L(ne,n,ye,me)}function Y(ne){return s[ne.getDay()]}function X(ne){return a[ne.getDay()]}function H(ne){return A[ne.getMonth()]}function W(ne){return o[ne.getMonth()]}function Z(ne){return i[+(ne.getHours()>=12)]}function I(ne){return 1+~~(ne.getMonth()/3)}function U(ne){return s[ne.getUTCDay()]}function $(ne){return a[ne.getUTCDay()]}function G(ne){return A[ne.getUTCMonth()]}function te(ne){return o[ne.getUTCMonth()]}function ie(ne){return i[+(ne.getUTCHours()>=12)]}function oe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ye=E(ne+="",w);return ye.toString=function(){return ne},ye},parse:function(ne){var ye=C(ne+="",!1);return ye.toString=function(){return ne},ye},utcFormat:function(ne){var ye=E(ne+="",S);return ye.toString=function(){return ne},ye},utcParse:function(ne){var ye=C(ne+="",!0);return ye.toString=function(){return ne},ye}}}var iR={"-":"",_:" ",0:"0"},Fi=/^\s*\d+/,D2e=/^%/,M2e=/[\\^$*+?|[\]().{}]/g;function ur(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function N2e(t){return t.replace(M2e,"\\$&")}function Cg(t){return new RegExp("^(?:"+t.map(N2e).join("|")+")","i")}function Sg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function k2e(t,e,r){var n=Fi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Q2e(t,e,r){var n=Fi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function H2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function $2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function j2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function aR(t,e,r){var n=Fi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function sR(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function G2e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function K2e(t,e,r){var n=Fi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function V2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function oR(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function W2e(t,e,r){var n=Fi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function AR(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function z2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Y2e(t,e,r){var n=Fi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function q2e(t,e,r){var n=Fi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function X2e(t,e,r){var n=Fi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J2e(t,e,r){var n=D2e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Z2e(t,e,r){var n=Fi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ebe(t,e,r){var n=Fi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function lR(t,e){return ur(t.getDate(),e,2)}function tbe(t,e){return ur(t.getHours(),e,2)}function rbe(t,e){return ur(t.getHours()%12||12,e,2)}function nbe(t,e){return ur(1+ev.count(Wl(t),t),e,3)}function C9(t,e){return ur(t.getMilliseconds(),e,3)}function ibe(t,e){return C9(t,e)+"000"}function abe(t,e){return ur(t.getMonth()+1,e,2)}function sbe(t,e){return ur(t.getMinutes(),e,2)}function obe(t,e){return ur(t.getSeconds(),e,2)}function Abe(t){var e=t.getDay();return e===0?7:e}function lbe(t,e){return ur(Ww.count(Wl(t)-1,t),e,2)}function S9(t){var e=t.getDay();return e>=4||e===0?$d(t):$d.ceil(t)}function cbe(t,e){return t=S9(t),ur($d.count(Wl(t),t)+(Wl(t).getDay()===4),e,2)}function ube(t){return t.getDay()}function fbe(t,e){return ur(ob.count(Wl(t)-1,t),e,2)}function hbe(t,e){return ur(t.getFullYear()%100,e,2)}function dbe(t,e){return t=S9(t),ur(t.getFullYear()%100,e,2)}function pbe(t,e){return ur(t.getFullYear()%1e4,e,4)}function gbe(t,e){var r=t.getDay();return t=r>=4||r===0?$d(t):$d.ceil(t),ur(t.getFullYear()%1e4,e,4)}function mbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ur(e/60|0,"0",2)+ur(e%60,"0",2)}function cR(t,e){return ur(t.getUTCDate(),e,2)}function vbe(t,e){return ur(t.getUTCHours(),e,2)}function ybe(t,e){return ur(t.getUTCHours()%12||12,e,2)}function bbe(t,e){return ur(1+Vw.count(zl(t),t),e,3)}function T9(t,e){return ur(t.getUTCMilliseconds(),e,3)}function wbe(t,e){return T9(t,e)+"000"}function xbe(t,e){return ur(t.getUTCMonth()+1,e,2)}function Ebe(t,e){return ur(t.getUTCMinutes(),e,2)}function Bbe(t,e){return ur(t.getUTCSeconds(),e,2)}function Cbe(t){var e=t.getUTCDay();return e===0?7:e}function Sbe(t,e){return ur(zw.count(zl(t)-1,t),e,2)}function _9(t){var e=t.getUTCDay();return e>=4||e===0?jd(t):jd.ceil(t)}function Tbe(t,e){return t=_9(t),ur(jd.count(zl(t),t)+(zl(t).getUTCDay()===4),e,2)}function _be(t){return t.getUTCDay()}function Lbe(t,e){return ur(Ab.count(zl(t)-1,t),e,2)}function Ibe(t,e){return ur(t.getUTCFullYear()%100,e,2)}function Obe(t,e){return t=_9(t),ur(t.getUTCFullYear()%100,e,2)}function Fbe(t,e){return ur(t.getUTCFullYear()%1e4,e,4)}function Pbe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jd(t):jd.ceil(t),ur(t.getUTCFullYear()%1e4,e,4)}function Ube(){return"+0000"}function uR(){return"%"}function fR(t){return+t}function hR(t){return Math.floor(+t/1e3)}var Th,L9,I9;Rbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rbe(t){return Th=R2e(t),L9=Th.format,Th.parse,I9=Th.utcFormat,Th.utcParse,Th}function Dbe(t){return new Date(t)}function Mbe(t){return t instanceof Date?+t:+new Date(+t)}function b3(t,e,r,n,i,a,s,o,A,l){var c=s3(),u=c.invert,f=c.domain,h=l(".%L"),d=l(":%S"),p=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),y=l("%b %d"),w=l("%B"),S=l("%Y");function x(E){return(A(E)<E?h:o(E)<E?d:s(E)<E?p:a(E)<E?g:n(E)<E?i(E)<E?v:y:r(E)<E?w:S)(E)}return c.invert=function(E){return new Date(u(E))},c.domain=function(E){return arguments.length?f(Array.from(E,Mbe)):f().map(Dbe)},c.ticks=function(E){var C=f();return t(C[0],C[C.length-1],E==null?10:E)},c.tickFormat=function(E,C){return C==null?x:l(C)},c.nice=function(E){var C=f();return(!E||typeof E.range!="function")&&(E=e(C[0],C[C.length-1],E==null?10:E)),E?f(g9(C,E)):c},c.copy=function(){return Zm(c,b3(t,e,r,n,i,a,s,o,A,l))},c}function Nbe(){return fo.apply(b3(P2e,U2e,Wl,v3,Ww,ev,g3,d3,of,L9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kbe(){return fo.apply(b3(O2e,F2e,zl,y3,zw,Vw,m3,p3,of,I9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yw(){var t=0,e=1,r,n,i,a,s=Oa,o=!1,A;function l(u){return u==null||isNaN(u=+u)?A:s(i===0?.5:(u=(a(u)-r)*i,o?Math.max(0,Math.min(1,u)):u))}l.domain=function(u){return arguments.length?([t,e]=u,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(u){return arguments.length?(o=!!u,l):o},l.interpolator=function(u){return arguments.length?(s=u,l):s};function c(u){return function(f){var h,d;return arguments.length?([h,d]=f,s=u(h,d),l):[s(0),s(1)]}}return l.range=c(Lp),l.rangeRound=c(a3),l.unknown=function(u){return arguments.length?(A=u,l):A},function(u){return a=u,r=u(t),n=u(e),i=r===n?0:1/(n-r),l}}function pu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function O9(){var t=du(Yw()(Oa));return t.copy=function(){return pu(t,O9())},ec.apply(t,arguments)}function F9(){var t=l3(Yw()).domain([1,10]);return t.copy=function(){return pu(t,F9()).base(t.base())},ec.apply(t,arguments)}function P9(){var t=c3(Yw());return t.copy=function(){return pu(t,P9()).constant(t.constant())},ec.apply(t,arguments)}function w3(){var t=u3(Yw());return t.copy=function(){return pu(t,w3()).exponent(t.exponent())},ec.apply(t,arguments)}function Qbe(){return w3.apply(null,arguments).exponent(.5)}function U9(){var t=[],e=Oa;function r(n){if(n!=null&&!isNaN(n=+n))return e((Xm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Sye(t,a/n))},r.copy=function(){return U9(e).domain(t)},ec.apply(r,arguments)}function qw(){var t=0,e=.5,r=1,n=1,i,a,s,o,A,l=Oa,c,u=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+c(p))-a)*(n*p<n*a?o:A),l(u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,r]=p,i=c(t=+t),a=c(e=+e),s=c(r=+r),o=i===a?0:.5/(a-i),A=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function d(p){return function(g){var v,y,w;return arguments.length?([v,y,w]=g,l=Jye(p,[v,y,w]),h):[l(0),l(.5),l(1)]}}return h.range=d(Lp),h.rangeRound=d(a3),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return c=p,i=p(t),a=p(e),s=p(r),o=i===a?0:.5/(a-i),A=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function R9(){var t=du(qw()(Oa));return t.copy=function(){return pu(t,R9())},ec.apply(t,arguments)}function D9(){var t=l3(qw()).domain([.1,1,10]);return t.copy=function(){return pu(t,D9()).base(t.base())},ec.apply(t,arguments)}function M9(){var t=c3(qw());return t.copy=function(){return pu(t,M9()).constant(t.constant())},ec.apply(t,arguments)}function x3(){var t=u3(qw());return t.copy=function(){return pu(t,x3()).exponent(t.exponent())},ec.apply(t,arguments)}function Hbe(){return x3.apply(null,arguments).exponent(.5)}const dR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nm,scaleDiverging:R9,scaleDivergingLog:D9,scaleDivergingPow:x3,scaleDivergingSqrt:Hbe,scaleDivergingSymlog:M9,scaleIdentity:p9,scaleImplicit:VS,scaleLinear:ab,scaleLog:m9,scaleOrdinal:r3,scalePoint:T0,scalePow:f3,scaleQuantile:b9,scaleQuantize:w9,scaleRadial:y9,scaleSequential:O9,scaleSequentialLog:F9,scaleSequentialPow:w3,scaleSequentialQuantile:U9,scaleSequentialSqrt:Qbe,scaleSequentialSymlog:P9,scaleSqrt:w2e,scaleSymlog:v9,scaleThreshold:x9,scaleTime:Nbe,scaleUtc:kbe,tickFormat:d9},Symbol.toStringTag,{value:"Module"}));var $be=bp;function jbe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!$be(s):r(s,o)))var o=s,A=a}return A}var N9=jbe;function Gbe(t,e){return t>e}var Kbe=Gbe,Vbe=N9,Wbe=Kbe,zbe=Tp;function Ybe(t){return t&&t.length?Vbe(t,zbe,Wbe):void 0}var qbe=Ybe;const Xw=xr(qbe);function Xbe(t,e){return t<e}var Jbe=Xbe,Zbe=N9,ewe=Jbe,twe=Tp;function rwe(t){return t&&t.length?Zbe(t,twe,ewe):void 0}var nwe=rwe;const Jw=xr(nwe);var iwe=N4,awe=hu,swe=V$,owe=is;function Awe(t,e){var r=owe(t)?iwe:swe;return r(t,awe(e))}var lwe=Awe,cwe=G$,uwe=lwe;function fwe(t,e){return cwe(uwe(t,e),1)}var hwe=fwe;const dwe=xr(hwe);var pwe=X4;function gwe(t,e){return pwe(t,e)}var mwe=gwe;const Zw=xr(mwe);var Ip=1e9,vwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B3,cn=!0,Ao="[DecimalError] ",vf=Ao+"Invalid argument: ",E3=Ao+"Exponent out of range: ",Op=Math.floor,Yu=Math.pow,ywe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xs,_i=1e7,Zr=7,k9=9007199254740991,lb=Op(k9/Zr),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Zr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ft.dividedBy=ft.div=function(t){return Ql(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,r=e.constructor;return kr(Ql(e,new r(t),0,1),r.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return ii(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(xs))throw Error(Ao+"NaN");if(r.s<1)throw Error(Ao+(r.s?"NaN":"-Infinity"));return r.eq(xs)?new n(0):(cn=!1,e=Ql(Am(r,a),Am(t,a),a),cn=!0,kr(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$9(e,t):Q9(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ao+"NaN");return r.s?(cn=!1,e=Ql(r,t,0,1).times(t),cn=!0,r.minus(e)):kr(new n(r),i)};ft.naturalExponential=ft.exp=function(){return H9(this)};ft.naturalLogarithm=ft.ln=function(){return Am(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q9(e,t):$9(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vf+t);if(e=ii(i)+1,n=i.d.length-1,r=n*Zr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ft.squareRoot=ft.sqrt=function(){var t,e,r,n,i,a,s,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(Ao+"NaN")}for(t=ii(o),cn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=IA(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Op((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=s=r+3;;)if(a=n,n=a.plus(Ql(o,a,s+2)).times(.5),IA(a.d).slice(0,s)===(e=IA(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(kr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return cn=!0,kr(n,r)};ft.times=ft.mul=function(t){var e,r,n,i,a,s,o,A,l,c=this,u=c.constructor,f=c.d,h=(t=new u(t)).d;if(!c.s||!t.s)return new u(0);for(t.s*=c.s,r=c.e+t.e,A=f.length,l=h.length,A<l&&(a=f,f=h,h=a,s=A,A=l,l=s),a=[],s=A+l,n=s;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=a[i]+h[n]*f[i-n-1]+e,a[i--]=o%_i|0,e=o/_i|0;a[i]=(a[i]+e)%_i|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,cn?kr(t,u.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(HA(t,0,Ip),e===void 0?e=n.rounding:HA(e,0,8),kr(r,t+ii(r)+1,e))};ft.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Lf(n,!0):(HA(t,0,Ip),e===void 0?e=i.rounding:HA(e,0,8),n=kr(new i(n),t+1,e),r=Lf(n,!0,t+1)),r};ft.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Lf(i):(HA(t,0,Ip),e===void 0?e=a.rounding:HA(e,0,8),n=kr(new a(i),t+ii(i)+1,e),r=Lf(n.abs(),!1,t+ii(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return kr(new e(t),ii(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,r,n,i,a,s,o=this,A=o.constructor,l=12,c=+(t=new A(t));if(!t.s)return new A(xs);if(o=new A(o),!o.s){if(t.s<1)throw Error(Ao+"Infinity");return o}if(o.eq(xs))return o;if(n=A.precision,t.eq(xs))return kr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=c<0?-c:c)<=k9){for(i=new A(xs),e=Math.ceil(n/Zr+4),cn=!1;r%2&&(i=i.times(o),gR(i.d,e)),r=Op(r/2),r!==0;)o=o.times(o),gR(o.d,e);return cn=!0,t.s<0?new A(xs).div(i):kr(i,n)}}else if(a<0)throw Error(Ao+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,cn=!1,i=t.times(Am(o,n+l)),cn=!0,i=H9(i),i.s=a,i};ft.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ii(i),n=Lf(i,r<=a.toExpNeg||r>=a.toExpPos)):(HA(t,1,Ip),e===void 0?e=a.rounding:HA(e,0,8),i=kr(new a(i),t,e),r=ii(i),n=Lf(i,t<=r||r<=a.toExpNeg,t)),n};ft.toSignificantDigits=ft.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(HA(t,1,Ip),e===void 0?e=n.rounding:HA(e,0,8)),kr(new n(r),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ii(t),r=t.constructor;return Lf(t,e<=r.toExpNeg||e>=r.toExpPos)};function Q9(t,e){var r,n,i,a,s,o,A,l,c=t.constructor,u=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),cn?kr(e,u):e;if(A=t.d,l=e.d,s=t.e,i=e.e,A=A.slice(),a=s-i,a){for(a<0?(n=A,a=-a,o=l.length):(n=l,i=s,o=A.length),s=Math.ceil(u/Zr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=A.length,a=l.length,o-a<0&&(a=o,n=l,l=A,A=n),r=0;a;)r=(A[--a]=A[a]+l[a]+r)/_i|0,A[a]%=_i;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,cn?kr(e,u):e}function HA(t,e,r){if(t!==~~t||t<e||t>r)throw Error(vf+t)}function IA(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Zr-n.length,r&&(a+=Pc(r)),a+=n;s=t[e],n=s+"",r=Zr-n.length,r&&(a+=Pc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ql=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%_i|0,s=a/_i|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,A;if(a!=s)A=a>s?1:-1;else for(o=A=0;o<a;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*_i+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,A,l,c,u,f,h,d,p,g,v,y,w,S,x,E,C,L,O=n.constructor,D=n.s==i.s?1:-1,_=n.d,F=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Ao+"Division by zero");for(A=n.e-i.e,C=F.length,x=_.length,h=new O(D),d=h.d=[],l=0;F[l]==(_[l]||0);)++l;if(F[l]>(_[l]||0)&&--A,a==null?y=a=O.precision:s?y=a+(ii(n)-ii(i))+1:y=a,y<0)return new O(0);if(y=y/Zr+2|0,l=0,C==1)for(c=0,F=F[0],y++;(l<x||c)&&y--;l++)w=c*_i+(_[l]||0),d[l]=w/F|0,c=w%F|0;else{for(c=_i/(F[0]+1)|0,c>1&&(F=t(F,c),_=t(_,c),C=F.length,x=_.length),S=C,p=_.slice(0,C),g=p.length;g<C;)p[g++]=0;L=F.slice(),L.unshift(0),E=F[0],F[1]>=_i/2&&++E;do c=0,o=e(F,p,C,g),o<0?(v=p[0],C!=g&&(v=v*_i+(p[1]||0)),c=v/E|0,c>1?(c>=_i&&(c=_i-1),u=t(F,c),f=u.length,g=p.length,o=e(u,p,f,g),o==1&&(c--,r(u,C<f?L:F,f))):(c==0&&(o=c=1),u=F.slice()),f=u.length,f<g&&u.unshift(0),r(p,u,g),o==-1&&(g=p.length,o=e(F,p,C,g),o<1&&(c++,r(p,C<g?L:F,g))),g=p.length):o===0&&(c++,p=[0]),d[l++]=c,o&&p[0]?p[g++]=_[S]||0:(p=[_[S]],g=1);while((S++<x||p[0]!==void 0)&&y--)}return d[0]||d.shift(),h.e=A,kr(h,s?a+ii(h)+1:a)}}();function H9(t,e){var r,n,i,a,s,o,A=0,l=0,c=t.constructor,u=c.precision;if(ii(t)>16)throw Error(E3+ii(t));if(!t.s)return new c(xs);for(cn=!1,o=u,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),l+=5;for(n=Math.log(Yu(2,l))/Math.LN10*2+5|0,o+=n,r=i=a=new c(xs),c.precision=o;;){if(i=kr(i.times(t),o),r=r.times(++A),s=a.plus(Ql(i,r,o)),IA(s.d).slice(0,o)===IA(a.d).slice(0,o)){for(;l--;)a=kr(a.times(a),o);return c.precision=u,e==null?(cn=!0,kr(a,u)):a}a=s}}function ii(t){for(var e=t.e*Zr,r=t.d[0];r>=10;r/=10)e++;return e}function CB(t,e,r){if(e>t.LN10.sd())throw cn=!0,r&&(t.precision=r),Error(Ao+"LN10 precision limit exceeded");return kr(new t(t.LN10),e)}function Pc(t){for(var e="";t--;)e+="0";return e}function Am(t,e){var r,n,i,a,s,o,A,l,c,u=1,f=10,h=t,d=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(Ao+(h.s?"NaN":"-Infinity"));if(h.eq(xs))return new p(0);if(e==null?(cn=!1,l=g):l=e,h.eq(10))return e==null&&(cn=!0),CB(p,l);if(l+=f,p.precision=l,r=IA(d),n=r.charAt(0),a=ii(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=IA(h.d),n=r.charAt(0),u++;a=ii(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1))}else return A=CB(p,l+2,g).times(a+""),h=Am(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=g,e==null?(cn=!0,kr(h,g)):h;for(o=s=h=Ql(h.minus(xs),h.plus(xs),l),c=kr(h.times(h),l),i=3;;){if(s=kr(s.times(c),l),A=o.plus(Ql(s,new p(i),l)),IA(A.d).slice(0,l)===IA(o.d).slice(0,l))return o=o.times(2),a!==0&&(o=o.plus(CB(p,l+2,g).times(a+""))),o=Ql(o,new p(u),l),p.precision=g,e==null?(cn=!0,kr(o,g)):o;o=A,i+=2}}function pR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Op(r/Zr),t.d=[],n=(r+1)%Zr,r<0&&(n+=Zr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Zr;n<i;)t.d.push(+e.slice(n,n+=Zr));e=e.slice(n),n=Zr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),cn&&(t.e>lb||t.e<-lb))throw Error(E3+r)}else t.s=0,t.e=0,t.d=[0];return t}function kr(t,e,r){var n,i,a,s,o,A,l,c,u=t.d;for(s=1,a=u[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Zr,i=e,l=u[c=0];else{if(c=Math.ceil((n+1)/Zr),a=u.length,c>=a)return t;for(l=a=u[c],s=1;a>=10;a/=10)s++;n%=Zr,i=n-Zr+s}if(r!==void 0&&(a=Yu(10,s-i-1),o=l/a%10|0,A=e<0||u[c+1]!==void 0||l%a,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Yu(10,s-i):0:u[c-1])%10&1||r==(t.s<0?8:7))),e<1||!u[0])return A?(a=ii(t),u.length=1,e=e-a-1,u[0]=Yu(10,(Zr-e%Zr)%Zr),t.e=Op(-e/Zr)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(n==0?(u.length=c,a=1,c--):(u.length=c+1,a=Yu(10,Zr-n),u[c]=i>0?(l/Yu(10,s-i)%Yu(10,i)|0)*a:0),A)for(;;)if(c==0){(u[0]+=a)==_i&&(u[0]=1,++t.e);break}else{if(u[c]+=a,u[c]!=_i)break;u[c--]=0,a=1}for(n=u.length;u[--n]===0;)u.pop();if(cn&&(t.e>lb||t.e<-lb))throw Error(E3+ii(t));return t}function $9(t,e){var r,n,i,a,s,o,A,l,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),cn?kr(e,h):e;if(A=t.d,u=e.d,n=e.e,l=t.e,A=A.slice(),s=l-n,s){for(c=s<0,c?(r=A,s=-s,o=u.length):(r=u,n=l,o=A.length),i=Math.max(Math.ceil(h/Zr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=u.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(A[i]!=u[i]){c=A[i]<u[i];break}s=0}for(c&&(r=A,A=u,u=r,e.s=-e.s),o=A.length,i=u.length-o;i>0;--i)A[o++]=0;for(i=u.length;i>s;){if(A[--i]<u[i]){for(a=i;a&&A[--a]===0;)A[a]=_i-1;--A[a],A[i]+=_i}A[i]-=u[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,cn?kr(e,h):e):new f(0)}function Lf(t,e,r){var n,i=ii(t),a=IA(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pc(-i-1)+a,r&&(n=r-s)>0&&(a+=Pc(n))):i>=s?(a+=Pc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Pc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Pc(n))),t.s<0?"-"+a:a}function gR(t,e){if(t.length>e)return t.length=e,!0}function j9(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return pR(s,a.toString())}else if(typeof a!="string")throw Error(vf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ywe.test(a))pR(s,a);else throw Error(vf+a)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j9,i.config=i.set=bwe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function bwe(t){if(!t||typeof t!="object")throw Error(Ao+"Object expected");var e,r,n,i=["precision",1,Ip,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Op(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(vf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vf+r+": "+n);return this}var B3=j9(vwe);xs=new B3(1);const Ir=B3;function wwe(t){return Cwe(t)||Bwe(t)||Ewe(t)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return qS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(t,e)}}function Bwe(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Cwe(t){if(Array.isArray(t))return qS(t)}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Swe=function(e){return e},G9={},K9=function(e){return e===G9},mR=function(e){return function r(){return arguments.length===0||arguments.length===1&&K9(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Twe=function t(e,r){return e===1?r:mR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==G9}).length;return s>=e?r.apply(void 0,i):t(e-s,mR(function(){for(var o=arguments.length,A=new Array(o),l=0;l<o;l++)A[l]=arguments[l];var c=i.map(function(u){return K9(u)?A.shift():u});return r.apply(void 0,wwe(c).concat(A))}))})},ex=function(e){return Twe(e.length,e)},XS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},_we=ex(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Lwe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Swe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,A){return A(o)},a.apply(void 0,arguments))}},JS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},V9=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,A){return o===r[A]})||(r=a,n=e.apply(void 0,a)),n}};function Iwe(t){var e;return t===0?e=1:e=Math.floor(new Ir(t).abs().log(10).toNumber())+1,e}function Owe(t,e,r){for(var n=new Ir(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Fwe=ex(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Pwe=ex(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Uwe=ex(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const tx={rangeStep:Owe,getDigitCount:Iwe,interpolateNumber:Fwe,uninterpolateNumber:Pwe,uninterpolateTruncation:Uwe};function ZS(t){return Mwe(t)||Dwe(t)||W9(t)||Rwe()}function Rwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Mwe(t){if(Array.isArray(t))return eT(t)}function lm(t,e){return Qwe(t)||kwe(t,e)||W9(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(t,e){if(t){if(typeof t=="string")return eT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(t,e)}}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kwe(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(A){i=!0,a=A}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Qwe(t){if(Array.isArray(t))return t}function z9(t){var e=lm(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Y9(t,e,r){if(t.lte(0))return new Ir(0);var n=tx.getDigitCount(t.toNumber()),i=new Ir(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Ir(Math.ceil(a.div(s).toNumber())).add(r).mul(s),A=o.mul(i);return e?A:new Ir(Math.ceil(A))}function Hwe(t,e,r){var n=1,i=new Ir(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ir(10).pow(tx.getDigitCount(t)-1),i=new Ir(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ir(Math.floor(t)))}else t===0?i=new Ir(Math.floor((e-1)/2)):r||(i=new Ir(Math.floor(t)));var s=Math.floor((e-1)/2),o=Lwe(_we(function(A){return i.add(new Ir(A-s).mul(n)).toNumber()}),XS);return o(0,e)}function q9(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var a=Y9(new Ir(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Ir(0):(s=new Ir(t).add(e).div(2),s=s.sub(new Ir(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),A=Math.ceil(new Ir(e).sub(s).div(a).toNumber()),l=o+A+1;return l>r?q9(t,e,r,n,i+1):(l<r&&(A=e>0?A+(r-l):A,o=e>0?o:o+(r-l)),{step:a,tickMin:s.sub(new Ir(o).mul(a)),tickMax:s.add(new Ir(A).mul(a))})}function $we(t){var e=lm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=z9([r,n]),A=lm(o,2),l=A[0],c=A[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(ZS(XS(0,i-1).map(function(){return 1/0}))):[].concat(ZS(XS(0,i-1).map(function(){return-1/0})),[c]);return r>n?JS(u):u}if(l===c)return Hwe(l,i,a);var f=q9(l,c,s,a),h=f.step,d=f.tickMin,p=f.tickMax,g=tx.rangeStep(d,p.add(new Ir(.1).mul(h)),h);return r>n?JS(g):g}function jwe(t,e){var r=lm(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=z9([n,i]),o=lm(s,2),A=o[0],l=o[1];if(A===-1/0||l===1/0)return[n,i];if(A===l)return[A];var c=Math.max(e,2),u=Y9(new Ir(l).sub(A).div(c-1),a,0),f=[].concat(ZS(tx.rangeStep(new Ir(A),new Ir(l).sub(new Ir(.99).mul(u)),u)),[l]);return n>i?JS(f):f}var Gwe=V9($we),Kwe=V9(jwe),Vwe="Invariant failed";function If(t,e){throw new Error(Vwe)}var Wwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cb.apply(this,arguments)}function zwe(t,e){return Jwe(t)||Xwe(t,e)||qwe(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xwe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function Jwe(t){if(Array.isArray(t))return t}function Zwe(t,e){if(t==null)return{};var r=exe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function exe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z9(n.key),n)}}function nxe(t,e,r){return e&&rxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ixe(t,e,r){return e=ub(e),axe(t,X9()?Reflect.construct(e,r||[],ub(t).constructor):e.apply(t,r))}function axe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sxe(t)}function sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X9=function(){return!!t})()}function ub(t){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(t)}function oxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tT(t,e)}function J9(t,e,r){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z9(t){var e=Axe(t,"string");return Gd(e)=="symbol"?e:e+""}function Axe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tv=function(t){function e(){return txe(this,e),ixe(this,e,arguments)}return oxe(e,t),nxe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,A=n.data,l=n.dataPointFormatter,c=n.xAxis,u=n.yAxis,f=Zwe(n,Wwe),h=tr(f,!1);this.props.direction==="x"&&c.type!=="number"&&If();var d=A.map(function(p){var g=l(p,o),v=g.x,y=g.y,w=g.value,S=g.errorVal;if(!S)return null;var x=[],E,C;if(Array.isArray(S)){var L=zwe(S,2);E=L[0],C=L[1]}else E=C=S;if(a==="vertical"){var O=c.scale,D=y+i,_=D+s,F=D-s,R=O(w-E),M=O(w+C);x.push({x1:M,y1:_,x2:M,y2:F}),x.push({x1:R,y1:D,x2:M,y2:D}),x.push({x1:R,y1:_,x2:R,y2:F})}else if(a==="horizontal"){var z=u.scale,N=v+i,Y=N-s,X=N+s,H=z(w-E),W=z(w+C);x.push({x1:Y,y1:W,x2:X,y2:W}),x.push({x1:N,y1:H,x2:N,y2:W}),x.push({x1:Y,y1:H,x2:X,y2:H})}return he.createElement(kn,cb({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},h),x.map(function(Z){return he.createElement("line",cb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return he.createElement(kn,{className:"recharts-errorBars"},d)}}])}(he.Component);J9(tv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});J9(tv,"displayName","ErrorBar");function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lxe(t,e,r){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cxe(t){var e=uxe(t,"string");return cm(e)=="symbol"?e:e+""}function uxe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ej=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ws(r,bd);if(!s)return null;var o=bd.defaultProps,A=o!==void 0?Du(Du({},o),s.props):{},l;return s.props&&s.props.payload?l=s.props&&s.props.payload:a==="children"?l=(n||[]).reduce(function(c,u){var f=u.item,h=u.props,d=h.sectors||h.data||[];return c.concat(d.map(function(p){return{type:s.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):l=(n||[]).map(function(c){var u=c.item,f=u.type.defaultProps,h=f!==void 0?Du(Du({},f),u.props):{},d=h.dataKey,p=h.name,g=h.legendType,v=h.hide;return{inactive:v,dataKey:d,type:A.iconType||g||"square",color:C3(u),value:p||d,payload:h}}),Du(Du(Du({},A),bd.getWithHeight(s,i)),{},{payload:l,item:s})};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function bR(t){return pxe(t)||dxe(t)||hxe(t)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hxe(t,e){if(t){if(typeof t=="string")return rT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(t,e)}}function dxe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pxe(t){if(Array.isArray(t))return rT(t)}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){xd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xd(t,e,r){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gxe(t){var e=mxe(t,"string");return um(e)=="symbol"?e:e+""}function mxe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _s(t,e,r){return Yt(t)||Yt(e)?r:gi(e)?io(t,e,r):Kt(e)?e(t):r}function _0(t,e,r,n){var i=dwe(t,function(o){return _s(o,e)});if(r==="number"){var a=i.filter(function(o){return Je(o)||parseFloat(o)});return a.length?[Jw(a),Xw(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Yt(o)}):i;return s.map(function(o){return gi(o)||o instanceof Date?o:""})}var vxe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var A=a.range,l=0;l<o;l++){var c=l>0?i[l-1].coordinate:i[o-1].coordinate,u=i[l].coordinate,f=l>=o-1?i[0].coordinate:i[l+1].coordinate,h=void 0;if(Go(u-c)!==Go(f-u)){var d=[];if(Go(f-u)===Go(A[1]-A[0])){h=f;var p=u+A[1]-A[0];d[0]=Math.min(p,(p+c)/2),d[1]=Math.max(p,(p+c)/2)}else{h=c;var g=f+A[1]-A[0];d[0]=Math.min(u,(g+u)/2),d[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=d[0]&&e<=d[1]){s=i[l].index;break}}else{var y=Math.min(c,f),w=Math.max(c,f);if(e>(y+u)/2&&e<=(w+u)/2){s=i[l].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},C3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,A;switch(i){case"Line":A=s;break;case"Area":case"Radar":A=s&&s!=="none"?s:o;break;default:A=o;break}return A},yxe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),A=0,l=o.length;A<l;A++)for(var c=a[o[A]].stackGroups,u=Object.keys(c),f=0,h=u.length;f<h;f++){var d=c[u[f]],p=d.items,g=d.cateAxisId,v=p.filter(function(C){return Nl(C.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,w=y!==void 0?Bn(Bn({},y),v[0].props):v[0].props,S=w.barSize,x=w[g];s[x]||(s[x]=[]);var E=Yt(S)?r:S;s[x].push({item:v[0],stackList:v.slice(1),barSize:Yt(E)?void 0:_f(E,n,0)})}}return s},bxe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,A=s.length;if(A<1)return null;var l=_f(r,i,0,!0),c,u=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/A,d=s.reduce(function(S,x){return S+x.barSize||0},0);d+=(A-1)*l,d>=i&&(d-=(A-1)*l,l=0),d>=i&&h>0&&(f=!0,h*=.9,d=A*h);var p=(i-d)/2>>0,g={offset:p-l,size:0};c=s.reduce(function(S,x){var E={item:x.item,position:{offset:g.offset+g.size+l,size:f?h:x.barSize}},C=[].concat(bR(S),[E]);return g=C[C.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(L){C.push({item:L,position:g})}),C},u)}else{var v=_f(n,i,0,!0);i-2*v-(A-1)*l<=0&&(l=0);var y=(i-2*v-(A-1)*l)/A;y>1&&(y>>=0);var w=o===+o?Math.min(y,o):y;c=s.reduce(function(S,x,E){var C=[].concat(bR(S),[{item:x.item,position:{offset:v+(y+l)*E+(y-w)/2,size:w}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(L){C.push({item:L,position:C[C.length-1].position})}),C},u)}return c},wxe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,A=s-(o.left||0)-(o.right||0),l=ej({children:a,legendWidth:A});if(l){var c=i||{},u=c.width,f=c.height,h=l.align,d=l.verticalAlign,p=l.layout;if((p==="vertical"||p==="horizontal"&&d==="middle")&&h!=="center"&&Je(e[h]))return Bn(Bn({},e),{},xd({},h,e[h]+(u||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&d!=="middle"&&Je(e[d]))return Bn(Bn({},e),{},xd({},d,e[d]+(f||0)))}return e},xxe=function(e,r,n){return Yt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tj=function(e,r,n,i,a){var s=r.props.children,o=ao(s,tv).filter(function(l){return xxe(i,a,l.props.direction)});if(o&&o.length){var A=o.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var u=_s(c,n);if(Yt(u))return l;var f=Array.isArray(u)?[Jw(u),Xw(u)]:[u,u],h=A.reduce(function(d,p){var g=_s(c,p,0),v=f[0]-Math.abs(Array.isArray(g)?g[0]:g),y=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,d[0]),Math.max(y,d[1])]},[1/0,-1/0]);return[Math.min(h[0],l[0]),Math.max(h[1],l[1])]},[1/0,-1/0])}return null},Exe=function(e,r,n,i,a){var s=r.map(function(o){return tj(e,o,n,a,i)}).filter(function(o){return!Yt(o)});return s&&s.length?s.reduce(function(o,A){return[Math.min(o[0],A[0]),Math.max(o[1],A[1])]},[1/0,-1/0]):null},rj=function(e,r,n,i,a){var s=r.map(function(A){var l=A.props.dataKey;return n==="number"&&l&&tj(e,A,l,i)||_0(e,l,n,a)});if(n==="number")return s.reduce(function(A,l){return[Math.min(A[0],l[0]),Math.max(A[1],l[1])]},[1/0,-1/0]);var o={};return s.reduce(function(A,l){for(var c=0,u=l.length;c<u;c++)o[l[c]]||(o[l[c]]=!0,A.push(l[c]));return A},[])},nj=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ij=function(e,r,n,i){if(i)return e.map(function(A){return A.coordinate});var a,s,o=e.map(function(A){return A.coordinate===r&&(a=!0),A.coordinate===n&&(s=!0),A.coordinate});return a||o.push(r),s||o.push(n),o},Dl=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,A=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/A:0;if(l=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Go(o[0]-o[1])*2*l:l,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(u){var f=a?a.indexOf(u):u;return{coordinate:i(f)+l,value:u,offset:l}});return c.filter(function(u){return!zm(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,f){return{coordinate:i(u)+l,value:u,index:f,offset:l}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(u){return{coordinate:i(u)+l,value:u,offset:l}}):i.domain().map(function(u,f){return{coordinate:i(u)+l,value:a?a[u]:u,index:f,offset:l}})},SB=new WeakMap,R1=function(e,r){if(typeof r!="function")return e;SB.has(e)||SB.set(e,new WeakMap);var n=SB.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Bxe=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:nm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:ab(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:T0(),realScaleType:"point"}:a==="category"?{scale:nm(),realScaleType:"band"}:{scale:ab(),realScaleType:"linear"};if(Wm(i)){var A="scale".concat(Nw(i));return{scale:(dR[A]||T0)(),realScaleType:dR[A]?A:"point"}}return Kt(i)?{scale:i}:{scale:T0(),realScaleType:"point"}},xR=1e-4,Cxe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-xR,s=Math.max(i[0],i[1])+xR,o=e(r[0]),A=e(r[n-1]);(o<a||o>s||A<a||A>s)&&e.domain([r[0],r[n-1]])}},Sxe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Txe=function(e,r){if(!r||r.length!==2||!Je(r[0])||!Je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(a[0]=n),(!Je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},_xe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var A=zm(e[o][n][1])?e[o][n][0]:e[o][n][1];A>=0?(e[o][n][0]=a,e[o][n][1]=a+A,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+A,s=e[o][n][1])}},Lxe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=zm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Ixe={sign:_xe,expand:Kue,none:Dd,silhouette:Vue,wiggle:Wue,positive:Lxe},Oxe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Ixe[n],s=Gue().keys(i).value(function(o,A){return+_s(o,A,0)}).order(TS).offset(a);return s(e)},Fxe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,A={},l=o.reduce(function(u,f){var h,d=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Bn(Bn({},f.type.defaultProps),f.props):f.props,p=d.stackId,g=d.hide;if(g)return u;var v=d[n],y=u[v]||{hasStack:!1,stackGroups:{}};if(gi(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Ym("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Bn(Bn({},u),{},xd({},v,y))},A),c={};return Object.keys(l).reduce(function(u,f){var h=l[f];if(h.hasStack){var d={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var v=h.stackGroups[g];return Bn(Bn({},p),{},xd({},g,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:Oxe(e,v.items,a)}))},d)}return Bn(Bn({},u),{},xd({},f,h))},c)},Pxe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,A=n||r.scale;if(A!=="auto"&&A!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=Gwe(l,a,o);return e.domain([Jw(c),Xw(c)]),{niceTicks:c}}if(a&&i==="number"){var u=e.domain(),f=Kwe(u,a,o);return{niceTicks:f}}return null};function ER(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Yt(i[e.dataKey])){var o=D2(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var A=_s(i,Yt(s)?e.dataKey:s);return Yt(A)?null:e.scale(A)}var BR=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var A=_s(s,r.dataKey,r.domain[o]);return Yt(A)?null:r.scale(A)-a/2+i},Uxe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Rxe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(gi(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Dxe=function(e){return e.reduce(function(r,n){return[Jw(n.concat([r[0]]).filter(Je)),Xw(n.concat([r[1]]).filter(Je))]},[1/0,-1/0])},aj=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,A=o.reduce(function(l,c){var u=Dxe(c.slice(r,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(A[0],i[0]),Math.max(A[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nT=function(e,r,n){if(Kt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(CR.test(e[0])){var a=+CR.exec(e[0])[1];i[0]=r[0]-a}else Kt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(SR.test(e[1])){var s=+SR.exec(e[1])[1];i[1]=r[1]+s}else Kt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},fb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Z4(r,function(u){return u.coordinate}),s=1/0,o=1,A=a.length;o<A;o++){var l=a[o],c=a[o-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},TR=function(e,r,n){return!e||!e.length||Zw(e,io(n,"type.defaultProps.domain"))?r:e},sj=function(e,r){var n=e.type.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,A=n.tooltipType,l=n.chartType,c=n.hide;return Bn(Bn({},tr(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:C3(e),value:_s(r,i),type:A,payload:r,chartType:l,hide:c})};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){Mxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mxe(t,e,r){return e=Nxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nxe(t){var e=kxe(t,"string");return fm(e)=="symbol"?e:e+""}function kxe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hb=Math.PI/180,Qxe=function(e){return e*180/Math.PI},zi=function(e,r,n,i){return{x:e+Math.cos(-hb*i)*n,y:r+Math.sin(-hb*i)*n}},Hxe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},$xe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Hxe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var A=(n-a)/o,l=Math.acos(A);return i>s&&(l=2*Math.PI-l),{radius:o,angle:Qxe(l),angleInRadian:l}},jxe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Gxe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},IR=function(e,r){var n=e.x,i=e.y,a=$xe({x:n,y:i},r),s=a.radius,o=a.angle,A=r.innerRadius,l=r.outerRadius;if(s<A||s>l)return!1;if(s===0)return!0;var c=jxe(r),u=c.startAngle,f=c.endAngle,h=o,d;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;d=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;d=h>=f&&h<=u}return d?LR(LR({},r),{},{radius:s,angle:Gxe(h,r)}):null};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var Kxe=["offset"];function Vxe(t){return qxe(t)||Yxe(t)||zxe(t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zxe(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function Yxe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qxe(t){if(Array.isArray(t))return iT(t)}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xxe(t,e){if(t==null)return{};var r=Jxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Zxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zxe(t,e,r){return e=eEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eEe(t){var e=tEe(t,"string");return hm(e)=="symbol"?e:e+""}function tEe(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}var rEe=function(e){var r=e.value,n=e.formatter,i=Yt(e.children)?r:e.children;return Kt(n)?n(i):i},nEe=function(e,r){var n=Go(r-e),i=Math.min(Math.abs(r-e),360);return n*i},iEe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,A=a,l=A.cx,c=A.cy,u=A.innerRadius,f=A.outerRadius,h=A.startAngle,d=A.endAngle,p=A.clockWise,g=(u+f)/2,v=nEe(h,d),y=v>=0?1:-1,w,S;i==="insideStart"?(w=h+y*s,S=p):i==="insideEnd"?(w=d-y*s,S=!p):i==="end"&&(w=d+y*s,S=p),S=v<=0?S:!S;var x=zi(l,c,g,w),E=zi(l,c,g,w+(S?1:-1)*359),C="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),L=Yt(e.id)?Ym("recharts-radial-line-"):e.id;return he.createElement("text",dm({},n,{dominantBaseline:"central",className:cr("recharts-radial-bar-label",o)}),he.createElement("defs",null,he.createElement("path",{id:L,d:C})),he.createElement("textPath",{xlinkHref:"#".concat(L)},r))},aEe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,A=a.innerRadius,l=a.outerRadius,c=a.startAngle,u=a.endAngle,f=(c+u)/2;if(i==="outside"){var h=zi(s,o,l+n,f),d=h.x,p=h.y;return{x:d,y:p,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(A+l)/2,v=zi(s,o,g,f),y=v.x,w=v.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},sEe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,A=s.y,l=s.width,c=s.height,u=c>=0?1:-1,f=u*i,h=u>0?"end":"start",d=u>0?"start":"end",p=l>=0?1:-1,g=p*i,v=p>0?"end":"start",y=p>0?"start":"end";if(a==="top"){var w={x:o+l/2,y:A-u*i,textAnchor:"middle",verticalAnchor:h};return ci(ci({},w),n?{height:Math.max(A-n.y,0),width:l}:{})}if(a==="bottom"){var S={x:o+l/2,y:A+c+f,textAnchor:"middle",verticalAnchor:d};return ci(ci({},S),n?{height:Math.max(n.y+n.height-(A+c),0),width:l}:{})}if(a==="left"){var x={x:o-g,y:A+c/2,textAnchor:v,verticalAnchor:"middle"};return ci(ci({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if(a==="right"){var E={x:o+l+g,y:A+c/2,textAnchor:y,verticalAnchor:"middle"};return ci(ci({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:c}:{})}var C=n?{width:l,height:c}:{};return a==="insideLeft"?ci({x:o+g,y:A+c/2,textAnchor:y,verticalAnchor:"middle"},C):a==="insideRight"?ci({x:o+l-g,y:A+c/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?ci({x:o+l/2,y:A+f,textAnchor:"middle",verticalAnchor:d},C):a==="insideBottom"?ci({x:o+l/2,y:A+c-f,textAnchor:"middle",verticalAnchor:h},C):a==="insideTopLeft"?ci({x:o+g,y:A+f,textAnchor:y,verticalAnchor:d},C):a==="insideTopRight"?ci({x:o+l-g,y:A+f,textAnchor:v,verticalAnchor:d},C):a==="insideBottomLeft"?ci({x:o+g,y:A+c-f,textAnchor:y,verticalAnchor:h},C):a==="insideBottomRight"?ci({x:o+l-g,y:A+c-f,textAnchor:v,verticalAnchor:h},C):wp(a)&&(Je(a.x)||af(a.x))&&(Je(a.y)||af(a.y))?ci({x:o+_f(a.x,l),y:A+_f(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):ci({x:o+l/2,y:A+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},oEe=function(e){return"cx"in e&&Je(e.cx)};function fa(t){var e=t.offset,r=e===void 0?5:e,n=Xxe(t,Kxe),i=ci({offset:r},n),a=i.viewBox,s=i.position,o=i.value,A=i.children,l=i.content,c=i.className,u=c===void 0?"":c,f=i.textBreakAll;if(!a||Yt(o)&&Yt(A)&&!We.isValidElement(l)&&!Kt(l))return null;if(We.isValidElement(l))return We.cloneElement(l,i);var h;if(Kt(l)){if(h=We.createElement(l,i),We.isValidElement(h))return h}else h=rEe(i);var d=oEe(a),p=tr(i,!0);if(d&&(s==="insideStart"||s==="insideEnd"||s==="end"))return iEe(i,h,p);var g=d?aEe(i):sEe(i);return he.createElement(J2,dm({className:cr("recharts-label",u)},p,g,{breakAll:f}),h)}fa.displayName="Label";var oj=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,A=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,f=e.y,h=e.top,d=e.left,p=e.width,g=e.height,v=e.clockWise,y=e.labelViewBox;if(y)return y;if(Je(p)&&Je(g)){if(Je(u)&&Je(f))return{x:u,y:f,width:p,height:g};if(Je(h)&&Je(d))return{x:h,y:d,width:p,height:g}}return Je(u)&&Je(f)?{x:u,y:f,width:0,height:0}:Je(r)&&Je(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:l||0,outerRadius:c||A||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},AEe=function(e,r){return e?e===!0?he.createElement(fa,{key:"label-implicit",viewBox:r}):gi(e)?he.createElement(fa,{key:"label-implicit",viewBox:r,value:e}):We.isValidElement(e)?e.type===fa?We.cloneElement(e,{key:"label-implicit",viewBox:r}):he.createElement(fa,{key:"label-implicit",content:e,viewBox:r}):Kt(e)?he.createElement(fa,{key:"label-implicit",content:e,viewBox:r}):wp(e)?he.createElement(fa,dm({viewBox:r},e,{key:"label-implicit"})):null:null},lEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=oj(e),s=ao(i,fa).map(function(A,l){return We.cloneElement(A,{viewBox:r||a,key:"label-".concat(l)})});if(!n)return s;var o=AEe(e.label,r||a);return[o].concat(Vxe(s))};fa.parseViewBox=oj;fa.renderCallByParent=lEe;function cEe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uEe=cEe;const fEe=xr(uEe);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var hEe=["valueAccessor"],dEe=["data","dataKey","clockWise","id","textBreakAll"];function pEe(t){return yEe(t)||vEe(t)||mEe(t)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mEe(t,e){if(t){if(typeof t=="string")return aT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aT(t,e)}}function vEe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yEe(t){if(Array.isArray(t))return aT(t)}function aT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){bEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bEe(t,e,r){return e=wEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wEe(t){var e=xEe(t,"string");return pm(e)=="symbol"?e:e+""}function xEe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UR(t,e){if(t==null)return{};var r=EEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var BEe=function(e){return Array.isArray(e.value)?fEe(e.value):e.value};function qc(t){var e=t.valueAccessor,r=e===void 0?BEe:e,n=UR(t,hEe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,A=n.textBreakAll,l=UR(n,dEe);return!i||!i.length?null:he.createElement(kn,{className:"recharts-label-list"},i.map(function(c,u){var f=Yt(a)?r(c,u):_s(c&&c.payload,a),h=Yt(o)?{}:{id:"".concat(o,"-").concat(u)};return he.createElement(fa,db({},tr(c,!0),l,h,{parentViewBox:c.parentViewBox,value:f,textBreakAll:A,viewBox:fa.parseViewBox(Yt(s)?c:PR(PR({},c),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}qc.displayName="LabelList";function CEe(t,e){return t?t===!0?he.createElement(qc,{key:"labelList-implicit",data:e}):he.isValidElement(t)||Kt(t)?he.createElement(qc,{key:"labelList-implicit",data:e,content:t}):wp(t)?he.createElement(qc,db({data:e},t,{key:"labelList-implicit"})):null:null}function SEe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ao(n,qc).map(function(s,o){return We.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=CEe(t.label,e);return[a].concat(pEe(i))}qc.renderCallByParent=SEe;function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sT.apply(this,arguments)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){TEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TEe(t,e,r){return e=_Ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ee(t){var e=LEe(t,"string");return gm(e)=="symbol"?e:e+""}function LEe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IEe=function(e,r){var n=Go(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},D1=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,A=e.cornerRadius,l=e.cornerIsExternal,c=A*(o?1:-1)+i,u=Math.asin(A/c)/hb,f=l?a:a+s*u,h=zi(r,n,c,f),d=zi(r,n,i,f),p=l?a-s*u:a,g=zi(r,n,c*Math.cos(u*hb),p);return{center:h,circleTangency:d,lineTangency:g,theta:u}},Aj=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,A=IEe(s,o),l=s+A,c=zi(r,n,a,s),u=zi(r,n,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(A)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var h=zi(r,n,i,s),d=zi(r,n,i,l);f+="L ".concat(d.x,",").concat(d.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(A)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},OEe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,A=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Go(c-l),f=D1({cx:r,cy:n,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:A}),h=f.circleTangency,d=f.lineTangency,p=f.theta,g=D1({cx:r,cy:n,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:A}),v=g.circleTangency,y=g.lineTangency,w=g.theta,S=A?Math.abs(l-c):Math.abs(l-c)-p-w;if(S<0)return o?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Aj({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var E=D1({cx:r,cy:n,radius:i,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:A}),C=E.circleTangency,L=E.lineTangency,O=E.theta,D=D1({cx:r,cy:n,radius:i,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:A}),_=D.circleTangency,F=D.lineTangency,R=D.theta,M=A?Math.abs(l-c):Math.abs(l-c)-O-R;if(M<0&&s===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(u>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},FEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lj=function(e){var r=DR(DR({},FEe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,A=r.forceCornerRadius,l=r.cornerIsExternal,c=r.startAngle,u=r.endAngle,f=r.className;if(s<a||c===u)return null;var h=cr("recharts-sector",f),d=s-a,p=_f(o,d,0,!0),g;return p>0&&Math.abs(c-u)<360?g=OEe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,d/2),forceCornerRadius:A,cornerIsExternal:l,startAngle:c,endAngle:u}):g=Aj({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u}),he.createElement("path",sT({},tr(r,!0),{className:h,d:g,role:"img"}))};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oT.apply(this,arguments)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){PEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PEe(t,e,r){return e=UEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UEe(t){var e=REe(t,"string");return mm(e)=="symbol"?e:e+""}function REe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kR={curveBasisClosed:Pue,curveBasisOpen:Uue,curveBasis:Fue,curveBumpX:vue,curveBumpY:yue,curveLinearClosed:Rue,curveLinear:Qw,curveMonotoneX:Due,curveMonotoneY:Mue,curveNatural:Nue,curveStep:kue,curveStepAfter:Hue,curveStepBefore:Que},M1=function(e){return e.x===+e.x&&e.y===+e.y},Tg=function(e){return e.x},_g=function(e){return e.y},DEe=function(e,r){if(Kt(e))return e;var n="curve".concat(Nw(e));return(n==="curveMonotone"||n==="curveBump")&&r?kR["".concat(n).concat(r==="vertical"?"Y":"X")]:kR[n]||Qw},MEe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,A=e.connectNulls,l=A===void 0?!1:A,c=DEe(n,o),u=l?a.filter(function(p){return M1(p)}):a,f;if(Array.isArray(s)){var h=l?s.filter(function(p){return M1(p)}):s,d=u.map(function(p,g){return NR(NR({},p),{},{base:h[g]})});return o==="vertical"?f=T1().y(_g).x1(Tg).x0(function(p){return p.base.x}):f=T1().x(Tg).y1(_g).y0(function(p){return p.base.y}),f.defined(M1).curve(c),f(d)}return o==="vertical"&&Je(s)?f=T1().y(_g).x1(Tg).x0(s):Je(s)?f=T1().x(Tg).y1(_g).y0(s):f=l$().x(Tg).y(_g),f.defined(M1).curve(c),f(u)},AT=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?MEe(e):i;return he.createElement("path",oT({},tr(e,!1),M2(e),{className:cr("recharts-curve",r),d:s,ref:a}))},NEe=Object.getOwnPropertyNames,kEe=Object.getOwnPropertySymbols,QEe=Object.prototype.hasOwnProperty;function QR(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function N1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var A=t(r,n,i);return a.delete(r),a.delete(n),A}}function HR(t){return NEe(t).concat(kEe(t))}var HEe=Object.hasOwn||function(t,e){return QEe.call(t,e)};function $f(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $Ee="__v",jEe="__o",GEe="_owner",$R=Object.getOwnPropertyDescriptor,jR=Object.keys;function KEe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function VEe(t,e){return $f(t.getTime(),e.getTime())}function WEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zEe(t,e){return t===e}function GR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,A=0;(s=a.next())&&!s.done;){for(var l=e.entries(),c=!1,u=0;(o=l.next())&&!o.done;){if(i[u]){u++;continue}var f=s.value,h=o.value;if(r.equals(f[0],h[0],A,u,t,e,r)&&r.equals(f[1],h[1],f[0],h[0],t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1;A++}return!0}var YEe=$f;function qEe(t,e,r){var n=jR(t),i=n.length;if(jR(e).length!==i)return!1;for(;i-- >0;)if(!cj(t,e,r,n[i]))return!1;return!0}function Lg(t,e,r){var n=HR(t),i=n.length;if(HR(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!cj(t,e,r,a)||(s=$R(t,a),o=$R(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function XEe(t,e){return $f(t.valueOf(),e.valueOf())}function JEe(t,e){return t.source===e.source&&t.flags===e.flags}function KR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var A=e.values(),l=!1,c=0;(o=A.next())&&!o.done;){if(!i[c]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function ZEe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function eBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cj(t,e,r,n){return(n===GEe||n===jEe||n===$Ee)&&(t.$$typeof||e.$$typeof)?!0:HEe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var tBe="[object Arguments]",rBe="[object Boolean]",nBe="[object Date]",iBe="[object Error]",aBe="[object Map]",sBe="[object Number]",oBe="[object Object]",ABe="[object RegExp]",lBe="[object Set]",cBe="[object String]",uBe="[object URL]",fBe=Array.isArray,VR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WR=Object.assign,hBe=Object.prototype.toString.call.bind(Object.prototype.toString);function dBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,A=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,c=t.areSetsEqual,u=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(d,p,g){if(d===p)return!0;if(d==null||p==null)return!1;var v=typeof d;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?s(d,p,g):v==="function"?i(d,p,g):!1;var y=d.constructor;if(y!==p.constructor)return!1;if(y===Object)return o(d,p,g);if(fBe(d))return e(d,p,g);if(VR!=null&&VR(d))return u(d,p,g);if(y===Date)return r(d,p,g);if(y===RegExp)return l(d,p,g);if(y===Map)return a(d,p,g);if(y===Set)return c(d,p,g);var w=hBe(d);return w===nBe?r(d,p,g):w===ABe?l(d,p,g):w===aBe?a(d,p,g):w===lBe?c(d,p,g):w===oBe?typeof d.then!="function"&&typeof p.then!="function"&&o(d,p,g):w===uBe?f(d,p,g):w===iBe?n(d,p,g):w===tBe?o(d,p,g):w===rBe||w===sBe||w===cBe?A(d,p,g):!1}}function pBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Lg:KEe,areDatesEqual:VEe,areErrorsEqual:WEe,areFunctionsEqual:zEe,areMapsEqual:n?QR(GR,Lg):GR,areNumbersEqual:YEe,areObjectsEqual:n?Lg:qEe,arePrimitiveWrappersEqual:XEe,areRegExpsEqual:JEe,areSetsEqual:n?QR(KR,Lg):KR,areTypedArraysEqual:n?Lg:ZEe,areUrlsEqual:eBe};if(r&&(i=WR({},i,r(i))),e){var a=N1(i.areArraysEqual),s=N1(i.areMapsEqual),o=N1(i.areObjectsEqual),A=N1(i.areSetsEqual);i=WR({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:A})}return i}function gBe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function mBe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(A,l){var c=n(),u=c.cache,f=u===void 0?e?new WeakMap:void 0:u,h=c.meta;return r(A,l,{cache:f,equals:i,meta:h,strict:a})};if(e)return function(A,l){return r(A,l,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(A,l){return r(A,l,s)}}var MGe=gu();gu({strict:!0});gu({circular:!0});gu({circular:!0,strict:!0});gu({createInternalComparator:function(){return $f}});gu({strict:!0,createInternalComparator:function(){return $f}});gu({circular:!0,createInternalComparator:function(){return $f}});gu({circular:!0,createInternalComparator:function(){return $f},strict:!0});function gu(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=pBe(t),A=dBe(o),l=n?n(A):gBe(A);return mBe({circular:r,comparator:A,createState:i,equals:l,strict:s})}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function vBe(t,e){return xBe(t)||wBe(t,e)||bBe(t,e)||yBe()}function yBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bBe(t,e){if(t){if(typeof t=="string")return zR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wBe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function xBe(t){if(Array.isArray(t))return t}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){EBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EBe(t,e,r){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BBe(t){var e=CBe(t,"string");return vm(e)=="symbol"?e:e+""}function CBe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XR=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,A=n>=0?1:-1,l=i>=0&&n>=0||i<0&&n<0?1:0,c;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>s?s:a[f];c="M".concat(e,",").concat(r+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+A*u[0],",").concat(r)),c+="L ".concat(e+n-A*u[1],",").concat(r),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(r+o*u[1])),c+="L ".concat(e+n,",").concat(r+i-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-A*u[2],",").concat(r+i)),c+="L ".concat(e+A*u[3],",").concat(r+i),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(r+i-o*u[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var d=Math.min(s,a);c="M ".concat(e,",").concat(r+o*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+A*d,",").concat(r,`
            L `).concat(e+n-A*d,",").concat(r,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+n,",").concat(r+o*d,`
            L `).concat(e+n,",").concat(r+i-o*d,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e+n-A*d,",").concat(r+i,`
            L `).concat(e+A*d,",").concat(r+i,`
            A `).concat(d,",").concat(d,",0,0,").concat(l,",").concat(e,",").concat(r+i-o*d," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},SBe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,A=r.height;if(Math.abs(o)>0&&Math.abs(A)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(s,s+A),f=Math.max(s,s+A);return n>=l&&n<=c&&i>=u&&i<=f}return!1},TBe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S3=function(e){var r=qR(qR({},TBe),e),n=We.useRef(),i=We.useState(-1),a=vBe(i,2),s=a[0],o=a[1];We.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch(x){}},[]);var A=r.x,l=r.y,c=r.width,u=r.height,f=r.radius,h=r.className,d=r.animationEasing,p=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(A!==+A||l!==+l||c!==+c||u!==+u||c===0||u===0)return null;var w=cr("recharts-rectangle",h);return y?he.createElement(_d,{canBegin:s>0,from:{width:c,height:u,x:A,y:l},to:{width:c,height:u,x:A,y:l},duration:p,animationEasing:d,isActive:y},function(S){var x=S.width,E=S.height,C=S.x,L=S.y;return he.createElement(_d,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:v,easing:d},he.createElement("path",pb({},tr(r,!0),{className:w,d:XR(C,L,x,E,f),ref:n})))}):he.createElement("path",pb({},tr(r,!0),{className:w,d:XR(A,l,c,u,f)}))};function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lT.apply(this,arguments)}var T3=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=cr("recharts-dot",a);return r===+r&&n===+n&&i===+i?he.createElement("circle",lT({},tr(e,!1),M2(e),{className:s,cx:r,cy:n,r:i})):null};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var _Be=["x","y","top","left","width","height","className"];function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cT.apply(this,arguments)}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){IBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IBe(t,e,r){return e=OBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OBe(t){var e=FBe(t,"string");return ym(e)=="symbol"?e:e+""}function FBe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PBe(t,e){if(t==null)return{};var r=UBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RBe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},DBe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,A=e.left,l=A===void 0?0:A,c=e.width,u=c===void 0?0:c,f=e.height,h=f===void 0?0:f,d=e.className,p=PBe(e,_Be),g=LBe({x:n,y:a,top:o,left:l,width:u,height:h},p);return!Je(n)||!Je(a)||!Je(u)||!Je(h)||!Je(o)||!Je(l)?null:he.createElement("path",cT({},tr(g,!0),{className:cr("recharts-cross",d),d:RBe(n,a,u,h,o,l)}))},MBe=P$,NBe=MBe(Object.getPrototypeOf,Object),kBe=NBe,QBe=Jl,HBe=kBe,$Be=Zl,jBe="[object Object]",GBe=Function.prototype,KBe=Object.prototype,uj=GBe.toString,VBe=KBe.hasOwnProperty,WBe=uj.call(Object);function zBe(t){if(!$Be(t)||QBe(t)!=jBe)return!1;var e=HBe(t);if(e===null)return!0;var r=VBe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uj.call(r)==WBe}var YBe=zBe;const qBe=xr(YBe);var XBe=Jl,JBe=Zl,ZBe="[object Boolean]";function eCe(t){return t===!0||t===!1||JBe(t)&&XBe(t)==ZBe}var tCe=eCe;const rCe=xr(tCe);function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function nCe(t,e){return oCe(t)||sCe(t,e)||aCe(t,e)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(t,e){if(t){if(typeof t=="string")return ZR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sCe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function oCe(t){if(Array.isArray(t))return t}function eD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(r),!0).forEach(function(n){ACe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ACe(t,e,r){return e=lCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lCe(t){var e=cCe(t,"string");return bm(e)=="symbol"?e:e+""}function cCe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},uCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fCe=function(e){var r=tD(tD({},uCe),e),n=We.useRef(),i=We.useState(-1),a=nCe(i,2),s=a[0],o=a[1];We.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch(S){}},[]);var A=r.x,l=r.y,c=r.upperWidth,u=r.lowerWidth,f=r.height,h=r.className,d=r.animationEasing,p=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(A!==+A||l!==+l||c!==+c||u!==+u||f!==+f||c===0&&u===0||f===0)return null;var y=cr("recharts-trapezoid",h);return v?he.createElement(_d,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:A,y:l},to:{upperWidth:c,lowerWidth:u,height:f,x:A,y:l},duration:p,animationEasing:d,isActive:v},function(w){var S=w.upperWidth,x=w.lowerWidth,E=w.height,C=w.x,L=w.y;return he.createElement(_d,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:d},he.createElement("path",gb({},tr(r,!0),{className:y,d:rD(C,L,S,x,E),ref:n})))}):he.createElement("g",null,he.createElement("path",gb({},tr(r,!0),{className:y,d:rD(A,l,c,u,f)})))},hCe=["option","shapeType","propTransformer","activeClassName","isActive"];function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function dCe(t,e){if(t==null)return{};var r=pCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(n){gCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gCe(t,e,r){return e=mCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mCe(t){var e=vCe(t,"string");return wm(e)=="symbol"?e:e+""}function vCe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yCe(t,e){return mb(mb({},e),t)}function bCe(t,e){return t==="symbols"}function iD(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return he.createElement(S3,r);case"trapezoid":return he.createElement(fCe,r);case"sector":return he.createElement(lj,r);case"symbols":if(bCe(e))return he.createElement(K4,r);break;default:return null}}function wCe(t){return We.isValidElement(t)?t.props:t}function xCe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?yCe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,A=dCe(t,hCe),l;if(We.isValidElement(e))l=We.cloneElement(e,mb(mb({},A),wCe(e)));else if(Kt(e))l=e(A);else if(qBe(e)&&!rCe(e)){var c=i(e,A);l=he.createElement(iD,{shapeType:r,elementProps:c})}else{var u=A;l=he.createElement(iD,{shapeType:r,elementProps:u})}return o?he.createElement(kn,{className:s},l):l}function rx(t,e){return e!=null&&"trapezoids"in t.props}function nx(t,e){return e!=null&&"sectors"in t.props}function xm(t,e){return e!=null&&"points"in t.props}function ECe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function BCe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function CCe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function SCe(t,e){var r;return rx(t,e)?r=ECe:nx(t,e)?r=BCe:xm(t,e)&&(r=CCe),r}function TCe(t,e){var r;return rx(t,e)?r="trapezoids":nx(t,e)?r="sectors":xm(t,e)&&(r="points"),r}function _Ce(t,e){if(rx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(nx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xm(t,e)?e.payload:{}}function LCe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=TCe(r,e),a=_Ce(r,e),s=n.filter(function(A,l){var c=Zw(a,A),u=r.props[i].filter(function(d){var p=SCe(r,e);return p(d,e)}),f=r.props[i].indexOf(u[u.length-1]),h=l===f;return c&&h}),o=n.indexOf(s[s.length-1]);return o}var ICe=Math.ceil,OCe=Math.max;function FCe(t,e,r,n){for(var i=-1,a=OCe(ICe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var PCe=FCe,UCe=J$,RCe=1/0,DCe=17976931348623157e292;function MCe(t){if(!t)return t===0?t:0;if(t=UCe(t),t===RCe||t===-1/0){var e=t<0?-1:1;return e*DCe}return t===t?t:0}var fj=MCe,NCe=PCe,kCe=Gw,TB=fj;function QCe(t){return function(e,r,n){return n&&typeof n!="number"&&kCe(e,r,n)&&(r=n=void 0),e=TB(e),r===void 0?(r=e,e=0):r=TB(r),n=n===void 0?e<r?1:-1:TB(n),NCe(e,r,n,t)}}var HCe=QCe,$Ce=HCe,jCe=$Ce(),GCe=jCe;const vb=xr(GCe);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function aD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(r),!0).forEach(function(n){hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hj(t,e,r){return e=KCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KCe(t){var e=VCe(t,"string");return Em(e)=="symbol"?e:e+""}function VCe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WCe=["Webkit","Moz","O","ms"],zCe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=WCe.reduce(function(a,s){return sD(sD({},a),{},hj({},s+n,r))},{});return i[e]=r,i};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(this,arguments)}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pj(n.key),n)}}function qCe(t,e,r){return e&&AD(t.prototype,e),r&&AD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XCe(t,e,r){return e=bb(e),JCe(t,dj()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function JCe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(t)}function ZCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dj=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function e5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uT(t,e)}function bs(t,e,r){return e=pj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pj(t){var e=t5e(t,"string");return Kd(e)=="symbol"?e:e+""}function t5e(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r5e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var A=r.length,l=T0().domain(vb(0,A)).range([a,a+s-o]),c=l.domain().map(function(u){return l(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(i),scale:l,scaleValues:c}},lD=function(e){return e.changedTouches&&!!e.changedTouches.length},Vd=function(t){function e(r){var n;return YCe(this,e),n=XCe(this,e,[r]),bs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),bs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),bs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),bs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),bs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),bs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),bs(n,"handleSlideDragStart",function(i){var a=lD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return e5e(e,t),qCe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,A=o.gap,l=o.data,c=l.length-1,u=Math.min(i,a),f=Math.max(i,a),h=e.getIndexInRange(s,u),d=e.getIndexInRange(s,f);return{startIndex:h-h%A,endIndex:d===c?c:d-d%A}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,A=_s(a[n],o,n);return Kt(s)?s(A,n):A}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,A=this.props,l=A.x,c=A.width,u=A.travellerWidth,f=A.startIndex,h=A.endIndex,d=A.onChange,p=n.pageX-a;p>0?p=Math.min(p,l+c-u-o,l+c-u-s):p<0&&(p=Math.max(p,l-s,l-o));var g=this.getIndex({startX:s+p,endX:o+p});(g.startIndex!==f||g.endIndex!==h)&&d&&d(g),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=lD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,A=i.startX,l=this.state[s],c=this.props,u=c.x,f=c.width,h=c.travellerWidth,d=c.onChange,p=c.gap,g=c.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,u+f-h-l):y<0&&(y=Math.max(y,u-l)),v[s]=l+y;var w=this.getIndex(v),S=w.startIndex,x=w.endIndex,E=function(){var L=g.length-1;return s==="startX"&&(o>A?S%p===0:x%p===0)||o<A&&x===L||s==="endX"&&(o>A?x%p===0:S%p===0)||o>A&&x===L};this.setState(bs(bs({},s,l+y),"brushMoveStartX",n.pageX),function(){d&&E()&&d(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,A=s.startX,l=s.endX,c=this.state[i],u=o.indexOf(c);if(u!==-1){var f=u+n;if(!(f===-1||f>=o.length)){var h=o[f];i==="startX"&&h>=l||i==="endX"&&h<=A||this.setState(bs({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,A=n.fill,l=n.stroke;return he.createElement("rect",{stroke:l,fill:A,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,A=n.data,l=n.children,c=n.padding,u=We.Children.only(l);return u?he.cloneElement(u,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:A}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,A=this.props,l=A.y,c=A.travellerWidth,u=A.height,f=A.traveller,h=A.ariaLabel,d=A.data,p=A.startIndex,g=A.endIndex,v=Math.max(n,this.props.x),y=_B(_B({},tr(this.props,!1)),{},{x:v,y:l,width:c,height:u}),w=h||"Min value: ".concat((a=d[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=d[g])===null||s===void 0?void 0:s.name);return he.createElement(kn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),o.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,A=a.stroke,l=a.travellerWidth,c=Math.min(n,i)+l,u=Math.max(Math.abs(i-n)-l,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:A,fillOpacity:.2,x:c,y:s,width:u,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,A=n.travellerWidth,l=n.stroke,c=this.state,u=c.startX,f=c.endX,h=5,d={pointerEvents:"none",fill:l};return he.createElement(kn,{className:"recharts-brush-texts"},he.createElement(J2,yb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-h,y:s+o/2},d),this.getTextOfTick(i)),he.createElement(J2,yb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+A+h,y:s+o/2},d),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,A=n.y,l=n.width,c=n.height,u=n.alwaysShowText,f=this.state,h=f.startX,d=f.endX,p=f.isTextActive,g=f.isSlideMoving,v=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!Je(o)||!Je(A)||!Je(l)||!Je(c)||l<=0||c<=0)return null;var w=cr("recharts-brush",a),S=he.Children.count(s)===1,x=zCe("userSelect","none");return he.createElement(kn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(p||g||v||y||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,A=n.stroke,l=Math.floor(a+o/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:a,width:s,height:o,fill:A,stroke:"none"}),he.createElement("line",{x1:i+1,y1:l,x2:i+s-1,y2:l,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:l+2,x2:i+s-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return he.isValidElement(n)?a=he.cloneElement(n,i):Kt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,A=n.travellerWidth,l=n.updateId,c=n.startIndex,u=n.endIndex;if(a!==i.prevData||l!==i.prevUpdateId)return _B({prevData:a,prevTravellerWidth:A,prevUpdateId:l,prevX:o,prevWidth:s},a&&a.length?r5e({data:a,width:s,x:o,travellerWidth:A,startIndex:c,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||A!==i.prevTravellerWidth)){i.scale.range([o,o+s-A]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:A,prevUpdateId:l,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var A=Math.floor((s+o)/2);n[A]>i?o=A:s=A}return i>=n[o]?o:s}}])}(We.PureComponent);bs(Vd,"displayName","Brush");bs(Vd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n5e=J4;function i5e(t,e){var r;return n5e(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var a5e=i5e,s5e=C$,o5e=hu,A5e=a5e,l5e=is,c5e=Gw;function u5e(t,e,r){var n=l5e(t)?s5e:A5e;return r&&c5e(t,e,r)&&(e=void 0),n(t,o5e(e))}var f5e=u5e;const h5e=xr(f5e);var MA=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},cD=W$;function d5e(t,e,r){e=="__proto__"&&cD?cD(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var p5e=d5e,g5e=p5e,m5e=K$,v5e=hu;function y5e(t,e){var r={};return e=v5e(e),m5e(t,function(n,i,a){g5e(r,i,e(n,i,a))}),r}var b5e=y5e;const w5e=xr(b5e);function x5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var E5e=x5e,B5e=J4;function C5e(t,e){var r=!0;return B5e(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var S5e=C5e,T5e=E5e,_5e=S5e,L5e=hu,I5e=is,O5e=Gw;function F5e(t,e,r){var n=I5e(t)?T5e:_5e;return r&&O5e(t,e,r)&&(e=void 0),n(t,L5e(e))}var P5e=F5e;const gj=xr(P5e);var U5e=["x","y"];function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fT.apply(this,arguments)}function uD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(r),!0).forEach(function(n){R5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R5e(t,e,r){return e=D5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5e(t){var e=M5e(t,"string");return Bm(e)=="symbol"?e:e+""}function M5e(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N5e(t,e){if(t==null)return{};var r=k5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q5e(t,e){var r=t.x,n=t.y,i=N5e(t,U5e),a="".concat(r),s=parseInt(a,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),c=parseInt(l,10),u="".concat(e.width||i.width),f=parseInt(u,10);return Ig(Ig(Ig(Ig(Ig({},e),i),s?{x:s}:{}),A?{y:A}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function fD(t){return he.createElement(xCe,fT({shapeType:"rectangle",propTransformer:Q5e,activeClassName:"recharts-active-bar"},t))}var H5e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||If(),r)}},$5e=["value","background"],mj;function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function j5e(t,e){if(t==null)return{};var r=G5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wb.apply(this,arguments)}function hD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(r),!0).forEach(function(n){Gc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yj(n.key),n)}}function V5e(t,e,r){return e&&dD(t.prototype,e),r&&dD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W5e(t,e,r){return e=xb(e),z5e(t,vj()?Reflect.construct(e,r||[],xb(t).constructor):e.apply(t,r))}function z5e(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5e(t)}function Y5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vj=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(t)}function q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hT(t,e)}function Gc(t,e,r){return e=yj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yj(t){var e=X5e(t,"string");return Wd(e)=="symbol"?e:e+""}function X5e(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rv=function(t){function e(){var r;K5e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=W5e(this,e,[].concat(i)),Gc(r,"state",{isAnimationFinished:!1}),Gc(r,"id",Ym("recharts-bar-")),Gc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Gc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return q5e(e,t),V5e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,A=a.activeIndex,l=a.activeBar,c=tr(this.props,!1);return n&&n.map(function(u,f){var h=f===A,d=h?l:s,p=Zn(Zn(Zn({},c),u),{},{isActive:h,option:d,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(kn,wb({className:"recharts-bar-rectangle"},N2(i.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value)}),he.createElement(fD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,A=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state.prevData;return he.createElement(_d,{begin:A,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var d=h.t,p=a.map(function(g,v){var y=f&&f[v];if(y){var w=Qo(y.x,g.x),S=Qo(y.y,g.y),x=Qo(y.width,g.width),E=Qo(y.height,g.height);return Zn(Zn({},g),{},{x:w(d),y:S(d),width:x(d),height:E(d)})}if(s==="horizontal"){var C=Qo(0,g.height),L=C(d);return Zn(Zn({},g),{},{y:g.y+g.height-L,height:L})}var O=Qo(0,g.width),D=O(d);return Zn(Zn({},g),{},{width:D})});return he.createElement(kn,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Zw(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,A=tr(this.props.background,!1);return a.map(function(l,c){l.value;var u=l.background,f=j5e(l,$5e);if(!u)return null;var h=Zn(Zn(Zn(Zn(Zn({},f),{},{fill:"#eee"},u),A),N2(n.props,l,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return he.createElement(fD,wb({key:"background-bar-".concat(c),option:n.props.background,isActive:c===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,A=a.yAxis,l=a.layout,c=a.children,u=ao(c,tv);if(!u)return null;var f=l==="vertical"?s[0].height/2:s[0].width/2,h=function(g,v){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:_s(g,v)}},d={clipPath:n?"url(#clipPath-".concat(i,")"):null};return he.createElement(kn,d,u.map(function(p){return he.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:A,layout:l,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,A=n.yAxis,l=n.left,c=n.top,u=n.width,f=n.height,h=n.isAnimationActive,d=n.background,p=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=cr("recharts-bar",s),y=o&&o.allowDataOverflow,w=A&&A.allowDataOverflow,S=y||w,x=Yt(p)?this.id:p;return he.createElement(kn,{className:v},y||w?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(x)},he.createElement("rect",{x:y?l:l-u/2,y:w?c:c-f/2,width:y?u:u*2,height:w?f:f*2}))):null,he.createElement(kn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!h||g)&&qc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(We.PureComponent);mj=rv;Gc(rv,"displayName","Bar");Gc(rv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_p.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gc(rv,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,A=t.yAxisTicks,l=t.stackedData,c=t.dataStartIndex,u=t.displayedData,f=t.offset,h=Sxe(n,r);if(!h)return null;var d=e.layout,p=r.type.defaultProps,g=p!==void 0?Zn(Zn({},p),r.props):r.props,v=g.dataKey,y=g.children,w=g.minPointSize,S=d==="horizontal"?s:a,x=l?S.scale.domain():null,E=Uxe({numericAxis:S}),C=ao(y,e9),L=u.map(function(O,D){var _,F,R,M,z,N;l?_=Txe(l[c+D],x):(_=_s(O,v),Array.isArray(_)||(_=[E,_]));var Y=H5e(w,mj.defaultProps.minPointSize)(_[1],D);if(d==="horizontal"){var X,H=[s.scale(_[0]),s.scale(_[1])],W=H[0],Z=H[1];F=BR({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:O,index:D}),R=(X=Z!=null?Z:W)!==null&&X!==void 0?X:void 0,M=h.size;var I=W-Z;if(z=Number.isNaN(I)?0:I,N={x:F,y:s.y,width:M,height:s.height},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var U=Go(z||Y)*(Math.abs(Y)-Math.abs(z));R-=U,z+=U}}else{var $=[a.scale(_[0]),a.scale(_[1])],G=$[0],te=$[1];if(F=G,R=BR({axis:s,ticks:A,bandSize:i,offset:h.offset,entry:O,index:D}),M=te-G,z=h.size,N={x:a.x,y:R,width:a.width,height:z},Math.abs(Y)>0&&Math.abs(M)<Math.abs(Y)){var ie=Go(M||Y)*(Math.abs(Y)-Math.abs(M));M+=ie}}return Zn(Zn(Zn({},O),{},{x:F,y:R,width:M,height:z,value:l?_:_[1],payload:O,background:N},C&&C[D]&&C[D].props),{},{tooltipPayload:[sj(r,O)],tooltipPosition:{x:F+M/2,y:R+z/2}})});return Zn({data:L,layout:d},f)});function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function J5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bj(n.key),n)}}function Z5e(t,e,r){return e&&pD(t.prototype,e),r&&pD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function No(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){ix(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ix(t,e,r){return e=bj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bj(t){var e=eSe(t,"string");return Cm(e)=="symbol"?e:e+""}function eSe(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tSe=function(e,r,n,i,a){var s=e.width,o=e.height,A=e.layout,l=e.children,c=Object.keys(r),u={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!ws(l,rv);return c.reduce(function(h,d){var p=r[d],g=p.orientation,v=p.domain,y=p.padding,w=y===void 0?{}:y,S=p.mirror,x=p.reversed,E="".concat(g).concat(S?"Mirror":""),C,L,O,D,_;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var F=v[1]-v[0],R=1/0,M=p.categoricalDomain.sort();if(M.forEach(function($,G){G>0&&(R=Math.min(($||0)-(M[G-1]||0),R))}),Number.isFinite(R)){var z=R/F,N=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(C=z*N/2),p.padding==="no-gap"){var Y=_f(e.barCategoryGap,z*N),X=z*N/2;C=X-Y-(X-Y)/N*Y}}}i==="xAxis"?L=[n.left+(w.left||0)+(C||0),n.left+n.width-(w.right||0)-(C||0)]:i==="yAxis"?L=A==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(C||0),n.top+n.height-(w.bottom||0)-(C||0)]:L=p.range,x&&(L=[L[1],L[0]]);var H=Bxe(p,a,f),W=H.scale,Z=H.realScaleType;W.domain(v).range(L),Cxe(W);var I=Pxe(W,No(No({},p),{},{realScaleType:Z}));i==="xAxis"?(_=g==="top"&&!S||g==="bottom"&&S,O=n.left,D=u[E]-_*p.height):i==="yAxis"&&(_=g==="left"&&!S||g==="right"&&S,O=u[E]-_*p.width,D=n.top);var U=No(No(No({},p),I),{},{realScaleType:Z,x:O,y:D,scale:W,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return U.bandSize=fb(U,I),!p.hide&&i==="xAxis"?u[E]+=(_?-1:1)*U.height:p.hide||(u[E]+=(_?-1:1)*U.width),No(No({},h),{},ix({},d,U))},{})},wj=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},rSe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return wj({x:r,y:n},{x:i,y:a})},xj=function(){function t(e){J5e(this,t),this.scale=e}return Z5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var A=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+A}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();ix(xj,"EPS",1e-4);var _3=function(e){var r=Object.keys(e).reduce(function(n,i){return No(No({},n),{},ix({},i,xj.create(e[i])))},{});return No(No({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return w5e(i,function(A,l){return r[l].apply(A,{bandAware:s,position:o})})},isInRange:function(i){return gj(i,function(a,s){return r[s].isInRange(a)})}})};function nSe(t){return(t%180+180)%180}var iSe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nSe(i),s=a*Math.PI/180,o=Math.atan(n/r),A=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(A)},aSe=hu,sSe=qm,oSe=$w;function ASe(t){return function(e,r,n){var i=Object(e);if(!sSe(e)){var a=aSe(r);e=oSe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var lSe=ASe,cSe=fj;function uSe(t){var e=cSe(t),r=e%1;return e===e?r?e-r:e:0}var fSe=uSe,hSe=k$,dSe=hu,pSe=fSe,gSe=Math.max;function mSe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:pSe(r);return i<0&&(i=gSe(n+i,0)),hSe(t,dSe(e),i)}var vSe=mSe,ySe=lSe,bSe=vSe,wSe=ySe(bSe),xSe=wSe;const ESe=xr(xSe);var BSe=dle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),L3=We.createContext(void 0),I3=We.createContext(void 0),Ej=We.createContext(void 0),Bj=We.createContext({}),Cj=We.createContext(void 0),Sj=We.createContext(0),Tj=We.createContext(0),mD=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,A=e.width,l=e.height,c=BSe(a);return he.createElement(L3.Provider,{value:n},he.createElement(I3.Provider,{value:i},he.createElement(Bj.Provider,{value:a},he.createElement(Ej.Provider,{value:c},he.createElement(Cj.Provider,{value:s},he.createElement(Sj.Provider,{value:l},he.createElement(Tj.Provider,{value:A},o)))))))},CSe=function(){return We.useContext(Cj)},_j=function(e){var r=We.useContext(L3);r==null&&If();var n=r[e];return n==null&&If(),n},SSe=function(){var e=We.useContext(L3);return Dc(e)},TSe=function(){var e=We.useContext(I3),r=ESe(e,function(n){return gj(n.domain,Number.isFinite)});return r||Dc(e)},Lj=function(e){var r=We.useContext(I3);r==null&&If();var n=r[e];return n==null&&If(),n},_Se=function(){var e=We.useContext(Ej);return e},LSe=function(){return We.useContext(Bj)},O3=function(){return We.useContext(Tj)},F3=function(){return We.useContext(Sj)};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function ISe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oj(n.key),n)}}function FSe(t,e,r){return e&&OSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PSe(t,e,r){return e=Eb(e),USe(t,Ij()?Reflect.construct(e,r||[],Eb(t).constructor):e.apply(t,r))}function USe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RSe(t)}function RSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ij=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dT(t,e)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){P3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P3(t,e,r){return e=Oj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oj(t){var e=MSe(t,"string");return zd(e)=="symbol"?e:e+""}function MSe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NSe(t,e){return $Se(t)||HSe(t,e)||QSe(t,e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(t,e){if(t){if(typeof t=="string")return bD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(t,e)}}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HSe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function $Se(t){if(Array.isArray(t))return t}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}var jSe=function(e,r){var n;return he.isValidElement(e)?n=he.cloneElement(e,r):Kt(e)?n=e(r):n=he.createElement("line",pT({},r,{className:"recharts-reference-line-line"})),n},GSe=function(e,r,n,i,a,s,o,A,l){var c=a.x,u=a.y,f=a.width,h=a.height;if(n){var d=l.y,p=e.y.apply(d,{position:s});if(MA(l,"discard")&&!e.y.isInRange(p))return null;var g=[{x:c+f,y:p},{x:c,y:p}];return A==="left"?g.reverse():g}if(r){var v=l.x,y=e.x.apply(v,{position:s});if(MA(l,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:u+h},{x:y,y:u}];return o==="top"?w.reverse():w}if(i){var S=l.segment,x=S.map(function(E){return e.apply(E,{position:s})});return MA(l,"discard")&&h5e(x,function(E){return!e.isInRange(E)})?null:x}return null};function KSe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,A=t.alwaysShow,l=CSe(),c=_j(i),u=Lj(a),f=_Se();if(!l||!f)return null;kl(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=_3({x:c.scale,y:u.scale}),d=gi(e),p=gi(r),g=n&&n.length===2,v=GSe(h,d,p,g,f,t.position,c.orientation,u.orientation,t);if(!v)return null;var y=NSe(v,2),w=y[0],S=w.x,x=w.y,E=y[1],C=E.x,L=E.y,O=MA(t,"hidden")?"url(#".concat(l,")"):void 0,D=yD(yD({clipPath:O},tr(t,!0)),{},{x1:S,y1:x,x2:C,y2:L});return he.createElement(kn,{className:cr("recharts-reference-line",o)},jSe(s,D),fa.renderCallByParent(t,rSe({x1:S,y1:x,x2:C,y2:L})))}var U3=function(t){function e(){return ISe(this,e),PSe(this,e,arguments)}return DSe(e,t),FSe(e,[{key:"render",value:function(){return he.createElement(KSe,this.props)}}])}(he.Component);P3(U3,"displayName","ReferenceLine");P3(U3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gT.apply(this,arguments)}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){ax(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pj(n.key),n)}}function zSe(t,e,r){return e&&WSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YSe(t,e,r){return e=Bb(e),qSe(t,Fj()?Reflect.construct(e,r||[],Bb(t).constructor):e.apply(t,r))}function qSe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(t)}function XSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fj=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(t)}function JSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(t,e)}function ax(t,e,r){return e=Pj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pj(t){var e=ZSe(t,"string");return Yd(e)=="symbol"?e:e+""}function ZSe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eTe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=_3({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return MA(e,"discard")&&!s.isInRange(o)?null:o},sx=function(t){function e(){return VSe(this,e),YSe(this,e,arguments)}return JSe(e,t),zSe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,A=n.clipPathId,l=gi(i),c=gi(a);if(kl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=eTe(this.props);if(!u)return null;var f=u.x,h=u.y,d=this.props,p=d.shape,g=d.className,v=MA(this.props,"hidden")?"url(#".concat(A,")"):void 0,y=xD(xD({clipPath:v},tr(this.props,!0)),{},{cx:f,cy:h});return he.createElement(kn,{className:cr("recharts-reference-dot",g)},e.renderDot(p,y),fa.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(he.Component);ax(sx,"displayName","ReferenceDot");ax(sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ax(sx,"renderDot",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):Kt(t)?r=t(e):r=he.createElement(T3,gT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vT.apply(this,arguments)}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function ED(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(r),!0).forEach(function(n){ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rj(n.key),n)}}function nTe(t,e,r){return e&&rTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iTe(t,e,r){return e=Cb(e),aTe(t,Uj()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function aTe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sTe(t)}function sTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Uj=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function oTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}function yT(t,e){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yT(t,e)}function ox(t,e,r){return e=Rj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rj(t){var e=ATe(t,"string");return qd(e)=="symbol"?e:e+""}function ATe(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lTe=function(e,r,n,i,a){var s=a.x1,o=a.x2,A=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var f=_3({x:c.scale,y:u.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(A,{position:"start"}):f.y.rangeMin},d={x:r?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(l,{position:"end"}):f.y.rangeMax};return MA(a,"discard")&&(!f.isInRange(h)||!f.isInRange(d))?null:wj(h,d)},Ax=function(t){function e(){return tTe(this,e),iTe(this,e,arguments)}return oTe(e,t),nTe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,A=n.className,l=n.alwaysShow,c=n.clipPathId;kl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=gi(i),f=gi(a),h=gi(s),d=gi(o),p=this.props.shape;if(!u&&!f&&!h&&!d&&!p)return null;var g=lTe(u,f,h,d,this.props);if(!g&&!p)return null;var v=MA(this.props,"hidden")?"url(#".concat(c,")"):void 0;return he.createElement(kn,{className:cr("recharts-reference-area",A)},e.renderRect(p,BD(BD({clipPath:v},tr(this.props,!0)),g)),fa.renderCallByParent(this.props,g))}}])}(he.Component);ox(Ax,"displayName","ReferenceArea");ox(Ax,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ox(Ax,"renderRect",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):Kt(t)?r=t(e):r=he.createElement(S3,vT({},e,{className:"recharts-reference-area-rect"})),r});function Dj(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function cTe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return iSe(n,r)}function uTe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Sb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function fTe(t,e){return Dj(t,e+1)}function hTe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,A=0,l=1,c=s,u=function(){var d=n==null?void 0:n[A];if(d===void 0)return{v:Dj(n,l)};var p=A,g,v=function(){return g===void 0&&(g=r(d,p)),g},y=d.coordinate,w=A===0||Sb(t,y,v,c,o);w||(A=0,c=s,l+=1),w&&(c=y+t*(v()/2+i),A+=l)},f;l<=a.length;)if(f=u(),f)return f.v;return[]}function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function CD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(r),!0).forEach(function(n){dTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dTe(t,e,r){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pTe(t){var e=gTe(t,"string");return Sm(e)=="symbol"?e:e+""}function gTe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mTe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,A=e.end,l=function(f){var h=a[f],d,p=function(){return d===void 0&&(d=r(h,f)),d};if(f===s-1){var g=t*(h.coordinate+t*p()/2-A);a[f]=h=la(la({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate})}else a[f]=h=la(la({},h),{},{tickCoord:h.coordinate});var v=Sb(t,h.tickCoord,p,o,A);v&&(A=h.tickCoord-t*(p()/2+i),a[f]=la(la({},h),{},{isShow:!0}))},c=s-1;c>=0;c--)l(c);return a}function vTe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,A=e.start,l=e.end;if(a){var c=n[o-1],u=r(c,o-1),f=t*(c.coordinate+t*u/2-l);s[o-1]=c=la(la({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var h=Sb(t,c.tickCoord,function(){return u},A,l);h&&(l=c.tickCoord-t*(u/2+i),s[o-1]=la(la({},c),{},{isShow:!0}))}for(var d=a?o-1:o,p=function(y){var w=s[y],S,x=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var E=t*(w.coordinate-t*x()/2-A);s[y]=w=la(la({},w),{},{tickCoord:E<0?w.coordinate-E*t:w.coordinate})}else s[y]=w=la(la({},w),{},{tickCoord:w.coordinate});var C=Sb(t,w.tickCoord,x,A,l);C&&(A=w.tickCoord+t*(x()/2+i),s[y]=la(la({},w),{},{isShow:!0}))},g=0;g<d;g++)p(g);return s}function R3(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,A=t.interval,l=t.tickFormatter,c=t.unit,u=t.angle;if(!i||!i.length||!n)return[];if(Je(A)||_p.isSsr)return fTe(i,typeof A=="number"&&Je(A)?A:0);var f=[],h=o==="top"||o==="bottom"?"width":"height",d=c&&h==="width"?S0(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(w,S){var x=Kt(l)?l(w.value,S):w.value;return h==="width"?cTe(S0(x,{fontSize:e,letterSpacing:r}),d,u):S0(x,{fontSize:e,letterSpacing:r})[h]},g=i.length>=2?Go(i[1].coordinate-i[0].coordinate):1,v=uTe(a,g,h);return A==="equidistantPreserveStart"?hTe(g,v,p,i,s):(A==="preserveStart"||A==="preserveStartEnd"?f=vTe(g,v,p,i,s,A==="preserveStartEnd"):f=mTe(g,v,p,i,s),f.filter(function(y){return y.isShow}))}var yTe=["viewBox"],bTe=["viewBox"],wTe=["ticks"];function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}function SD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(r),!0).forEach(function(n){D3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LB(t,e){if(t==null)return{};var r=xTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ETe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nj(n.key),n)}}function BTe(t,e,r){return e&&TD(t.prototype,e),r&&TD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CTe(t,e,r){return e=Tb(e),STe(t,Mj()?Reflect.construct(e,r||[],Tb(t).constructor):e.apply(t,r))}function STe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TTe(t)}function TTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mj=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(t)}function _Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bT(t,e)}function D3(t,e,r){return e=Nj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nj(t){var e=LTe(t,"string");return Xd(e)=="symbol"?e:e+""}function LTe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fp=function(t){function e(r){var n;return ETe(this,e),n=CTe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _Te(e,t),BTe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=LB(n,yTe),o=this.props,A=o.viewBox,l=LB(o,bTe);return!yd(a,A)||!yd(s,l)||!yd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,A=i.height,l=i.orientation,c=i.tickSize,u=i.mirror,f=i.tickMargin,h,d,p,g,v,y,w=u?-1:1,S=n.tickSize||c,x=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(l){case"top":h=d=n.coordinate,g=s+ +!u*A,p=g-w*S,y=p-w*f,v=x;break;case"left":p=g=n.coordinate,d=a+ +!u*o,h=d-w*S,v=h-w*f,y=x;break;case"right":p=g=n.coordinate,d=a+ +u*o,h=d+w*S,v=h+w*f,y=x;break;default:h=d=n.coordinate,g=s+ +u*A,p=g+w*S,y=p+w*f,v=x;break}return{line:{x1:h,y1:p,x2:d,y2:g},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,A=n.orientation,l=n.mirror,c=n.axisLine,u=Ca(Ca(Ca({},tr(this.props,!1)),tr(c,!1)),{},{fill:"none"});if(A==="top"||A==="bottom"){var f=+(A==="top"&&!l||A==="bottom"&&l);u=Ca(Ca({},u),{},{x1:i,y1:a+f*o,x2:i+s,y2:a+f*o})}else{var h=+(A==="left"&&!l||A==="right"&&l);u=Ca(Ca({},u),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return he.createElement("line",sd({},u,{className:cr("recharts-cartesian-axis-line",io(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,A=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,f=o.unit,h=R3(Ca(Ca({},this.props),{},{ticks:n}),i,a),d=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=tr(this.props,!1),v=tr(c,!1),y=Ca(Ca({},g),{},{fill:"none"},tr(A,!1)),w=h.map(function(S,x){var E=s.getTickLineCoord(S),C=E.line,L=E.tick,O=Ca(Ca(Ca(Ca({textAnchor:d,verticalAnchor:p},g),{},{stroke:"none",fill:l},v),L),{},{index:x,payload:S,visibleTicksCount:h.length,tickFormatter:u});return he.createElement(kn,sd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},N2(s.props,S,x)),A&&he.createElement("line",sd({},y,C,{className:cr("recharts-cartesian-axis-tick-line",io(A,"className"))})),c&&e.renderTickItem(c,O,"".concat(Kt(u)?u(S.value,x):S.value).concat(f||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,A=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var u=this.props,f=u.ticks,h=LB(u,wTe),d=f;return Kt(A)&&(d=f&&f.length>0?A(this.props):A(h)),s<=0||o<=0||!d||!d.length?null:he.createElement(kn,{className:cr("recharts-cartesian-axis",l),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),fa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return he.isValidElement(n)?s=he.cloneElement(n,i):Kt(n)?s=n(i):s=he.createElement(J2,sd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(We.Component);D3(Fp,"displayName","CartesianAxis");D3(Fp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ITe=["x1","y1","x2","y2","key"],OTe=["offset"];function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function _D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(r),!0).forEach(function(n){FTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FTe(t,e,r){return e=PTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PTe(t){var e=UTe(t,"string");return Of(e)=="symbol"?e:e+""}function UTe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Af.apply(this,arguments)}function LD(t,e){if(t==null)return{};var r=RTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DTe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,A=e.ry;return he.createElement("rect",{x:i,y:a,ry:A,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kj(t,e){var r;if(he.isValidElement(t))r=he.cloneElement(t,e);else if(Kt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,A=LD(e,ITe),l=tr(A,!1);l.offset;var c=LD(l,OTe);r=he.createElement("line",Af({},c,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function MTe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,A){var l=ha(ha({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return kj(i,l)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function NTe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,A){var l=ha(ha({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return kj(i,l)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kTe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,A=t.horizontal,l=A===void 0?!0:A;if(!l||!e||!e.length)return null;var c=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==c[0]&&c.unshift(0);var u=c.map(function(f,h){var d=!c[h+1],p=d?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%e.length;return he.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function QTe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,A=t.height,l=t.verticalPoints;if(!r||!n||!n.length)return null;var c=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==c[0]&&c.unshift(0);var u=c.map(function(f,h){var d=!c[h+1],p=d?a+o-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return he.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:A,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var HTe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return ij(R3(ha(ha(ha({},Fp.defaultProps),n),{},{ticks:Dl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},$Te=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return ij(R3(ha(ha(ha({},Fp.defaultProps),n),{},{ticks:Dl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},_h={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jTe(t){var e,r,n,i,a,s,o=O3(),A=F3(),l=LSe(),c=ha(ha({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_h.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_h.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_h.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_h.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:_h.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:_h.verticalFill,x:Je(t.x)?t.x:l.left,y:Je(t.y)?t.y:l.top,width:Je(t.width)?t.width:l.width,height:Je(t.height)?t.height:l.height}),u=c.x,f=c.y,h=c.width,d=c.height,p=c.syncWithTicks,g=c.horizontalValues,v=c.verticalValues,y=SSe(),w=TSe();if(!Je(h)||h<=0||!Je(d)||d<=0||!Je(u)||u!==+u||!Je(f)||f!==+f)return null;var S=c.verticalCoordinatesGenerator||HTe,x=c.horizontalCoordinatesGenerator||$Te,E=c.horizontalPoints,C=c.verticalPoints;if((!E||!E.length)&&Kt(x)){var L=g&&g.length,O=x({yAxis:w?ha(ha({},w),{},{ticks:L?g:w.ticks}):void 0,width:o,height:A,offset:l},L?!0:p);kl(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Of(O),"]")),Array.isArray(O)&&(E=O)}if((!C||!C.length)&&Kt(S)){var D=v&&v.length,_=S({xAxis:y?ha(ha({},y),{},{ticks:D?v:y.ticks}):void 0,width:o,height:A,offset:l},D?!0:p);kl(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Of(_),"]")),Array.isArray(_)&&(C=_)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(DTe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),he.createElement(MTe,Af({},c,{offset:l,horizontalPoints:E,xAxis:y,yAxis:w})),he.createElement(NTe,Af({},c,{offset:l,verticalPoints:C,xAxis:y,yAxis:w})),he.createElement(kTe,Af({},c,{horizontalPoints:E})),he.createElement(QTe,Af({},c,{verticalPoints:C})))}jTe.displayName="CartesianGrid";var GTe=["type","layout","connectNulls","ref"],KTe=["key"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function ID(t,e){if(t==null)return{};var r=VTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function OD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(r),!0).forEach(function(n){ko(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lh(t){return qTe(t)||YTe(t)||zTe(t)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(t,e){if(t){if(typeof t=="string")return wT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wT(t,e)}}function YTe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qTe(t){if(Array.isArray(t))return wT(t)}function wT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hj(n.key),n)}}function JTe(t,e,r){return e&&FD(t.prototype,e),r&&FD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZTe(t,e,r){return e=_b(e),e_e(t,Qj()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function e_e(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t_e(t)}function t_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qj=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function r_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xT(t,e)}function ko(t,e,r){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hj(t){var e=n_e(t,"string");return Jd(e)=="symbol"?e:e+""}function n_e(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lx=function(t){function e(){var r;XTe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ZTe(this,e,[].concat(i)),ko(r,"state",{isAnimationFinished:!0,totalLength:0}),ko(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ko(r,"getStrokeDasharray",function(s,o,A){var l=A.reduce(function(v,y){return v+y});if(!l)return r.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/l),u=s%l,f=o-s,h=[],d=0,p=0;d<A.length;p+=A[d],++d)if(p+A[d]>u){h=[].concat(Lh(A.slice(0,d)),[u-p]);break}var g=h.length%2===0?[0,f]:[f];return[].concat(Lh(e.repeat(A,c)),Lh(h),g).map(function(v){return"".concat(v,"px")}).join(", ")}),ko(r,"id",Ym("recharts-line-")),ko(r,"pathRef",function(s){r.mainCurve=s}),ko(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ko(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return r_e(e,t),JTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch(i){return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,A=a.yAxis,l=a.layout,c=a.children,u=ao(c,tv);if(!u)return null;var f=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:_s(p.payload,g)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return he.createElement(kn,h,u.map(function(d){return he.cloneElement(d,{key:"bar-".concat(d.props.dataKey),data:s,xAxis:o,yAxis:A,layout:l,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,A=o.dot,l=o.points,c=o.dataKey,u=tr(this.props,!1),f=tr(A,!0),h=l.map(function(p,g){var v=gs(gs(gs({key:"dot-".concat(g),r:3},u),f),{},{value:p.value,dataKey:c,cx:p.x,cy:p.y,index:g,payload:p.payload});return e.renderDotItem(A,v)}),d={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return he.createElement(kn,L0({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,A=o.type,l=o.layout,c=o.connectNulls;o.ref;var u=ID(o,GTe),f=gs(gs(gs({},tr(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:A,layout:l,connectNulls:c});return he.createElement(AT,L0({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,A=s.strokeDasharray,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,h=s.animationId,d=s.animateNewValues,p=s.width,g=s.height,v=this.state,y=v.prevPoints,w=v.totalLength;return he.createElement(_d,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(y){var E=y.length/o.length,C=o.map(function(F,R){var M=Math.floor(R*E);if(y[M]){var z=y[M],N=Qo(z.x,F.x),Y=Qo(z.y,F.y);return gs(gs({},F),{},{x:N(x),y:Y(x)})}if(d){var X=Qo(p*2,F.x),H=Qo(g/2,F.y);return gs(gs({},F),{},{x:X(x),y:H(x)})}return gs(gs({},F),{},{x:F.x,y:F.y})});return a.renderCurveStatically(C,n,i)}var L=Qo(0,w),O=L(x),D;if(A){var _="".concat(A).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});D=a.getStrokeDasharray(O,w,_)}else D=a.generateSimpleStrokeDasharray(w,O);return a.renderCurveStatically(o,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,A=this.state,l=A.prevPoints,c=A.totalLength;return o&&s&&s.length&&(!l&&c>0||!Zw(l,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,A=i.className,l=i.xAxis,c=i.yAxis,u=i.top,f=i.left,h=i.width,d=i.height,p=i.isAnimationActive,g=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=o.length===1,w=cr("recharts-line",A),S=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,E=S||x,C=Yt(g)?this.id:g,L=(n=tr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=L.r,D=O===void 0?3:O,_=L.strokeWidth,F=_===void 0?2:_,R=pce(s)?s:{},M=R.clipDot,z=M===void 0?!0:M,N=D*2+F;return he.createElement(kn,{className:w},S||x?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(C)},he.createElement("rect",{x:S?f:f-h/2,y:x?u:u-d/2,width:S?h:h*2,height:x?d:d*2})),!z&&he.createElement("clipPath",{id:"clipPath-dots-".concat(C)},he.createElement("rect",{x:f-N/2,y:u-N/2,width:h+N,height:d+N}))):null,!y&&this.renderCurve(E,C),this.renderErrorBar(E,C),(y||s)&&this.renderDots(E,z,C),(!p||v)&&qc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Lh(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Lh(s),Lh(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(he.isValidElement(n))a=he.cloneElement(n,i);else if(Kt(n))a=n(i);else{var s=i.key,o=ID(i,KTe),A=cr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=he.createElement(T3,L0({key:s},o,{className:A}))}return a}}])}(We.PureComponent);ko(lx,"displayName","Line");ko(lx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_p.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ko(lx,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,A=t.displayedData,l=t.offset,c=e.layout,u=A.map(function(f,h){var d=_s(f,s);return c==="horizontal"?{x:ER({axis:r,ticks:i,bandSize:o,entry:f,index:h}),y:Yt(d)?null:n.scale(d),value:d,payload:f}:{x:Yt(d)?null:r.scale(d),y:ER({axis:n,ticks:a,bandSize:o,entry:f,index:h}),value:d,payload:f}});return gs({points:u,layout:c},l)});function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gj(n.key),n)}}function s_e(t,e,r){return e&&a_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_e(t,e,r){return e=Lb(e),A_e(t,$j()?Reflect.construct(e,r||[],Lb(t).constructor):e.apply(t,r))}function A_e(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l_e(t)}function l_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($j=function(){return!!t})()}function Lb(t){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(t)}function c_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ET(t,e)}function jj(t,e,r){return e=Gj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gj(t){var e=u_e(t,"string");return Zd(e)=="symbol"?e:e+""}function u_e(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BT.apply(this,arguments)}function f_e(t){var e=t.xAxisId,r=O3(),n=F3(),i=_j(e);return i==null?null:he.createElement(Fp,BT({},i,{className:cr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Dl(s,!0)}}))}var M3=function(t){function e(){return i_e(this,e),o_e(this,e,arguments)}return c_e(e,t),s_e(e,[{key:"render",value:function(){return he.createElement(f_e,this.props)}}])}(he.Component);jj(M3,"displayName","XAxis");jj(M3,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function h_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wj(n.key),n)}}function p_e(t,e,r){return e&&d_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g_e(t,e,r){return e=Ib(e),m_e(t,Kj()?Reflect.construct(e,r||[],Ib(t).constructor):e.apply(t,r))}function m_e(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(t)}function v_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kj=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(t)}function y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CT(t,e)}function CT(t,e){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CT(t,e)}function Vj(t,e,r){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wj(t){var e=b_e(t,"string");return ep(e)=="symbol"?e:e+""}function b_e(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ST.apply(this,arguments)}var w_e=function(e){var r=e.yAxisId,n=O3(),i=F3(),a=Lj(r);return a==null?null:he.createElement(Fp,ST({},a,{className:cr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Dl(o,!0)}}))},N3=function(t){function e(){return h_e(this,e),g_e(this,e,arguments)}return y_e(e,t),p_e(e,[{key:"render",value:function(){return he.createElement(w_e,this.props)}}])}(he.Component);Vj(N3,"displayName","YAxis");Vj(N3,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PD(t){return C_e(t)||B_e(t)||E_e(t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_e(t,e){if(t){if(typeof t=="string")return TT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(t,e)}}function B_e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C_e(t){if(Array.isArray(t))return TT(t)}function TT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _T=function(e,r,n,i,a){var s=ao(e,U3),o=ao(e,sx),A=[].concat(PD(s),PD(o)),l=ao(e,Ax),c="".concat(i,"Id"),u=i[0],f=r;if(A.length&&(f=A.reduce(function(p,g){if(g.props[c]===n&&MA(g.props,"extendDomain")&&Je(g.props[u])){var v=g.props[u];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},f)),l.length){var h="".concat(u,"1"),d="".concat(u,"2");f=l.reduce(function(p,g){if(g.props[c]===n&&MA(g.props,"extendDomain")&&Je(g.props[h])&&Je(g.props[d])){var v=g.props[h],y=g.props[d];return[Math.min(p[0],v,y),Math.max(p[1],v,y)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,g){return Je(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},f)),f},zj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,c){this.fn=A,this.context=l,this.once=c||!1}function a(A,l,c,u,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,u||A,f),d=r?r+l:l;return A._events[d]?A._events[d].fn?A._events[d]=[A._events[d],h]:A._events[d].push(h):(A._events[d]=h,A._eventsCount++),A}function s(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],c,u;if(this._eventsCount===0)return l;for(u in c=this._events)e.call(c,u)&&l.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},o.prototype.listeners=function(l){var c=r?r+l:l,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,h=u.length,d=new Array(h);f<h;f++)d[f]=u[f].fn;return d},o.prototype.listenerCount=function(l){var c=r?r+l:l,u=this._events[c];return u?u.fn?1:u.length:0},o.prototype.emit=function(l,c,u,f,h,d){var p=r?r+l:l;if(!this._events[p])return!1;var g=this._events[p],v=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,u),!0;case 4:return g.fn.call(g.context,c,u,f),!0;case 5:return g.fn.call(g.context,c,u,f,h),!0;case 6:return g.fn.call(g.context,c,u,f,h,d),!0}for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var S=g.length,x;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(l,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,c);break;case 3:g[w].fn.call(g[w].context,c,u);break;case 4:g[w].fn.call(g[w].context,c,u,f);break;default:if(!y)for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];g[w].fn.apply(g[w].context,y)}}return!0},o.prototype.on=function(l,c,u){return a(this,l,c,u,!1)},o.prototype.once=function(l,c,u){return a(this,l,c,u,!0)},o.prototype.removeListener=function(l,c,u,f){var h=r?r+l:l;if(!this._events[h])return this;if(!c)return s(this,h),this;var d=this._events[h];if(d.fn)d.fn===c&&(!f||d.once)&&(!u||d.context===u)&&s(this,h);else{for(var p=0,g=[],v=d.length;p<v;p++)(d[p].fn!==c||f&&!d[p].once||u&&d[p].context!==u)&&g.push(d[p]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(zj);var S_e=zj.exports;const T_e=xr(S_e);var IB=new T_e,OB="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function __e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yj(n.key),n)}}function I_e(t,e,r){return e&&L_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FB(t,e,r){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yj(t){var e=O_e(t,"string");return Tm(e)=="symbol"?e:e+""}function O_e(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F_e=function(){function t(){__e(this,t),FB(this,"activeIndex",0),FB(this,"coordinateList",[]),FB(this,"layout","horizontal")}return I_e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,A=r.layout,l=A===void 0?null:A,c=r.offset,u=c===void 0?null:c,f=r.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(n=a!=null?a:this.coordinateList)!==null&&n!==void 0?n:[],this.container=o!=null?o:this.container,this.layout=l!=null?l:this.layout,this.offset=u!=null?u:this.offset,this.mouseHandlerCallback=h!=null?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,A=this.coordinateList[this.activeIndex].coordinate,l=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,u=a+A+l,f=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])}();function P_e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Je(n)&&Je(i))return!0}return!1}function U_e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function qj(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=zi(e,r,n,i),o=zi(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function R_e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,A=e.cy,l=e.innerRadius,c=e.outerRadius,u=e.angle,f=zi(o,A,l,u),h=zi(o,A,c,u);n=f.x,i=f.y,a=h.x,s=h.y}else return qj(e);return[{x:n,y:i},{x:a,y:s}]}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){D_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D_e(t,e,r){return e=M_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M_e(t){var e=N_e(t,"string");return _m(e)=="symbol"?e:e+""}function N_e(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,A=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,u=t.layout,f=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var d,p=AT;if(f==="ScatterChart")d=s,p=DBe;else if(f==="BarChart")d=U_e(u,s,A,c),p=S3;else if(u==="radial"){var g=qj(s),v=g.cx,y=g.cy,w=g.radius,S=g.startAngle,x=g.endAngle;d={cx:v,cy:y,startAngle:S,endAngle:x,innerRadius:w,outerRadius:w},p=lj}else d={points:R_e(u,s,A)},p=AT;var E=k1(k1(k1(k1({stroke:"#ccc",pointerEvents:"none"},A),d),tr(h,!1)),{},{payload:o,payloadIndex:l,className:cr("recharts-tooltip-cursor",h.className)});return We.isValidElement(h)?We.cloneElement(h,E):We.createElement(p,E)}var Q_e=["item"],H_e=["children","className","width","height","style","compact","title","desc"];function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function RD(t,e){return G_e(t)||j_e(t,e)||Jj(t,e)||$_e()}function $_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function G_e(t){if(Array.isArray(t))return t}function DD(t,e){if(t==null)return{};var r=K_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zj(n.key),n)}}function z_e(t,e,r){return e&&W_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y_e(t,e,r){return e=Ob(e),q_e(t,Xj()?Reflect.construct(e,r||[],Ob(t).constructor):e.apply(t,r))}function q_e(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xj=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(t)}function J_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LT(t,e)}function LT(t,e){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LT(t,e)}function rp(t){return t4e(t)||e4e(t)||Jj(t)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jj(t,e){if(t){if(typeof t=="string")return IT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(t,e)}}function e4e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t4e(t){if(Array.isArray(t))return IT(t)}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function It(t,e,r){return e=Zj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zj(t){var e=r4e(t,"string");return tp(e)=="symbol"?e:e+""}function r4e(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4e={xAxis:["bottom","top"],yAxis:["left","right"]},i4e={width:"100%",height:"100%"},eG={x:0,y:0};function Q1(t){return t}var a4e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},s4e=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Pe(Pe(Pe({},i),zi(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var A=a.coordinate,l=i.angle;return Pe(Pe(Pe({},i),zi(i.cx,i.cy,A,l)),{},{angle:l,radius:A})}return eG},cx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n!=null?n:[]).reduce(function(o,A){var l=A.props.data;return l&&l.length?[].concat(rp(o),rp(l)):o},[]);return s.length>0?s:e&&e.length&&Je(i)&&Je(a)?e.slice(i,a+1):[]};function tG(t){return t==="number"?[0,"auto"]:void 0}var OT=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=cx(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(A,l){var c,u=(c=l.props.data)!==null&&c!==void 0?c:r;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=u===void 0?o:u;f=D2(h,s.dataKey,i)}else f=u&&u[n]||o[n];return f?[].concat(rp(A),[sj(l,f)]):A},[])},ND=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=a4e(a,n),o=e.orderedTooltipTicks,A=e.tooltipAxis,l=e.tooltipTicks,c=vxe(s,o,l,A);if(c>=0&&l){var u=l[c]&&l[c].value,f=OT(e,r,c,u),h=s4e(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:f,activeCoordinate:h}}return null},o4e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,A=r.dataStartIndex,l=r.dataEndIndex,c=e.layout,u=e.children,f=e.stackOffset,h=nj(c,a);return n.reduce(function(d,p){var g,v=p.type.defaultProps!==void 0?Pe(Pe({},p.type.defaultProps),p.props):p.props,y=v.type,w=v.dataKey,S=v.allowDataOverflow,x=v.allowDuplicatedCategory,E=v.scale,C=v.ticks,L=v.includeHidden,O=v[s];if(d[O])return d;var D=cx(e.data,{graphicalItems:i.filter(function(I){var U,$=s in I.props?I.props[s]:(U=I.type.defaultProps)===null||U===void 0?void 0:U[s];return $===O}),dataStartIndex:A,dataEndIndex:l}),_=D.length,F,R,M;P_e(v.domain,S,y)&&(F=nT(v.domain,null,S),h&&(y==="number"||E!=="auto")&&(M=_0(D,w,"category")));var z=tG(y);if(!F||F.length===0){var N,Y=(N=v.domain)!==null&&N!==void 0?N:z;if(w){if(F=_0(D,w,y),y==="category"&&h){var X=sce(F);x&&X?(R=F,F=vb(0,_)):x||(F=TR(Y,F,p).reduce(function(I,U){return I.indexOf(U)>=0?I:[].concat(rp(I),[U])},[]))}else if(y==="category")x?F=F.filter(function(I){return I!==""&&!Yt(I)}):F=TR(Y,F,p).reduce(function(I,U){return I.indexOf(U)>=0||U===""||Yt(U)?I:[].concat(rp(I),[U])},[]);else if(y==="number"){var H=Exe(D,i.filter(function(I){var U,$,G=s in I.props?I.props[s]:(U=I.type.defaultProps)===null||U===void 0?void 0:U[s],te="hide"in I.props?I.props.hide:($=I.type.defaultProps)===null||$===void 0?void 0:$.hide;return G===O&&(L||!te)}),w,a,c);H&&(F=H)}h&&(y==="number"||E!=="auto")&&(M=_0(D,w,"category"))}else h?F=vb(0,_):o&&o[O]&&o[O].hasStack&&y==="number"?F=f==="expand"?[0,1]:aj(o[O].stackGroups,A,l):F=rj(D,i.filter(function(I){var U=s in I.props?I.props[s]:I.type.defaultProps[s],$="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return U===O&&(L||!$)}),y,c,!0);if(y==="number")F=_T(u,F,O,a,C),Y&&(F=nT(Y,F,S));else if(y==="category"&&Y){var W=Y,Z=F.every(function(I){return W.indexOf(I)>=0});Z&&(F=W)}}return Pe(Pe({},d),{},It({},O,Pe(Pe({},v),{},{axisType:a,domain:F,categoricalDomain:M,duplicateDomain:R,originalDomain:(g=v.domain)!==null&&g!==void 0?g:z,isCategorical:h,layout:c})))},{})},A4e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,A=r.dataStartIndex,l=r.dataEndIndex,c=e.layout,u=e.children,f=cx(e.data,{graphicalItems:n,dataStartIndex:A,dataEndIndex:l}),h=f.length,d=nj(c,a),p=-1;return n.reduce(function(g,v){var y=v.type.defaultProps!==void 0?Pe(Pe({},v.type.defaultProps),v.props):v.props,w=y[s],S=tG("number");if(!g[w]){p++;var x;return d?x=vb(0,h):o&&o[w]&&o[w].hasStack?(x=aj(o[w].stackGroups,A,l),x=_T(u,x,w,a)):(x=nT(S,rj(f,n.filter(function(E){var C,L,O=s in E.props?E.props[s]:(C=E.type.defaultProps)===null||C===void 0?void 0:C[s],D="hide"in E.props?E.props.hide:(L=E.type.defaultProps)===null||L===void 0?void 0:L.hide;return O===w&&!D}),"number",c),i.defaultProps.allowDataOverflow),x=_T(u,x,w,a)),Pe(Pe({},g),{},It({},w,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:io(n4e,"".concat(a,".").concat(p%2),null),domain:x,originalDomain:S,isCategorical:d,layout:c})))}return g},{})},l4e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,A=r.dataStartIndex,l=r.dataEndIndex,c=e.children,u="".concat(i,"Id"),f=ao(c,a),h={};return f&&f.length?h=o4e(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:u,stackGroups:o,dataStartIndex:A,dataEndIndex:l}):s&&s.length&&(h=A4e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:u,stackGroups:o,dataStartIndex:A,dataEndIndex:l})),h},c4e=function(e){var r=Dc(e),n=Dl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Z4(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fb(r,n)}},kD=function(e){var r=e.children,n=e.defaultShowTooltip,i=ws(r,Vd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},u4e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Nl(r&&r.type);return n&&n.indexOf("Bar")>=0})},QD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},f4e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,A=o===void 0?{}:o,l=n.width,c=n.height,u=n.children,f=n.margin||{},h=ws(u,Vd),d=ws(u,bd),p=Object.keys(A).reduce(function(x,E){var C=A[E],L=C.orientation;return!C.mirror&&!C.hide?Pe(Pe({},x),{},It({},L,x[L]+C.width)):x},{left:f.left||0,right:f.right||0}),g=Object.keys(s).reduce(function(x,E){var C=s[E],L=C.orientation;return!C.mirror&&!C.hide?Pe(Pe({},x),{},It({},L,io(x,"".concat(L))+C.height)):x},{top:f.top||0,bottom:f.bottom||0}),v=Pe(Pe({},g),p),y=v.bottom;h&&(v.bottom+=h.props.height||Vd.defaultProps.height),d&&r&&(v=wxe(v,i,n,r));var w=l-v.left-v.right,S=c-v.top-v.bottom;return Pe(Pe({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},h4e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},d4e=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,A=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,f=function(v,y){var w=y.graphicalItems,S=y.stackGroups,x=y.offset,E=y.updateId,C=y.dataStartIndex,L=y.dataEndIndex,O=v.barSize,D=v.layout,_=v.barGap,F=v.barCategoryGap,R=v.maxBarSize,M=QD(D),z=M.numericAxisName,N=M.cateAxisName,Y=u4e(w),X=[];return w.forEach(function(H,W){var Z=cx(v.data,{graphicalItems:[H],dataStartIndex:C,dataEndIndex:L}),I=H.type.defaultProps!==void 0?Pe(Pe({},H.type.defaultProps),H.props):H.props,U=I.dataKey,$=I.maxBarSize,G=I["".concat(z,"Id")],te=I["".concat(N,"Id")],ie={},oe=A.reduce(function(pe,Ue){var Fe=y["".concat(Ue.axisType,"Map")],De=I["".concat(Ue.axisType,"Id")];Fe&&Fe[De]||Ue.axisType==="zAxis"||If();var Qe=Fe[De];return Pe(Pe({},pe),{},It(It({},Ue.axisType,Qe),"".concat(Ue.axisType,"Ticks"),Dl(Qe)))},ie),ne=oe[N],ye=oe["".concat(N,"Ticks")],me=S&&S[G]&&S[G].hasStack&&Rxe(H,S[G].stackGroups),se=Nl(H.type).indexOf("Bar")>=0,Ie=fb(ne,ye),Re=[],le=Y&&yxe({barSize:O,stackGroups:S,totalSize:h4e(oe,N)});if(se){var ee,He,Ee=Yt($)?R:$,Be=(ee=(He=fb(ne,ye,!0))!==null&&He!==void 0?He:Ee)!==null&&ee!==void 0?ee:0;Re=bxe({barGap:_,barCategoryGap:F,bandSize:Be!==Ie?Be:Ie,sizeList:le[te],maxBarSize:Ee}),Be!==Ie&&(Re=Re.map(function(pe){return Pe(Pe({},pe),{},{position:Pe(Pe({},pe.position),{},{offset:pe.position.offset-Be/2})})}))}var Te=H&&H.type&&H.type.getComposedData;Te&&X.push({props:Pe(Pe({},Te(Pe(Pe({},oe),{},{displayedData:Z,props:v,dataKey:U,item:H,bandSize:Ie,barPosition:Re,offset:x,stackedData:me,layout:D,dataStartIndex:C,dataEndIndex:L}))),{},It(It(It({key:H.key||"item-".concat(W)},z,oe[z]),N,oe[N]),"animationId",E)),childIndex:vce(H,v.children),item:H})}),X},h=function(v,y){var w=v.props,S=v.dataStartIndex,x=v.dataEndIndex,E=v.updateId;if(!bP({props:w}))return null;var C=w.children,L=w.layout,O=w.stackOffset,D=w.data,_=w.reverseStackOrder,F=QD(L),R=F.numericAxisName,M=F.cateAxisName,z=ao(C,n),N=Fxe(D,z,"".concat(R,"Id"),"".concat(M,"Id"),O,_),Y=A.reduce(function(I,U){var $="".concat(U.axisType,"Map");return Pe(Pe({},I),{},It({},$,l4e(w,Pe(Pe({},U),{},{graphicalItems:z,stackGroups:U.axisType===R&&N,dataStartIndex:S,dataEndIndex:x}))))},{}),X=f4e(Pe(Pe({},Y),{},{props:w,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(Y).forEach(function(I){Y[I]=c(w,Y[I],X,I.replace("Map",""),r)});var H=Y["".concat(M,"Map")],W=c4e(H),Z=f(w,Pe(Pe({},Y),{},{dataStartIndex:S,dataEndIndex:x,updateId:E,graphicalItems:z,stackGroups:N,offset:X}));return Pe(Pe({formattedGraphicalItems:Z,graphicalItems:z,offset:X,stackGroups:N},W),Y)},d=function(g){function v(y){var w,S,x;return V_e(this,v),x=Y_e(this,v,[y]),It(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),It(x,"accessibilityManager",new F_e),It(x,"handleLegendBBoxUpdate",function(E){if(E){var C=x.state,L=C.dataStartIndex,O=C.dataEndIndex,D=C.updateId;x.setState(Pe({legendBBox:E},h({props:x.props,dataStartIndex:L,dataEndIndex:O,updateId:D},Pe(Pe({},x.state),{},{legendBBox:E}))))}}),It(x,"handleReceiveSyncEvent",function(E,C,L){if(x.props.syncId===E){if(L===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(C)}}),It(x,"handleBrushChange",function(E){var C=E.startIndex,L=E.endIndex;if(C!==x.state.dataStartIndex||L!==x.state.dataEndIndex){var O=x.state.updateId;x.setState(function(){return Pe({dataStartIndex:C,dataEndIndex:L},h({props:x.props,dataStartIndex:C,dataEndIndex:L,updateId:O},x.state))}),x.triggerSyncEvent({dataStartIndex:C,dataEndIndex:L})}}),It(x,"handleMouseEnter",function(E){var C=x.getMouseInfo(E);if(C){var L=Pe(Pe({},C),{},{isTooltipActive:!0});x.setState(L),x.triggerSyncEvent(L);var O=x.props.onMouseEnter;Kt(O)&&O(L,E)}}),It(x,"triggeredAfterMouseMove",function(E){var C=x.getMouseInfo(E),L=C?Pe(Pe({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(L),x.triggerSyncEvent(L);var O=x.props.onMouseMove;Kt(O)&&O(L,E)}),It(x,"handleItemMouseEnter",function(E){x.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),It(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),It(x,"handleMouseMove",function(E){E.persist(),x.throttleTriggeredAfterMouseMove(E)}),It(x,"handleMouseLeave",function(E){x.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};x.setState(C),x.triggerSyncEvent(C);var L=x.props.onMouseLeave;Kt(L)&&L(C,E)}),It(x,"handleOuterEvent",function(E){var C=mce(E),L=io(x.props,"".concat(C));if(C&&Kt(L)){var O,D;/.*touch.*/i.test(C)?D=x.getMouseInfo(E.changedTouches[0]):D=x.getMouseInfo(E),L((O=D)!==null&&O!==void 0?O:{},E)}}),It(x,"handleClick",function(E){var C=x.getMouseInfo(E);if(C){var L=Pe(Pe({},C),{},{isTooltipActive:!0});x.setState(L),x.triggerSyncEvent(L);var O=x.props.onClick;Kt(O)&&O(L,E)}}),It(x,"handleMouseDown",function(E){var C=x.props.onMouseDown;if(Kt(C)){var L=x.getMouseInfo(E);C(L,E)}}),It(x,"handleMouseUp",function(E){var C=x.props.onMouseUp;if(Kt(C)){var L=x.getMouseInfo(E);C(L,E)}}),It(x,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),It(x,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseDown(E.changedTouches[0])}),It(x,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseUp(E.changedTouches[0])}),It(x,"handleDoubleClick",function(E){var C=x.props.onDoubleClick;if(Kt(C)){var L=x.getMouseInfo(E);C(L,E)}}),It(x,"handleContextMenu",function(E){var C=x.props.onContextMenu;if(Kt(C)){var L=x.getMouseInfo(E);C(L,E)}}),It(x,"triggerSyncEvent",function(E){x.props.syncId!==void 0&&IB.emit(OB,x.props.syncId,E,x.eventEmitterSymbol)}),It(x,"applySyncEvent",function(E){var C=x.props,L=C.layout,O=C.syncMethod,D=x.state.updateId,_=E.dataStartIndex,F=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)x.setState(Pe({dataStartIndex:_,dataEndIndex:F},h({props:x.props,dataStartIndex:_,dataEndIndex:F,updateId:D},x.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,M=E.chartY,z=E.activeTooltipIndex,N=x.state,Y=N.offset,X=N.tooltipTicks;if(!Y)return;if(typeof O=="function")z=O(X,E);else if(O==="value"){z=-1;for(var H=0;H<X.length;H++)if(X[H].value===E.activeLabel){z=H;break}}var W=Pe(Pe({},Y),{},{x:Y.left,y:Y.top}),Z=Math.min(R,W.x+W.width),I=Math.min(M,W.y+W.height),U=X[z]&&X[z].value,$=OT(x.state,x.props.data,z),G=X[z]?{x:L==="horizontal"?X[z].coordinate:Z,y:L==="horizontal"?I:X[z].coordinate}:eG;x.setState(Pe(Pe({},E),{},{activeLabel:U,activeCoordinate:G,activePayload:$,activeTooltipIndex:z}))}else x.setState(E)}),It(x,"renderCursor",function(E){var C,L=x.state,O=L.isTooltipActive,D=L.activeCoordinate,_=L.activePayload,F=L.offset,R=L.activeTooltipIndex,M=L.tooltipAxisBandSize,z=x.getTooltipEventType(),N=(C=E.props.active)!==null&&C!==void 0?C:O,Y=x.props.layout,X=E.key||"_recharts-cursor";return he.createElement(k_e,{key:X,activeCoordinate:D,activePayload:_,activeTooltipIndex:R,chartName:r,element:E,isActive:N,layout:Y,offset:F,tooltipAxisBandSize:M,tooltipEventType:z})}),It(x,"renderPolarAxis",function(E,C,L){var O=io(E,"type.axisType"),D=io(x.state,"".concat(O,"Map")),_=E.type.defaultProps,F=_!==void 0?Pe(Pe({},_),E.props):E.props,R=D&&D[F["".concat(O,"Id")]];return We.cloneElement(E,Pe(Pe({},R),{},{className:cr(O,R.className),key:E.key||"".concat(C,"-").concat(L),ticks:Dl(R,!0)}))}),It(x,"renderPolarGrid",function(E){var C=E.props,L=C.radialLines,O=C.polarAngles,D=C.polarRadius,_=x.state,F=_.radiusAxisMap,R=_.angleAxisMap,M=Dc(F),z=Dc(R),N=z.cx,Y=z.cy,X=z.innerRadius,H=z.outerRadius;return We.cloneElement(E,{polarAngles:Array.isArray(O)?O:Dl(z,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(D)?D:Dl(M,!0).map(function(W){return W.coordinate}),cx:N,cy:Y,innerRadius:X,outerRadius:H,key:E.key||"polar-grid",radialLines:L})}),It(x,"renderLegend",function(){var E=x.state.formattedGraphicalItems,C=x.props,L=C.children,O=C.width,D=C.height,_=x.props.margin||{},F=O-(_.left||0)-(_.right||0),R=ej({children:L,formattedGraphicalItems:E,legendWidth:F,legendContent:l});if(!R)return null;var M=R.item,z=DD(R,Q_e);return We.cloneElement(M,Pe(Pe({},z),{},{chartWidth:O,chartHeight:D,margin:_,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),It(x,"renderTooltip",function(){var E,C=x.props,L=C.children,O=C.accessibilityLayer,D=ws(L,Tl);if(!D)return null;var _=x.state,F=_.isTooltipActive,R=_.activeCoordinate,M=_.activePayload,z=_.activeLabel,N=_.offset,Y=(E=D.props.active)!==null&&E!==void 0?E:F;return We.cloneElement(D,{viewBox:Pe(Pe({},N),{},{x:N.left,y:N.top}),active:Y,label:z,payload:Y?M:[],coordinate:R,accessibilityLayer:O})}),It(x,"renderBrush",function(E){var C=x.props,L=C.margin,O=C.data,D=x.state,_=D.offset,F=D.dataStartIndex,R=D.dataEndIndex,M=D.updateId;return We.cloneElement(E,{key:E.key||"_recharts-brush",onChange:R1(x.handleBrushChange,E.props.onChange),data:O,x:Je(E.props.x)?E.props.x:_.left,y:Je(E.props.y)?E.props.y:_.top+_.height+_.brushBottom-(L.bottom||0),width:Je(E.props.width)?E.props.width:_.width,startIndex:F,endIndex:R,updateId:"brush-".concat(M)})}),It(x,"renderReferenceElement",function(E,C,L){if(!E)return null;var O=x,D=O.clipPathId,_=x.state,F=_.xAxisMap,R=_.yAxisMap,M=_.offset,z=E.type.defaultProps||{},N=E.props,Y=N.xAxisId,X=Y===void 0?z.xAxisId:Y,H=N.yAxisId,W=H===void 0?z.yAxisId:H;return We.cloneElement(E,{key:E.key||"".concat(C,"-").concat(L),xAxis:F[X],yAxis:R[W],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:D})}),It(x,"renderActivePoints",function(E){var C=E.item,L=E.activePoint,O=E.basePoint,D=E.childIndex,_=E.isRange,F=[],R=C.props.key,M=C.item.type.defaultProps!==void 0?Pe(Pe({},C.item.type.defaultProps),C.item.props):C.item.props,z=M.activeDot,N=M.dataKey,Y=Pe(Pe({index:D,dataKey:N,cx:L.x,cy:L.y,r:4,fill:C3(C.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},tr(z,!1)),M2(z));return F.push(v.renderActiveDot(z,Y,"".concat(R,"-activePoint-").concat(D))),O?F.push(v.renderActiveDot(z,Pe(Pe({},Y),{},{cx:O.x,cy:O.y}),"".concat(R,"-basePoint-").concat(D))):_&&F.push(null),F}),It(x,"renderGraphicChild",function(E,C,L){var O=x.filterFormatItem(E,C,L);if(!O)return null;var D=x.getTooltipEventType(),_=x.state,F=_.isTooltipActive,R=_.tooltipAxis,M=_.activeTooltipIndex,z=_.activeLabel,N=x.props.children,Y=ws(N,Tl),X=O.props,H=X.points,W=X.isRange,Z=X.baseLine,I=O.item.type.defaultProps!==void 0?Pe(Pe({},O.item.type.defaultProps),O.item.props):O.item.props,U=I.activeDot,$=I.hide,G=I.activeBar,te=I.activeShape,ie=!!(!$&&F&&Y&&(U||G||te)),oe={};D!=="axis"&&Y&&Y.props.trigger==="click"?oe={onClick:R1(x.handleItemMouseEnter,E.props.onClick)}:D!=="axis"&&(oe={onMouseLeave:R1(x.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:R1(x.handleItemMouseEnter,E.props.onMouseEnter)});var ne=We.cloneElement(E,Pe(Pe({},O.props),oe));function ye(Ue){return typeof R.dataKey=="function"?R.dataKey(Ue.payload):null}if(ie)if(M>=0){var me,se;if(R.dataKey&&!R.allowDuplicatedCategory){var Ie=typeof R.dataKey=="function"?ye:"payload.".concat(R.dataKey.toString());me=D2(H,Ie,z),se=W&&Z&&D2(Z,Ie,z)}else me=H==null?void 0:H[M],se=W&&Z&&Z[M];if(te||G){var Re=E.props.activeIndex!==void 0?E.props.activeIndex:M;return[We.cloneElement(E,Pe(Pe(Pe({},O.props),oe),{},{activeIndex:Re})),null,null]}if(!Yt(me))return[ne].concat(rp(x.renderActivePoints({item:O,activePoint:me,basePoint:se,childIndex:M,isRange:W})))}else{var le,ee=(le=x.getItemByXY(x.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:ne},He=ee.graphicalItem,Ee=He.item,Be=Ee===void 0?E:Ee,Te=He.childIndex,pe=Pe(Pe(Pe({},O.props),oe),{},{activeIndex:Te});return[We.cloneElement(Be,pe),null,null]}return W?[ne,null,null]:[ne,null]}),It(x,"renderCustomized",function(E,C,L){return We.cloneElement(E,Pe(Pe({key:"recharts-customized-".concat(L)},x.props),x.state))}),It(x,"renderMap",{CartesianGrid:{handler:Q1,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Q1},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Q1},YAxis:{handler:Q1},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Ym("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=Z$(x.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return J_e(v,g),z_e(v,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,x=w.data,E=w.height,C=w.layout,L=ws(S,Tl);if(L){var O=L.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,_=OT(this.state,x,O,D),F=this.state.tooltipTicks[O].coordinate,R=(this.state.offset.top+E)/2,M=C==="horizontal",z=M?{x:F,y:R}:{y:F,x:R},N=this.state.formattedGraphicalItems.find(function(X){var H=X.item;return H.type.name==="Scatter"});N&&(z=Pe(Pe({},z),N.props.points[O].tooltipPosition),_=N.props.points[O].tooltipPayload);var Y={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:_,activeCoordinate:z};this.setState(Y),this.renderCursor(L),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var x,E;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(w){vS([ws(w.children,Tl)],[ws(this.props.children,Tl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ws(this.props.children,Tl);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),E=G1e(x),C={chartX:Math.round(w.pageX-E.left),chartY:Math.round(w.pageY-E.top)},L=x.width/S.offsetWidth||1,O=this.inRange(C.chartX,C.chartY,L);if(!O)return null;var D=this.state,_=D.xAxisMap,F=D.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&_&&F){var M=Dc(_).scale,z=Dc(F).scale,N=M&&M.invert?M.invert(C.chartX):null,Y=z&&z.invert?z.invert(C.chartY):null;return Pe(Pe({},C),{},{xValue:N,yValue:Y})}var X=ND(this.state,this.props.data,this.props.layout,O);return X?Pe(Pe({},C),X):null}},{key:"inRange",value:function(w,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,C=w/x,L=S/x;if(E==="horizontal"||E==="vertical"){var O=this.state.offset,D=C>=O.left&&C<=O.left+O.width&&L>=O.top&&L<=O.top+O.height;return D?{x:C,y:L}:null}var _=this.state,F=_.angleAxisMap,R=_.radiusAxisMap;if(F&&R){var M=Dc(F);return IR({x:C,y:L},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),x=ws(w,Tl),E={};x&&S==="axis"&&(x.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=M2(this.props,this.handleOuterEvent);return Pe(Pe({},C),E)}},{key:"addListener",value:function(){IB.on(OB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){IB.removeListener(OB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,x){for(var E=this.state.formattedGraphicalItems,C=0,L=E.length;C<L;C++){var O=E[C];if(O.item===w||O.props.key===w.key||S===Nl(O.item.type)&&x===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,x=S.left,E=S.top,C=S.height,L=S.width;return he.createElement("defs",null,he.createElement("clipPath",{id:w},he.createElement("rect",{x,y:E,height:C,width:L})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,x){var E=RD(x,2),C=E[0],L=E[1];return Pe(Pe({},S),{},It({},C,L.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,x){var E=RD(x,2),C=E[0],L=E[1];return Pe(Pe({},S),{},It({},C,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,x=S.formattedGraphicalItems,E=S.activeItem;if(x&&x.length)for(var C=0,L=x.length;C<L;C++){var O=x[C],D=O.props,_=O.item,F=_.type.defaultProps!==void 0?Pe(Pe({},_.type.defaultProps),_.props):_.props,R=Nl(_.type);if(R==="Bar"){var M=(D.data||[]).find(function(X){return SBe(w,X)});if(M)return{graphicalItem:O,payload:M}}else if(R==="RadialBar"){var z=(D.data||[]).find(function(X){return IR(w,X)});if(z)return{graphicalItem:O,payload:z}}else if(rx(O,E)||nx(O,E)||xm(O,E)){var N=LCe({graphicalItem:O,activeTooltipItem:E,itemData:F.data}),Y=F.activeIndex===void 0?N:F.activeIndex;return{graphicalItem:Pe(Pe({},O),{},{childIndex:Y}),payload:xm(O,E)?F.data[N]:O.props.data[N]}}}return null}},{key:"render",value:function(){var w=this;if(!bP(this))return null;var S=this.props,x=S.children,E=S.className,C=S.width,L=S.height,O=S.style,D=S.compact,_=S.title,F=S.desc,R=DD(S,H_e),M=tr(R,!1);if(D)return he.createElement(mD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(bS,od({},M,{width:C,height:L,title:_,desc:F}),this.renderClipPath(),xP(x,this.renderMap)));if(this.props.accessibilityLayer){var z,N;M.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,M.role=(N=this.props.role)!==null&&N!==void 0?N:"application",M.onKeyDown=function(X){w.accessibilityManager.keyboardEvent(X)},M.onFocus=function(){w.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return he.createElement(mD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",od({className:cr("recharts-wrapper",E),style:Pe({position:"relative",cursor:"default",width:C,height:L},O)},Y,{ref:function(H){w.container=H}}),he.createElement(bS,od({},M,{width:C,height:L,title:_,desc:F,style:i4e}),this.renderClipPath(),xP(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(We.Component);It(d,"displayName",r),It(d,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),It(d,"getDerivedStateFromProps",function(g,v){var y=g.dataKey,w=g.data,S=g.children,x=g.width,E=g.height,C=g.layout,L=g.stackOffset,O=g.margin,D=v.dataStartIndex,_=v.dataEndIndex;if(v.updateId===void 0){var F=kD(g);return Pe(Pe(Pe({},F),{},{updateId:0},h(Pe(Pe({props:g},F),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:w,prevWidth:x,prevHeight:E,prevLayout:C,prevStackOffset:L,prevMargin:O,prevChildren:S})}if(y!==v.prevDataKey||w!==v.prevData||x!==v.prevWidth||E!==v.prevHeight||C!==v.prevLayout||L!==v.prevStackOffset||!yd(O,v.prevMargin)){var R=kD(g),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=Pe(Pe({},ND(v,w,C)),{},{updateId:v.updateId+1}),N=Pe(Pe(Pe({},R),M),z);return Pe(Pe(Pe({},N),h(Pe({props:g},N),v)),{},{prevDataKey:y,prevData:w,prevWidth:x,prevHeight:E,prevLayout:C,prevStackOffset:L,prevMargin:O,prevChildren:S})}if(!vS(S,v.prevChildren)){var Y,X,H,W,Z=ws(S,Vd),I=Z&&(Y=(X=Z.props)===null||X===void 0?void 0:X.startIndex)!==null&&Y!==void 0?Y:D,U=Z&&(H=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&H!==void 0?H:_,$=I!==D||U!==_,G=!Yt(w),te=G&&!$?v.updateId:v.updateId+1;return Pe(Pe({updateId:te},h(Pe(Pe({props:g},v),{},{updateId:te,dataStartIndex:I,dataEndIndex:U}),v)),{},{prevChildren:S,dataStartIndex:I,dataEndIndex:U})}return null}),It(d,"renderActiveDot",function(g,v,y){var w;return We.isValidElement(g)?w=We.cloneElement(g,v):Kt(g)?w=g(v):w=he.createElement(T3,v),he.createElement(kn,{className:"recharts-active-dot",key:y},w)});var p=We.forwardRef(function(v,y){return he.createElement(d,od({},v,{ref:y}))});return p.displayName=d.displayName,p},NGe=d4e({chartName:"LineChart",GraphicalChild:lx,axisComponents:[{axisType:"xAxis",AxisComp:M3},{axisType:"yAxis",AxisComp:N3}],formatAxisMap:tSe});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nv(t){return t+.5|0}const Kc=(t,e,r)=>Math.max(Math.min(t,r),e);function f0(t){return Kc(nv(t*2.55),0,255)}function Xc(t){return Kc(nv(t*255),0,255)}function Il(t){return Kc(nv(t/2.55)/100,0,1)}function HD(t){return Kc(nv(t*100),0,100)}const $s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},FT=[..."0123456789ABCDEF"],p4e=t=>FT[t&15],g4e=t=>FT[(t&240)>>4]+FT[t&15],H1=t=>(t&240)>>4===(t&15),m4e=t=>H1(t.r)&&H1(t.g)&&H1(t.b)&&H1(t.a);function v4e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&$s[t[1]]*17,g:255&$s[t[2]]*17,b:255&$s[t[3]]*17,a:e===5?$s[t[4]]*17:255}:(e===7||e===9)&&(r={r:$s[t[1]]<<4|$s[t[2]],g:$s[t[3]]<<4|$s[t[4]],b:$s[t[5]]<<4|$s[t[6]],a:e===9?$s[t[7]]<<4|$s[t[8]]:255})),r}const y4e=(t,e)=>t<255?e(t):"";function b4e(t){var e=m4e(t)?p4e:g4e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+y4e(t.a,e):void 0}const w4e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rG(t,e,r){const n=e*Math.min(r,1-r),i=(a,s=(a+t/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function x4e(t,e,r){const n=(i,a=(i+t/60)%6)=>r-r*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function E4e(t,e,r){const n=rG(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function B4e(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function k3(t){const r=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(r,n,i),s=Math.min(r,n,i),o=(a+s)/2;let A,l,c;return a!==s&&(c=a-s,l=o>.5?c/(2-a-s):c/(a+s),A=B4e(r,n,i,c,a),A=A*60+.5),[A|0,l||0,o]}function Q3(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Xc)}function H3(t,e,r){return Q3(rG,t,e,r)}function C4e(t,e,r){return Q3(E4e,t,e,r)}function S4e(t,e,r){return Q3(x4e,t,e,r)}function nG(t){return(t%360+360)%360}function T4e(t){const e=w4e.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?f0(+e[5]):Xc(+e[5]));const i=nG(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=C4e(i,a,s):e[1]==="hsv"?n=S4e(i,a,s):n=H3(i,a,s),{r:n[0],g:n[1],b:n[2],a:r}}function _4e(t,e){var r=k3(t);r[0]=nG(r[0]+e),r=H3(r),t.r=r[0],t.g=r[1],t.b=r[2]}function L4e(t){if(!t)return;const e=k3(t),r=e[0],n=HD(e[1]),i=HD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${Il(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const $D={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function I4e(){const t={},e=Object.keys(jD),r=Object.keys($D);let n,i,a,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],i=0;i<r.length;i++)a=r[i],o=o.replace(a,$D[a]);a=parseInt(jD[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let $1;function O4e(t){$1||($1=I4e(),$1.transparent=[0,0,0,0]);const e=$1[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const F4e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P4e(t){const e=F4e.exec(t);let r=255,n,i,a;if(e){if(e[7]!==n){const s=+e[7];r=e[8]?f0(s):Kc(s*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?f0(n):Kc(n,0,255)),i=255&(e[4]?f0(i):Kc(i,0,255)),a=255&(e[6]?f0(a):Kc(a,0,255)),{r:n,g:i,b:a,a:r}}}function U4e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Il(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const PB=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ih=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function R4e(t,e,r){const n=Ih(Il(t.r)),i=Ih(Il(t.g)),a=Ih(Il(t.b));return{r:Xc(PB(n+r*(Ih(Il(e.r))-n))),g:Xc(PB(i+r*(Ih(Il(e.g))-i))),b:Xc(PB(a+r*(Ih(Il(e.b))-a))),a:t.a+r*(e.a-t.a)}}function j1(t,e,r){if(t){let n=k3(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=H3(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function iG(t,e){return t&&Object.assign(e||{},t)}function GD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xc(t[3]))):(e=iG(t,{r:0,g:0,b:0,a:1}),e.a=Xc(e.a)),e}function D4e(t){return t.charAt(0)==="r"?P4e(t):T4e(t)}class PT{constructor(e){if(e instanceof PT)return e;const r=typeof e;let n;r==="object"?n=GD(e):r==="string"&&(n=v4e(e)||O4e(e)||D4e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=iG(this._rgb);return e&&(e.a=Il(e.a)),e}set rgb(e){this._rgb=GD(e)}rgbString(){return this._valid?U4e(this._rgb):void 0}hexString(){return this._valid?b4e(this._rgb):void 0}hslString(){return this._valid?L4e(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let a;const s=r===a?.5:r,o=2*s-1,A=n.a-i.a,l=((o*A===-1?o:(o+A)/(1+o*A))+1)/2;a=1-l,n.r=255&l*n.r+a*i.r+.5,n.g=255&l*n.g+a*i.g+.5,n.b=255&l*n.b+a*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=R4e(this._rgb,e._rgb,r)),this}clone(){return new PT(this.rgb)}alpha(e){return this._rgb.a=Xc(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=nv(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return j1(this._rgb,2,e),this}darken(e){return j1(this._rgb,2,-e),this}saturate(e){return j1(this._rgb,1,e),this}desaturate(e){return j1(this._rgb,1,-e),this}rotate(e){return _4e(this._rgb,e),this}}/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:aG,setPrototypeOf:KD,isFrozen:M4e,getPrototypeOf:N4e,getOwnPropertyDescriptor:k4e}=Object;let{freeze:Pa,seal:lo,create:sG}=Object,{apply:UT,construct:RT}=typeof Reflect!="undefined"&&Reflect;Pa||(Pa=function(e){return e});lo||(lo=function(e){return e});UT||(UT=function(e,r,n){return e.apply(r,n)});RT||(RT=function(e,r){return new e(...r)});const G1=Ua(Array.prototype.forEach),Q4e=Ua(Array.prototype.lastIndexOf),VD=Ua(Array.prototype.pop),Og=Ua(Array.prototype.push),H4e=Ua(Array.prototype.splice),zy=Ua(String.prototype.toLowerCase),UB=Ua(String.prototype.toString),WD=Ua(String.prototype.match),Fg=Ua(String.prototype.replace),$4e=Ua(String.prototype.indexOf),j4e=Ua(String.prototype.trim),Ro=Ua(Object.prototype.hasOwnProperty),Sa=Ua(RegExp.prototype.test),Pg=G4e(TypeError);function Ua(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return UT(t,e,n)}}function G4e(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return RT(t,r)}}function Vt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zy;KD&&KD(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(M4e(e)||(e[n]=a),i=a)}t[i]=!0}return t}function K4e(t){for(let e=0;e<t.length;e++)Ro(t,e)||(t[e]=null);return t}function qu(t){const e=sG(null);for(const[r,n]of aG(t))Ro(t,r)&&(Array.isArray(n)?e[r]=K4e(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=qu(n):e[r]=n);return e}function Ug(t,e){for(;t!==null;){const n=k4e(t,e);if(n){if(n.get)return Ua(n.get);if(typeof n.value=="function")return Ua(n.value)}t=N4e(t)}function r(){return null}return r}const zD=Pa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RB=Pa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),DB=Pa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),V4e=Pa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),MB=Pa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),W4e=Pa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),YD=Pa(["#text"]),qD=Pa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),NB=Pa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XD=Pa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K1=Pa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z4e=lo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y4e=lo(/<%[\w\W]*|[\w\W]*%>/gm),q4e=lo(/\$\{[\w\W]*/gm),X4e=lo(/^data-[\-\w.\u00B7-\uFFFF]+$/),J4e=lo(/^aria-[\-\w]+$/),oG=lo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z4e=lo(/^(?:\w+script|data):/i),e3e=lo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),AG=lo(/^html$/i),t3e=lo(/^[a-z][.\w]*(-[.\w]+)+$/i);var JD=Object.freeze({__proto__:null,ARIA_ATTR:J4e,ATTR_WHITESPACE:e3e,CUSTOM_ELEMENT:t3e,DATA_ATTR:X4e,DOCTYPE_NAME:AG,ERB_EXPR:Y4e,IS_ALLOWED_URI:oG,IS_SCRIPT_OR_DATA:Z4e,MUSTACHE_EXPR:z4e,TMPLIT_EXPR:q4e});const Rg={element:1,text:3,progressingInstruction:7,comment:8,document:9},r3e=function(){return typeof window=="undefined"?null:window},n3e=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch(s){return console.warn("TrustedTypes policy "+a+" could not be created."),null}},ZD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function lG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r3e();const e=At=>lG(At);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==Rg.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:A,NodeFilter:l,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:h}=t,d=A.prototype,p=Ug(d,"cloneNode"),g=Ug(d,"remove"),v=Ug(d,"nextSibling"),y=Ug(d,"childNodes"),w=Ug(d,"parentNode");if(typeof s=="function"){const At=r.createElement("template");At.content&&At.content.ownerDocument&&(r=At.content.ownerDocument)}let S,x="";const{implementation:E,createNodeIterator:C,createDocumentFragment:L,getElementsByTagName:O}=r,{importNode:D}=n;let _=ZD();e.isSupported=typeof aG=="function"&&typeof w=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:R,TMPLIT_EXPR:M,DATA_ATTR:z,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:H}=JD;let{IS_ALLOWED_URI:W}=JD,Z=null;const I=Vt({},[...zD,...RB,...DB,...MB,...YD]);let U=null;const $=Vt({},[...qD,...NB,...XD,...K1]);let G=Object.seal(sG(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,ie=null,oe=!0,ne=!0,ye=!1,me=!0,se=!1,Ie=!0,Re=!1,le=!1,ee=!1,He=!1,Ee=!1,Be=!1,Te=!0,pe=!1;const Ue="user-content-";let Fe=!0,De=!1,Qe={},Xe=null;const lt=Vt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let et=null;const Ye=Vt({},["audio","video","img","source","image","track"]);let ot=null;const ze=Vt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",Ft="http://www.w3.org/2000/svg",Bt="http://www.w3.org/1999/xhtml";let dt=Bt,Ht=!1,Fr=null;const Gt=Vt({},[Xt,Ft,Bt],UB);let Jt=Vt({},["mi","mo","mn","ms","mtext"]),_t=Vt({},["annotation-xml"]);const Kn=Vt({},["title","style","font","a","script"]);let ir=null;const Pr=["application/xhtml+xml","text/html"],Lt="text/html";let vt=null,zr=null;const Ur=r.createElement("form"),Ui=function(fe){return fe instanceof RegExp||fe instanceof Function},Ri=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zr&&zr===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=qu(fe),ir=Pr.indexOf(fe.PARSER_MEDIA_TYPE)===-1?Lt:fe.PARSER_MEDIA_TYPE,vt=ir==="application/xhtml+xml"?UB:zy,Z=Ro(fe,"ALLOWED_TAGS")?Vt({},fe.ALLOWED_TAGS,vt):I,U=Ro(fe,"ALLOWED_ATTR")?Vt({},fe.ALLOWED_ATTR,vt):$,Fr=Ro(fe,"ALLOWED_NAMESPACES")?Vt({},fe.ALLOWED_NAMESPACES,UB):Gt,ot=Ro(fe,"ADD_URI_SAFE_ATTR")?Vt(qu(ze),fe.ADD_URI_SAFE_ATTR,vt):ze,et=Ro(fe,"ADD_DATA_URI_TAGS")?Vt(qu(Ye),fe.ADD_DATA_URI_TAGS,vt):Ye,Xe=Ro(fe,"FORBID_CONTENTS")?Vt({},fe.FORBID_CONTENTS,vt):lt,te=Ro(fe,"FORBID_TAGS")?Vt({},fe.FORBID_TAGS,vt):{},ie=Ro(fe,"FORBID_ATTR")?Vt({},fe.FORBID_ATTR,vt):{},Qe=Ro(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,oe=fe.ALLOW_ARIA_ATTR!==!1,ne=fe.ALLOW_DATA_ATTR!==!1,ye=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,me=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=fe.SAFE_FOR_TEMPLATES||!1,Ie=fe.SAFE_FOR_XML!==!1,Re=fe.WHOLE_DOCUMENT||!1,He=fe.RETURN_DOM||!1,Ee=fe.RETURN_DOM_FRAGMENT||!1,Be=fe.RETURN_TRUSTED_TYPE||!1,ee=fe.FORCE_BODY||!1,Te=fe.SANITIZE_DOM!==!1,pe=fe.SANITIZE_NAMED_PROPS||!1,Fe=fe.KEEP_CONTENT!==!1,De=fe.IN_PLACE||!1,W=fe.ALLOWED_URI_REGEXP||oG,dt=fe.NAMESPACE||Bt,Jt=fe.MATHML_TEXT_INTEGRATION_POINTS||Jt,_t=fe.HTML_INTEGRATION_POINTS||_t,G=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&Ui(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&Ui(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(G.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(ne=!1),Ee&&(He=!0),Qe&&(Z=Vt({},YD),U=[],Qe.html===!0&&(Vt(Z,zD),Vt(U,qD)),Qe.svg===!0&&(Vt(Z,RB),Vt(U,NB),Vt(U,K1)),Qe.svgFilters===!0&&(Vt(Z,DB),Vt(U,NB),Vt(U,K1)),Qe.mathMl===!0&&(Vt(Z,MB),Vt(U,XD),Vt(U,K1))),fe.ADD_TAGS&&(Z===I&&(Z=qu(Z)),Vt(Z,fe.ADD_TAGS,vt)),fe.ADD_ATTR&&(U===$&&(U=qu(U)),Vt(U,fe.ADD_ATTR,vt)),fe.ADD_URI_SAFE_ATTR&&Vt(ot,fe.ADD_URI_SAFE_ATTR,vt),fe.FORBID_CONTENTS&&(Xe===lt&&(Xe=qu(Xe)),Vt(Xe,fe.FORBID_CONTENTS,vt)),Fe&&(Z["#text"]=!0),Re&&Vt(Z,["html","head","body"]),Z.table&&(Vt(Z,["tbody"]),delete te.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=fe.TRUSTED_TYPES_POLICY,x=S.createHTML("")}else S===void 0&&(S=n3e(h,i)),S!==null&&typeof x=="string"&&(x=S.createHTML(""));Pa&&Pa(fe),zr=fe}},yt=Vt({},[...RB,...DB,...V4e]),qi=Vt({},[...MB,...W4e]),Xi=function(fe){let Ve=w(fe);(!Ve||!Ve.tagName)&&(Ve={namespaceURI:dt,tagName:"template"});const rt=zy(fe.tagName),Zt=zy(Ve.tagName);return Fr[fe.namespaceURI]?fe.namespaceURI===Ft?Ve.namespaceURI===Bt?rt==="svg":Ve.namespaceURI===Xt?rt==="svg"&&(Zt==="annotation-xml"||Jt[Zt]):!!yt[rt]:fe.namespaceURI===Xt?Ve.namespaceURI===Bt?rt==="math":Ve.namespaceURI===Ft?rt==="math"&&_t[Zt]:!!qi[rt]:fe.namespaceURI===Bt?Ve.namespaceURI===Ft&&!_t[Zt]||Ve.namespaceURI===Xt&&!Jt[Zt]?!1:!qi[rt]&&(Kn[rt]||!yt[rt]):!!(ir==="application/xhtml+xml"&&Fr[fe.namespaceURI]):!1},mr=function(fe){Og(e.removed,{element:fe});try{w(fe).removeChild(fe)}catch(Ve){g(fe)}},Er=function(fe,Ve){try{Og(e.removed,{attribute:Ve.getAttributeNode(fe),from:Ve})}catch(rt){Og(e.removed,{attribute:null,from:Ve})}if(Ve.removeAttribute(fe),fe==="is")if(He||Ee)try{mr(Ve)}catch(rt){}else try{Ve.setAttribute(fe,"")}catch(rt){}},Rr=function(fe){let Ve=null,rt=null;if(ee)fe="<remove></remove>"+fe;else{const Ze=WD(fe,/^[\r\n\t ]+/);rt=Ze&&Ze[0]}ir==="application/xhtml+xml"&&dt===Bt&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");const Zt=S?S.createHTML(fe):fe;if(dt===Bt)try{Ve=new f().parseFromString(Zt,ir)}catch(Ze){}if(!Ve||!Ve.documentElement){Ve=E.createDocument(dt,"template",null);try{Ve.documentElement.innerHTML=Ht?x:Zt}catch(Ze){}}const qr=Ve.body||Ve.documentElement;return fe&&rt&&qr.insertBefore(r.createTextNode(rt),qr.childNodes[0]||null),dt===Bt?O.call(Ve,Re?"html":"body")[0]:Re?Ve.documentElement:qr},si=function(fe){return C.call(fe.ownerDocument||fe,fe,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},ma=function(fe){return fe instanceof u&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof c)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},oi=function(fe){return typeof o=="function"&&fe instanceof o};function Yr(At,fe,Ve){G1(At,rt=>{rt.call(e,fe,Ve,zr)})}const Di=function(fe){let Ve=null;if(Yr(_.beforeSanitizeElements,fe,null),ma(fe))return mr(fe),!0;const rt=vt(fe.nodeName);if(Yr(_.uponSanitizeElement,fe,{tagName:rt,allowedTags:Z}),fe.hasChildNodes()&&!oi(fe.firstElementChild)&&Sa(/<[/\w]/g,fe.innerHTML)&&Sa(/<[/\w]/g,fe.textContent)||fe.nodeType===Rg.progressingInstruction||Ie&&fe.nodeType===Rg.comment&&Sa(/<[/\w]/g,fe.data))return mr(fe),!0;if(!Z[rt]||te[rt]){if(!te[rt]&&va(rt)&&(G.tagNameCheck instanceof RegExp&&Sa(G.tagNameCheck,rt)||G.tagNameCheck instanceof Function&&G.tagNameCheck(rt)))return!1;if(Fe&&!Xe[rt]){const Zt=w(fe)||fe.parentNode,qr=y(fe)||fe.childNodes;if(qr&&Zt){const Ze=qr.length;for(let an=Ze-1;an>=0;--an){const Ai=p(qr[an],!0);Ai.__removalCount=(fe.__removalCount||0)+1,Zt.insertBefore(Ai,v(fe))}}}return mr(fe),!0}return fe instanceof A&&!Xi(fe)||(rt==="noscript"||rt==="noembed"||rt==="noframes")&&Sa(/<\/no(script|embed|frames)/i,fe.innerHTML)?(mr(fe),!0):(se&&fe.nodeType===Rg.text&&(Ve=fe.textContent,G1([F,R,M],Zt=>{Ve=Fg(Ve,Zt," ")}),fe.textContent!==Ve&&(Og(e.removed,{element:fe.cloneNode()}),fe.textContent=Ve)),Yr(_.afterSanitizeElements,fe,null),!1)},bi=function(fe,Ve,rt){if(Te&&(Ve==="id"||Ve==="name")&&(rt in r||rt in Ur))return!1;if(!(ne&&!ie[Ve]&&Sa(z,Ve))){if(!(oe&&Sa(N,Ve))){if(!U[Ve]||ie[Ve]){if(!(va(fe)&&(G.tagNameCheck instanceof RegExp&&Sa(G.tagNameCheck,fe)||G.tagNameCheck instanceof Function&&G.tagNameCheck(fe))&&(G.attributeNameCheck instanceof RegExp&&Sa(G.attributeNameCheck,Ve)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(Ve))||Ve==="is"&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Sa(G.tagNameCheck,rt)||G.tagNameCheck instanceof Function&&G.tagNameCheck(rt))))return!1}else if(!ot[Ve]){if(!Sa(W,Fg(rt,X,""))){if(!((Ve==="src"||Ve==="xlink:href"||Ve==="href")&&fe!=="script"&&$4e(rt,"data:")===0&&et[fe])){if(!(ye&&!Sa(Y,Fg(rt,X,"")))){if(rt)return!1}}}}}}return!0},va=function(fe){return fe!=="annotation-xml"&&WD(fe,H)},wi=function(fe){Yr(_.beforeSanitizeAttributes,fe,null);const{attributes:Ve}=fe;if(!Ve||ma(fe))return;const rt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let Zt=Ve.length;for(;Zt--;){const qr=Ve[Zt],{name:Ze,namespaceURI:an,value:Ai}=qr,Ni=vt(Ze);let sn=Ze==="value"?Ai:j4e(Ai);if(rt.attrName=Ni,rt.attrValue=sn,rt.keepAttr=!0,rt.forceKeepAttr=void 0,Yr(_.uponSanitizeAttribute,fe,rt),sn=rt.attrValue,pe&&(Ni==="id"||Ni==="name")&&(Er(Ze,fe),sn=Ue+sn),Ie&&Sa(/((--!?|])>)|<\/(style|title)/i,sn)){Er(Ze,fe);continue}if(rt.forceKeepAttr||(Er(Ze,fe),!rt.keepAttr))continue;if(!me&&Sa(/\/>/i,sn)){Er(Ze,fe);continue}se&&G1([F,R,M],iA=>{sn=Fg(sn,iA," ")});const vo=vt(fe.nodeName);if(bi(vo,Ni,sn)){if(S&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!an)switch(h.getAttributeType(vo,Ni)){case"TrustedHTML":{sn=S.createHTML(sn);break}case"TrustedScriptURL":{sn=S.createScriptURL(sn);break}}try{an?fe.setAttributeNS(an,Ze,sn):fe.setAttribute(Ze,sn),ma(fe)?mr(fe):VD(e.removed)}catch(iA){}}}Yr(_.afterSanitizeAttributes,fe,null)},Mi=function At(fe){let Ve=null;const rt=si(fe);for(Yr(_.beforeSanitizeShadowDOM,fe,null);Ve=rt.nextNode();)Yr(_.uponSanitizeShadowNode,Ve,null),Di(Ve),wi(Ve),Ve.content instanceof a&&At(Ve.content);Yr(_.afterSanitizeShadowDOM,fe,null)};return e.sanitize=function(At){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=null,rt=null,Zt=null,qr=null;if(Ht=!At,Ht&&(At="<!-->"),typeof At!="string"&&!oi(At))if(typeof At.toString=="function"){if(At=At.toString(),typeof At!="string")throw Pg("dirty is not a string, aborting")}else throw Pg("toString is not a function");if(!e.isSupported)return At;if(le||Ri(fe),e.removed=[],typeof At=="string"&&(De=!1),De){if(At.nodeName){const Ai=vt(At.nodeName);if(!Z[Ai]||te[Ai])throw Pg("root node is forbidden and cannot be sanitized in-place")}}else if(At instanceof o)Ve=Rr("<!---->"),rt=Ve.ownerDocument.importNode(At,!0),rt.nodeType===Rg.element&&rt.nodeName==="BODY"||rt.nodeName==="HTML"?Ve=rt:Ve.appendChild(rt);else{if(!He&&!se&&!Re&&At.indexOf("<")===-1)return S&&Be?S.createHTML(At):At;if(Ve=Rr(At),!Ve)return He?null:Be?x:""}Ve&&ee&&mr(Ve.firstChild);const Ze=si(De?At:Ve);for(;Zt=Ze.nextNode();)Di(Zt),wi(Zt),Zt.content instanceof a&&Mi(Zt.content);if(De)return At;if(He){if(Ee)for(qr=L.call(Ve.ownerDocument);Ve.firstChild;)qr.appendChild(Ve.firstChild);else qr=Ve;return(U.shadowroot||U.shadowrootmode)&&(qr=D.call(n,qr,!0)),qr}let an=Re?Ve.outerHTML:Ve.innerHTML;return Re&&Z["!doctype"]&&Ve.ownerDocument&&Ve.ownerDocument.doctype&&Ve.ownerDocument.doctype.name&&Sa(AG,Ve.ownerDocument.doctype.name)&&(an="<!DOCTYPE "+Ve.ownerDocument.doctype.name+`>
`+an),se&&G1([F,R,M],Ai=>{an=Fg(an,Ai," ")}),S&&Be?S.createHTML(an):an},e.setConfig=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ri(At),le=!0},e.clearConfig=function(){zr=null,le=!1},e.isValidAttribute=function(At,fe,Ve){zr||Ri({});const rt=vt(At),Zt=vt(fe);return bi(rt,Zt,Ve)},e.addHook=function(At,fe){typeof fe=="function"&&Og(_[At],fe)},e.removeHook=function(At,fe){if(fe!==void 0){const Ve=Q4e(_[At],fe);return Ve===-1?void 0:H4e(_[At],Ve,1)[0]}return VD(_[At])},e.removeHooks=function(At){_[At]=[]},e.removeAllHooks=function(){_=ZD()},e}var i3e=lG();const a3e=Object.freeze(Object.defineProperty({__proto__:null,default:i3e},Symbol.toStringTag,{value:"Module"}));var Dg=function(t){return t&&t.Math===Math&&t},_n=Dg(typeof globalThis=="object"&&globalThis)||Dg(typeof window=="object"&&window)||Dg(typeof self=="object"&&self)||Dg(typeof jo=="object"&&jo)||Dg(typeof jo=="object"&&jo)||function(){return this}()||Function("return this")(),iv={},$n=function(t){try{return!!t()}catch(e){return!0}},s3e=$n,Xo=!s3e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),o3e=$n,ux=!o3e(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),A3e=ux,V1=Function.prototype.call,Yi=A3e?V1.bind(V1):function(){return V1.apply(V1,arguments)},cG={},uG={}.propertyIsEnumerable,fG=Object.getOwnPropertyDescriptor,l3e=fG&&!uG.call({1:2},1);cG.f=l3e?function(e){var r=fG(this,e);return!!r&&r.enumerable}:uG;var $3=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},hG=ux,dG=Function.prototype,DT=dG.call,c3e=hG&&dG.bind.bind(DT,DT),jn=hG?c3e:function(t){return function(){return DT.apply(t,arguments)}},pG=jn,u3e=pG({}.toString),f3e=pG("".slice),jf=function(t){return f3e(u3e(t),8,-1)},h3e=jn,d3e=$n,p3e=jf,kB=Object,g3e=h3e("".split),gG=d3e(function(){return!kB("z").propertyIsEnumerable(0)})?function(t){return p3e(t)==="String"?g3e(t,""):kB(t)}:kB,Gf=function(t){return t==null},m3e=Gf,v3e=TypeError,Jo=function(t){if(m3e(t))throw new v3e("Can't call method on "+t);return t},y3e=gG,b3e=Jo,av=function(t){return y3e(b3e(t))},QB=typeof document=="object"&&document.all,Gn=typeof QB=="undefined"&&QB!==void 0?function(t){return typeof t=="function"||t===QB}:function(t){return typeof t=="function"},w3e=Gn,Zo=function(t){return typeof t=="object"?t!==null:w3e(t)},HB=_n,x3e=Gn,E3e=function(t){return x3e(t)?t:void 0},Kf=function(t,e){return arguments.length<2?E3e(HB[t]):HB[t]&&HB[t][e]},B3e=jn,fx=B3e({}.isPrototypeOf),C3e=_n,eM=C3e.navigator,tM=eM&&eM.userAgent,sv=tM?String(tM):"",mG=_n,$B=sv,rM=mG.process,nM=mG.Deno,iM=rM&&rM.versions||nM&&nM.version,aM=iM&&iM.v8,Ho,Fb;aM&&(Ho=aM.split("."),Fb=Ho[0]>0&&Ho[0]<4?1:+(Ho[0]+Ho[1]));!Fb&&$B&&(Ho=$B.match(/Edge\/(\d+)/),(!Ho||Ho[1]>=74)&&(Ho=$B.match(/Chrome\/(\d+)/),Ho&&(Fb=+Ho[1])));var j3=Fb,sM=j3,S3e=$n,T3e=_n,_3e=T3e.String,vG=!!Object.getOwnPropertySymbols&&!S3e(function(){var t=Symbol("symbol detection");return!_3e(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&sM&&sM<41}),L3e=vG,yG=L3e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",I3e=Kf,O3e=Gn,F3e=fx,P3e=yG,U3e=Object,bG=P3e?function(t){return typeof t=="symbol"}:function(t){var e=I3e("Symbol");return O3e(e)&&F3e(e.prototype,U3e(t))},R3e=String,hx=function(t){try{return R3e(t)}catch(e){return"Object"}},D3e=Gn,M3e=hx,N3e=TypeError,tc=function(t){if(D3e(t))return t;throw new N3e(M3e(t)+" is not a function")},k3e=tc,Q3e=Gf,Pp=function(t,e){var r=t[e];return Q3e(r)?void 0:k3e(r)},jB=Yi,GB=Gn,KB=Zo,H3e=TypeError,$3e=function(t,e){var r,n;if(e==="string"&&GB(r=t.toString)&&!KB(n=jB(r,t))||GB(r=t.valueOf)&&!KB(n=jB(r,t))||e!=="string"&&GB(r=t.toString)&&!KB(n=jB(r,t)))return n;throw new H3e("Can't convert object to primitive value")},wG={exports:{}},oM=_n,j3e=Object.defineProperty,G3=function(t,e){try{j3e(oM,t,{value:e,configurable:!0,writable:!0})}catch(r){oM[t]=e}return e},G3e=_n,K3e=G3,AM="__core-js_shared__",lM=wG.exports=G3e[AM]||K3e(AM,{});(lM.versions||(lM.versions=[])).push({version:"3.41.0",mode:"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"});var K3=wG.exports,cM=K3,V3=function(t,e){return cM[t]||(cM[t]=e||{})},V3e=Jo,W3e=Object,dx=function(t){return W3e(V3e(t))},z3e=jn,Y3e=dx,q3e=z3e({}.hasOwnProperty),eA=Object.hasOwn||function(e,r){return q3e(Y3e(e),r)},X3e=jn,J3e=0,Z3e=Math.random(),eLe=X3e(1 .toString),xG=function(t){return"Symbol("+(t===void 0?"":t)+")_"+eLe(++J3e+Z3e,36)},tLe=_n,rLe=V3,uM=eA,nLe=xG,iLe=vG,aLe=yG,Ad=tLe.Symbol,VB=rLe("wks"),sLe=aLe?Ad.for||Ad:Ad&&Ad.withoutSetter||nLe,Pi=function(t){return uM(VB,t)||(VB[t]=iLe&&uM(Ad,t)?Ad[t]:sLe("Symbol."+t)),VB[t]},oLe=Yi,fM=Zo,hM=bG,ALe=Pp,lLe=$3e,cLe=Pi,uLe=TypeError,fLe=cLe("toPrimitive"),hLe=function(t,e){if(!fM(t)||hM(t))return t;var r=ALe(t,fLe),n;if(r){if(e===void 0&&(e="default"),n=oLe(r,t,e),!fM(n)||hM(n))return n;throw new uLe("Can't convert object to primitive value")}return e===void 0&&(e="number"),lLe(t,e)},dLe=hLe,pLe=bG,EG=function(t){var e=dLe(t,"string");return pLe(e)?e:e+""},gLe=_n,dM=Zo,MT=gLe.document,mLe=dM(MT)&&dM(MT.createElement),px=function(t){return mLe?MT.createElement(t):{}},vLe=Xo,yLe=$n,bLe=px,BG=!vLe&&!yLe(function(){return Object.defineProperty(bLe("div"),"a",{get:function(){return 7}}).a!==7}),wLe=Xo,xLe=Yi,ELe=cG,BLe=$3,CLe=av,SLe=EG,TLe=eA,_Le=BG,pM=Object.getOwnPropertyDescriptor;iv.f=wLe?pM:function(e,r){if(e=CLe(e),r=SLe(r),_Le)try{return pM(e,r)}catch(n){}if(TLe(e,r))return BLe(!xLe(ELe.f,e,r),e[r])};var rc={},LLe=Xo,ILe=$n,CG=LLe&&ILe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),OLe=Zo,FLe=String,PLe=TypeError,Ma=function(t){if(OLe(t))return t;throw new PLe(FLe(t)+" is not an object")},ULe=Xo,RLe=BG,DLe=CG,W1=Ma,gM=EG,MLe=TypeError,WB=Object.defineProperty,NLe=Object.getOwnPropertyDescriptor,zB="enumerable",YB="configurable",qB="writable";rc.f=ULe?DLe?function(e,r,n){if(W1(e),r=gM(r),W1(n),typeof e=="function"&&r==="prototype"&&"value"in n&&qB in n&&!n[qB]){var i=NLe(e,r);i&&i[qB]&&(e[r]=n.value,n={configurable:YB in n?n[YB]:i[YB],enumerable:zB in n?n[zB]:i[zB],writable:!1})}return WB(e,r,n)}:WB:function(e,r,n){if(W1(e),r=gM(r),W1(n),RLe)try{return WB(e,r,n)}catch(i){}if("get"in n||"set"in n)throw new MLe("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var kLe=Xo,QLe=rc,HLe=$3,ov=kLe?function(t,e,r){return QLe.f(t,e,HLe(1,r))}:function(t,e,r){return t[e]=r,t},SG={exports:{}},NT=Xo,$Le=eA,TG=Function.prototype,jLe=NT&&Object.getOwnPropertyDescriptor,_G=$Le(TG,"name"),GLe=_G&&function(){}.name==="something",KLe=_G&&(!NT||NT&&jLe(TG,"name").configurable),gx={PROPER:GLe,CONFIGURABLE:KLe},VLe=jn,WLe=Gn,kT=K3,zLe=VLe(Function.toString);WLe(kT.inspectSource)||(kT.inspectSource=function(t){return zLe(t)});var W3=kT.inspectSource,YLe=_n,qLe=Gn,mM=YLe.WeakMap,XLe=qLe(mM)&&/native code/.test(String(mM)),JLe=V3,ZLe=xG,vM=JLe("keys"),z3=function(t){return vM[t]||(vM[t]=ZLe(t))},Y3={},eIe=XLe,LG=_n,tIe=Zo,rIe=ov,XB=eA,JB=K3,nIe=z3,iIe=Y3,yM="Object already initialized",QT=LG.TypeError,aIe=LG.WeakMap,Pb,Lm,Ub,sIe=function(t){return Ub(t)?Lm(t):Pb(t,{})},oIe=function(t){return function(e){var r;if(!tIe(e)||(r=Lm(e)).type!==t)throw new QT("Incompatible receiver, "+t+" required");return r}};if(eIe||JB.state){var mA=JB.state||(JB.state=new aIe);mA.get=mA.get,mA.has=mA.has,mA.set=mA.set,Pb=function(t,e){if(mA.has(t))throw new QT(yM);return e.facade=t,mA.set(t,e),e},Lm=function(t){return mA.get(t)||{}},Ub=function(t){return mA.has(t)}}else{var Oh=nIe("state");iIe[Oh]=!0,Pb=function(t,e){if(XB(t,Oh))throw new QT(yM);return e.facade=t,rIe(t,Oh,e),e},Lm=function(t){return XB(t,Oh)?t[Oh]:{}},Ub=function(t){return XB(t,Oh)}}var mx={set:Pb,get:Lm,has:Ub,enforce:sIe,getterFor:oIe},q3=jn,AIe=$n,lIe=Gn,z1=eA,HT=Xo,cIe=gx.CONFIGURABLE,uIe=W3,IG=mx,fIe=IG.enforce,hIe=IG.get,bM=String,Yy=Object.defineProperty,dIe=q3("".slice),pIe=q3("".replace),gIe=q3([].join),mIe=HT&&!AIe(function(){return Yy(function(){},"length",{value:8}).length!==8}),vIe=String(String).split("String"),yIe=SG.exports=function(t,e,r){dIe(bM(e),0,7)==="Symbol("&&(e="["+pIe(bM(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!z1(t,"name")||cIe&&t.name!==e)&&(HT?Yy(t,"name",{value:e,configurable:!0}):t.name=e),mIe&&r&&z1(r,"arity")&&t.length!==r.arity&&Yy(t,"length",{value:r.arity});try{r&&z1(r,"constructor")&&r.constructor?HT&&Yy(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=fIe(t);return z1(n,"source")||(n.source=gIe(vIe,typeof e=="string"?e:"")),t};Function.prototype.toString=yIe(function(){return lIe(this)&&hIe(this).source||uIe(this)},"toString");var OG=SG.exports,bIe=Gn,wIe=rc,xIe=OG,EIe=G3,Vf=function(t,e,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(bIe(r)&&xIe(r,a,n),n.global)i?t[e]=r:EIe(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch(s){}i?t[e]=r:wIe.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},FG={},BIe=Math.ceil,CIe=Math.floor,SIe=Math.trunc||function(e){var r=+e;return(r>0?CIe:BIe)(r)},TIe=SIe,vx=function(t){var e=+t;return e!==e||e===0?0:TIe(e)},_Ie=vx,LIe=Math.max,IIe=Math.min,OIe=function(t,e){var r=_Ie(t);return r<0?LIe(r+e,0):IIe(r,e)},FIe=vx,PIe=Math.min,Up=function(t){var e=FIe(t);return e>0?PIe(e,9007199254740991):0},UIe=Up,X3=function(t){return UIe(t.length)},RIe=av,DIe=OIe,MIe=X3,NIe=function(t){return function(e,r,n){var i=RIe(e),a=MIe(i);if(a===0)return!t&&-1;var s=DIe(n,a),o;if(t&&r!==r){for(;a>s;)if(o=i[s++],o!==o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},PG={indexOf:NIe(!1)},kIe=jn,ZB=eA,QIe=av,HIe=PG.indexOf,$Ie=Y3,wM=kIe([].push),UG=function(t,e){var r=QIe(t),n=0,i=[],a;for(a in r)!ZB($Ie,a)&&ZB(r,a)&&wM(i,a);for(;e.length>n;)ZB(r,a=e[n++])&&(~HIe(i,a)||wM(i,a));return i},J3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jIe=UG,GIe=J3,KIe=GIe.concat("length","prototype");FG.f=Object.getOwnPropertyNames||function(e){return jIe(e,KIe)};var RG={};RG.f=Object.getOwnPropertySymbols;var VIe=Kf,WIe=jn,zIe=FG,YIe=RG,qIe=Ma,XIe=WIe([].concat),JIe=VIe("Reflect","ownKeys")||function(e){var r=zIe.f(qIe(e)),n=YIe.f;return n?XIe(r,n(e)):r},xM=eA,ZIe=JIe,eOe=iv,tOe=rc,rOe=function(t,e,r){for(var n=ZIe(e),i=tOe.f,a=eOe.f,s=0;s<n.length;s++){var o=n[s];!xM(t,o)&&!(r&&xM(r,o))&&i(t,o,a(e,o))}},nOe=$n,iOe=Gn,aOe=/#|\.prototype\./,Av=function(t,e){var r=oOe[sOe(t)];return r===lOe?!0:r===AOe?!1:iOe(e)?nOe(e):!!e},sOe=Av.normalize=function(t){return String(t).replace(aOe,".").toLowerCase()},oOe=Av.data={},AOe=Av.NATIVE="N",lOe=Av.POLYFILL="P",DG=Av,Y1=_n,cOe=iv.f,uOe=ov,fOe=Vf,hOe=G3,dOe=rOe,pOe=DG,Na=function(t,e){var r=t.target,n=t.global,i=t.stat,a,s,o,A,l,c;if(n?s=Y1:i?s=Y1[r]||hOe(r,{}):s=Y1[r]&&Y1[r].prototype,s)for(o in e){if(l=e[o],t.dontCallGetSet?(c=cOe(s,o),A=c&&c.value):A=s[o],a=pOe(n?o:r+(i?".":"#")+o,t.forced),!a&&A!==void 0){if(typeof l==typeof A)continue;dOe(l,A)}(t.sham||A&&A.sham)&&uOe(l,"sham",!0),fOe(s,o,l,t)}},Mg=_n,gOe=sv,mOe=jf,q1=function(t){return gOe.slice(0,t.length)===t},MG=function(){return q1("Bun/")?"BUN":q1("Cloudflare-Workers")?"CLOUDFLARE":q1("Deno/")?"DENO":q1("Node.js/")?"NODE":Mg.Bun&&typeof Bun.version=="string"?"BUN":Mg.Deno&&typeof Deno.version=="object"?"DENO":mOe(Mg.process)==="process"?"NODE":Mg.window&&Mg.document?"BROWSER":"REST"}(),vOe=MG,yx=vOe==="NODE",yOe=jn,bOe=tc,wOe=function(t,e,r){try{return yOe(bOe(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(n){}},xOe=Zo,EOe=function(t){return xOe(t)||t===null},BOe=EOe,COe=String,SOe=TypeError,TOe=function(t){if(BOe(t))return t;throw new SOe("Can't set "+COe(t)+" as a prototype")},_Oe=wOe,LOe=Zo,IOe=Jo,OOe=TOe,NG=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=_Oe(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch(n){}return function(i,a){return IOe(i),OOe(a),LOe(i)&&(t?r(i,a):i.__proto__=a),i}}():void 0),FOe=rc.f,POe=eA,UOe=Pi,EM=UOe("toStringTag"),bx=function(t,e,r){t&&!r&&(t=t.prototype),t&&!POe(t,EM)&&FOe(t,EM,{configurable:!0,value:e})},BM=OG,ROe=rc,DOe=function(t,e,r){return r.get&&BM(r.get,e,{getter:!0}),r.set&&BM(r.set,e,{setter:!0}),ROe.f(t,e,r)},MOe=Kf,NOe=DOe,kOe=Pi,QOe=Xo,CM=kOe("species"),HOe=function(t){var e=MOe(t);QOe&&e&&!e[CM]&&NOe(e,CM,{configurable:!0,get:function(){return this}})},$Oe=fx,jOe=TypeError,GOe=function(t,e){if($Oe(e,t))return t;throw new jOe("Incorrect invocation")},KOe=Pi,VOe=KOe("toStringTag"),kG={};kG[VOe]="z";var WOe=String(kG)==="[object z]",zOe=WOe,YOe=Gn,qy=jf,qOe=Pi,XOe=qOe("toStringTag"),JOe=Object,ZOe=qy(function(){return arguments}())==="Arguments",eFe=function(t,e){try{return t[e]}catch(r){}},Z3=zOe?qy:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=eFe(e=JOe(t),XOe))=="string"?r:ZOe?qy(e):(n=qy(e))==="Object"&&YOe(e.callee)?"Arguments":n},tFe=jn,rFe=$n,QG=Gn,nFe=Z3,iFe=Kf,aFe=W3,HG=function(){},$G=iFe("Reflect","construct"),eL=/^\s*(?:class|function)\b/,sFe=tFe(eL.exec),oFe=!eL.test(HG),Ng=function(e){if(!QG(e))return!1;try{return $G(HG,[],e),!0}catch(r){return!1}},jG=function(e){if(!QG(e))return!1;switch(nFe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return oFe||!!sFe(eL,aFe(e))}catch(r){return!0}};jG.sham=!0;var AFe=!$G||rFe(function(){var t;return Ng(Ng.call)||!Ng(Object)||!Ng(function(){t=!0})||t})?jG:Ng,lFe=AFe,cFe=hx,uFe=TypeError,fFe=function(t){if(lFe(t))return t;throw new uFe(cFe(t)+" is not a constructor")},SM=Ma,hFe=fFe,dFe=Gf,pFe=Pi,gFe=pFe("species"),GG=function(t,e){var r=SM(t).constructor,n;return r===void 0||dFe(n=SM(r)[gFe])?e:hFe(n)},mFe=ux,KG=Function.prototype,TM=KG.apply,_M=KG.call,VG=typeof Reflect=="object"&&Reflect.apply||(mFe?_M.bind(TM):function(){return _M.apply(TM,arguments)}),vFe=jf,yFe=jn,wx=function(t){if(vFe(t)==="Function")return yFe(t)},LM=wx,bFe=tc,wFe=ux,xFe=LM(LM.bind),tL=function(t,e){return bFe(t),e===void 0?t:wFe?xFe(t,e):function(){return t.apply(e,arguments)}},EFe=Kf,WG=EFe("document","documentElement"),BFe=jn,CFe=BFe([].slice),SFe=TypeError,TFe=function(t,e){if(t<e)throw new SFe("Not enough arguments");return t},_Fe=sv,zG=/(?:ipad|iphone|ipod).*applewebkit/i.test(_Fe),Bs=_n,LFe=VG,IFe=tL,IM=Gn,OFe=eA,YG=$n,OM=WG,FFe=CFe,FM=px,PFe=TFe,UFe=zG,RFe=yx,$T=Bs.setImmediate,PM=Bs.clearImmediate,DFe=Bs.process,eC=Bs.Dispatch,MFe=Bs.Function,UM=Bs.MessageChannel,NFe=Bs.String,tC=0,I0={},RM="onreadystatechange",Im,Mu,rC,nC;YG(function(){Im=Bs.location});var rL=function(t){if(OFe(I0,t)){var e=I0[t];delete I0[t],e()}},iC=function(t){return function(){rL(t)}},DM=function(t){rL(t.data)},MM=function(t){Bs.postMessage(NFe(t),Im.protocol+"//"+Im.host)};(!$T||!PM)&&($T=function(e){PFe(arguments.length,1);var r=IM(e)?e:MFe(e),n=FFe(arguments,1);return I0[++tC]=function(){LFe(r,void 0,n)},Mu(tC),tC},PM=function(e){delete I0[e]},RFe?Mu=function(t){DFe.nextTick(iC(t))}:eC&&eC.now?Mu=function(t){eC.now(iC(t))}:UM&&!UFe?(rC=new UM,nC=rC.port2,rC.port1.onmessage=DM,Mu=IFe(nC.postMessage,nC)):Bs.addEventListener&&IM(Bs.postMessage)&&!Bs.importScripts&&Im&&Im.protocol!=="file:"&&!YG(MM)?(Mu=MM,Bs.addEventListener("message",DM,!1)):RM in FM("script")?Mu=function(t){OM.appendChild(FM("script"))[RM]=function(){OM.removeChild(this),rL(t)}}:Mu=function(t){setTimeout(iC(t),0)});var qG={set:$T},NM=_n,kFe=Xo,QFe=Object.getOwnPropertyDescriptor,HFe=function(t){if(!kFe)return NM[t];var e=QFe(NM,t);return e&&e.value},XG=function(){this.head=null,this.tail=null};XG.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var JG=XG,$Fe=sv,jFe=/ipad|iphone|ipod/i.test($Fe)&&typeof Pebble!="undefined",GFe=sv,KFe=/web0s(?!.*chrome)/i.test(GFe),np=_n,VFe=HFe,kM=tL,aC=qG.set,WFe=JG,zFe=zG,YFe=jFe,qFe=KFe,sC=yx,QM=np.MutationObserver||np.WebKitMutationObserver,HM=np.document,$M=np.process,X1=np.Promise,jT=VFe("queueMicrotask"),Fh,oC,AC,J1,jM;if(!jT){var Z1=new WFe,ey=function(){var t,e;for(sC&&(t=$M.domain)&&t.exit();e=Z1.get();)try{e()}catch(r){throw Z1.head&&Fh(),r}t&&t.enter()};!zFe&&!sC&&!qFe&&QM&&HM?(oC=!0,AC=HM.createTextNode(""),new QM(ey).observe(AC,{characterData:!0}),Fh=function(){AC.data=oC=!oC}):!YFe&&X1&&X1.resolve?(J1=X1.resolve(void 0),J1.constructor=X1,jM=kM(J1.then,J1),Fh=function(){jM(ey)}):sC?Fh=function(){$M.nextTick(ey)}:(aC=kM(aC,np),Fh=function(){aC(ey)}),jT=function(t){Z1.head||Fh(),Z1.add(t)}}var XFe=jT,JFe=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch(r){}},nL=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},ZFe=_n,xx=ZFe.Promise,ePe=_n,O0=xx,tPe=Gn,rPe=DG,nPe=W3,iPe=Pi,GM=MG,lC=j3;O0&&O0.prototype;var aPe=iPe("species"),GT=!1,ZG=tPe(ePe.PromiseRejectionEvent),sPe=rPe("Promise",function(){var t=nPe(O0),e=t!==String(O0);if(!e&&lC===66)return!0;if(!lC||lC<51||!/native code/.test(t)){var r=new O0(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[aPe]=n,GT=r.then(function(){})instanceof n,!GT)return!0}return!e&&(GM==="BROWSER"||GM==="DENO")&&!ZG}),lv={CONSTRUCTOR:sPe,REJECTION_EVENT:ZG,SUBCLASSING:GT},Rp={},KM=tc,oPe=TypeError,APe=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw new oPe("Bad Promise constructor");e=n,r=i}),this.resolve=KM(e),this.reject=KM(r)};Rp.f=function(t){return new APe(t)};var lPe=Na,Rb=yx,nu=_n,ip=Yi,VM=Vf,WM=NG,cPe=bx,uPe=HOe,fPe=tc,Xy=Gn,hPe=Zo,dPe=GOe,pPe=GG,eK=qG.set,iL=XFe,gPe=JFe,mPe=nL,vPe=JG,tK=mx,Db=xx,aL=lv,rK=Rp,Ex="Promise",nK=aL.CONSTRUCTOR,yPe=aL.REJECTION_EVENT,bPe=aL.SUBCLASSING,cC=tK.getterFor(Ex),wPe=tK.set,Zh=Db&&Db.prototype,rf=Db,ty=Zh,iK=nu.TypeError,KT=nu.document,sL=nu.process,VT=rK.f,xPe=VT,EPe=!!(KT&&KT.createEvent&&nu.dispatchEvent),aK="unhandledrejection",BPe="rejectionhandled",zM=0,sK=1,CPe=2,oL=1,oK=2,ry,YM,SPe,qM,AK=function(t){var e;return hPe(t)&&Xy(e=t.then)?e:!1},lK=function(t,e){var r=e.value,n=e.state===sK,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,o=t.domain,A,l,c;try{i?(n||(e.rejection===oK&&_Pe(e),e.rejection=oL),i===!0?A=r:(o&&o.enter(),A=i(r),o&&(o.exit(),c=!0)),A===t.promise?s(new iK("Promise-chain cycle")):(l=AK(A))?ip(l,A,a,s):a(A)):s(r)}catch(u){o&&!c&&o.exit(),s(u)}},cK=function(t,e){t.notified||(t.notified=!0,iL(function(){for(var r=t.reactions,n;n=r.get();)lK(n,t);t.notified=!1,e&&!t.rejection&&TPe(t)}))},uK=function(t,e,r){var n,i;EPe?(n=KT.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),nu.dispatchEvent(n)):n={promise:e,reason:r},!yPe&&(i=nu["on"+t])?i(n):t===aK&&gPe("Unhandled promise rejection",r)},TPe=function(t){ip(eK,nu,function(){var e=t.facade,r=t.value,n=XM(t),i;if(n&&(i=mPe(function(){Rb?sL.emit("unhandledRejection",r,e):uK(aK,e,r)}),t.rejection=Rb||XM(t)?oK:oL,i.error))throw i.value})},XM=function(t){return t.rejection!==oL&&!t.parent},_Pe=function(t){ip(eK,nu,function(){var e=t.facade;Rb?sL.emit("rejectionHandled",e):uK(BPe,e,t.value)})},ld=function(t,e,r){return function(n){t(e,n,r)}},Ed=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=CPe,cK(t,!0))},WT=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new iK("Promise can't be resolved itself");var n=AK(e);n?iL(function(){var i={done:!1};try{ip(n,e,ld(WT,i,t),ld(Ed,i,t))}catch(a){Ed(i,a,t)}}):(t.value=e,t.state=sK,cK(t,!1))}catch(i){Ed({done:!1},i,t)}}};if(nK&&(rf=function(e){dPe(this,ty),fPe(e),ip(ry,this);var r=cC(this);try{e(ld(WT,r),ld(Ed,r))}catch(n){Ed(r,n)}},ty=rf.prototype,ry=function(e){wPe(this,{type:Ex,done:!1,notified:!1,parent:!1,reactions:new vPe,rejection:!1,state:zM,value:null})},ry.prototype=VM(ty,"then",function(e,r){var n=cC(this),i=VT(pPe(this,rf));return n.parent=!0,i.ok=Xy(e)?e:!0,i.fail=Xy(r)&&r,i.domain=Rb?sL.domain:void 0,n.state===zM?n.reactions.add(i):iL(function(){lK(i,n)}),i.promise}),YM=function(){var t=new ry,e=cC(t);this.promise=t,this.resolve=ld(WT,e),this.reject=ld(Ed,e)},rK.f=VT=function(t){return t===rf||t===SPe?new YM(t):xPe(t)},Xy(Db)&&Zh!==Object.prototype)){qM=Zh.then,bPe||VM(Zh,"then",function(e,r){var n=this;return new rf(function(i,a){ip(qM,n,i,a)}).then(e,r)},{unsafe:!0});try{delete Zh.constructor}catch(t){}WM&&WM(Zh,ty)}lPe({global:!0,constructor:!0,wrap:!0,forced:nK},{Promise:rf});cPe(rf,Ex,!1);uPe(Ex);var cv={},LPe=Pi,IPe=cv,OPe=LPe("iterator"),FPe=Array.prototype,PPe=function(t){return t!==void 0&&(IPe.Array===t||FPe[OPe]===t)},UPe=Z3,JM=Pp,RPe=Gf,DPe=cv,MPe=Pi,NPe=MPe("iterator"),fK=function(t){if(!RPe(t))return JM(t,NPe)||JM(t,"@@iterator")||DPe[UPe(t)]},kPe=Yi,QPe=tc,HPe=Ma,$Pe=hx,jPe=fK,GPe=TypeError,KPe=function(t,e){var r=arguments.length<2?jPe(t):e;if(QPe(r))return HPe(kPe(r,t));throw new GPe($Pe(t)+" is not iterable")},VPe=Yi,ZM=Ma,WPe=Pp,zPe=function(t,e,r){var n,i;ZM(t);try{if(n=WPe(t,"return"),!n){if(e==="throw")throw r;return r}n=VPe(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return ZM(n),r},YPe=tL,qPe=Yi,XPe=Ma,JPe=hx,ZPe=PPe,eUe=X3,eN=fx,tUe=KPe,rUe=fK,tN=zPe,nUe=TypeError,Jy=function(t,e){this.stopped=t,this.result=e},rN=Jy.prototype,hK=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),A=YPe(e,n),l,c,u,f,h,d,p,g=function(y){return l&&tN(l,"normal",y),new Jy(!0,y)},v=function(y){return i?(XPe(y),o?A(y[0],y[1],g):A(y[0],y[1])):o?A(y,g):A(y)};if(a)l=t.iterator;else if(s)l=t;else{if(c=rUe(t),!c)throw new nUe(JPe(t)+" is not iterable");if(ZPe(c)){for(u=0,f=eUe(t);f>u;u++)if(h=v(t[u]),h&&eN(rN,h))return h;return new Jy(!1)}l=tUe(t,c)}for(d=a?t.next:l.next;!(p=qPe(d,l)).done;){try{h=v(p.value)}catch(y){tN(l,"throw",y)}if(typeof h=="object"&&h&&eN(rN,h))return h}return new Jy(!1)},iUe=Pi,dK=iUe("iterator"),pK=!1;try{var aUe=0,nN={next:function(){return{done:!!aUe++}},return:function(){pK=!0}};nN[dK]=function(){return this},Array.from(nN,function(){throw 2})}catch(t){}var sUe=function(t,e){try{if(!e&&!pK)return!1}catch(i){return!1}var r=!1;try{var n={};n[dK]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(i){}return r},oUe=xx,AUe=sUe,lUe=lv.CONSTRUCTOR,gK=lUe||!AUe(function(t){oUe.all(t).then(void 0,function(){})}),cUe=Na,uUe=Yi,fUe=tc,hUe=Rp,dUe=nL,pUe=hK,gUe=gK;cUe({target:"Promise",stat:!0,forced:gUe},{all:function(e){var r=this,n=hUe.f(r),i=n.resolve,a=n.reject,s=dUe(function(){var o=fUe(r.resolve),A=[],l=0,c=1;pUe(e,function(u){var f=l++,h=!1;c++,uUe(o,r,u).then(function(d){h||(h=!0,A[f]=d,--c||i(A))},a)}),--c||i(A)});return s.error&&a(s.value),n.promise}});var mUe=Na,vUe=lv.CONSTRUCTOR,zT=xx,yUe=Kf,bUe=Gn,wUe=Vf,iN=zT&&zT.prototype;mUe({target:"Promise",proto:!0,forced:vUe,real:!0},{catch:function(t){return this.then(void 0,t)}});if(bUe(zT)){var aN=yUe("Promise").prototype.catch;iN.catch!==aN&&wUe(iN,"catch",aN,{unsafe:!0})}var xUe=Na,EUe=Yi,BUe=tc,CUe=Rp,SUe=nL,TUe=hK,_Ue=gK;xUe({target:"Promise",stat:!0,forced:_Ue},{race:function(e){var r=this,n=CUe.f(r),i=n.reject,a=SUe(function(){var s=BUe(r.resolve);TUe(e,function(o){EUe(s,r,o).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var LUe=Na,IUe=Rp,OUe=lv.CONSTRUCTOR;LUe({target:"Promise",stat:!0,forced:OUe},{reject:function(e){var r=IUe.f(this),n=r.reject;return n(e),r.promise}});var FUe=Ma,PUe=Zo,UUe=Rp,RUe=function(t,e){if(FUe(t),PUe(e)&&e.constructor===t)return e;var r=UUe.f(t),n=r.resolve;return n(e),r.promise},DUe=Na,MUe=Kf,NUe=lv.CONSTRUCTOR,kUe=RUe;MUe("Promise");DUe({target:"Promise",stat:!0,forced:NUe},{resolve:function(e){return kUe(this,e)}});function sN(t,e,r,n,i,a,s){try{var o=t[a](s),A=o.value}catch(l){return void r(l)}o.done?e(A):Promise.resolve(A).then(n,i)}function Yl(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(A){sN(a,n,i,s,o,"next",A)}function o(A){sN(a,n,i,s,o,"throw",A)}s(void 0)})}}var QUe=Z3,HUe=String,YA=function(t){if(QUe(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return HUe(t)},$Ue=Ma,mK=function(){var t=$Ue(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},AL=$n,jUe=_n,lL=jUe.RegExp,cL=AL(function(){var t=lL("a","y");return t.lastIndex=2,t.exec("abcd")!==null});cL||AL(function(){return!lL("a","y").sticky});var GUe=cL||AL(function(){var t=lL("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),vK={BROKEN_CARET:GUe,UNSUPPORTED_Y:cL},yK={},KUe=UG,VUe=J3,WUe=Object.keys||function(e){return KUe(e,VUe)},zUe=Xo,YUe=CG,qUe=rc,XUe=Ma,JUe=av,ZUe=WUe;yK.f=zUe&&!YUe?Object.defineProperties:function(e,r){XUe(e);for(var n=JUe(r),i=ZUe(r),a=i.length,s=0,o;a>s;)qUe.f(e,o=i[s++],n[o]);return e};var eRe=Ma,tRe=yK,oN=J3,rRe=Y3,nRe=WG,iRe=px,aRe=z3,AN=">",lN="<",YT="prototype",qT="script",bK=aRe("IE_PROTO"),uC=function(){},wK=function(t){return lN+qT+AN+t+lN+"/"+qT+AN},cN=function(t){t.write(wK("")),t.close();var e=t.parentWindow.Object;return t=null,e},sRe=function(){var t=iRe("iframe"),e="java"+qT+":",r;return t.style.display="none",nRe.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(wK("document.F=Object")),r.close(),r.F},ny,Zy=function(){try{ny=new ActiveXObject("htmlfile")}catch(e){}Zy=typeof document!="undefined"?document.domain&&ny?cN(ny):sRe():cN(ny);for(var t=oN.length;t--;)delete Zy[YT][oN[t]];return Zy()};rRe[bK]=!0;var uL=Object.create||function(e,r){var n;return e!==null?(uC[YT]=eRe(e),n=new uC,uC[YT]=null,n[bK]=e):n=Zy(),r===void 0?n:tRe.f(n,r)},oRe=$n,ARe=_n,lRe=ARe.RegExp,cRe=oRe(function(){var t=lRe(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),uRe=$n,fRe=_n,hRe=fRe.RegExp,dRe=uRe(function(){var t=hRe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),cd=Yi,Bx=jn,pRe=YA,gRe=mK,mRe=vK,vRe=V3,yRe=uL,bRe=mx.get,wRe=cRe,xRe=dRe,ERe=vRe("native-string-replace",String.prototype.replace),Mb=RegExp.prototype.exec,XT=Mb,BRe=Bx("".charAt),CRe=Bx("".indexOf),SRe=Bx("".replace),fC=Bx("".slice),JT=function(){var t=/a/,e=/b*/g;return cd(Mb,t,"a"),cd(Mb,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),xK=mRe.BROKEN_CARET,ZT=/()??/.exec("")[1]!==void 0,TRe=JT||ZT||xK||wRe||xRe;TRe&&(XT=function(e){var r=this,n=bRe(r),i=pRe(e),a=n.raw,s,o,A,l,c,u,f;if(a)return a.lastIndex=r.lastIndex,s=cd(XT,a,i),r.lastIndex=a.lastIndex,s;var h=n.groups,d=xK&&r.sticky,p=cd(gRe,r),g=r.source,v=0,y=i;if(d&&(p=SRe(p,"y",""),CRe(p,"g")===-1&&(p+="g"),y=fC(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&BRe(i,r.lastIndex-1)!==`
`)&&(g="(?: "+g+")",y=" "+y,v++),o=new RegExp("^(?:"+g+")",p)),ZT&&(o=new RegExp("^"+g+"$(?!\\s)",p)),JT&&(A=r.lastIndex),l=cd(Mb,d?o:r,y),d?l?(l.input=fC(l.input,v),l[0]=fC(l[0],v),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:JT&&l&&(r.lastIndex=r.global?l.index+l[0].length:A),ZT&&l&&l.length>1&&cd(ERe,l[0],o,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&h)for(l.groups=u=yRe(null),c=0;c<h.length;c++)f=h[c],u[f[0]]=l[f[1]];return l});var fL=XT,_Re=Na,uN=fL;_Re({target:"RegExp",proto:!0,forced:/./.exec!==uN},{exec:uN});var fN=Yi,hN=Vf,LRe=fL,dN=$n,EK=Pi,IRe=ov,ORe=EK("species"),hC=RegExp.prototype,hL=function(t,e,r,n){var i=EK(t),a=!dN(function(){var l={};return l[i]=function(){return 7},""[t](l)!==7}),s=a&&!dN(function(){var l=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[ORe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return l=!0,null},c[i](""),!l});if(!a||!s||r){var o=/./[i],A=e(i,""[t],function(l,c,u,f,h){var d=c.exec;return d===LRe||d===hC.exec?a&&!h?{done:!0,value:fN(o,c,u,f)}:{done:!0,value:fN(l,u,c,f)}:{done:!1}});hN(String.prototype,t,A[0]),hN(hC,i,A[1])}n&&IRe(hC[i],"sham",!0)},dL=jn,FRe=vx,PRe=YA,URe=Jo,RRe=dL("".charAt),pN=dL("".charCodeAt),DRe=dL("".slice),MRe=function(t){return function(e,r){var n=PRe(URe(e)),i=FRe(r),a=n.length,s,o;return i<0||i>=a?t?"":void 0:(s=pN(n,i),s<55296||s>56319||i+1===a||(o=pN(n,i+1))<56320||o>57343?t?RRe(n,i):s:t?DRe(n,i,i+2):(s-55296<<10)+(o-56320)+65536)}},NRe={charAt:MRe(!0)},kRe=NRe.charAt,pL=function(t,e,r){return e+(r?kRe(t,e).length:1)},gN=Yi,QRe=Ma,HRe=Gn,$Re=jf,jRe=fL,GRe=TypeError,gL=function(t,e){var r=t.exec;if(HRe(r)){var n=gN(r,t,e);return n!==null&&QRe(n),n}if($Re(t)==="RegExp")return gN(jRe,t,e);throw new GRe("RegExp#exec called on incompatible receiver")},KRe=Yi,VRe=hL,WRe=Ma,zRe=Gf,YRe=Up,dC=YA,qRe=Jo,XRe=Pp,JRe=pL,mN=gL;VRe("match",function(t,e,r){return[function(i){var a=qRe(this),s=zRe(i)?void 0:XRe(i,t);return s?KRe(s,i,a):new RegExp(i)[t](dC(a))},function(n){var i=WRe(this),a=dC(n),s=r(e,i,a);if(s.done)return s.value;if(!i.global)return mN(i,a);var o=i.unicode;i.lastIndex=0;for(var A=[],l=0,c;(c=mN(i,a))!==null;){var u=dC(c[0]);A[l]=u,u===""&&(i.lastIndex=JRe(a,YRe(i.lastIndex),o)),l++}return l===0?null:A}]});var mL=jn,ZRe=dx,eDe=Math.floor,pC=mL("".charAt),tDe=mL("".replace),gC=mL("".slice),rDe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,nDe=/\$([$&'`]|\d{1,2})/g,iDe=function(t,e,r,n,i,a){var s=r+t.length,o=n.length,A=nDe;return i!==void 0&&(i=ZRe(i),A=rDe),tDe(a,A,function(l,c){var u;switch(pC(c,0)){case"$":return"$";case"&":return t;case"`":return gC(e,0,r);case"'":return gC(e,s);case"<":u=i[gC(c,1,-1)];break;default:var f=+c;if(f===0)return l;if(f>o){var h=eDe(f/10);return h===0?l:h<=o?n[h-1]===void 0?pC(c,1):n[h-1]+pC(c,1):l}u=n[f-1]}return u===void 0?"":u})},aDe=VG,vN=Yi,Cx=jn,sDe=hL,oDe=$n,ADe=Ma,lDe=Gn,cDe=Gf,uDe=vx,fDe=Up,Ph=YA,hDe=Jo,dDe=pL,pDe=Pp,gDe=iDe,mDe=gL,vDe=Pi,e_=vDe("replace"),yDe=Math.max,bDe=Math.min,wDe=Cx([].concat),mC=Cx([].push),yN=Cx("".indexOf),bN=Cx("".slice),xDe=function(t){return t===void 0?t:String(t)},EDe=function(){return"a".replace(/./,"$0")==="$0"}(),wN=function(){return/./[e_]?/./[e_]("a","$0")==="":!1}(),BDe=!oDe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});sDe("replace",function(t,e,r){var n=wN?"$":"$0";return[function(a,s){var o=hDe(this),A=cDe(a)?void 0:pDe(a,e_);return A?vN(A,a,o,s):vN(e,Ph(o),a,s)},function(i,a){var s=ADe(this),o=Ph(i);if(typeof a=="string"&&yN(a,n)===-1&&yN(a,"$<")===-1){var A=r(e,s,o,a);if(A.done)return A.value}var l=lDe(a);l||(a=Ph(a));var c=s.global,u;c&&(u=s.unicode,s.lastIndex=0);for(var f=[],h;h=mDe(s,o),!(h===null||(mC(f,h),!c));){var d=Ph(h[0]);d===""&&(s.lastIndex=dDe(o,fDe(s.lastIndex),u))}for(var p="",g=0,v=0;v<f.length;v++){h=f[v];for(var y=Ph(h[0]),w=yDe(bDe(uDe(h.index),o.length),0),S=[],x,E=1;E<h.length;E++)mC(S,xDe(h[E]));var C=h.groups;if(l){var L=wDe([y],S,w,o);C!==void 0&&mC(L,C),x=Ph(aDe(a,void 0,L))}else x=gDe(y,o,w,S,C,a);w>=g&&(p+=bN(o,g,w)+x,g=w+y.length)}return p+bN(o,g)}]},!BDe||!EDe||wN);var CDe=Zo,SDe=jf,TDe=Pi,_De=TDe("match"),LDe=function(t){var e;return CDe(t)&&((e=t[_De])!==void 0?!!e:SDe(t)==="RegExp")},IDe=LDe,ODe=TypeError,vL=function(t){if(IDe(t))throw new ODe("The method doesn't accept regular expressions");return t},FDe=Pi,PDe=FDe("match"),yL=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[PDe]=!1,"/./"[t](e)}catch(n){}}return!1},UDe=Na,RDe=wx,DDe=iv.f,MDe=Up,xN=YA,NDe=vL,kDe=Jo,QDe=yL,HDe=RDe("".slice),$De=Math.min,BK=QDe("startsWith"),jDe=!BK&&!!function(){var t=DDe(String.prototype,"startsWith");return t&&!t.writable}();UDe({target:"String",proto:!0,forced:!jDe&&!BK},{startsWith:function(e){var r=xN(kDe(this));NDe(e);var n=MDe($De(arguments.length>1?arguments[1]:void 0,r.length)),i=xN(e);return HDe(r,n,n+i.length)===i}});var GDe=Pi,KDe=uL,VDe=rc.f,t_=GDe("unscopables"),r_=Array.prototype;r_[t_]===void 0&&VDe(r_,t_,{configurable:!0,value:KDe(null)});var WDe=function(t){r_[t_][t]=!0},zDe=$n,YDe=!zDe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),qDe=eA,XDe=Gn,JDe=dx,ZDe=z3,eMe=YDe,EN=ZDe("IE_PROTO"),n_=Object,tMe=n_.prototype,CK=eMe?n_.getPrototypeOf:function(t){var e=JDe(t);if(qDe(e,EN))return e[EN];var r=e.constructor;return XDe(r)&&e instanceof r?r.prototype:e instanceof n_?tMe:null},rMe=$n,nMe=Gn,iMe=Zo,BN=CK,aMe=Vf,sMe=Pi,i_=sMe("iterator"),SK=!1,Ff,vC,yC;[].keys&&(yC=[].keys(),"next"in yC?(vC=BN(BN(yC)),vC!==Object.prototype&&(Ff=vC)):SK=!0);var oMe=!iMe(Ff)||rMe(function(){var t={};return Ff[i_].call(t)!==t});oMe&&(Ff={});nMe(Ff[i_])||aMe(Ff,i_,function(){return this});var TK={IteratorPrototype:Ff,BUGGY_SAFARI_ITERATORS:SK},AMe=TK.IteratorPrototype,lMe=uL,cMe=$3,uMe=bx,fMe=cv,hMe=function(){return this},dMe=function(t,e,r,n){var i=e+" Iterator";return t.prototype=lMe(AMe,{next:cMe(+!n,r)}),uMe(t,i,!1),fMe[i]=hMe,t},pMe=Na,gMe=Yi,_K=gx,mMe=Gn,vMe=dMe,CN=CK,SN=NG,yMe=bx,bMe=ov,bC=Vf,wMe=Pi,xMe=cv,LK=TK,EMe=_K.PROPER,BMe=_K.CONFIGURABLE,TN=LK.IteratorPrototype,iy=LK.BUGGY_SAFARI_ITERATORS,kg=wMe("iterator"),_N="keys",Qg="values",LN="entries",CMe=function(){return this},SMe=function(t,e,r,n,i,a,s){vMe(r,e,n);var o=function(v){if(v===i&&f)return f;if(!iy&&v&&v in c)return c[v];switch(v){case _N:return function(){return new r(this,v)};case Qg:return function(){return new r(this,v)};case LN:return function(){return new r(this,v)}}return function(){return new r(this)}},A=e+" Iterator",l=!1,c=t.prototype,u=c[kg]||c["@@iterator"]||i&&c[i],f=!iy&&u||o(i),h=e==="Array"&&c.entries||u,d,p,g;if(h&&(d=CN(h.call(new t)),d!==Object.prototype&&d.next&&(CN(d)!==TN&&(SN?SN(d,TN):mMe(d[kg])||bC(d,kg,CMe)),yMe(d,A,!0))),EMe&&i===Qg&&u&&u.name!==Qg&&(BMe?bMe(c,"name",Qg):(l=!0,f=function(){return gMe(u,this)})),i)if(p={values:o(Qg),keys:a?f:o(_N),entries:o(LN)},s)for(g in p)(iy||l||!(g in c))&&bC(c,g,p[g]);else pMe({target:e,proto:!0,forced:iy||l},p);return c[kg]!==f&&bC(c,kg,f,{name:i}),xMe[e]=f,p},TMe=function(t,e){return{value:t,done:e}},_Me=av,bL=WDe,IN=cv,IK=mx,LMe=rc.f,IMe=SMe,ay=TMe,OMe=Xo,OK="Array Iterator",FMe=IK.set,PMe=IK.getterFor(OK),UMe=IMe(Array,"Array",function(t,e){FMe(this,{type:OK,target:_Me(t),index:0,kind:e})},function(){var t=PMe(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,ay(void 0,!0);switch(t.kind){case"keys":return ay(r,!1);case"values":return ay(e[r],!1)}return ay([r,e[r]],!1)},"values"),ON=IN.Arguments=IN.Array;bL("keys");bL("values");bL("entries");if(OMe&&ON.name!=="values")try{LMe(ON,"name",{value:"values"})}catch(t){}var RMe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DMe=px,wC=DMe("span").classList,FN=wC&&wC.constructor&&wC.constructor.prototype,MMe=FN===Object.prototype?void 0:FN,PN=_n,FK=RMe,NMe=MMe,h0=UMe,UN=ov,kMe=bx,QMe=Pi,xC=QMe("iterator"),EC=h0.values,PK=function(t,e){if(t){if(t[xC]!==EC)try{UN(t,xC,EC)}catch(n){t[xC]=EC}if(kMe(t,e,!0),FK[e]){for(var r in h0)if(t[r]!==h0[r])try{UN(t,r,h0[r])}catch(n){t[r]=h0[r]}}}};for(var BC in FK)PK(PN[BC]&&PN[BC].prototype,BC);PK(NMe,"DOMTokenList");function HMe(t,e){if(lr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Me(t){var e=HMe(t,"string");return lr(e)=="symbol"?e:e+""}function wL(t,e,r){return(e=$Me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jMe=tc,GMe=dx,KMe=gG,VMe=X3,RN=TypeError,DN="Reduce of empty array with no initial value",WMe=function(t){return function(e,r,n,i){var a=GMe(e),s=KMe(a),o=VMe(a);if(jMe(r),o===0&&n<2)throw new RN(DN);var A=t?o-1:0,l=t?-1:1;if(n<2)for(;;){if(A in s){i=s[A],A+=l;break}if(A+=l,t?A<0:o<=A)throw new RN(DN)}for(;t?A>=0:o>A;A+=l)A in s&&(i=r(i,s[A],A,a));return i}},zMe={left:WMe(!1)},YMe=$n,UK=function(t,e){var r=[][t];return!!r&&YMe(function(){r.call(null,e||function(){return 1},1)})},qMe=Na,XMe=zMe.left,JMe=UK,MN=j3,ZMe=yx,eNe=!ZMe&&MN>79&&MN<83,tNe=eNe||!JMe("reduce");qMe({target:"Array",proto:!0,forced:tNe},{reduce:function(e){var r=arguments.length;return XMe(this,e,r,r>1?arguments[1]:void 0)}});var rNe=Na,nNe=wx,iNe=iv.f,aNe=Up,NN=YA,sNe=vL,oNe=Jo,ANe=yL,lNe=nNe("".slice),cNe=Math.min,RK=ANe("endsWith"),uNe=!RK&&!!function(){var t=iNe(String.prototype,"endsWith");return t&&!t.writable}();rNe({target:"String",proto:!0,forced:!uNe&&!RK},{endsWith:function(e){var r=NN(oNe(this));sNe(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:cNe(aNe(n),i),s=NN(e);return lNe(r,a-s.length,a)===s}});var CC=Yi,DK=jn,fNe=hL,hNe=Ma,dNe=Gf,pNe=Jo,gNe=GG,mNe=pL,vNe=Up,kN=YA,yNe=Pp,QN=gL,bNe=vK,wNe=$n,Uh=bNe.UNSUPPORTED_Y,xNe=4294967295,ENe=Math.min,SC=DK([].push),TC=DK("".slice),BNe=!wNe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),HN="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;fNe("split",function(t,e,r){var n="0".split(void 0,0).length?function(i,a){return i===void 0&&a===0?[]:CC(e,this,i,a)}:e;return[function(a,s){var o=pNe(this),A=dNe(a)?void 0:yNe(a,t);return A?CC(A,a,o,s):CC(n,kN(o),a,s)},function(i,a){var s=hNe(this),o=kN(i);if(!HN){var A=r(n,s,o,a,n!==e);if(A.done)return A.value}var l=gNe(s,RegExp),c=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Uh?"g":"y"),f=new l(Uh?"^(?:"+s.source+")":s,u),h=a===void 0?xNe:a>>>0;if(h===0)return[];if(o.length===0)return QN(f,o)===null?[o]:[];for(var d=0,p=0,g=[];p<o.length;){f.lastIndex=Uh?0:p;var v=QN(f,Uh?TC(o,p):o),y;if(v===null||(y=ENe(vNe(f.lastIndex+(Uh?p:0)),o.length))===d)p=mNe(o,p,c);else{if(SC(g,TC(o,d,p)),g.length===h)return g;for(var w=1;w<=v.length-1;w++)if(SC(g,v[w]),g.length===h)return g;p=d=y}}return SC(g,TC(o,d)),g}]},HN||!BNe,Uh);var Sx={exports:{}},d0={exports:{}};(function(){var t,e,r,n,i,a;typeof performance!="undefined"&&performance!==null&&performance.now?d0.exports=function(){return performance.now()}:typeof process!="undefined"&&process!==null&&process.hrtime?(d0.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var s;return s=e(),s[0]*1e9+s[1]},n=t(),a=process.uptime()*1e9,i=n-a):Date.now?(d0.exports=function(){return Date.now()-r},r=Date.now()):(d0.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(jo);var CNe=d0.exports,SNe=CNe,Hl=typeof window=="undefined"?jo:window,sy=["moz","webkit"],Bd="AnimationFrame",ap=Hl["request"+Bd],Om=Hl["cancel"+Bd]||Hl["cancelRequest"+Bd];for(var Hg=0;!ap&&Hg<sy.length;Hg++)ap=Hl[sy[Hg]+"Request"+Bd],Om=Hl[sy[Hg]+"Cancel"+Bd]||Hl[sy[Hg]+"CancelRequest"+Bd];if(!ap||!Om){var _C=0,$N=0,Nu=[],TNe=1e3/60;ap=function(t){if(Nu.length===0){var e=SNe(),r=Math.max(0,TNe-(e-_C));_C=r+e,setTimeout(function(){var n=Nu.slice(0);Nu.length=0;for(var i=0;i<n.length;i++)if(!n[i].cancelled)try{n[i].callback(_C)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return Nu.push({handle:++$N,callback:t,cancelled:!1}),$N},Om=function(t){for(var e=0;e<Nu.length;e++)Nu[e].handle===t&&(Nu[e].cancelled=!0)}}Sx.exports=function(t){return ap.call(Hl,t)};Sx.exports.cancel=function(){Om.apply(Hl,arguments)};Sx.exports.polyfill=function(t){t||(t=Hl),t.requestAnimationFrame=ap,t.cancelAnimationFrame=Om};var _Ne=Sx.exports;const LC=xr(_Ne);var MK=`	
\v\f\r \u2028\u2029\uFEFF`,LNe=jn,INe=Jo,ONe=YA,a_=MK,jN=LNe("".replace),FNe=RegExp("^["+a_+"]+"),PNe=RegExp("(^|[^"+a_+"])["+a_+"]+$"),UNe=function(t){return function(e){var r=ONe(INe(e));return t&1&&(r=jN(r,FNe,"")),t&2&&(r=jN(r,PNe,"$1")),r}},RNe={trim:UNe(3)},DNe=gx.PROPER,MNe=$n,GN=MK,KN="",NNe=function(t){return MNe(function(){return!!GN[t]()||KN[t]()!==KN||DNe&&GN[t].name!==t})},kNe=Na,QNe=RNe.trim,HNe=NNe;kNe({target:"String",proto:!0,forced:HNe("trim")},{trim:function(){return QNe(this)}});var $Ne=function(t){this.ok=!1,this.alpha=1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3]),parseFloat(A[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c},this.getHelpXML=function(){for(var A=new Array,l=0;l<r.length;l++)for(var c=r[l].example,u=0;u<c.length;u++)A[A.length]=c[u];for(var f in e)A[A.length]=f;var h=document.createElement("ul");h.setAttribute("id","rgbcolor-examples");for(var l=0;l<A.length;l++)try{var d=document.createElement("li"),p=new RGBColor(A[l]),g=document.createElement("div");g.style.cssText="margin: 3px; border: 1px solid black; background:"+p.toHex()+"; color:"+p.toHex(),g.appendChild(document.createTextNode("test"));var v=document.createTextNode(" "+A[l]+" -> "+p.toRGB()+" -> "+p.toHex());d.appendChild(g),d.appendChild(v),h.appendChild(d)}catch(w){}return h}};const s_=xr($Ne);var jNe=Na,GNe=wx,KNe=PG.indexOf,VNe=UK,o_=GNe([].indexOf),NK=!!o_&&1/o_([1],1,-0)<0,WNe=NK||!VNe("indexOf");jNe({target:"Array",proto:!0,forced:WNe},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return NK?o_(this,e,r)||0:KNe(this,e,r)}});var zNe=Na,YNe=jn,qNe=vL,XNe=Jo,VN=YA,JNe=yL,ZNe=YNe("".indexOf);zNe({target:"String",proto:!0,forced:!JNe("includes")},{includes:function(e){return!!~ZNe(VN(XNe(this)),VN(qNe(e)),arguments.length>1?arguments[1]:void 0)}});var e6e=jf,t6e=Array.isArray||function(e){return e6e(e)==="Array"},r6e=Na,n6e=jn,i6e=t6e,a6e=n6e([].reverse),WN=[1,2];r6e({target:"Array",proto:!0,forced:String(WN)===String(WN.reverse())},{reverse:function(){return i6e(this)&&(this.length=this.length),a6e(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kK=function(t,e){return(kK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};function QK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}kK(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function s6e(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var n=t[r];if(n.type===Ge.CLOSE_PATH)e+="z";else if(n.type===Ge.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===Ge.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===Ge.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===Ge.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===Ge.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Ge.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Ge.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===Ge.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==Ge.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}function A_(t,e){var r=t[0],n=t[1];return[r*Math.cos(e)-n*Math.sin(e),r*Math.sin(e)+n*Math.cos(e)]}function Oo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if(typeof t[r]!="number")throw new Error("assertNumbers arguments["+r+"] is not a number. "+typeof t[r]+" == typeof "+t[r]);return!0}var Uc=Math.PI;function IC(t,e,r){t.lArcFlag=t.lArcFlag===0?0:1,t.sweepFlag=t.sweepFlag===0?0:1;var n=t.rX,i=t.rY,a=t.x,s=t.y;n=Math.abs(t.rX),i=Math.abs(t.rY);var o=A_([(e-a)/2,(r-s)/2],-t.xRot/180*Uc),A=o[0],l=o[1],c=Math.pow(A,2)/Math.pow(n,2)+Math.pow(l,2)/Math.pow(i,2);1<c&&(n*=Math.sqrt(c),i*=Math.sqrt(c)),t.rX=n,t.rY=i;var u=Math.pow(n,2)*Math.pow(l,2)+Math.pow(i,2)*Math.pow(A,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-u)/u)),h=n*l/i*f,d=-i*A/n*f,p=A_([h,d],t.xRot/180*Uc);t.cX=p[0]+(e+a)/2,t.cY=p[1]+(r+s)/2,t.phi1=Math.atan2((l-d)/i,(A-h)/n),t.phi2=Math.atan2((-l-d)/i,(-A-h)/n),t.sweepFlag===0&&t.phi2>t.phi1&&(t.phi2-=2*Uc),t.sweepFlag===1&&t.phi2<t.phi1&&(t.phi2+=2*Uc),t.phi1*=180/Uc,t.phi2*=180/Uc}function zN(t,e,r){Oo(t,e,r);var n=t*t+e*e-r*r;if(0>n)return[];if(n===0)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var i=Math.sqrt(n);return[[(t*r+e*i)/(t*t+e*e),(e*r-t*i)/(t*t+e*e)],[(t*r-e*i)/(t*t+e*e),(e*r+t*i)/(t*t+e*e)]]}var Xn,wl=Math.PI/180;function YN(t,e,r){return(1-r)*t+r*e}function qN(t,e,r,n){return t+Math.cos(n/180*Uc)*e+Math.sin(n/180*Uc)*r}function XN(t,e,r,n){var i=1e-6,a=e-t,s=r-e,o=3*a+3*(n-r)-6*s,A=6*(s-a),l=3*a;return Math.abs(o)<i?[-l/A]:function(c,u,f){var h=c*c/4-u;if(h<-1e-6)return[];if(h<=f)return[-c/2];var d=Math.sqrt(h);return[-c/2-d,-c/2+d]}(A/o,l/o,i)}function JN(t,e,r,n,i){var a=1-i;return t*(a*a*a)+e*(3*a*a*i)+r*(3*a*i*i)+n*(i*i*i)}(function(t){function e(){return i(function(o,A,l){return o.relative&&(o.x1!==void 0&&(o.x1+=A),o.y1!==void 0&&(o.y1+=l),o.x2!==void 0&&(o.x2+=A),o.y2!==void 0&&(o.y2+=l),o.x!==void 0&&(o.x+=A),o.y!==void 0&&(o.y+=l),o.relative=!1),o})}function r(){var o=NaN,A=NaN,l=NaN,c=NaN;return i(function(u,f,h){return u.type&Ge.SMOOTH_CURVE_TO&&(u.type=Ge.CURVE_TO,o=isNaN(o)?f:o,A=isNaN(A)?h:A,u.x1=u.relative?f-o:2*f-o,u.y1=u.relative?h-A:2*h-A),u.type&Ge.CURVE_TO?(o=u.relative?f+u.x2:u.x2,A=u.relative?h+u.y2:u.y2):(o=NaN,A=NaN),u.type&Ge.SMOOTH_QUAD_TO&&(u.type=Ge.QUAD_TO,l=isNaN(l)?f:l,c=isNaN(c)?h:c,u.x1=u.relative?f-l:2*f-l,u.y1=u.relative?h-c:2*h-c),u.type&Ge.QUAD_TO?(l=u.relative?f+u.x1:u.x1,c=u.relative?h+u.y1:u.y1):(l=NaN,c=NaN),u})}function n(){var o=NaN,A=NaN;return i(function(l,c,u){if(l.type&Ge.SMOOTH_QUAD_TO&&(l.type=Ge.QUAD_TO,o=isNaN(o)?c:o,A=isNaN(A)?u:A,l.x1=l.relative?c-o:2*c-o,l.y1=l.relative?u-A:2*u-A),l.type&Ge.QUAD_TO){o=l.relative?c+l.x1:l.x1,A=l.relative?u+l.y1:l.y1;var f=l.x1,h=l.y1;l.type=Ge.CURVE_TO,l.x1=((l.relative?0:c)+2*f)/3,l.y1=((l.relative?0:u)+2*h)/3,l.x2=(l.x+2*f)/3,l.y2=(l.y+2*h)/3}else o=NaN,A=NaN;return l})}function i(o){var A=0,l=0,c=NaN,u=NaN;return function(f){if(isNaN(c)&&!(f.type&Ge.MOVE_TO))throw new Error("path must start with moveto");var h=o(f,A,l,c,u);return f.type&Ge.CLOSE_PATH&&(A=c,l=u),f.x!==void 0&&(A=f.relative?A+f.x:f.x),f.y!==void 0&&(l=f.relative?l+f.y:f.y),f.type&Ge.MOVE_TO&&(c=A,u=l),h}}function a(o,A,l,c,u,f){return Oo(o,A,l,c,u,f),i(function(h,d,p,g){var v=h.x1,y=h.x2,w=h.relative&&!isNaN(g),S=h.x!==void 0?h.x:w?0:d,x=h.y!==void 0?h.y:w?0:p;function E(I){return I*I}h.type&Ge.HORIZ_LINE_TO&&A!==0&&(h.type=Ge.LINE_TO,h.y=h.relative?0:p),h.type&Ge.VERT_LINE_TO&&l!==0&&(h.type=Ge.LINE_TO,h.x=h.relative?0:d),h.x!==void 0&&(h.x=h.x*o+x*l+(w?0:u)),h.y!==void 0&&(h.y=S*A+h.y*c+(w?0:f)),h.x1!==void 0&&(h.x1=h.x1*o+h.y1*l+(w?0:u)),h.y1!==void 0&&(h.y1=v*A+h.y1*c+(w?0:f)),h.x2!==void 0&&(h.x2=h.x2*o+h.y2*l+(w?0:u)),h.y2!==void 0&&(h.y2=y*A+h.y2*c+(w?0:f));var C=o*c-A*l;if(h.xRot!==void 0&&(o!==1||A!==0||l!==0||c!==1))if(C===0)delete h.rX,delete h.rY,delete h.xRot,delete h.lArcFlag,delete h.sweepFlag,h.type=Ge.LINE_TO;else{var L=h.xRot*Math.PI/180,O=Math.sin(L),D=Math.cos(L),_=1/E(h.rX),F=1/E(h.rY),R=E(D)*_+E(O)*F,M=2*O*D*(_-F),z=E(O)*_+E(D)*F,N=R*c*c-M*A*c+z*A*A,Y=M*(o*c+A*l)-2*(R*l*c+z*o*A),X=R*l*l-M*o*l+z*o*o,H=(Math.atan2(Y,N-X)+Math.PI)%Math.PI/2,W=Math.sin(H),Z=Math.cos(H);h.rX=Math.abs(C)/Math.sqrt(N*E(Z)+Y*W*Z+X*E(W)),h.rY=Math.abs(C)/Math.sqrt(N*E(W)-Y*W*Z+X*E(Z)),h.xRot=180*H/Math.PI}return h.sweepFlag!==void 0&&0>C&&(h.sweepFlag=+!h.sweepFlag),h})}function s(){return function(o){var A={};for(var l in o)A[l]=o[l];return A}}t.ROUND=function(o){function A(l){return Math.round(l*o)/o}return o===void 0&&(o=1e13),Oo(o),function(l){return l.x1!==void 0&&(l.x1=A(l.x1)),l.y1!==void 0&&(l.y1=A(l.y1)),l.x2!==void 0&&(l.x2=A(l.x2)),l.y2!==void 0&&(l.y2=A(l.y2)),l.x!==void 0&&(l.x=A(l.x)),l.y!==void 0&&(l.y=A(l.y)),l.rX!==void 0&&(l.rX=A(l.rX)),l.rY!==void 0&&(l.rY=A(l.rY)),l}},t.TO_ABS=e,t.TO_REL=function(){return i(function(o,A,l){return o.relative||(o.x1!==void 0&&(o.x1-=A),o.y1!==void 0&&(o.y1-=l),o.x2!==void 0&&(o.x2-=A),o.y2!==void 0&&(o.y2-=l),o.x!==void 0&&(o.x-=A),o.y!==void 0&&(o.y-=l),o.relative=!0),o})},t.NORMALIZE_HVZ=function(o,A,l){return o===void 0&&(o=!0),A===void 0&&(A=!0),l===void 0&&(l=!0),i(function(c,u,f,h,d){if(isNaN(h)&&!(c.type&Ge.MOVE_TO))throw new Error("path must start with moveto");return A&&c.type&Ge.HORIZ_LINE_TO&&(c.type=Ge.LINE_TO,c.y=c.relative?0:f),l&&c.type&Ge.VERT_LINE_TO&&(c.type=Ge.LINE_TO,c.x=c.relative?0:u),o&&c.type&Ge.CLOSE_PATH&&(c.type=Ge.LINE_TO,c.x=c.relative?h-u:h,c.y=c.relative?d-f:d),c.type&Ge.ARC&&(c.rX===0||c.rY===0)&&(c.type=Ge.LINE_TO,delete c.rX,delete c.rY,delete c.xRot,delete c.lArcFlag,delete c.sweepFlag),c})},t.NORMALIZE_ST=r,t.QT_TO_C=n,t.INFO=i,t.SANITIZE=function(o){o===void 0&&(o=0),Oo(o);var A=NaN,l=NaN,c=NaN,u=NaN;return i(function(f,h,d,p,g){var v=Math.abs,y=!1,w=0,S=0;if(f.type&Ge.SMOOTH_CURVE_TO&&(w=isNaN(A)?0:h-A,S=isNaN(l)?0:d-l),f.type&(Ge.CURVE_TO|Ge.SMOOTH_CURVE_TO)?(A=f.relative?h+f.x2:f.x2,l=f.relative?d+f.y2:f.y2):(A=NaN,l=NaN),f.type&Ge.SMOOTH_QUAD_TO?(c=isNaN(c)?h:2*h-c,u=isNaN(u)?d:2*d-u):f.type&Ge.QUAD_TO?(c=f.relative?h+f.x1:f.x1,u=f.relative?d+f.y1:f.y2):(c=NaN,u=NaN),f.type&Ge.LINE_COMMANDS||f.type&Ge.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&Ge.CURVE_TO||f.type&Ge.SMOOTH_CURVE_TO||f.type&Ge.QUAD_TO||f.type&Ge.SMOOTH_QUAD_TO){var x=f.x===void 0?0:f.relative?f.x:f.x-h,E=f.y===void 0?0:f.relative?f.y:f.y-d;w=isNaN(c)?f.x1===void 0?w:f.relative?f.x:f.x1-h:c-h,S=isNaN(u)?f.y1===void 0?S:f.relative?f.y:f.y1-d:u-d;var C=f.x2===void 0?0:f.relative?f.x:f.x2-h,L=f.y2===void 0?0:f.relative?f.y:f.y2-d;v(x)<=o&&v(E)<=o&&v(w)<=o&&v(S)<=o&&v(C)<=o&&v(L)<=o&&(y=!0)}return f.type&Ge.CLOSE_PATH&&v(h-p)<=o&&v(d-g)<=o&&(y=!0),y?[]:f})},t.MATRIX=a,t.ROTATE=function(o,A,l){A===void 0&&(A=0),l===void 0&&(l=0),Oo(o,A,l);var c=Math.sin(o),u=Math.cos(o);return a(u,c,-c,u,A-A*u+l*c,l-A*c-l*u)},t.TRANSLATE=function(o,A){return A===void 0&&(A=0),Oo(o,A),a(1,0,0,1,o,A)},t.SCALE=function(o,A){return A===void 0&&(A=o),Oo(o,A),a(o,0,0,A,0,0)},t.SKEW_X=function(o){return Oo(o),a(1,0,Math.atan(o),1,0,0)},t.SKEW_Y=function(o){return Oo(o),a(1,Math.atan(o),0,1,0,0)},t.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),Oo(o),a(-1,0,0,1,o,0)},t.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),Oo(o),a(1,0,0,-1,0,o)},t.A_TO_C=function(){return i(function(o,A,l){return Ge.ARC===o.type?function(c,u,f){var h,d,p,g;c.cX||IC(c,u,f);for(var v=Math.min(c.phi1,c.phi2),y=Math.max(c.phi1,c.phi2)-v,w=Math.ceil(y/90),S=new Array(w),x=u,E=f,C=0;C<w;C++){var L=YN(c.phi1,c.phi2,C/w),O=YN(c.phi1,c.phi2,(C+1)/w),D=O-L,_=4/3*Math.tan(D*wl/4),F=[Math.cos(L*wl)-_*Math.sin(L*wl),Math.sin(L*wl)+_*Math.cos(L*wl)],R=F[0],M=F[1],z=[Math.cos(O*wl),Math.sin(O*wl)],N=z[0],Y=z[1],X=[N+_*Math.sin(O*wl),Y-_*Math.cos(O*wl)],H=X[0],W=X[1];S[C]={relative:c.relative,type:Ge.CURVE_TO};var Z=function(I,U){var $=A_([I*c.rX,U*c.rY],c.xRot),G=$[0],te=$[1];return[c.cX+G,c.cY+te]};h=Z(R,M),S[C].x1=h[0],S[C].y1=h[1],d=Z(H,W),S[C].x2=d[0],S[C].y2=d[1],p=Z(N,Y),S[C].x=p[0],S[C].y=p[1],c.relative&&(S[C].x1-=x,S[C].y1-=E,S[C].x2-=x,S[C].y2-=E,S[C].x-=x,S[C].y-=E),x=(g=[S[C].x,S[C].y])[0],E=g[1]}return S}(o,o.relative?0:A,o.relative?0:l):o})},t.ANNOTATE_ARCS=function(){return i(function(o,A,l){return o.relative&&(A=0,l=0),Ge.ARC===o.type&&IC(o,A,l),o})},t.CLONE=s,t.CALCULATE_BOUNDS=function(){var o=function(f){var h={};for(var d in f)h[d]=f[d];return h},A=e(),l=n(),c=r(),u=i(function(f,h,d){var p=c(l(A(o(f))));function g(W){W>u.maxX&&(u.maxX=W),W<u.minX&&(u.minX=W)}function v(W){W>u.maxY&&(u.maxY=W),W<u.minY&&(u.minY=W)}if(p.type&Ge.DRAWING_COMMANDS&&(g(h),v(d)),p.type&Ge.HORIZ_LINE_TO&&g(p.x),p.type&Ge.VERT_LINE_TO&&v(p.y),p.type&Ge.LINE_TO&&(g(p.x),v(p.y)),p.type&Ge.CURVE_TO){g(p.x),v(p.y);for(var y=0,w=XN(h,p.x1,p.x2,p.x);y<w.length;y++)0<(H=w[y])&&1>H&&g(JN(h,p.x1,p.x2,p.x,H));for(var S=0,x=XN(d,p.y1,p.y2,p.y);S<x.length;S++)0<(H=x[S])&&1>H&&v(JN(d,p.y1,p.y2,p.y,H))}if(p.type&Ge.ARC){g(p.x),v(p.y),IC(p,h,d);for(var E=p.xRot/180*Math.PI,C=Math.cos(E)*p.rX,L=Math.sin(E)*p.rX,O=-Math.sin(E)*p.rY,D=Math.cos(E)*p.rY,_=p.phi1<p.phi2?[p.phi1,p.phi2]:-180>p.phi2?[p.phi2+360,p.phi1+360]:[p.phi2,p.phi1],F=_[0],R=_[1],M=function(W){var Z=W[0],I=W[1],U=180*Math.atan2(I,Z)/Math.PI;return U<F?U+360:U},z=0,N=zN(O,-C,0).map(M);z<N.length;z++)(H=N[z])>F&&H<R&&g(qN(p.cX,C,O,H));for(var Y=0,X=zN(D,-L,0).map(M);Y<X.length;Y++){var H;(H=X[Y])>F&&H<R&&v(qN(p.cY,L,D,H))}}return f});return u.minX=1/0,u.maxX=-1/0,u.minY=1/0,u.maxY=-1/0,u}})(Xn||(Xn={}));var _o,HK=function(){function t(){}return t.prototype.round=function(e){return this.transform(Xn.ROUND(e))},t.prototype.toAbs=function(){return this.transform(Xn.TO_ABS())},t.prototype.toRel=function(){return this.transform(Xn.TO_REL())},t.prototype.normalizeHVZ=function(e,r,n){return this.transform(Xn.NORMALIZE_HVZ(e,r,n))},t.prototype.normalizeST=function(){return this.transform(Xn.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(Xn.QT_TO_C())},t.prototype.aToC=function(){return this.transform(Xn.A_TO_C())},t.prototype.sanitize=function(e){return this.transform(Xn.SANITIZE(e))},t.prototype.translate=function(e,r){return this.transform(Xn.TRANSLATE(e,r))},t.prototype.scale=function(e,r){return this.transform(Xn.SCALE(e,r))},t.prototype.rotate=function(e,r,n){return this.transform(Xn.ROTATE(e,r,n))},t.prototype.matrix=function(e,r,n,i,a,s){return this.transform(Xn.MATRIX(e,r,n,i,a,s))},t.prototype.skewX=function(e){return this.transform(Xn.SKEW_X(e))},t.prototype.skewY=function(e){return this.transform(Xn.SKEW_Y(e))},t.prototype.xSymmetry=function(e){return this.transform(Xn.X_AXIS_SYMMETRY(e))},t.prototype.ySymmetry=function(e){return this.transform(Xn.Y_AXIS_SYMMETRY(e))},t.prototype.annotateArcs=function(){return this.transform(Xn.ANNOTATE_ARCS())},t}(),o6e=function(t){return t===" "||t==="	"||t==="\r"||t===`
`},ZN=function(t){return 48<=t.charCodeAt(0)&&t.charCodeAt(0)<=57},A6e=function(t){function e(){var r=t.call(this)||this;return r.curNumber="",r.curCommandType=-1,r.curCommandRelative=!1,r.canParseCommandOrComma=!0,r.curNumberHasExp=!1,r.curNumberHasExpDigits=!1,r.curNumberHasDecimal=!1,r.curArgs=[],r}return QK(e,t),e.prototype.finish=function(r){if(r===void 0&&(r=[]),this.parse(" ",r),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return r},e.prototype.parse=function(r,n){var i=this;n===void 0&&(n=[]);for(var a=function(u){n.push(u),i.curArgs.length=0,i.canParseCommandOrComma=!0},s=0;s<r.length;s++){var o=r[s],A=!(this.curCommandType!==Ge.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),l=ZN(o)&&(this.curNumber==="0"&&o==="0"||A);if(!ZN(o)||l)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||A){if(this.curNumber&&this.curCommandType!==-1){var c=Number(this.curNumber);if(isNaN(c))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===Ge.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>c)throw new SyntaxError('Expected positive number, got "'+c+'" at index "'+s+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"')}this.curArgs.push(c),this.curArgs.length===l6e[this.curCommandType]&&(Ge.HORIZ_LINE_TO===this.curCommandType?a({type:Ge.HORIZ_LINE_TO,relative:this.curCommandRelative,x:c}):Ge.VERT_LINE_TO===this.curCommandType?a({type:Ge.VERT_LINE_TO,relative:this.curCommandRelative,y:c}):this.curCommandType===Ge.MOVE_TO||this.curCommandType===Ge.LINE_TO||this.curCommandType===Ge.SMOOTH_QUAD_TO?(a({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),Ge.MOVE_TO===this.curCommandType&&(this.curCommandType=Ge.LINE_TO)):this.curCommandType===Ge.CURVE_TO?a({type:Ge.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===Ge.SMOOTH_CURVE_TO?a({type:Ge.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Ge.QUAD_TO?a({type:Ge.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Ge.ARC&&a({type:Ge.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!o6e(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(l)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=Ge.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=Ge.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=Ge.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=Ge.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=Ge.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=Ge.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=Ge.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=Ge.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+s+".");this.curCommandType=Ge.ARC,this.curCommandRelative=o==="a"}else n.push({type:Ge.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e.prototype.transform=function(r){return Object.create(this,{parse:{value:function(n,i){i===void 0&&(i=[]);for(var a=0,s=Object.getPrototypeOf(this).parse.call(this,n);a<s.length;a++){var o=s[a],A=r(o);Array.isArray(A)?i.push.apply(i,A):i.push(A)}return i}}})},e}(HK),Ge=function(t){function e(r){var n=t.call(this)||this;return n.commands=typeof r=="string"?e.parse(r):r,n}return QK(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var r=Xn.CALCULATE_BOUNDS();return this.transform(r),r},e.prototype.transform=function(r){for(var n=[],i=0,a=this.commands;i<a.length;i++){var s=r(a[i]);Array.isArray(s)?n.push.apply(n,s):n.push(s)}return this.commands=n,this},e.encode=function(r){return s6e(r)},e.parse=function(r){var n=new A6e,i=[];return n.parse(r,i),n.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(HK),l6e=((_o={})[Ge.MOVE_TO]=2,_o[Ge.LINE_TO]=2,_o[Ge.HORIZ_LINE_TO]=1,_o[Ge.VERT_LINE_TO]=1,_o[Ge.CLOSE_PATH]=0,_o[Ge.QUAD_TO]=4,_o[Ge.SMOOTH_QUAD_TO]=2,_o[Ge.CURVE_TO]=6,_o[Ge.SMOOTH_CURVE_TO]=4,_o[Ge.ARC]=7,_o),c6e=Yi,u6e=eA,f6e=fx,h6e=mK,e6=RegExp.prototype,d6e=function(t){var e=t.flags;return e===void 0&&!("flags"in e6)&&!u6e(t,"flags")&&f6e(e6,t)?c6e(h6e,t):e},p6e=gx.PROPER,g6e=Vf,m6e=Ma,t6=YA,v6e=$n,y6e=d6e,xL="toString",$K=RegExp.prototype,jK=$K[xL],b6e=v6e(function(){return jK.call({source:"a",flags:"b"})!=="/a/b"}),w6e=p6e&&jK.name!==xL;(b6e||w6e)&&g6e($K,xL,function(){var e=m6e(this),r=t6(e.source),n=t6(y6e(e));return"/"+r+"/"+n},{unsafe:!0});function e2(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e2=function(e){return typeof e}:e2=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e2(t)}function x6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E6e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],B6e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function C6e(t,e,r,n,i){if(typeof t=="string"&&(t=document.getElementById(t)),!t||e2(t)!=="object"||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var a=t.getContext("2d");try{return a.getImageData(e,r,n,i)}catch(s){throw new Error("unable to access image data: "+s)}}function S6e(t,e,r,n,i,a){if(!(isNaN(a)||a<1)){a|=0;var s=C6e(t,e,r,n,i);s=T6e(s,e,r,n,i,a),t.getContext("2d").putImageData(s,e,r)}}function T6e(t,e,r,n,i,a){for(var s=t.data,o=2*a+1,A=n-1,l=i-1,c=a+1,u=c*(c+1)/2,f=new r6,h=f,d,p=1;p<o;p++)h=h.next=new r6,p===c&&(d=h);h.next=f;for(var g=null,v=null,y=0,w=0,S=E6e[a],x=B6e[a],E=0;E<i;E++){h=f;for(var C=s[w],L=s[w+1],O=s[w+2],D=s[w+3],_=0;_<c;_++)h.r=C,h.g=L,h.b=O,h.a=D,h=h.next;for(var F=0,R=0,M=0,z=0,N=c*C,Y=c*L,X=c*O,H=c*D,W=u*C,Z=u*L,I=u*O,U=u*D,$=1;$<c;$++){var G=w+((A<$?A:$)<<2),te=s[G],ie=s[G+1],oe=s[G+2],ne=s[G+3],ye=c-$;W+=(h.r=te)*ye,Z+=(h.g=ie)*ye,I+=(h.b=oe)*ye,U+=(h.a=ne)*ye,F+=te,R+=ie,M+=oe,z+=ne,h=h.next}g=f,v=d;for(var me=0;me<n;me++){var se=U*S>>>x;if(s[w+3]=se,se!==0){var Ie=255/se;s[w]=(W*S>>>x)*Ie,s[w+1]=(Z*S>>>x)*Ie,s[w+2]=(I*S>>>x)*Ie}else s[w]=s[w+1]=s[w+2]=0;W-=N,Z-=Y,I-=X,U-=H,N-=g.r,Y-=g.g,X-=g.b,H-=g.a;var Re=me+a+1;Re=y+(Re<A?Re:A)<<2,F+=g.r=s[Re],R+=g.g=s[Re+1],M+=g.b=s[Re+2],z+=g.a=s[Re+3],W+=F,Z+=R,I+=M,U+=z,g=g.next;var le=v,ee=le.r,He=le.g,Ee=le.b,Be=le.a;N+=ee,Y+=He,X+=Ee,H+=Be,F-=ee,R-=He,M-=Ee,z-=Be,v=v.next,w+=4}y+=n}for(var Te=0;Te<n;Te++){w=Te<<2;var pe=s[w],Ue=s[w+1],Fe=s[w+2],De=s[w+3],Qe=c*pe,Xe=c*Ue,lt=c*Fe,et=c*De,Ye=u*pe,ot=u*Ue,ze=u*Fe,Xt=u*De;h=f;for(var Ft=0;Ft<c;Ft++)h.r=pe,h.g=Ue,h.b=Fe,h.a=De,h=h.next;for(var Bt=n,dt=0,Ht=0,Fr=0,Gt=0,Jt=1;Jt<=a;Jt++){w=Bt+Te<<2;var _t=c-Jt;Ye+=(h.r=pe=s[w])*_t,ot+=(h.g=Ue=s[w+1])*_t,ze+=(h.b=Fe=s[w+2])*_t,Xt+=(h.a=De=s[w+3])*_t,Gt+=pe,dt+=Ue,Ht+=Fe,Fr+=De,h=h.next,Jt<l&&(Bt+=n)}w=Te,g=f,v=d;for(var Kn=0;Kn<i;Kn++){var ir=w<<2;s[ir+3]=De=Xt*S>>>x,De>0?(De=255/De,s[ir]=(Ye*S>>>x)*De,s[ir+1]=(ot*S>>>x)*De,s[ir+2]=(ze*S>>>x)*De):s[ir]=s[ir+1]=s[ir+2]=0,Ye-=Qe,ot-=Xe,ze-=lt,Xt-=et,Qe-=g.r,Xe-=g.g,lt-=g.b,et-=g.a,ir=Te+((ir=Kn+c)<l?ir:l)*n<<2,Ye+=Gt+=g.r=s[ir],ot+=dt+=g.g=s[ir+1],ze+=Ht+=g.b=s[ir+2],Xt+=Fr+=g.a=s[ir+3],g=g.next,Qe+=pe=v.r,Xe+=Ue=v.g,lt+=Fe=v.b,et+=De=v.a,Gt-=pe,dt-=Ue,Ht-=Fe,Fr-=De,v=v.next,w+=n}}return t}var r6=function t(){x6e(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function _6e(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas(r,n){return new OffscreenCanvas(r,n)},createImage(r){return Yl(function*(){var n=yield fetch(r),i=yield n.blob(),a=yield createImageBitmap(i);return a})()}};return(typeof DOMParser!="undefined"||typeof t=="undefined")&&Reflect.deleteProperty(e,"DOMParser"),e}function L6e(t){var{DOMParser:e,canvas:r,fetch:n}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:r.createCanvas,createImage:r.loadImage}}var I6e=Object.freeze({__proto__:null,offscreen:_6e,node:L6e});function Wf(t){return t.replace(/(?!\u3000)\s+/gm," ")}function GK(t){return t.replace(/^[\n \t]+/,"")}function KK(t){return t.replace(/[\n \t]+$/,"")}function ts(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var O6e=/^[A-Z-]+$/;function VK(t){return O6e.test(t)?t.toLowerCase():t}function EL(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function WK(t){if(!t.startsWith("rgb"))return t;var e=3,r=t.replace(/\d+(\.\d+)?/g,(n,i)=>e--&&i?String(Math.round(parseFloat(n))):n);return r}var F6e=/(\[[^\]]+\])/g,P6e=/(#[^\s+>~.[:]+)/g,U6e=/(\.[^\s+>~.[:]+)/g,R6e=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,D6e=/(:[\w-]+\([^)]*\))/gi,M6e=/(:[^\s+>~.[:]+)/g,N6e=/([^\s+>~.[:]+)/g;function ku(t,e){var r=e.exec(t);return r?[t.replace(e," "),r.length]:[t,0]}function zK(t){var e=[0,0,0],r=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[r,n]=ku(r,F6e),e[1]+=n,[r,n]=ku(r,P6e),e[0]+=n,[r,n]=ku(r,U6e),e[1]+=n,[r,n]=ku(r,R6e),e[2]+=n,[r,n]=ku(r,D6e),e[1]+=n,[r,n]=ku(r,M6e),e[1]+=n,r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[r,n]=ku(r,N6e),e[2]+=n,e.join("")}var yf=1e-8;function l_(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Nb(t,e){return(t[0]*e[0]+t[1]*e[1])/(l_(t)*l_(e))}function c_(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Nb(t,e))}function u_(t){return t*t*t}function f_(t){return 3*t*t*(1-t)}function h_(t){return 3*t*(1-t)*(1-t)}function d_(t){return(1-t)*(1-t)*(1-t)}function p_(t){return t*t}function g_(t){return 2*t*(1-t)}function m_(t){return(1-t)*(1-t)}class bt{constructor(e,r,n){this.document=e,this.name=r,this.value=n,this.isNormalizedColor=!1}static empty(e){return new bt(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:r,name:n}=this;return Wf(this.getString()).trim().split(e).map(i=>new bt(r,n,i))}hasValue(e){var{value:r}=this;return r!==null&&r!==""&&(e||r!==0)&&typeof r!="undefined"}isString(e){var{value:r}=this,n=typeof r=="string";return!n||!e?n:e.test(r)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e=="undefined"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e=="undefined"?0:parseFloat(e);var{value:r}=this,n=parseFloat(r);return this.isString(/%$/)&&(n/=100),n}getString(e){return typeof e=="undefined"||this.hasValue()?typeof this.value=="undefined"?"":String(this.value):String(e)}getColor(e){var r=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,r=WK(r),this.value=r),r}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[n,i]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:a}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(a.computeSize("x"),a.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(a.computeSize("x"),a.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*a.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*a.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*a.computeSize(n);default:{var s=this.getNumber();return r&&s<1?s*a.computeSize(n):s}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),r=/#([^)'"]+)/.exec(e);return r&&(r=r[1]),r||(r=e),this.document.definitions[r]}getFillStyleDefinition(e,r){var n=this.getDefinition();if(!n)return null;if(typeof n.createGradient=="function")return n.createGradient(this.document.ctx,e,r);if(typeof n.createPattern=="function"){if(n.getHrefAttribute().hasValue()){var i=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&n.getAttribute("patternTransform",!0).setValue(i.value)}return n.createPattern(this.document.ctx,e,r)}return null}getTextBaseline(){return this.hasValue()?bt.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var r=this.getColor(),n=r.length,i=0,a=0;a<n&&(r[a]===","&&i++,i!==3);a++);if(e.hasValue()&&this.isString()&&i!==3){var s=new s_(r);s.ok&&(s.alpha=e.getNumber(),r=s.toRGBA())}return new bt(this.document,this.name,r)}}bt.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class YK{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,r){this.viewPorts.push({width:e,height:r})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Sn{constructor(e,r){this.x=e,this.y=r}static parse(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[n=r,i=r]=ts(e);return new Sn(n,i)}static parseScale(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[n=r,i=n]=ts(e);return new Sn(n,i)}static parsePath(e){for(var r=ts(e),n=r.length,i=[],a=0;a<n;a+=2)i.push(new Sn(r[a],r[a+1]));return i}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:r,y:n}=this,i=r*e[0]+n*e[2]+e[4],a=r*e[1]+n*e[3]+e[5];this.x=i,this.y=a}}class qK{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:r,onMouseMove:n}=this,i=e.ctx.canvas;i.onclick=r,i.onmousemove=n,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:r,eventElements:n}=this,{style:i}=e.ctx.canvas;i&&(i.cursor=""),r.forEach((a,s)=>{for(var{run:o}=a,A=n[s];A;)o(A),A=A.parent}),this.events=[],this.eventElements=[]}}checkPath(e,r){if(!(!this.working||!r)){var{events:n,eventElements:i}=this;n.forEach((a,s)=>{var{x:o,y:A}=a;!i[s]&&r.isPointInPath&&r.isPointInPath(o,A)&&(i[s]=e)})}}checkBoundingBox(e,r){if(!(!this.working||!r)){var{events:n,eventElements:i}=this;n.forEach((a,s)=>{var{x:o,y:A}=a;!i[s]&&r.isPointInBox(o,A)&&(i[s]=e)})}}mapXY(e,r){for(var{window:n,ctx:i}=this.screen,a=new Sn(e,r),s=i.canvas;s;)a.x-=s.offsetLeft,a.y-=s.offsetTop,s=s.offsetParent;return n.scrollX&&(a.x+=n.scrollX),n.scrollY&&(a.y+=n.scrollY),a}onClick(e){var{x:r,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:r,y:n,run(i){i.onClick&&i.onClick()}})}onMouseMove(e){var{x:r,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:r,y:n,run(i){i.onMouseMove&&i.onMouseMove()}})}}var XK=typeof window!="undefined"?window:null,JK=typeof fetch!="undefined"?fetch.bind(void 0):null;class uv{constructor(e){var{fetch:r=JK,window:n=XK}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new YK,this.mouse=new qK(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=r}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(r=>r());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:r,ctx:n,aspectRatio:i,width:a,desiredWidth:s,height:o,desiredHeight:A,minX:l=0,minY:c=0,refX:u,refY:f,clip:h=!1,clipX:d=0,clipY:p=0}=e,g=Wf(i).replace(/^defer\s/,""),[v,y]=g.split(" "),w=v||"xMidYMid",S=y||"meet",x=a/s,E=o/A,C=Math.min(x,E),L=Math.max(x,E),O=s,D=A;S==="meet"&&(O*=C,D*=C),S==="slice"&&(O*=L,D*=L);var _=new bt(r,"refX",u),F=new bt(r,"refY",f),R=_.hasValue()&&F.hasValue();if(R&&n.translate(-C*_.getPixels("x"),-C*F.getPixels("y")),h){var M=C*d,z=C*p;n.beginPath(),n.moveTo(M,z),n.lineTo(a,z),n.lineTo(a,o),n.lineTo(M,o),n.closePath(),n.clip()}if(!R){var N=S==="meet"&&C===E,Y=S==="slice"&&L===E,X=S==="meet"&&C===x,H=S==="slice"&&L===x;w.startsWith("xMid")&&(N||Y)&&n.translate(a/2-O/2,0),w.endsWith("YMid")&&(X||H)&&n.translate(0,o/2-D/2),w.startsWith("xMax")&&(N||Y)&&n.translate(a-O,0),w.endsWith("YMax")&&(X||H)&&n.translate(0,o-D)}switch(!0){case w==="none":n.scale(x,E);break;case S==="meet":n.scale(C,C);break;case S==="slice":n.scale(L,L);break}n.translate(-l,-c)}start(e){var{enableRedraw:r=!1,ignoreMouse:n=!1,ignoreAnimation:i=!1,ignoreDimensions:a=!1,ignoreClear:s=!1,forceRedraw:o,scaleWidth:A,scaleHeight:l,offsetX:c,offsetY:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:f,mouse:h}=this,d=1e3/f;if(this.frameDuration=d,this.readyPromise=new Promise(w=>{this.resolveReady=w}),this.isReady()&&this.render(e,a,s,A,l,c,u),!!r){var p=Date.now(),g=p,v=0,y=()=>{p=Date.now(),v=p-g,v>=d&&(g=p-v%d,this.shouldUpdate(i,o)&&(this.render(e,a,s,A,l,c,u),h.runEvents())),this.intervalId=LC(y)};n||h.start(),this.intervalId=LC(y)}}stop(){this.intervalId&&(LC.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,r){if(!e){var{frameDuration:n}=this,i=this.animations.reduce((a,s)=>s.update(n)||a,!1);if(i)return!0}return!!(typeof r=="function"&&r()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,r,n,i,a,s,o){var{CLIENT_WIDTH:A,CLIENT_HEIGHT:l,viewPort:c,ctx:u,isFirstRender:f}=this,h=u.canvas;c.clear(),h.width&&h.height?c.setCurrent(h.width,h.height):c.setCurrent(A,l);var d=e.getStyle("width"),p=e.getStyle("height");!r&&(f||typeof i!="number"&&typeof a!="number")&&(d.hasValue()&&(h.width=d.getPixels("x"),h.style&&(h.style.width="".concat(h.width,"px"))),p.hasValue()&&(h.height=p.getPixels("y"),h.style&&(h.style.height="".concat(h.height,"px"))));var g=h.clientWidth||h.width,v=h.clientHeight||h.height;if(r&&d.hasValue()&&p.hasValue()&&(g=d.getPixels("x"),v=p.getPixels("y")),c.setCurrent(g,v),typeof s=="number"&&e.getAttribute("x",!0).setValue(s),typeof o=="number"&&e.getAttribute("y",!0).setValue(o),typeof i=="number"||typeof a=="number"){var y=ts(e.getAttribute("viewBox").getString()),w=0,S=0;if(typeof i=="number"){var x=e.getStyle("width");x.hasValue()?w=x.getPixels("x")/i:isNaN(y[2])||(w=y[2]/i)}if(typeof a=="number"){var E=e.getStyle("height");E.hasValue()?S=E.getPixels("y")/a:isNaN(y[3])||(S=y[3]/a)}w||(w=S),S||(S=w),e.getAttribute("width",!0).setValue(i),e.getAttribute("height",!0).setValue(a);var C=e.getStyle("transform",!0,!0);C.setValue("".concat(C.getString()," scale(").concat(1/w,", ").concat(1/S,")"))}n||u.clearRect(0,0,g,v),e.render(u),f&&(this.isFirstRender=!1)}}uv.defaultWindow=XK;uv.defaultFetch=JK;var{defaultFetch:k6e}=uv,Q6e=typeof DOMParser!="undefined"?DOMParser:null;class t2{constructor(){var{fetch:e=k6e,DOMParser:r=Q6e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=r}parse(e){var r=this;return Yl(function*(){return e.startsWith("<")?r.parseFromString(e):r.load(e)})()}parseFromString(e){var r=new this.DOMParser;try{return this.checkDocument(r.parseFromString(e,"image/svg+xml"))}catch(n){return this.checkDocument(r.parseFromString(e,"text/xml"))}}checkDocument(e){var r=e.getElementsByTagName("parsererror")[0];if(r)throw new Error(r.textContent);return e}load(e){var r=this;return Yl(function*(){var n=yield r.fetch(e),i=yield n.text();return r.parseFromString(i)})()}}class ZK{constructor(e,r){this.type="translate",this.point=null,this.point=Sn.parse(r)}apply(e){var{x:r,y:n}=this.point;e.translate(r||0,n||0)}unapply(e){var{x:r,y:n}=this.point;e.translate(-1*r||0,-1*n||0)}applyToPoint(e){var{x:r,y:n}=this.point;e.applyTransform([1,0,0,1,r||0,n||0])}}class eV{constructor(e,r,n){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=ts(r);this.angle=new bt(e,"angle",i[0]),this.originX=n[0],this.originY=n[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(e){var{cx:r,cy:n,originX:i,originY:a,angle:s}=this,o=r+i.getPixels("x"),A=n+a.getPixels("y");e.translate(o,A),e.rotate(s.getRadians()),e.translate(-o,-A)}unapply(e){var{cx:r,cy:n,originX:i,originY:a,angle:s}=this,o=r+i.getPixels("x"),A=n+a.getPixels("y");e.translate(o,A),e.rotate(-1*s.getRadians()),e.translate(-o,-A)}applyToPoint(e){var{cx:r,cy:n,angle:i}=this,a=i.getRadians();e.applyTransform([1,0,0,1,r||0,n||0]),e.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]),e.applyTransform([1,0,0,1,-r||0,-n||0])}}class tV{constructor(e,r,n){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=Sn.parseScale(r);(i.x===0||i.y===0)&&(i.x=yf,i.y=yf),this.scale=i,this.originX=n[0],this.originY=n[1]}apply(e){var{scale:{x:r,y:n},originX:i,originY:a}=this,s=i.getPixels("x"),o=a.getPixels("y");e.translate(s,o),e.scale(r,n||r),e.translate(-s,-o)}unapply(e){var{scale:{x:r,y:n},originX:i,originY:a}=this,s=i.getPixels("x"),o=a.getPixels("y");e.translate(s,o),e.scale(1/r,1/n||r),e.translate(-s,-o)}applyToPoint(e){var{x:r,y:n}=this.scale;e.applyTransform([r||0,0,0,n||0,0,0])}}class BL{constructor(e,r,n){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=ts(r),this.originX=n[0],this.originY=n[1]}apply(e){var{originX:r,originY:n,matrix:i}=this,a=r.getPixels("x"),s=n.getPixels("y");e.translate(a,s),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.translate(-a,-s)}unapply(e){var{originX:r,originY:n,matrix:i}=this,a=i[0],s=i[2],o=i[4],A=i[1],l=i[3],c=i[5],u=0,f=0,h=1,d=1/(a*(l*h-c*f)-s*(A*h-c*u)+o*(A*f-l*u)),p=r.getPixels("x"),g=n.getPixels("y");e.translate(p,g),e.transform(d*(l*h-c*f),d*(c*u-A*h),d*(o*f-s*h),d*(a*h-o*u),d*(s*c-o*l),d*(o*A-a*c)),e.translate(-p,-g)}applyToPoint(e){e.applyTransform(this.matrix)}}class CL extends BL{constructor(e,r,n){super(e,r,n),this.type="skew",this.angle=null,this.angle=new bt(e,"angle",r)}}class rV extends CL{constructor(e,r,n){super(e,r,n),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class nV extends CL{constructor(e,r,n){super(e,r,n),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function H6e(t){return Wf(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function $6e(t){var[e,r]=t.split("(");return[e.trim(),r.trim().replace(")","")]}class iu{constructor(e,r,n){this.document=e,this.transforms=[];var i=H6e(r);i.forEach(a=>{if(a!=="none"){var[s,o]=$6e(a),A=iu.transformTypes[s];typeof A!="undefined"&&this.transforms.push(new A(this.document,o,n))}})}static fromElement(e,r){var n=r.getStyle("transform",!1,!0),[i,a=i]=r.getStyle("transform-origin",!1,!0).split(),s=[i,a];return n.hasValue()?new iu(e,n.getString(),s):null}apply(e){for(var{transforms:r}=this,n=r.length,i=0;i<n;i++)r[i].apply(e)}unapply(e){for(var{transforms:r}=this,n=r.length,i=n-1;i>=0;i--)r[i].unapply(e)}applyToPoint(e){for(var{transforms:r}=this,n=r.length,i=0;i<n;i++)r[i].applyToPoint(e)}}iu.transformTypes={translate:ZK,rotate:eV,scale:tV,matrix:BL,skewX:rV,skewY:nV};let bn=class v_{constructor(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=r,this.captureTextNodes=n,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!r||r.nodeType!==1)){if(Array.from(r.attributes).forEach(o=>{var A=VK(o.nodeName);this.attributes[A]=new bt(e,A,o.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(o=>o.trim());i.forEach(o=>{if(o){var[A,l]=o.split(":").map(c=>c.trim());this.styles[A]=new bt(e,A,l)}})}var{definitions:a}=e,s=this.getAttribute("id");s.hasValue()&&(a[s.getString()]||(a[s.getString()]=this)),Array.from(r.childNodes).forEach(o=>{if(o.nodeType===1)this.addChild(o);else if(n&&(o.nodeType===3||o.nodeType===4)){var A=e.createTextNode(o);A.getText().length>0&&this.addChild(A)}})}}getAttribute(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.attributes[e];if(!n&&r){var i=new bt(this.document,e,"");return this.attributes[e]=i,i}return n||bt.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return bt.empty(this.document)}getStyle(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.styles[e];if(i)return i;var a=this.getAttribute(e);if(a!=null&&a.hasValue())return this.styles[e]=a,a;if(!n){var{parent:s}=this;if(s){var o=s.getStyle(e);if(o!=null&&o.hasValue())return o}}if(r){var A=new bt(this.document,e,"");return this.styles[e]=A,A}return i||bt.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var r=this.getStyle("mask").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var r=iu.fromElement(this.document,this);r&&r.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var i=n.getDefinition();i&&i.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(r=>{r.render(e)})}addChild(e){var r=e instanceof v_?e:this.document.createElement(e);r.parent=this,v_.ignoreChildTypes.includes(r.type)||this.children.push(r)}matchesSelector(e){var r,{node:n}=this;if(typeof n.matches=="function")return n.matches(e);var i=(r=n.getAttribute)===null||r===void 0?void 0:r.call(n,"class");return!i||i===""?!1:i.split(" ").some(a=>".".concat(a)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:r}=this.document;for(var n in e)if(!n.startsWith("@")&&this.matchesSelector(n)){var i=e[n],a=r[n];if(i)for(var s in i){var o=this.stylesSpecificity[s];typeof o=="undefined"&&(o="000"),a>=o&&(this.styles[s]=i[s],this.stylesSpecificity[s]=a)}}}removeStyles(e,r){var n=r.reduce((i,a)=>{var s=e.getStyle(a);if(!s.hasValue())return i;var o=s.getString();return s.setValue(""),[...i,[a,o]]},[]);return n}restoreStyles(e,r){r.forEach(n=>{var[i,a]=n;e.getStyle(i,!0).setValue(a)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};bn.ignoreChildTypes=["title"];class iV extends bn{constructor(e,r,n){super(e,r,n)}}function j6e(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function G6e(t){return typeof process=="undefined"?t:t.trim().split(",").map(j6e).join(",")}function K6e(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function V6e(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class ga{constructor(e,r,n,i,a,s){var o=s?typeof s=="string"?ga.parse(s):s:{};this.fontFamily=a||o.fontFamily,this.fontSize=i||o.fontSize,this.fontStyle=e||o.fontStyle,this.fontWeight=n||o.fontWeight,this.fontVariant=r||o.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n="",i="",a="",s="",o="",A=Wf(e).trim().split(" "),l={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return A.forEach(c=>{switch(!0){case(!l.fontStyle&&ga.styles.includes(c)):c!=="inherit"&&(n=c),l.fontStyle=!0;break;case(!l.fontVariant&&ga.variants.includes(c)):c!=="inherit"&&(i=c),l.fontStyle=!0,l.fontVariant=!0;break;case(!l.fontWeight&&ga.weights.includes(c)):c!=="inherit"&&(a=c),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0;break;case!l.fontSize:c!=="inherit"&&([s]=c.split("/")),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0,l.fontSize=!0;break;default:c!=="inherit"&&(o+=c)}}),new ga(n,i,a,s,o,r)}toString(){return[K6e(this.fontStyle),this.fontVariant,V6e(this.fontWeight),this.fontSize,G6e(this.fontFamily)].join(" ").trim()}}ga.styles="normal|italic|oblique|inherit";ga.variants="normal|small-caps|inherit";ga.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class ho{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=r,this.x2=n,this.y2=i,this.addPoint(e,r),this.addPoint(n,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,r){typeof e!="undefined"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof r!="undefined"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=r,this.y2=r),r<this.y1&&(this.y1=r),r>this.y2&&(this.y2=r))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:r,y1:n,x2:i,y2:a}=e;this.addPoint(r,n),this.addPoint(i,a)}}sumCubic(e,r,n,i,a){return Math.pow(1-e,3)*r+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*i+Math.pow(e,3)*a}bezierCurveAdd(e,r,n,i,a){var s=6*r-12*n+6*i,o=-3*r+9*n-9*i+3*a,A=3*n-3*r;if(o===0){if(s===0)return;var l=-A/s;0<l&&l<1&&(e?this.addX(this.sumCubic(l,r,n,i,a)):this.addY(this.sumCubic(l,r,n,i,a)));return}var c=Math.pow(s,2)-4*A*o;if(!(c<0)){var u=(-s+Math.sqrt(c))/(2*o);0<u&&u<1&&(e?this.addX(this.sumCubic(u,r,n,i,a)):this.addY(this.sumCubic(u,r,n,i,a)));var f=(-s-Math.sqrt(c))/(2*o);0<f&&f<1&&(e?this.addX(this.sumCubic(f,r,n,i,a)):this.addY(this.sumCubic(f,r,n,i,a)))}}addBezierCurve(e,r,n,i,a,s,o,A){this.addPoint(e,r),this.addPoint(o,A),this.bezierCurveAdd(!0,e,n,a,o),this.bezierCurveAdd(!1,r,i,s,A)}addQuadraticCurve(e,r,n,i,a,s){var o=e+.6666666666666666*(n-e),A=r+2/3*(i-r),l=o+1/3*(a-e),c=A+1/3*(s-r);this.addBezierCurve(e,r,o,l,A,c,a,s)}isPointInBox(e,r){var{x1:n,y1:i,x2:a,y2:s}=this;return n<=e&&e<=a&&i<=r&&r<=s}}class kt extends Ge{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Sn(0,0),this.control=new Sn(0,0),this.current=new Sn(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:r}=this;return e>=r.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",n=new Sn(this.command[e],this.command[r]);return this.makeAbsolute(n)}getAsControlPoint(e,r){var n=this.getPoint(e,r);return this.control=n,n}getAsCurrentPoint(e,r){var n=this.getPoint(e,r);return this.current=n,n}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==Ge.CURVE_TO&&e!==Ge.SMOOTH_CURVE_TO&&e!==Ge.QUAD_TO&&e!==Ge.SMOOTH_QUAD_TO)return this.current;var{current:{x:r,y:n},control:{x:i,y:a}}=this,s=new Sn(2*r-i,2*n-a);return s}makeAbsolute(e){if(this.command.relative){var{x:r,y:n}=this.current;e.x+=r,e.y+=n}return e}addMarker(e,r,n){var{points:i,angles:a}=this;n&&a.length>0&&!a[a.length-1]&&(a[a.length-1]=i[i.length-1].angleTo(n)),this.addMarkerAngle(e,r?r.angleTo(e):null)}addMarkerAngle(e,r){this.points.push(e),this.angles.push(r)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,r=e.length,n=0;n<r;n++)if(!e[n]){for(var i=n+1;i<r;i++)if(e[i]){e[n]=e[i];break}}return e}}class mu extends bn{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,r=this;r;){var n=r.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),r=r.parent}return e}setContext(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r){var n=this.getStyle("fill"),i=this.getStyle("fill-opacity"),a=this.getStyle("stroke"),s=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var o=n.getFillStyleDefinition(this,i);o&&(e.fillStyle=o)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var A=n.getColor();A!=="inherit"&&(e.fillStyle=A==="none"?"rgba(0,0,0,0)":A)}if(i.hasValue()){var l=new bt(this.document,"fill",e.fillStyle).addOpacity(i).getColor();e.fillStyle=l}if(a.isUrlDefinition()){var c=a.getFillStyleDefinition(this,s);c&&(e.strokeStyle=c)}else if(a.hasValue()){a.getString()==="currentColor"&&a.setValue(this.getStyle("color").getColor());var u=a.getString();u!=="inherit"&&(e.strokeStyle=u==="none"?"rgba(0,0,0,0)":u)}if(s.hasValue()){var f=new bt(this.document,"stroke",e.strokeStyle).addOpacity(s).getString();e.strokeStyle=f}var h=this.getStyle("stroke-width");if(h.hasValue()){var d=h.getPixels();e.lineWidth=d||yf}var p=this.getStyle("stroke-linecap"),g=this.getStyle("stroke-linejoin"),v=this.getStyle("stroke-miterlimit"),y=this.getStyle("stroke-dasharray"),w=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(e.lineCap=p.getString()),g.hasValue()&&(e.lineJoin=g.getString()),v.hasValue()&&(e.miterLimit=v.getNumber()),y.hasValue()&&y.getString()!=="none"){var S=ts(y.getString());typeof e.setLineDash!="undefined"?e.setLineDash(S):typeof e.webkitLineDash!="undefined"?e.webkitLineDash=S:typeof e.mozDash!="undefined"&&!(S.length===1&&S[0]===0)&&(e.mozDash=S);var x=w.getPixels();typeof e.lineDashOffset!="undefined"?e.lineDashOffset=x:typeof e.webkitLineDashOffset!="undefined"?e.webkitLineDashOffset=x:typeof e.mozDashOffset!="undefined"&&(e.mozDashOffset=x)}}if(this.modifiedEmSizeStack=!1,typeof e.font!="undefined"){var E=this.getStyle("font"),C=this.getStyle("font-style"),L=this.getStyle("font-variant"),O=this.getStyle("font-weight"),D=this.getStyle("font-size"),_=this.getStyle("font-family"),F=new ga(C.getString(),L.getString(),O.getString(),D.hasValue()?"".concat(D.getPixels(!0),"px"):"",_.getString(),ga.parse(E.getString(),e.font));C.setValue(F.fontStyle),L.setValue(F.fontVariant),O.setValue(F.fontWeight),D.setValue(F.fontSize),_.setValue(F.fontFamily),e.font=F.toString(),D.isPixels()&&(this.document.emSize=D.getPixels(),this.modifiedEmSizeStack=!0)}r||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class br extends mu{constructor(e,r,n){super(e,r,n),this.type="path",this.pathParser=null,this.pathParser=new kt(this.getAttribute("d").getString())}path(e){var{pathParser:r}=this,n=new ho;for(r.reset(),e&&e.beginPath();!r.isEnd();)switch(r.next().type){case kt.MOVE_TO:this.pathM(e,n);break;case kt.LINE_TO:this.pathL(e,n);break;case kt.HORIZ_LINE_TO:this.pathH(e,n);break;case kt.VERT_LINE_TO:this.pathV(e,n);break;case kt.CURVE_TO:this.pathC(e,n);break;case kt.SMOOTH_CURVE_TO:this.pathS(e,n);break;case kt.QUAD_TO:this.pathQ(e,n);break;case kt.SMOOTH_QUAD_TO:this.pathT(e,n);break;case kt.ARC:this.pathA(e,n);break;case kt.CLOSE_PATH:this.pathZ(e,n);break}return n}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,r=e.getMarkerPoints(),n=e.getMarkerAngles(),i=r.map((a,s)=>[a,n[s]]);return i}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var r=this.getStyle("fill-rule");e.fillStyle!==""&&(r.getString("inherit")!=="inherit"?e.fill(r.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var i=n.length-1,a=this.getStyle("marker-start"),s=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(a.isUrlDefinition()){var A=a.getDefinition(),[l,c]=n[0];A.render(e,l,c)}if(s.isUrlDefinition())for(var u=s.getDefinition(),f=1;f<i;f++){var[h,d]=n[f];u.render(e,h,d)}if(o.isUrlDefinition()){var p=o.getDefinition(),[g,v]=n[i];p.render(e,g,v)}}}static pathM(e){var r=e.getAsCurrentPoint();return e.start=e.current,{point:r}}pathM(e,r){var{pathParser:n}=this,{point:i}=br.pathM(n),{x:a,y:s}=i;n.addMarker(i),r.addPoint(a,s),e&&e.moveTo(a,s)}static pathL(e){var{current:r}=e,n=e.getAsCurrentPoint();return{current:r,point:n}}pathL(e,r){var{pathParser:n}=this,{current:i,point:a}=br.pathL(n),{x:s,y:o}=a;n.addMarker(a,i),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathH(e){var{current:r,command:n}=e,i=new Sn((n.relative?r.x:0)+n.x,r.y);return e.current=i,{current:r,point:i}}pathH(e,r){var{pathParser:n}=this,{current:i,point:a}=br.pathH(n),{x:s,y:o}=a;n.addMarker(a,i),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathV(e){var{current:r,command:n}=e,i=new Sn(r.x,(n.relative?r.y:0)+n.y);return e.current=i,{current:r,point:i}}pathV(e,r){var{pathParser:n}=this,{current:i,point:a}=br.pathV(n),{x:s,y:o}=a;n.addMarker(a,i),r.addPoint(s,o),e&&e.lineTo(s,o)}static pathC(e){var{current:r}=e,n=e.getPoint("x1","y1"),i=e.getAsControlPoint("x2","y2"),a=e.getAsCurrentPoint();return{current:r,point:n,controlPoint:i,currentPoint:a}}pathC(e,r){var{pathParser:n}=this,{current:i,point:a,controlPoint:s,currentPoint:o}=br.pathC(n);n.addMarker(o,s,a),r.addBezierCurve(i.x,i.y,a.x,a.y,s.x,s.y,o.x,o.y),e&&e.bezierCurveTo(a.x,a.y,s.x,s.y,o.x,o.y)}static pathS(e){var{current:r}=e,n=e.getReflectedControlPoint(),i=e.getAsControlPoint("x2","y2"),a=e.getAsCurrentPoint();return{current:r,point:n,controlPoint:i,currentPoint:a}}pathS(e,r){var{pathParser:n}=this,{current:i,point:a,controlPoint:s,currentPoint:o}=br.pathS(n);n.addMarker(o,s,a),r.addBezierCurve(i.x,i.y,a.x,a.y,s.x,s.y,o.x,o.y),e&&e.bezierCurveTo(a.x,a.y,s.x,s.y,o.x,o.y)}static pathQ(e){var{current:r}=e,n=e.getAsControlPoint("x1","y1"),i=e.getAsCurrentPoint();return{current:r,controlPoint:n,currentPoint:i}}pathQ(e,r){var{pathParser:n}=this,{current:i,controlPoint:a,currentPoint:s}=br.pathQ(n);n.addMarker(s,a,a),r.addQuadraticCurve(i.x,i.y,a.x,a.y,s.x,s.y),e&&e.quadraticCurveTo(a.x,a.y,s.x,s.y)}static pathT(e){var{current:r}=e,n=e.getReflectedControlPoint();e.control=n;var i=e.getAsCurrentPoint();return{current:r,controlPoint:n,currentPoint:i}}pathT(e,r){var{pathParser:n}=this,{current:i,controlPoint:a,currentPoint:s}=br.pathT(n);n.addMarker(s,a,a),r.addQuadraticCurve(i.x,i.y,a.x,a.y,s.x,s.y),e&&e.quadraticCurveTo(a.x,a.y,s.x,s.y)}static pathA(e){var{current:r,command:n}=e,{rX:i,rY:a,xRot:s,lArcFlag:o,sweepFlag:A}=n,l=s*(Math.PI/180),c=e.getAsCurrentPoint(),u=new Sn(Math.cos(l)*(r.x-c.x)/2+Math.sin(l)*(r.y-c.y)/2,-Math.sin(l)*(r.x-c.x)/2+Math.cos(l)*(r.y-c.y)/2),f=Math.pow(u.x,2)/Math.pow(i,2)+Math.pow(u.y,2)/Math.pow(a,2);f>1&&(i*=Math.sqrt(f),a*=Math.sqrt(f));var h=(o===A?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(a,2)-Math.pow(i,2)*Math.pow(u.y,2)-Math.pow(a,2)*Math.pow(u.x,2))/(Math.pow(i,2)*Math.pow(u.y,2)+Math.pow(a,2)*Math.pow(u.x,2)));isNaN(h)&&(h=0);var d=new Sn(h*i*u.y/a,h*-a*u.x/i),p=new Sn((r.x+c.x)/2+Math.cos(l)*d.x-Math.sin(l)*d.y,(r.y+c.y)/2+Math.sin(l)*d.x+Math.cos(l)*d.y),g=c_([1,0],[(u.x-d.x)/i,(u.y-d.y)/a]),v=[(u.x-d.x)/i,(u.y-d.y)/a],y=[(-u.x-d.x)/i,(-u.y-d.y)/a],w=c_(v,y);return Nb(v,y)<=-1&&(w=Math.PI),Nb(v,y)>=1&&(w=0),{currentPoint:c,rX:i,rY:a,sweepFlag:A,xAxisRotation:l,centp:p,a1:g,ad:w}}pathA(e,r){var{pathParser:n}=this,{currentPoint:i,rX:a,rY:s,sweepFlag:o,xAxisRotation:A,centp:l,a1:c,ad:u}=br.pathA(n),f=1-o?1:-1,h=c+f*(u/2),d=new Sn(l.x+a*Math.cos(h),l.y+s*Math.sin(h));if(n.addMarkerAngle(d,h-f*Math.PI/2),n.addMarkerAngle(i,h-f*Math.PI),r.addPoint(i.x,i.y),e&&!isNaN(c)&&!isNaN(u)){var p=a>s?a:s,g=a>s?1:a/s,v=a>s?s/a:1;e.translate(l.x,l.y),e.rotate(A),e.scale(g,v),e.arc(0,0,p,c,c+u,!!(1-o)),e.scale(1/g,1/v),e.rotate(-A),e.translate(-l.x,-l.y)}}static pathZ(e){e.current=e.start}pathZ(e,r){br.pathZ(this.pathParser),e&&r.x1!==r.x2&&r.y1!==r.y2&&e.closePath()}}class SL extends br{constructor(e,r,n){super(e,r,n),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class ql extends mu{constructor(e,r,n){super(e,r,new.target===ql?!0:n),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,r);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var r=null;return this.children.forEach((n,i)=>{var a=this.getChildBoundingBox(e,this,this,i);r?r.addBoundingBox(a):r=a}),r}getFontSize(){var{document:e,parent:r}=this,n=ga.parse(e.ctx.font).fontSize,i=r.getStyle("font-size").getNumber(n);return i}getTElementBoundingBox(e){var r=this.getFontSize();return new ho(this.x,this.y-r,this.x+this.measureText(e),this.y)}getGlyph(e,r,n){var i=r[n],a=null;if(e.isArabic){var s=r.length,o=r[n-1],A=r[n+1],l="isolated";if((n===0||o===" ")&&n<s-1&&A!==" "&&(l="terminal"),n>0&&o!==" "&&n<s-1&&A!==" "&&(l="medial"),n>0&&o!==" "&&(n===s-1||A===" ")&&(l="initial"),typeof e.glyphs[i]!="undefined"){var c=e.glyphs[i];a=c instanceof SL?c:c[l]}}else a=e.glyphs[i];return a||(a=e.missingGlyph),a}getText(){return""}getTextFromNode(e){var r=e||this.node,n=Array.from(r.parentNode.childNodes),i=n.indexOf(r),a=n.length-1,s=Wf(r.textContent||"");return i===0&&(s=GK(s)),i===a&&(s=KK(s)),s}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,i)=>{this.renderChild(e,this,this,i)});var{mouse:r}=this.document.screen;r.isWorking()&&r.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:r,parent:n}=this,i=this.getText(),a=n.getStyle("font-family").getDefinition();if(a){for(var{unitsPerEm:s}=a.fontFace,o=ga.parse(r.ctx.font),A=n.getStyle("font-size").getNumber(o.fontSize),l=n.getStyle("font-style").getString(o.fontStyle),c=A/s,u=a.isRTL?i.split("").reverse().join(""):i,f=ts(n.getAttribute("dx").getString()),h=u.length,d=0;d<h;d++){var p=this.getGlyph(a,u,d);e.translate(this.x,this.y),e.scale(c,-c);var g=e.lineWidth;e.lineWidth=e.lineWidth*s/A,l==="italic"&&e.transform(1,0,.4,1,0,0),p.render(e),l==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=g,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=A*(p.horizAdvX||a.horizAdvX)/s,typeof f[d]!="undefined"&&!isNaN(f[d])&&(this.x+=f[d])}return}var{x:v,y}=this;e.fillStyle&&e.fillText(i,v,y),e.strokeStyle&&e.strokeText(i,v,y)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],r=e.getStyle("text-anchor").getString("start"),n=!1,i=0;r==="start"||r==="end"&&n?i=e.x-this.minX:r==="end"||r==="start"&&n?i=e.x-this.maxX:i=e.x-(this.minX+this.maxX)/2;for(var a=this.textChunkStart;a<this.leafTexts.length;a++)this.leafTexts[a].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((r,n)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,n)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,r,n,i){var a=n.children[i];a.children.length>0?a.children.forEach((s,o)=>{r.adjustChildCoordinatesRecursiveCore(e,r,a,o)}):this.adjustChildCoordinates(e,r,n,i)}adjustChildCoordinates(e,r,n,i){var a=n.children[i];if(typeof a.measureText!="function")return a;e.save(),a.setContext(e,!0);var s=a.getAttribute("x"),o=a.getAttribute("y"),A=a.getAttribute("dx"),l=a.getAttribute("dy"),c=a.getStyle("font-family").getDefinition(),u=!!c&&c.isRTL;i===0&&(s.hasValue()||s.setValue(a.getInheritedAttribute("x")),o.hasValue()||o.setValue(a.getInheritedAttribute("y")),A.hasValue()||A.setValue(a.getInheritedAttribute("dx")),l.hasValue()||l.setValue(a.getInheritedAttribute("dy")));var f=a.measureText(e);return u&&(r.x-=f),s.hasValue()?(r.applyAnchoring(),a.x=s.getPixels("x"),A.hasValue()&&(a.x+=A.getPixels("x"))):(A.hasValue()&&(r.x+=A.getPixels("x")),a.x=r.x),r.x=a.x,u||(r.x+=f),o.hasValue()?(a.y=o.getPixels("y"),l.hasValue()&&(a.y+=l.getPixels("y"))):(l.hasValue()&&(r.y+=l.getPixels("y")),a.y=r.y),r.y=a.y,r.leafTexts.push(a),r.minX=Math.min(r.minX,a.x,a.x+f),r.maxX=Math.max(r.maxX,a.x,a.x+f),a.clearContext(e),e.restore(),a}getChildBoundingBox(e,r,n,i){var a=n.children[i];if(typeof a.getBoundingBox!="function")return null;var s=a.getBoundingBox(e);return s?(a.children.forEach((o,A)=>{var l=r.getChildBoundingBox(e,r,a,A);s.addBoundingBox(l)}),s):null}renderChild(e,r,n,i){var a=n.children[i];a.render(e),a.children.forEach((s,o)=>{r.renderChild(e,r,a,o)})}measureText(e){var{measureCache:r}=this;if(~r)return r;var n=this.getText(),i=this.measureTargetText(e,n);return this.measureCache=i,i}measureTargetText(e,r){if(!r.length)return 0;var{parent:n}=this,i=n.getStyle("font-family").getDefinition();if(i){for(var a=this.getFontSize(),s=i.isRTL?r.split("").reverse().join(""):r,o=ts(n.getAttribute("dx").getString()),A=s.length,l=0,c=0;c<A;c++){var u=this.getGlyph(i,s,c);l+=(u.horizAdvX||i.horizAdvX)*a/i.fontFace.unitsPerEm,typeof o[c]!="undefined"&&!isNaN(o[c])&&(l+=o[c])}return l}if(!e.measureText)return r.length*10;e.save(),this.setContext(e,!0);var{width:f}=e.measureText(r);return this.clearContext(e),e.restore(),f}getInheritedAttribute(e){for(var r=this;r instanceof ql&&r.isFirstChild();){var n=r.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");r=r.parent}return null}}class fv extends ql{constructor(e,r,n){super(e,r,new.target===fv?!0:n),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class W6e extends fv{constructor(){super(...arguments),this.type="textNode"}}class Dp extends mu{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var r,{document:n}=this,{screen:i,window:a}=n,s=e.canvas;if(i.setDefaults(e),s.style&&typeof e.font!="undefined"&&a&&typeof a.getComputedStyle!="undefined"){e.font=a.getComputedStyle(s).getPropertyValue("font");var o=new bt(n,"fontSize",ga.parse(e.font).fontSize);o.hasValue()&&(n.rootEmSize=o.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:A,height:l}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var c=this.getAttribute("refX"),u=this.getAttribute("refY"),f=this.getAttribute("viewBox"),h=f.hasValue()?ts(f.getString()):null,d=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",p=0,g=0,v=0,y=0;h&&(p=h[0],g=h[1]),this.root||(A=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y"),this.type==="marker"&&(v=p,y=g,p=0,g=0)),i.viewPort.setCurrent(A,l),this.node&&(!this.parent||((r=this.node.parentNode)===null||r===void 0?void 0:r.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),h&&(A=h[2],l=h[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:A,height:i.viewPort.height,desiredHeight:l,minX:p,minY:g,refX:c.getValue(),refY:u.getValue(),clip:d,clipX:v,clipY:y}),h&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(A,l))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.getAttribute("width",!0),a=this.getAttribute("height",!0),s=this.getAttribute("viewBox"),o=this.getAttribute("style"),A=i.getNumber(0),l=a.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(e),a.setValue(r),s.hasValue()||s.setValue("0 0 ".concat(A||e," ").concat(l||r)),o.hasValue()){var u=this.getStyle("width"),f=this.getStyle("height");u.hasValue()&&u.setValue("".concat(e,"px")),f.hasValue()&&f.setValue("".concat(r,"px"))}}}class TL extends br{constructor(){super(...arguments),this.type="rect"}path(e){var r=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),a=this.getStyle("height",!1,!0).getPixels("y"),s=this.getAttribute("rx"),o=this.getAttribute("ry"),A=s.getPixels("x"),l=o.getPixels("y");if(s.hasValue()&&!o.hasValue()&&(l=A),o.hasValue()&&!s.hasValue()&&(A=l),A=Math.min(A,i/2),l=Math.min(l,a/2),e){var c=4*((Math.sqrt(2)-1)/3);e.beginPath(),a>0&&i>0&&(e.moveTo(r+A,n),e.lineTo(r+i-A,n),e.bezierCurveTo(r+i-A+c*A,n,r+i,n+l-c*l,r+i,n+l),e.lineTo(r+i,n+a-l),e.bezierCurveTo(r+i,n+a-l+c*l,r+i-A+c*A,n+a,r+i-A,n+a),e.lineTo(r+A,n+a),e.bezierCurveTo(r+A-c*A,n+a,r,n+a-l+c*l,r,n+a-l),e.lineTo(r,n+l),e.bezierCurveTo(r,n+l-c*l,r+A-c*A,n,r+A,n),e.closePath())}return new ho(r,n,r+i,n+a)}getMarkers(){return null}}class aV extends br{constructor(){super(...arguments),this.type="circle"}path(e){var r=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return e&&i>0&&(e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1),e.closePath()),new ho(r-i,n-i,r+i,n+i)}getMarkers(){return null}}class sV extends br{constructor(){super(...arguments),this.type="ellipse"}path(e){var r=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),a=this.getAttribute("cx").getPixels("x"),s=this.getAttribute("cy").getPixels("y");return e&&n>0&&i>0&&(e.beginPath(),e.moveTo(a+n,s),e.bezierCurveTo(a+n,s+r*i,a+r*n,s+i,a,s+i),e.bezierCurveTo(a-r*n,s+i,a-n,s+r*i,a-n,s),e.bezierCurveTo(a-n,s-r*i,a-r*n,s-i,a,s-i),e.bezierCurveTo(a+r*n,s-i,a+n,s-r*i,a+n,s),e.closePath()),new ho(a-n,s-i,a+n,s+i)}getMarkers(){return null}}class oV extends br{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Sn(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Sn(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:r,y:n},{x:i,y:a}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(r,n),e.lineTo(i,a)),new ho(r,n,i,a)}getMarkers(){var[e,r]=this.getPoints(),n=e.angleTo(r);return[[e,n],[r,n]]}}class _L extends br{constructor(e,r,n){super(e,r,n),this.type="polyline",this.points=[],this.points=Sn.parsePath(this.getAttribute("points").getString())}path(e){var{points:r}=this,[{x:n,y:i}]=r,a=new ho(n,i);return e&&(e.beginPath(),e.moveTo(n,i)),r.forEach(s=>{var{x:o,y:A}=s;a.addPoint(o,A),e&&e.lineTo(o,A)}),a}getMarkers(){var{points:e}=this,r=e.length-1,n=[];return e.forEach((i,a)=>{a!==r&&n.push([i,i.angleTo(e[a+1])])}),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}}class AV extends _L{constructor(){super(...arguments),this.type="polygon"}path(e){var r=super.path(e),[{x:n,y:i}]=this.points;return e&&(e.lineTo(n,i),e.closePath()),r}}class lV extends bn{constructor(){super(...arguments),this.type="pattern"}createPattern(e,r,n){var i=this.getStyle("width").getPixels("x",!0),a=this.getStyle("height").getPixels("y",!0),s=new Dp(this.document,null);s.attributes.viewBox=new bt(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.width=new bt(this.document,"width","".concat(i,"px")),s.attributes.height=new bt(this.document,"height","".concat(a,"px")),s.attributes.transform=new bt(this.document,"transform",this.getAttribute("patternTransform").getValue()),s.children=this.children;var o=this.document.createCanvas(i,a),A=o.getContext("2d"),l=this.getAttribute("x"),c=this.getAttribute("y");l.hasValue()&&c.hasValue()&&A.translate(l.getPixels("x",!0),c.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var u=-1;u<=1;u++)for(var f=-1;f<=1;f++)A.save(),s.attributes.x=new bt(this.document,"x",u*o.width),s.attributes.y=new bt(this.document,"y",f*o.height),s.render(A),A.restore();var h=e.createPattern(o,"repeat");return h}}class cV extends bn{constructor(){super(...arguments),this.type="marker"}render(e,r,n){if(r){var{x:i,y:a}=r,s=this.getAttribute("orient").getString("auto"),o=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(i,a),s==="auto"&&e.rotate(n),o==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var A=new Dp(this.document,null);A.type=this.type,A.attributes.viewBox=new bt(this.document,"viewBox",this.getAttribute("viewBox").getValue()),A.attributes.refX=new bt(this.document,"refX",this.getAttribute("refX").getValue()),A.attributes.refY=new bt(this.document,"refY",this.getAttribute("refY").getValue()),A.attributes.width=new bt(this.document,"width",this.getAttribute("markerWidth").getValue()),A.attributes.height=new bt(this.document,"height",this.getAttribute("markerHeight").getValue()),A.attributes.overflow=new bt(this.document,"overflow",this.getAttribute("overflow").getValue()),A.attributes.fill=new bt(this.document,"fill",this.getAttribute("fill").getColor("black")),A.attributes.stroke=new bt(this.document,"stroke",this.getAttribute("stroke").getValue("none")),A.children=this.children,A.render(e),e.restore(),o==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),s==="auto"&&e.rotate(-n),e.translate(-i,-a)}}}class uV extends bn{constructor(){super(...arguments),this.type="defs"}render(){}}class Tx extends mu{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var r=new ho;return this.children.forEach(n=>{r.addBoundingBox(n.getBoundingBox(e))}),r}}class LL extends bn{constructor(e,r,n){super(e,r,n),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:a}=this;a.forEach(s=>{s.type==="stop"&&i.push(s)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,r,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:a}=i,s=this.getGradient(e,r);if(!s)return this.addParentOpacity(n,a[a.length-1].color);if(a.forEach(g=>{s.addColorStop(g.offset,this.addParentOpacity(n,g.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:o}=this,{MAX_VIRTUAL_PIXELS:A,viewPort:l}=o.screen,[c]=l.viewPorts,u=new TL(o,null);u.attributes.x=new bt(o,"x",-A/3),u.attributes.y=new bt(o,"y",-A/3),u.attributes.width=new bt(o,"width",A),u.attributes.height=new bt(o,"height",A);var f=new Tx(o,null);f.attributes.transform=new bt(o,"transform",this.getAttribute("gradientTransform").getValue()),f.children=[u];var h=new Dp(o,null);h.attributes.x=new bt(o,"x",0),h.attributes.y=new bt(o,"y",0),h.attributes.width=new bt(o,"width",c.width),h.attributes.height=new bt(o,"height",c.height),h.children=[f];var d=o.createCanvas(c.width,c.height),p=d.getContext("2d");return p.fillStyle=s,h.render(p),p.createPattern(d,"no-repeat")}return s}inheritStopContainer(e){this.attributesToInherit.forEach(r=>{!this.getAttribute(r).hasValue()&&e.getAttribute(r).hasValue()&&this.getAttribute(r,!0).setValue(e.getAttribute(r).getValue())})}addParentOpacity(e,r){if(e.hasValue()){var n=new bt(this.document,"color",r);return n.addOpacity(e).getColor()}return r}}class fV extends LL{constructor(e,r,n){super(e,r,n),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,r){var n=this.getGradientUnits()==="objectBoundingBox",i=n?r.getBoundingBox(e):null;if(n&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var a=n?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),s=n?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=n?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),A=n?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return a===o&&s===A?null:e.createLinearGradient(a,s,o,A)}}class hV extends LL{constructor(e,r,n){super(e,r,n),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,r){var n=this.getGradientUnits()==="objectBoundingBox",i=r.getBoundingBox(e);if(n&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var a=n?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),s=n?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=a,A=s;this.getAttribute("fx").hasValue()&&(o=n?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(A=n?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var l=n?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return e.createRadialGradient(o,A,c,a,s,l)}}class dV extends bn{constructor(e,r,n){super(e,r,n),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),a=this.getStyle("stop-opacity"),s=this.getStyle("stop-color",!0);s.getString()===""&&s.setValue("#000"),a.hasValue()&&(s=s.addOpacity(a)),this.offset=i,this.color=s.getColor()}}class _x extends bn{constructor(e,r,n){super(e,r,n),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new bt(e,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),r=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(r,!0):this.parent.getAttribute(r,!0)}calcValue(){var{initialUnits:e}=this,{progress:r,from:n,to:i}=this.getProgress(),a=n.getNumber()+(i.getNumber()-n.getNumber())*r;return e==="%"&&(a*=100),"".concat(a).concat(e)}update(e){var{parent:r}=this,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(i==="freeze"&&!this.frozen)this.frozen=!0,r.animationFrozen=!0,r.animationFrozenValue=n.getString();else if(i==="remove"&&!this.removed)return this.removed=!0,n.setValue(r.animationFrozen?r.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var a=!1;if(this.begin<this.duration){var s=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var A=o.getString();s="".concat(A,"(").concat(s,")")}n.setValue(s),a=!0}return a}getProgress(){var{document:e,values:r}=this,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(r.hasValue()){var i=n.progress*(r.getValue().length-1),a=Math.floor(i),s=Math.ceil(i);n.from=new bt(e,"from",parseFloat(r.getValue()[a])),n.to=new bt(e,"to",parseFloat(r.getValue()[s])),n.progress=(i-a)/(s-a)}else n.from=this.from,n.to=this.to;return n}}class pV extends _x{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:r,to:n}=this.getProgress(),i=new s_(r.getColor()),a=new s_(n.getColor());if(i.ok&&a.ok){var s=i.r+(a.r-i.r)*e,o=i.g+(a.g-i.g)*e,A=i.b+(a.b-i.b)*e;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(o),", ").concat(Math.floor(A),")")}return this.getAttribute("from").getColor()}}class gV extends _x{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:r,to:n}=this.getProgress(),i=ts(r.getString()),a=ts(n.getString()),s=i.map((o,A)=>{var l=a[A];return o+(l-o)*e}).join(" ");return s}}class mV extends bn{constructor(e,r,n){super(e,r,n),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=e,{children:a}=this;for(var s of a)switch(s.type){case"font-face":{this.fontFace=s;var o=s.getStyle("font-family");o.hasValue()&&(i[o.getString()]=this);break}case"missing-glyph":this.missingGlyph=s;break;case"glyph":{var A=s;A.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[A.unicode]=="undefined"&&(this.glyphs[A.unicode]={}),this.glyphs[A.unicode][A.arabicForm]=A):this.glyphs[A.unicode]=A;break}}}render(){}}class vV extends bn{constructor(e,r,n){super(e,r,n),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class yV extends br{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class bV extends ql{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var r=e.children[0];if(r)return r.getText()}return""}}class wV extends ql{constructor(e,r,n){super(e,r,n),this.type="a";var{childNodes:i}=r,a=i[0],s=i.length>0&&Array.from(i).every(o=>o.nodeType===3);this.hasText=s,this.text=s?this.getTextFromNode(a):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:r,x:n,y:i}=this,{mouse:a}=r.screen,s=new bt(r,"fontSize",ga.parse(r.ctx.font).fontSize);a.isWorking()&&a.checkBoundingBox(this,new ho(n,i-s.getPixels("y"),n+this.measureText(e),i))}else if(this.children.length>0){var o=new Tx(this.document,null);o.children=this.children,o.parent=this,o.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){wL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}class xV extends ql{constructor(e,r,n){super(e,r,n),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(e){var{dataArray:r}=this;e&&e.beginPath(),r.forEach(n=>{var{type:i,points:a}=n;switch(i){case kt.LINE_TO:e&&e.lineTo(a[0],a[1]);break;case kt.MOVE_TO:e&&e.moveTo(a[0],a[1]);break;case kt.CURVE_TO:e&&e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case kt.QUAD_TO:e&&e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case kt.ARC:{var[s,o,A,l,c,u,f,h]=a,d=A>l?A:l,p=A>l?1:A/l,g=A>l?l/A:1;e&&(e.translate(s,o),e.rotate(f),e.scale(p,g),e.arc(0,0,d,c,c+u,!!(1-h)),e.scale(1/p,1/g),e.rotate(-f),e.translate(-s,-o));break}case kt.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var r=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),{glyphInfo:i}=this,a=e.fillStyle;r==="underline"&&e.beginPath(),i.forEach((s,o)=>{var{p0:A,p1:l,rotation:c,text:u}=s;e.save(),e.translate(A.x,A.y),e.rotate(c),e.fillStyle&&e.fillText(u,0,0),e.strokeStyle&&e.strokeText(u,0,0),e.restore(),r==="underline"&&(o===0&&e.moveTo(A.x,A.y+n/8),e.lineTo(l.x,l.y+n/5))}),r==="underline"&&(e.lineWidth=n/20,e.strokeStyle=a,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,r,n,i,a,s,o,A,l){var c=s,u=this.measureText(e,A);A===" "&&r==="justify"&&n<i&&(u+=(i-n)/a),l>-1&&(c+=this.getLetterSpacingAt(l));var f=this.textHeight/20,h=this.getEquidistantPointOnPath(c,f,0),d=this.getEquidistantPointOnPath(c+u,f,0),p={p0:h,p1:d},g=h&&d?Math.atan2(d.y-h.y,d.x-h.x):0;if(o){var v=Math.cos(Math.PI/2+g)*o,y=Math.cos(-g)*o;p.p0=oy(oy({},h),{},{x:h.x+v,y:h.y+y}),p.p1=oy(oy({},d),{},{x:d.x+v,y:d.y+y})}return c+=u,{offset:c,segment:p,rotation:g}}measureText(e,r){var{measuresCache:n}=this,i=r||this.getText();if(n.has(i))return n.get(i);var a=this.measureTargetText(e,i);return n.set(i,a),a}setTextData(e){if(!this.glyphInfo){var r=this.getText(),n=r.split(""),i=r.split(" ").length-1,a=this.parent.getAttribute("dx").split().map(S=>S.getPixels("x")),s=this.parent.getAttribute("dy").getPixels("y"),o=this.parent.getStyle("text-anchor").getString("start"),A=this.getStyle("letter-spacing"),l=this.parent.getStyle("letter-spacing"),c=0;!A.hasValue()||A.getValue()==="inherit"?c=l.getPixels():A.hasValue()&&A.getValue()!=="initial"&&A.getValue()!=="unset"&&(c=A.getPixels());var u=[],f=r.length;this.letterSpacingCache=u;for(var h=0;h<f;h++)u.push(typeof a[h]!="undefined"?a[h]:c);var d=u.reduce((S,x,E)=>E===0?0:S+x||0,0),p=this.measureText(e),g=Math.max(p+d,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var v=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*v,w=0;(o==="middle"||o==="center")&&(w=-g/2),(o==="end"||o==="right")&&(w=-g),w+=y,n.forEach((S,x)=>{var{offset:E,segment:C,rotation:L}=this.findSegmentToFitChar(e,o,g,v,i,w,s,S,x);w=E,!(!C.p0||!C.p1)&&this.glyphInfo.push({text:n[x],p0:C.p0,p1:C.p1,rotation:L})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var r=[],{pathParser:n}=e;for(n.reset();!n.isEnd();){var{current:i}=n,a=i?i.x:0,s=i?i.y:0,o=n.next(),A=o.type,l=[];switch(o.type){case kt.MOVE_TO:this.pathM(n,l);break;case kt.LINE_TO:A=this.pathL(n,l);break;case kt.HORIZ_LINE_TO:A=this.pathH(n,l);break;case kt.VERT_LINE_TO:A=this.pathV(n,l);break;case kt.CURVE_TO:this.pathC(n,l);break;case kt.SMOOTH_CURVE_TO:A=this.pathS(n,l);break;case kt.QUAD_TO:this.pathQ(n,l);break;case kt.SMOOTH_QUAD_TO:A=this.pathT(n,l);break;case kt.ARC:l=this.pathA(n);break;case kt.CLOSE_PATH:br.pathZ(n);break}o.type!==kt.CLOSE_PATH?r.push({type:A,points:l,start:{x:a,y:s},pathLength:this.calcLength(a,s,A,l)}):r.push({type:kt.CLOSE_PATH,points:[],pathLength:0})}return r}pathM(e,r){var{x:n,y:i}=br.pathM(e).point;r.push(n,i)}pathL(e,r){var{x:n,y:i}=br.pathL(e).point;return r.push(n,i),kt.LINE_TO}pathH(e,r){var{x:n,y:i}=br.pathH(e).point;return r.push(n,i),kt.LINE_TO}pathV(e,r){var{x:n,y:i}=br.pathV(e).point;return r.push(n,i),kt.LINE_TO}pathC(e,r){var{point:n,controlPoint:i,currentPoint:a}=br.pathC(e);r.push(n.x,n.y,i.x,i.y,a.x,a.y)}pathS(e,r){var{point:n,controlPoint:i,currentPoint:a}=br.pathS(e);return r.push(n.x,n.y,i.x,i.y,a.x,a.y),kt.CURVE_TO}pathQ(e,r){var{controlPoint:n,currentPoint:i}=br.pathQ(e);r.push(n.x,n.y,i.x,i.y)}pathT(e,r){var{controlPoint:n,currentPoint:i}=br.pathT(e);return r.push(n.x,n.y,i.x,i.y),kt.QUAD_TO}pathA(e){var{rX:r,rY:n,sweepFlag:i,xAxisRotation:a,centp:s,a1:o,ad:A}=br.pathA(e);return i===0&&A>0&&(A-=2*Math.PI),i===1&&A<0&&(A+=2*Math.PI),[s.x,s.y,r,n,o,A,a,i]}calcLength(e,r,n,i){var a=0,s=null,o=null,A=0;switch(n){case kt.LINE_TO:return this.getLineLength(e,r,i[0],i[1]);case kt.CURVE_TO:for(a=0,s=this.getPointOnCubicBezier(0,e,r,i[0],i[1],i[2],i[3],i[4],i[5]),A=.01;A<=1;A+=.01)o=this.getPointOnCubicBezier(A,e,r,i[0],i[1],i[2],i[3],i[4],i[5]),a+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case kt.QUAD_TO:for(a=0,s=this.getPointOnQuadraticBezier(0,e,r,i[0],i[1],i[2],i[3]),A=.01;A<=1;A+=.01)o=this.getPointOnQuadraticBezier(A,e,r,i[0],i[1],i[2],i[3]),a+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case kt.ARC:{a=0;var l=i[4],c=i[5],u=i[4]+c,f=Math.PI/180;if(Math.abs(l-u)<f&&(f=Math.abs(l-u)),s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),c<0)for(A=l-f;A>u;A-=f)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),a+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(A=l+f;A<u;A+=f)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],A,0),a+=this.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),a+=this.getLineLength(s.x,s.y,o.x,o.y),a}}return 0}getPointOnLine(e,r,n,i,a){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:r,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,A=(a-n)/(i-r+yf),l=Math.sqrt(e*e/(1+A*A));i<r&&(l*=-1);var c=A*l,u=null;if(i===r)u={x:s,y:o+c};else if((o-n)/(s-r+yf)===A)u={x:s+l,y:o+c};else{var f=0,h=0,d=this.getLineLength(r,n,i,a);if(d<yf)return null;var p=(s-r)*(i-r)+(o-n)*(a-n);p/=d*d,f=r+p*(i-r),h=n+p*(a-n);var g=this.getLineLength(s,o,f,h),v=Math.sqrt(e*e-g*g);l=Math.sqrt(v*v/(1+A*A)),i<r&&(l*=-1),c=A*l,u={x:f+l,y:h+c}}return u}getPointOnPath(e){var r=this.getPathLength(),n=0,i=null;if(e<-5e-5||e-5e-5>r)return null;var{dataArray:a}=this;for(var s of a){if(s&&(s.pathLength<5e-5||n+s.pathLength+5e-5<e)){n+=s.pathLength;continue}var o=e-n,A=0;switch(s.type){case kt.LINE_TO:i=this.getPointOnLine(o,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case kt.ARC:{var l=s.points[4],c=s.points[5],u=s.points[4]+c;if(A=l+o/s.pathLength*c,c<0&&A<u||c>=0&&A>u)break;i=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],A,s.points[6]);break}case kt.CURVE_TO:A=o/s.pathLength,A>1&&(A=1),i=this.getPointOnCubicBezier(A,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case kt.QUAD_TO:A=o/s.pathLength,A>1&&(A=1),i=this.getPointOnQuadraticBezier(A,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(i)return i;break}return null}getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,r)=>r.pathLength>0?e+r.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,r,n,i,a,s,o,A,l){var c=A*u_(e)+s*f_(e)+i*h_(e)+r*d_(e),u=l*u_(e)+o*f_(e)+a*h_(e)+n*d_(e);return{x:c,y:u}}getPointOnQuadraticBezier(e,r,n,i,a,s,o){var A=s*p_(e)+i*g_(e)+r*m_(e),l=o*p_(e)+a*g_(e)+n*m_(e);return{x:A,y:l}}getPointOnEllipticalArc(e,r,n,i,a,s){var o=Math.cos(s),A=Math.sin(s),l={x:n*Math.cos(a),y:i*Math.sin(a)};return{x:e+(l.x*o-l.y*A),y:r+(l.x*A+l.y*o)}}buildEquidistantCache(e,r){var n=this.getPathLength(),i=r||.25,a=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==a||this.equidistantCache.precision!==i){this.equidistantCache={step:a,precision:i,points:[]};for(var s=0,o=0;o<=n;o+=i){var A=this.getPointOnPath(o),l=this.getPointOnPath(o+i);!A||!l||(s+=this.getLineLength(A.x,A.y,l.x,l.y),s>=a&&(this.equidistantCache.points.push({x:A.x,y:A.y,distance:o}),s-=a))}}}getEquidistantPointOnPath(e,r,n){if(this.buildEquidistantCache(r,n),e<0||e-this.getPathLength()>5e-5)return null;var i=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var z6e=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class EV extends mu{constructor(e,r,n){super(e,r,n),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var a=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);e.images.push(this),a?this.loadSvg(i):this.loadImage(i),this.isSvg=a}}loadImage(e){var r=this;return Yl(function*(){try{var n=yield r.document.createImage(e);r.image=n}catch(i){console.error('Error while loading image "'.concat(e,'":'),i)}r.loaded=!0})()}loadSvg(e){var r=this;return Yl(function*(){var n=z6e.exec(e);if(n){var i=n[5];n[4]==="base64"?r.image=atob(i):r.image=decodeURIComponent(i)}else try{var a=yield r.document.fetch(e),s=yield a.text();r.image=s}catch(o){console.error('Error while loading image "'.concat(e,'":'),o)}r.loaded=!0})()}renderChildren(e){var{document:r,image:n,loaded:i}=this,a=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),A=this.getStyle("height").getPixels("y");if(!(!i||!n||!o||!A)){if(e.save(),e.translate(a,s),this.isSvg){var l=r.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:o,scaleHeight:A});l.document.documentElement.parent=this,l.render()}else{var c=this.image;r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:c.width,height:A,desiredHeight:c.height}),this.loaded&&(typeof c.complete=="undefined"||c.complete)&&e.drawImage(c,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new ho(e,r,e+n,r+i)}}class BV extends mu{constructor(){super(...arguments),this.type="symbol"}render(e){}}class CV{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,r){var n=this;return Yl(function*(){try{var{document:i}=n,a=yield i.canvg.parser.load(r),s=a.getElementsByTagName("font");Array.from(s).forEach(o=>{var A=i.createElement(o);i.definitions[e]=A})}catch(o){console.error('Error while loading font "'.concat(r,'":'),o)}n.loaded=!0})()}}class IL extends bn{constructor(e,r,n){super(e,r,n),this.type="style";var i=Wf(Array.from(r.childNodes).map(s=>s.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),a=i.split("}");a.forEach(s=>{var o=s.trim();if(o){var A=o.split("{"),l=A[0].split(","),c=A[1].split(";");l.forEach(u=>{var f=u.trim();if(f){var h=e.styles[f]||{};if(c.forEach(g=>{var v=g.indexOf(":"),y=g.substr(0,v).trim(),w=g.substr(v+1,g.length-v).trim();y&&w&&(h[y]=new bt(e,y,w))}),e.styles[f]=h,e.stylesSpecificity[f]=zK(f),f==="@font-face"){var d=h["font-family"].getString().replace(/"|'/g,""),p=h.src.getString().split(",");p.forEach(g=>{if(g.indexOf('format("svg")')>0){var v=EL(g);v&&new CV(e).load(d,v)}})}}})}})}}IL.parseExternalUrl=EL;class SV extends mu{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var r=this.getAttribute("x"),n=this.getAttribute("y");r.hasValue()&&e.translate(r.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}path(e){var{element:r}=this;r&&r.path(e)}renderChildren(e){var{document:r,element:n}=this;if(n){var i=n;if(n.type==="symbol"&&(i=new Dp(r,null),i.attributes.viewBox=new bt(r,"viewBox",n.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new bt(r,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new bt(r,"overflow",n.getAttribute("overflow").getString()),i.children=n.children,n.styles.opacity=new bt(r,"opacity",this.calculateOpacity())),i.type==="svg"){var a=this.getStyle("width",!1,!0),s=this.getStyle("height",!1,!0);a.hasValue()&&(i.attributes.width=new bt(r,"width",a.getString())),s.hasValue()&&(i.attributes.height=new bt(r,"height",s.getString()))}var o=i.parent;i.parent=this,i.render(e),i.parent=o}}getBoundingBox(e){var{element:r}=this;return r?r.getBoundingBox(e):null}elementTransform(){var{document:e,element:r}=this;return iu.fromElement(e,r)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Ay(t,e,r,n,i,a){return t[r*n*4+e*4+a]}function ly(t,e,r,n,i,a,s){t[r*n*4+e*4+a]=s}function qn(t,e,r){var n=t[e];return n*r}function xl(t,e,r,n){return e+Math.cos(t)*r+Math.sin(t)*n}class OL extends bn{constructor(e,r,n){super(e,r,n),this.type="feColorMatrix";var i=ts(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var a=i[0];i=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var s=i[0]*Math.PI/180;i=[xl(s,.213,.787,-.213),xl(s,.715,-.715,-.715),xl(s,.072,-.072,.928),0,0,xl(s,.213,-.213,.143),xl(s,.715,.285,.14),xl(s,.072,-.072,-.283),0,0,xl(s,.213,-.213,-.787),xl(s,.715,-.715,.715),xl(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,r,n,i,a){for(var{includeOpacity:s,matrix:o}=this,A=e.getImageData(0,0,i,a),l=0;l<a;l++)for(var c=0;c<i;c++){var u=Ay(A.data,c,l,i,a,0),f=Ay(A.data,c,l,i,a,1),h=Ay(A.data,c,l,i,a,2),d=Ay(A.data,c,l,i,a,3),p=qn(o,0,u)+qn(o,1,f)+qn(o,2,h)+qn(o,3,d)+qn(o,4,1),g=qn(o,5,u)+qn(o,6,f)+qn(o,7,h)+qn(o,8,d)+qn(o,9,1),v=qn(o,10,u)+qn(o,11,f)+qn(o,12,h)+qn(o,13,d)+qn(o,14,1),y=qn(o,15,u)+qn(o,16,f)+qn(o,17,h)+qn(o,18,d)+qn(o,19,1);s&&(p=0,g=0,v=0,y*=d/255),ly(A.data,c,l,i,a,0,p),ly(A.data,c,l,i,a,1,g),ly(A.data,c,l,i,a,2,v),ly(A.data,c,l,i,a,3,y)}e.clearRect(0,0,i,a),e.putImageData(A,0,0)}}class hv extends bn{constructor(){super(...arguments),this.type="mask"}apply(e,r){var{document:n}=this,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!s&&!o){var A=new ho;this.children.forEach(d=>{A.addBoundingBox(d.getBoundingBox(e))}),i=Math.floor(A.x1),a=Math.floor(A.y1),s=Math.floor(A.width),o=Math.floor(A.height)}var l=this.removeStyles(r,hv.ignoreStyles),c=n.createCanvas(i+s,a+o),u=c.getContext("2d");n.screen.setDefaults(u),this.renderChildren(u),new OL(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(u,0,0,i+s,a+o);var f=n.createCanvas(i+s,a+o),h=f.getContext("2d");n.screen.setDefaults(h),r.render(h),h.globalCompositeOperation="destination-in",h.fillStyle=u.createPattern(c,"no-repeat"),h.fillRect(0,0,i+s,a+o),e.fillStyle=h.createPattern(f,"no-repeat"),e.fillRect(0,0,i+s,a+o),this.restoreStyles(r,l)}render(e){}}hv.ignoreStyles=["mask","transform","clip-path"];var i6=()=>{};class TV extends bn{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:r}=this,n=Reflect.getPrototypeOf(e),{beginPath:i,closePath:a}=e;n&&(n.beginPath=i6,n.closePath=i6),Reflect.apply(i,e,[]),this.children.forEach(s=>{if(typeof s.path!="undefined"){var o=typeof s.elementTransform!="undefined"?s.elementTransform():null;o||(o=iu.fromElement(r,s)),o&&o.apply(e),s.path(e),n&&(n.closePath=a),o&&o.unapply(e)}}),Reflect.apply(a,e,[]),e.clip(),n&&(n.beginPath=i,n.closePath=a)}render(e){}}class dv extends bn{constructor(){super(...arguments),this.type="filter"}apply(e,r){var{document:n,children:i}=this,a=r.getBoundingBox(e);if(a){var s=0,o=0;i.forEach(v=>{var y=v.extraFilterDistance||0;s=Math.max(s,y),o=Math.max(o,y)});var A=Math.floor(a.width),l=Math.floor(a.height),c=A+2*s,u=l+2*o;if(!(c<1||u<1)){var f=Math.floor(a.x),h=Math.floor(a.y),d=this.removeStyles(r,dv.ignoreStyles),p=n.createCanvas(c,u),g=p.getContext("2d");n.screen.setDefaults(g),g.translate(-f+s,-h+o),r.render(g),i.forEach(v=>{typeof v.apply=="function"&&v.apply(g,0,0,c,u)}),e.drawImage(p,0,0,c,u,f-s,h-o,c,u),this.restoreStyles(r,d)}}}render(e){}}dv.ignoreStyles=["filter","transform","clip-path"];class _V extends bn{constructor(e,r,n){super(e,r,n),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,r,n,i,a){}}class LV extends bn{constructor(){super(...arguments),this.type="feMorphology"}apply(e,r,n,i,a){}}class IV extends bn{constructor(){super(...arguments),this.type="feComposite"}apply(e,r,n,i,a){}}class OV extends bn{constructor(e,r,n){super(e,r,n),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,r,n,i,a){var{document:s,blurRadius:o}=this,A=s.window?s.window.document.body:null,l=e.canvas;l.id=s.getUniqueId(),A&&(l.style.display="none",A.appendChild(l)),S6e(l,r,n,i,a,o),A&&A.removeChild(l)}}class FV extends bn{constructor(){super(...arguments),this.type="title"}}class PV extends bn{constructor(){super(...arguments),this.type="desc"}}var Y6e={svg:Dp,rect:TL,circle:aV,ellipse:sV,line:oV,polyline:_L,polygon:AV,path:br,pattern:lV,marker:cV,defs:uV,linearGradient:fV,radialGradient:hV,stop:dV,animate:_x,animateColor:pV,animateTransform:gV,font:mV,"font-face":vV,"missing-glyph":yV,glyph:SL,text:ql,tspan:fv,tref:bV,a:wV,textPath:xV,image:EV,g:Tx,symbol:BV,style:IL,use:SV,mask:hv,clipPath:TV,filter:dv,feDropShadow:_V,feMorphology:LV,feComposite:IV,feColorMatrix:OL,feGaussianBlur:OV,title:FV,desc:PV};function a6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(r),!0).forEach(function(n){wL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X6e(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r}function J6e(t){return y_.apply(this,arguments)}function y_(){return y_=Yl(function*(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=document.createElement("img");return e&&(r.crossOrigin="Anonymous"),new Promise((n,i)=>{r.onload=()=>{n(r)},r.onerror=(a,s,o,A,l)=>{i(l)},r.src=t})}),y_.apply(this,arguments)}class $l{constructor(e){var{rootEmSize:r=12,emSize:n=12,createCanvas:i=$l.createCanvas,createImage:a=$l.createImage,anonymousCrossOrigin:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=r,this.emSize=n,this.createCanvas=i,this.createImage=this.bindCreateImage(a,s),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,r){return typeof r=="boolean"?(n,i)=>e(n,typeof i=="boolean"?i:r):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:r}=this;r.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var r=this.createElement(e.documentElement);return r.root=!0,r.addStylesFromStyleDefinition(),this.documentElement=r,r}createElement(e){var r=e.nodeName.replace(/^[^:]+:/,""),n=$l.elementTypes[r];return typeof n!="undefined"?new n(this,e):new iV(this,e)}createTextNode(e){return new W6e(this,e)}setViewBox(e){this.screen.setViewBox(q6e({document:this},e))}}$l.createCanvas=X6e;$l.createImage=J6e;$l.elementTypes=Y6e;function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){wL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}class lf{constructor(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new t2(n),this.screen=new uv(e,n),this.options=n;var i=new $l(this,n),a=i.createDocumentElement(r);this.document=i,this.documentElement=a}static from(e,r){var n=arguments;return Yl(function*(){var i=n.length>2&&n[2]!==void 0?n[2]:{},a=new t2(i),s=yield a.parse(r);return new lf(e,s,i)})()}static fromString(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new t2(n),a=i.parseFromString(r);return new lf(e,a,n)}fork(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lf.from(e,r,Qu(Qu({},this.options),n))}forkString(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lf.fromString(e,r,Qu(Qu({},this.options),n))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,r=this;return Yl(function*(){var n=e.length>0&&e[0]!==void 0?e[0]:{};r.start(Qu({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},n)),yield r.ready(),r.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:r,screen:n,options:i}=this;n.start(r,Qu(Qu({enableRedraw:!0},i),e))}stop(){this.screen.stop()}resize(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,r,n)}}const Z6e=Object.freeze(Object.defineProperty({__proto__:null,AElement:wV,AnimateColorElement:pV,AnimateElement:_x,AnimateTransformElement:gV,BoundingBox:ho,CB1:u_,CB2:f_,CB3:h_,CB4:d_,Canvg:lf,CircleElement:aV,ClipPathElement:TV,DefsElement:uV,DescElement:PV,Document:$l,Element:bn,EllipseElement:sV,FeColorMatrixElement:OL,FeCompositeElement:IV,FeDropShadowElement:_V,FeGaussianBlurElement:OV,FeMorphologyElement:LV,FilterElement:dv,Font:ga,FontElement:mV,FontFaceElement:vV,GElement:Tx,GlyphElement:SL,GradientElement:LL,ImageElement:EV,LineElement:oV,LinearGradientElement:fV,MarkerElement:cV,MaskElement:hv,Matrix:BL,MissingGlyphElement:yV,Mouse:qK,PSEUDO_ZERO:yf,Parser:t2,PathElement:br,PathParser:kt,PatternElement:lV,Point:Sn,PolygonElement:AV,PolylineElement:_L,Property:bt,QB1:p_,QB2:g_,QB3:m_,RadialGradientElement:hV,RectElement:TL,RenderedElement:mu,Rotate:eV,SVGElement:Dp,SVGFontLoader:CV,Scale:tV,Screen:uv,Skew:CL,SkewX:rV,SkewY:nV,StopElement:dV,StyleElement:IL,SymbolElement:BV,TRefElement:bV,TSpanElement:fv,TextElement:ql,TextPathElement:xV,TitleElement:FV,Transform:iu,Translate:ZK,UnknownElement:iV,UseElement:SV,ViewPort:YK,compressSpaces:Wf,default:lf,getSelectorSpecificity:zK,normalizeAttributeName:VK,normalizeColor:WK,parseExternalUrl:EL,presets:I6e,toNumbers:ts,trimLeft:GK,trimRight:KK,vectorMagnitude:l_,vectorsAngle:c_,vectorsRatio:Nb},Symbol.toStringTag,{value:"Module"}));function eke(t,e,r){return Math.max(e,Math.min(t,r))}const tn={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function o6(t,e,r){return e===0||Math.abs(e)===1/0?Math.pow(t,r*5):t*e*r/(e+r*t)}function A6(t,e,r,n=.15){return n===0?eke(t,e,r):t<e?-o6(e-t,r-e,n)+e:t>r?+o6(t-r,r-e,n)+r:t}function tke(t,[e,r],[n,i]){const[[a,s],[o,A]]=t;return[A6(e,a,s,n),A6(r,o,A,i)]}function rke(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nke(t){var e=rke(t,"string");return typeof e=="symbol"?e:String(e)}function ei(t,e,r){return e=nke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const UV={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function c6(t){return t?t[0].toUpperCase()+t.slice(1):""}const ike=["enter","leave"];function ake(t=!1,e){return t&&!ike.includes(e)}function ske(t,e="",r=!1){const n=UV[t],i=n&&n[e]||e;return"on"+c6(t)+c6(i)+(ake(r,i)?"Capture":"")}const oke=["gotpointercapture","lostpointercapture"];function Ake(t){let e=t.substring(2).toLowerCase();const r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));const n=oke.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:r}}function lke(t,e=""){const r=UV[t],n=r&&r[e]||e;return t+n}function Lx(t){return"touches"in t}function RV(t){return Lx(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function cke(t){return Array.from(t.touches).filter(e=>{var r,n;return e.target===t.currentTarget||((r=t.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,e.target))})}function uke(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function DV(t){return Lx(t)?uke(t)[0]:t}function b_(t,e){try{const r=e.clientX-t.clientX,n=e.clientY-t.clientY,i=(e.clientX+t.clientX)/2,a=(e.clientY+t.clientY)/2,s=Math.hypot(r,n);return{angle:-(Math.atan2(r,n)*180)/Math.PI,distance:s,origin:[i,a]}}catch(r){}return null}function fke(t){return cke(t).map(e=>e.identifier)}function u6(t,e){const[r,n]=Array.from(t.touches).filter(i=>e.includes(i.identifier));return b_(r,n)}function OC(t){const e=DV(t);return Lx(t)?e.identifier:e.pointerId}function sp(t){const e=DV(t);return[e.clientX,e.clientY]}const f6=40,h6=800;function MV(t){let{deltaX:e,deltaY:r,deltaMode:n}=t;return n===1?(e*=f6,r*=f6):n===2&&(e*=h6,r*=h6),[e,r]}function hke(t){var e,r;const{scrollX:n,scrollY:i,scrollLeft:a,scrollTop:s}=t.currentTarget;return[(e=n!=null?n:a)!==null&&e!==void 0?e:0,(r=i!=null?i:s)!==null&&r!==void 0?r:0]}function dke(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a}=t;Object.assign(e,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a})}return e}function kb(t,...e){return typeof t=="function"?t(...e):t}function pke(){}function gke(...t){return t.length===0?pke:t.length===1?t[0]:function(){let e;for(const r of t)e=r.apply(this,arguments)||e;return e}}function d6(t,e){return Object.assign({},e,t||{})}const mke=32;class NV{constructor(e,r,n){this.ctrl=e,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:r,ingKey:n,args:i}=this;r[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=e.target,r.currentTarget=e.currentTarget,r.lastOffset=n.from?kb(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=e.timeStamp)}computeValues(e){const r=this.state;r._values=e,r.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:r,config:n,shared:i}=this;r.args=this.args;let a=0;if(e&&(r.event=e,n.preventDefault&&e.cancelable&&r.event.preventDefault(),r.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,dke(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=e.timeStamp-r.timeStamp,r.timeStamp=e.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const E=r._delta.map(Math.abs);tn.addTo(r._distance,E)}this.axisIntent&&this.axisIntent(e);const[s,o]=r._movement,[A,l]=n.threshold,{_step:c,values:u}=r;if(n.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(s)>=A&&u[0]),c[1]===!1&&(c[1]=Math.abs(o)>=l&&u[1])):(c[0]===!1&&(c[0]=Math.abs(s)>=A&&Math.sign(s)*A),c[1]===!1&&(c[1]=Math.abs(o)>=l&&Math.sign(o)*l)),r.intentional=c[0]!==!1||c[1]!==!1,!r.intentional)return;const f=[0,0];if(n.hasCustomTransform){const[E,C]=u;f[0]=c[0]!==!1?E-c[0]:0,f[1]=c[1]!==!1?C-c[1]:0}else f[0]=c[0]!==!1?s-c[0]:0,f[1]=c[1]!==!1?o-c[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(f);const h=r.offset,d=r._active&&!r._blocked||r.active;d&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=i[this.ingKey]=r._active,e&&(r.first&&("bounds"in n&&(r._bounds=kb(n.bounds,r)),this.setup&&this.setup()),r.movement=f,this.computeOffset()));const[p,g]=r.offset,[[v,y],[w,S]]=r._bounds;r.overflow=[p<v?-1:p>y?1:0,g<w?-1:g>S?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const x=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=tke(r._bounds,r.offset,x),r.delta=tn.sub(r.offset,h),this.computeMovement(),d&&(!r.last||a>mke)){r.delta=tn.sub(r.offset,h);const E=r.delta.map(Math.abs);tn.addTo(r.distance,E),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[E[0]/a,E[1]/a],r.timeDelta=a)}}emit(){const e=this.state,r=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(yn(yn(yn({},r),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function vke([t,e],r){const n=Math.abs(t),i=Math.abs(e);if(n>i&&n>r)return"x";if(i>n&&i>r)return"y"}class pv extends NV{constructor(...e){super(...e),ei(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=tn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=tn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const r=this.state,n=this.config;if(!r.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[RV(e)]:n.axisThreshold;r.axis=vke(r._movement,i)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const yke=t=>t,p6=.15,kV={enabled(t=!0){return t},eventOptions(t,e,r){return yn(yn({},r.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[p6,p6];case!1:return[0,0];default:return tn.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return tn.toVector(t)},transform(t,e,r){const n=t||r.shared.transform;return this.hasCustomTransform=!!n,n||yke},threshold(t){return tn.toVector(t,0)}},bke=0,zf=yn(yn({},kV),{},{axis(t,e,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(t=bke){return t},bounds(t={}){if(typeof t=="function")return a=>zf.bounds(t(a));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=t;return[[e,r],[n,i]]}}),g6={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class wke extends pv{constructor(...e){super(...e),ei(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const r=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),i={left:r.left-n.left+e.offset[0],right:r.right-n.right+e.offset[0],top:r.top-n.top+e.offset[1],bottom:r.bottom-n.bottom+e.offset[1]};e._bounds=zf.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const r=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(e.buttons):r.pointerButtons!==-1&&r.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);r.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=OC(e),n._pointerActive=!0,this.computeValues(sp(e)),this.computeInitial(),r.preventScrollAxis&&RV(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):r.delay>0?(this.setupDelayTrigger(e),r.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const r=this.state,n=this.config;if(!r._pointerActive)return;const i=OC(e);if(r._pointerId!==void 0&&i!==r._pointerId)return;const a=sp(e);if(document.pointerLockElement===e.target?r._delta=[e.movementX,e.movementY]:(r._delta=tn.sub(a,r._values),this.computeValues(a)),tn.addTo(r._movement,r._delta),this.compute(e),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(o){}const r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;const i=OC(e);if(r._pointerId!==void 0&&i!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,s]=r._distance;if(r.tap=a<=n.tapsThreshold&&s<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{const[o,A]=r._delta,[l,c]=r._movement,[u,f]=n.swipe.velocity,[h,d]=n.swipe.distance,p=n.swipe.duration;if(r.elapsedTime<p){const g=Math.abs(o/r.timeDelta),v=Math.abs(A/r.timeDelta);g>u&&Math.abs(l)>h&&(r.swipe[0]=Math.sign(o)),v>f&&Math.abs(c)>d&&(r.swipe[1]=Math.sign(A))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const r=this.config,n=r.device;r.pointerLock&&e.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,xke(e);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const r=g6[e.key];if(r){const n=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=r(this.config.keyboardDisplacement,i),n._keyboardActive=!0,tn.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in g6&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const r=this.config.device;e(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(r,"change",this.pointerMove.bind(this)),e(r,"end",this.pointerUp.bind(this)),e(r,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function xke(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const gv=typeof window!="undefined"&&window.document&&window.document.createElement;function QV(){return gv&&"ontouchstart"in window}function Eke(){return QV()||gv&&window.navigator.maxTouchPoints>1}function Bke(){return gv&&"onpointerdown"in window}function Cke(){return gv&&"exitPointerLock"in window.document}function Ske(){try{return"constructor"in GestureEvent}catch(t){return!1}}const qs={isBrowser:gv,gesture:Ske(),touch:QV(),touchscreen:Eke(),pointer:Bke(),pointerLock:Cke()},Tke=250,_ke=180,Lke=.5,Ike=50,Oke=250,Fke=10,m6={mouse:0,touch:0,pen:8},Pke=yn(yn({},zf),{},{device(t,e,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&qs.pointerLock,qs.touch&&r?"touch":this.pointerLock?"mouse":qs.pointer&&!i?"pointer":qs.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&t?Tke:void 0,!(!qs.touchscreen||r===!1))return t||(r!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&r},threshold(t,e,{filterTaps:r=!1,tapsThreshold:n=3,axis:i=void 0}){const a=tn.toVector(t,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:t=Lke,distance:e=Ike,duration:r=Oke}={}){return{velocity:this.transform(tn.toVector(t)),distance:this.transform(tn.toVector(e)),duration:r}},delay(t=0){switch(t){case!0:return _ke;case!1:return 0;default:return t}},axisThreshold(t){return t?yn(yn({},m6),t):m6},keyboardDisplacement(t=Fke){return t}});function HV(t){const[e,r]=t.overflow,[n,i]=t._delta,[a,s]=t._direction;(e<0&&n>0&&a<0||e>0&&n<0&&a>0)&&(t._movement[0]=t._movementBound[0]),(r<0&&i>0&&s<0||r>0&&i<0&&s>0)&&(t._movement[1]=t._movementBound[1])}const Uke=30,Rke=100;class Dke extends NV{constructor(...e){super(...e),ei(this,"ingKey","pinching"),ei(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:r,lastOffset:n}=this.state;e==="wheel"?this.state.offset=tn.add(r,n):this.state.offset=[(1+r[0])*n[0],r[1]+n[1]]}computeMovement(){const{offset:e,lastOffset:r}=this.state;this.state.movement=[e[0]/r[0],e[1]-r[1]]}axisIntent(){const e=this.state,[r,n]=e._movement;if(!e.axis){const i=Math.abs(r)*Uke-Math.abs(n);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const r=this.state,n=this.ctrl.touchIds;if(r._active&&r._touchIds.every(a=>n.has(a))||n.size<2)return;this.start(e),r._touchIds=Array.from(n).slice(0,2);const i=u6(e,r._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const r=this.state,n=r._pointerEvents,i=this.ctrl.pointerIds;if(r._active&&Array.from(n.keys()).every(s=>i.has(s))||(n.size<2&&n.set(e.pointerId,e),r._pointerEvents.size<2))return;this.start(e);const a=b_(...Array.from(n.values()));a&&this.pinchStart(e,a)}pinchStart(e,r){const n=this.state;n.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const r=u6(e,this.state._touchIds);r&&this.pinchMove(e,r)}pointerMove(e){const r=this.state._pointerEvents;if(r.has(e.pointerId)&&r.set(e.pointerId,e),!this.state._active)return;const n=b_(...Array.from(r.values()));n&&this.pinchMove(e,n)}pinchMove(e,r){const n=this.state,i=n._values[1],a=r.angle-i;let s=0;Math.abs(a)>270&&(s+=Math.sign(a)),this.computeValues([r.distance,r.angle-360*s]),n.origin=r.origin,n.turns=s,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const r=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}r._pointerEvents.has(e.pointerId)&&r._pointerEvents.delete(e.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const r=this.state;r._active||(this.start(e),this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY];const n=r._movement;r._movement=[e.scale-1,e.rotation],r._delta=tn.sub(r._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(n=>e[n]):!e[r])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const n=this.state;n._delta=[-MV(e)[1]/Rke*n.offset[0],0],tn.addTo(n._movement,n._delta),HV(n),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const r=this.config.device;r&&(e(r,"start",this[r+"Start"].bind(this)),e(r,"change",this[r+"Move"].bind(this)),e(r,"end",this[r+"End"].bind(this)),e(r,"cancel",this[r+"End"].bind(this)),e("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const Mke=yn(yn({},kV),{},{device(t,e,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!qs.touch&&qs.gesture)return"gesture";if(qs.touch&&n)return"touch";if(qs.touchscreen){if(qs.pointer)return"pointer";if(qs.touch)return"touch"}},bounds(t,e,{scaleBounds:r={},angleBounds:n={}}){const i=s=>{const o=d6(kb(r,s),{min:-1/0,max:1/0});return[o.min,o.max]},a=s=>{const o=d6(kb(n,s),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof r!="function"&&typeof n!="function"?[i(),a()]:s=>[i(s),a(s)]},threshold(t,e,r){return this.lockDirection=r.axis==="lock",tn.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class Nke extends pv{constructor(...e){super(...e),ei(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(sp(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const r=sp(e),n=this.state;n._delta=tn.sub(r,n._values),tn.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const kke=yn(yn({},zf),{},{mouseOnly:(t=!0)=>t});class Qke extends pv{constructor(...e){super(...e),ei(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const r=this.state,n=hke(e);r._delta=tn.sub(n,r._values),tn.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const Hke=zf;class $ke extends pv{constructor(...e){super(...e),ei(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const r=this.state;r._delta=MV(e),tn.addTo(r._movement,r._delta),HV(r),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const jke=zf;class Gke extends pv{constructor(...e){super(...e),ei(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(sp(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const r=this.state;if(!r._active)return;r._active=!1;const n=sp(e);r._movement=r._delta=tn.sub(n,r._values),this.computeValues(n),this.compute(e),r.delta=r.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const Kke=yn(yn({},zf),{},{mouseOnly:(t=!0)=>t}),FL=new Map,w_=new Map;function kGe(t){FL.set(t.key,t.engine),w_.set(t.key,t.resolver)}const QGe={key:"drag",engine:wke,resolver:Pke},HGe={key:"hover",engine:Gke,resolver:Kke},$Ge={key:"move",engine:Nke,resolver:kke},jGe={key:"pinch",engine:Dke,resolver:Mke},GGe={key:"scroll",engine:Qke,resolver:Hke},KGe={key:"wheel",engine:$ke,resolver:jke};function Vke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Wke(t,e){if(t==null)return{};var r=Vke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const zke={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=qs.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Yke=["target","eventOptions","window","enabled","transform"];function r2(t={},e){const r={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":r[n]=i.call(r,t[n],n,t);break;case"object":r[n]=r2(t[n],i);break;case"boolean":i&&(r[n]=t[n]);break}return r}function qke(t,e,r={}){const n=t,{target:i,eventOptions:a,window:s,enabled:o,transform:A}=n,l=Wke(n,Yke);if(r.shared=r2({target:i,eventOptions:a,window:s,enabled:o,transform:A},zke),e){const c=w_.get(e);r[e]=r2(yn({shared:r.shared},l),c)}else for(const c in l){const u=w_.get(c);u&&(r[c]=r2(yn({shared:r.shared},l[c]),u))}return r}class $V{constructor(e,r){ei(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=r}add(e,r,n,i,a){const s=this._listeners,o=lke(r,n),A=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=yn(yn({},A),a);e.addEventListener(o,i,l);const c=()=>{e.removeEventListener(o,i,l),s.delete(c)};return s.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Xke{constructor(){ei(this,"_timeouts",new Map)}add(e,r,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(r,n,...i))}remove(e){const r=this._timeouts.get(e);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class VGe{constructor(e){ei(this,"gestures",new Set),ei(this,"_targetEventStore",new $V(this)),ei(this,"gestureEventStores",{}),ei(this,"gestureTimeoutStores",{}),ei(this,"handlers",{}),ei(this,"config",{}),ei(this,"pointerIds",new Set),ei(this,"touchIds",new Set),ei(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Jke(this,e)}setEventIds(e){if(Lx(e))return this.touchIds=new Set(fke(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,r){this.handlers=e,this.nativeHandlers=r}applyConfig(e,r){this.config=qke(e,r,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const r=this.config.shared,n={};let i;if(!(r.target&&(i=r.target(),!i))){if(r.enabled){for(const s of this.gestures){const o=this.config[s],A=v6(n,o.eventOptions,!!i);if(o.enabled){const l=FL.get(s);new l(this,e,s).bind(A)}}const a=v6(n,r.eventOptions,!!i);for(const s in this.nativeHandlers)a(s,"",o=>this.nativeHandlers[s](yn(yn({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const a in n)n[a]=gke(...n[a]);if(!i)return n;for(const a in n){const{device:s,capture:o,passive:A}=Ake(a);this._targetEventStore.add(i,s,"",n[a],{capture:o,passive:A})}}}}function Rh(t,e){t.gestures.add(e),t.gestureEventStores[e]=new $V(t,e),t.gestureTimeoutStores[e]=new Xke}function Jke(t,e){e.drag&&Rh(t,"drag"),e.wheel&&Rh(t,"wheel"),e.scroll&&Rh(t,"scroll"),e.move&&Rh(t,"move"),e.pinch&&Rh(t,"pinch"),e.hover&&Rh(t,"hover")}const v6=(t,e,r)=>(n,i,a,s={},o=!1)=>{var A,l;const c=(A=s.capture)!==null&&A!==void 0?A:e.capture,u=(l=s.passive)!==null&&l!==void 0?l:e.passive;let f=o?n:ske(n,i,c);r&&u&&(f+="Passive"),t[f]=t[f]||[],t[f].push(a)},Zke=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function e8e(t){const e={},r={},n=new Set;for(let i in t)Zke.test(i)?(n.add(RegExp.lastMatch),r[i]=t[i]):e[i]=t[i];return[r,e,n]}function Dh(t,e,r,n,i,a){if(!t.has(r)||!FL.has(n))return;const s=r+"Start",o=r+"End",A=l=>{let c;return l.first&&s in e&&e[s](l),r in e&&(c=e[r](l)),l.last&&o in e&&e[o](l),c};i[n]=A,a[n]=a[n]||{}}function WGe(t,e){const[r,n,i]=e8e(t),a={};return Dh(i,r,"onDrag","drag",a,e),Dh(i,r,"onWheel","wheel",a,e),Dh(i,r,"onScroll","scroll",a,e),Dh(i,r,"onPinch","pinch",a,e),Dh(i,r,"onMove","move",a,e),Dh(i,r,"onHover","hover",a,e),{handlers:a,config:e,nativeHandlers:n}}function F0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x_(t,e){return x_=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},x_(t,e)}function t8e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function r8e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],A=e[5],l=e[6],c=e[7],u=e[8];return n*o*u+i*A*l+a*s*c-a*o*l-i*s*u-n*A*c}function y6(t,e){for(var r=[],n=t.toArray(),i=e.toArray(),a=0;a<n.length;a++)r[a]=n[a]+i[a];return new Uy().fromArray(r)}function n8e(t){if(Array.isArray(t))return t}function i8e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(A){a=!0,o=A}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jV(t,e){if(t){if(typeof t=="string")return E_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E_(t,e)}}function a8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NA(t,e){return n8e(t)||i8e(t,e)||jV(t,e)||a8e()}function s8e(t){if(Array.isArray(t))return E_(t)}function o8e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qb(t){return s8e(t)||o8e(t)||jV(t)||A8e()}function n2(t,e,r){return t8e()?n2=Reflect.construct:n2=function(i,a,s){var o=[null];o.push.apply(o,a);var A=Function.bind.apply(i,o),l=new A;return s&&x_(l,s.prototype),l},n2.apply(null,arguments)}function l8e(t){var e=NA(t[0],2),r=e[0],n=e[1],i=NA(t[1],2),a=i[0],s=i[1],o=NA(t[2],2),A=o[0],l=o[1];return r8e(r,n,1,a,s,1,A,l,1)}function c8e(t){return l8e(t)===0}var u8e=new Sf,f8e=new Sf;function b6(t){var e=t.map(function(l){return Array.isArray(l)?n2(Sf,Qb(l)):l}),r=NA(e,3),n=r[0],i=r[1],a=r[2];if(c8e(t))return!1;var s=u8e.subVectors(i,n),o=f8e.subVectors(a,n),A=o.cross(s);return A>0}function GV(t,e,r){return Math.max(e,Math.min(r,t))}function KV(t,e){return GV(t-Math.floor(t/e)*e,0,e)}function VV(t,e){var r=KV(e-t,Math.PI*2);return r>Math.PI&&(r-=Math.PI*2),r}function h8e(t){return t/180*Math.PI}function d8e(t){return t*180/Math.PI}function p8e(t,e){for(var r=e.radius,n=r===void 0?1:r,i=t.length/3,a=2/i,s=Math.PI*(3-2.2360679775),o=0;o<t.length;o+=3){var A=o*a-1+a/2,l=Math.sqrt(1-Math.pow(A,2)),c=o%i*s,u=Math.cos(c)*l,f=Math.sin(c)*l;t[o]=u*n,t[o+1]=A*n,t[o+2]=f*n}}function g8e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.EPSILON;return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r&&Math.abs(t.z-e.z)<r}function WV(t,e){return t.x===e.x?typeof t.z!="undefined"&&t.y===e.y?t.z-e.z:t.y-e.y:t.x-e.x}function m8e(t){for(var e=t.sort(WV),r=[e[0],e[1]],n=2;n<e.length;n++)for(r.push(e[n]);r.length>2&&b6(Qb(r.slice(-3)));)r.splice(r.length-2,1);for(var i=[e[e.length-1],e[e.length-2]],a=e.length-3;a>=0;a--)for(i.push(e[a]);i.length>2&&b6(Qb(i.slice(-3)));)i.splice(i.length-2,1);i.splice(0,1),i.splice(i.length-1,1);var s=[].concat(r,i);return s}function v8e(t,e,r){var n=NA(e,2),i=n[0],a=n[1],s=NA(r,2),o=s[0],A=s[1];return o+(t-i)*(A-o)/(a-i)}function y8e(t){return t*t*t*(t*(t*6-15)+10)}function b8e(t,e,r){return t*(1-r)+e*r}function zV(t,e,r){return(r-t)/(e-t)}function w8e(t,e,r){var n=Math.sqrt(t*t+e*e+r*r);return[t/n,e/n,r/n]}function x8e(t,e,r){var n=t*t,i=e*e,a=r*r,s=t*Math.sqrt(1-(i+a)/2+i*a/3),o=e*Math.sqrt(1-(a+n)/2+a*n/3),A=r*Math.sqrt(1-(n+i)/2+n*i/3);return[s,o,A]}function YV(t,e){var r=new Vi().crossVectors(t,e),n=t.dot(e),i=new Uy().identity(),a=new Uy().set(0,-r.z,r.y,r.z,0,-r.x,-r.y,r.x,0),s=new Uy().multiplyMatrices(a,a).multiplyScalar(1/(1+n)),o=y6(y6(i,a),s);return o}function E8e(t,e,r){var n=Math.asin(e),i=Math.atan2(t,-r);return[n,i]}function B8e(t,e){var r=Math.sin(t),n=Math.cos(t),i=Math.sin(e)*n,a=-Math.cos(e)*n;return[i,r,a]}function C8e(t,e){var r=NA(e,2),n=r[0],i=r[1],a=YV(t.normal,new Vi(0,1,0)),s=zV(n.clone().applyMatrix3(a).y,i.clone().applyMatrix3(a).y,0);return new Vi().lerpVectors(n,i,s)}function S8e(t,e){var r=e.normal.dot(t);return r}function T8e(t,e){var r=NA(t,3),n=r[0],i=r[1],a=r[2],s=NA(e,2),o=s[0],A=s[1];return a*o*A+i*o+n}function _8e(t,e){var r=NA(e,2),n=r[0],i=r[1],a=n*i,s=t/a,o=t-a*s,A=o/n,l=o%n;return[l,A,s]}function L8e(t,e){return t[0]+e[0]*t[1]}function I8e(t,e){var r=t%e,n=Math.floor(t/e);return[r,n]}var zGe=Object.freeze({__proto__:null,clamp:GV,repeat:KV,deltaAngle:VV,degToRad:h8e,radToDeg:d8e,fibonacciOnSphere:p8e,vectorEquals:g8e,lexicographic:WV,convexHull:m8e,remap:v8e,fade:y8e,lerp:b8e,inverseLerp:zV,normalize:w8e,pointOnCubeToPointOnSphere:x8e,rotateVectorOnVector:YV,pointToCoordinate:E8e,coordinateToPoint:B8e,planeSegmentIntersection:C8e,pointToPlaneDistance:S8e,getIndexFrom3D:T8e,get3DFromIndex:_8e,getIndexFrom2D:L8e,get2DFromIndex:I8e});function qV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var js=function t(e,r,n){var i=this;qV(this,t),F0(this,"dot2",function(a,s){return i.x*a+i.y*s}),F0(this,"dot3",function(a,s,o){return i.x*a+i.y*s+i.z*o}),this.x=e,this.y=r,this.z=n},O8e=[new js(1,1,0),new js(-1,1,0),new js(1,-1,0),new js(-1,-1,0),new js(1,0,1),new js(-1,0,1),new js(1,0,-1),new js(-1,0,-1),new js(0,1,1),new js(0,-1,1),new js(0,1,-1),new js(0,-1,-1)],w6=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],x6=new Array(512),E6=new Array(512),F8e=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var r=0;r<256;r++){var n;r&1?n=w6[r]^e&255:n=w6[r]^e>>8&255,x6[r]=x6[r+256]=n,E6[r]=E6[r+256]=O8e[n%12]}};F8e(0);function P8e(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var r=0;r<e.length;r++)t=(t+(r+1)*(e.charCodeAt(r)%96))%2147483647}return t===0&&(t=311),t}function B6(t){var e=P8e(t);return function(){var r=e*48271%2147483647;return e=r,r/2147483647}}var U8e=function t(e){var r=this;qV(this,t),F0(this,"seed",0),F0(this,"init",function(n){r.seed=n,r.value=B6(n)}),F0(this,"value",B6(this.seed)),this.init(e)};new U8e(Math.random());var R8e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return n/Math.atan(1/r)*Math.atan(Math.sin(2*Math.PI*e*i)/r)},XV=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},D8e=function(e){return e},M8e={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},N8e={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},k8e={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},Q8e={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},H8e={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},$8e={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function mi(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:XV,o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,A="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[A]===void 0&&(t.__damp[A]=0),Math.abs(t[e]-r)<=o)return t[e]=r,!1;n=Math.max(1e-4,n);var l=2/n,c=s(l*i),u=t[e]-r,f=r,h=a*n;u=Math.min(Math.max(u,-h),h),r=t[e]-u;var d=(t.__damp[A]+l*u)*i;t.__damp[A]=(t.__damp[A]-l*d)*c;var p=r+(u+d)*c;return f-t[e]>0==p>f&&(p=f,t.__damp[A]=(p-f)/i),t[e]=p,!0}var j8e=function(e){return e&&e.isCamera},G8e=function(e){return e&&e.isLight},$g=new Vi,C6=new Qm,S6=new Qm,jg=new A4,FC=new Vi;function K8e(t,e,r,n,i,a,s){typeof e=="number"?$g.setScalar(e):Array.isArray(e)?$g.set(e[0],e[1],e[2]):$g.copy(e);var o=t.parent;t.updateWorldMatrix(!0,!1),FC.setFromMatrixPosition(t.matrixWorld),j8e(t)||G8e(t)?jg.lookAt(FC,$g,t.up):jg.lookAt($g,FC,t.up),Hb(t.quaternion,S6.setFromRotationMatrix(jg),r,n,i,a,s),o&&(jg.extractRotation(o.matrixWorld),C6.setFromRotationMatrix(jg),Hb(t.quaternion,S6.copy(t.quaternion).premultiply(C6.invert()),r,n,i,a,s))}function Cd(t,e,r,n,i,a,s,o){return mi(t,e,t[e]+VV(t[e],r),n,i,a,s,o)}var Gg=new Sf,T6,_6;function V8e(t,e,r,n,i,a,s){return typeof e=="number"?Gg.setScalar(e):Array.isArray(e)?Gg.set(e[0],e[1]):Gg.copy(e),T6=mi(t,"x",Gg.x,r,n,i,a,s),_6=mi(t,"y",Gg.y,r,n,i,a,s),T6||_6}var Mh=new Vi,L6,I6,O6;function B_(t,e,r,n,i,a,s){return typeof e=="number"?Mh.setScalar(e):Array.isArray(e)?Mh.set(e[0],e[1],e[2]):Mh.copy(e),L6=mi(t,"x",Mh.x,r,n,i,a,s),I6=mi(t,"y",Mh.y,r,n,i,a,s),O6=mi(t,"z",Mh.z,r,n,i,a,s),L6||I6||O6}var Hu=new dw,F6,P6,U6,R6;function W8e(t,e,r,n,i,a,s){return typeof e=="number"?Hu.setScalar(e):Array.isArray(e)?Hu.set(e[0],e[1],e[2],e[3]):Hu.copy(e),F6=mi(t,"x",Hu.x,r,n,i,a,s),P6=mi(t,"y",Hu.y,r,n,i,a,s),U6=mi(t,"z",Hu.z,r,n,i,a,s),R6=mi(t,"w",Hu.w,r,n,i,a,s),F6||P6||U6||R6}var Kg=new hX,D6,M6,N6;function z8e(t,e,r,n,i,a,s){return Array.isArray(e)?Kg.set(e[0],e[1],e[2],e[3]):Kg.copy(e),D6=Cd(t,"x",Kg.x,r,n,i,a,s),M6=Cd(t,"y",Kg.y,r,n,i,a,s),N6=Cd(t,"z",Kg.z,r,n,i,a,s),D6||M6||N6}var Nh=new m0,k6,Q6,H6;function Y8e(t,e,r,n,i,a,s){return e instanceof m0?Nh.copy(e):Array.isArray(e)?Nh.setRGB(e[0],e[1],e[2]):Nh.set(e),k6=mi(t,"r",Nh.r,r,n,i,a,s),Q6=mi(t,"g",Nh.g,r,n,i,a,s),H6=mi(t,"b",Nh.b,r,n,i,a,s),k6||Q6||H6}var Lo=new Qm,El=new dw,$6=new dw,Vg=new dw,j6,G6,K6,V6;function Hb(t,e,r,n,i,a,s){var o=t;Array.isArray(e)?Lo.set(e[0],e[1],e[2],e[3]):Lo.copy(e);var A=t.dot(Lo)>0?1:-1;return Lo.x*=A,Lo.y*=A,Lo.z*=A,Lo.w*=A,j6=mi(t,"x",Lo.x,r,n,i,a,s),G6=mi(t,"y",Lo.y,r,n,i,a,s),K6=mi(t,"z",Lo.z,r,n,i,a,s),V6=mi(t,"w",Lo.w,r,n,i,a,s),El.set(t.x,t.y,t.z,t.w).normalize(),$6.set(o.__damp.velocity_x,o.__damp.velocity_y,o.__damp.velocity_z,o.__damp.velocity_w),Vg.copy(El).multiplyScalar($6.dot(El)/El.dot(El)),o.__damp.velocity_x-=Vg.x,o.__damp.velocity_y-=Vg.y,o.__damp.velocity_z-=Vg.z,o.__damp.velocity_w-=Vg.w,t.set(El.x,El.y,El.z,El.w),j6||G6||K6||V6}var Wg=new fX,W6,z6,Y6;function q8e(t,e,r,n,i,a,s){return Array.isArray(e)?Wg.set(e[0],e[1],e[2]):Wg.copy(e),W6=mi(t,"radius",Wg.radius,r,n,i,a,s),z6=Cd(t,"phi",Wg.phi,r,n,i,a,s),Y6=Cd(t,"theta",Wg.theta,r,n,i,a,s),W6||z6||Y6}var cy=new A4,q6=new Vi,X6=new Qm,J6=new Vi,Z6,ek,tk;function X8e(t,e,r,n,i,a,s){var o=t;return o.__damp===void 0&&(o.__damp={position:new Vi,rotation:new Qm,scale:new Vi},t.decompose(o.__damp.position,o.__damp.rotation,o.__damp.scale)),Array.isArray(e)?cy.set.apply(cy,Qb(e)):cy.copy(e),cy.decompose(q6,X6,J6),Z6=B_(o.__damp.position,q6,r,n,i,a,s),ek=Hb(o.__damp.rotation,X6,r,n,i,a,s),tk=B_(o.__damp.scale,J6,r,n,i,a,s),t.compose(o.__damp.position,o.__damp.rotation,o.__damp.scale),Z6||ek||tk}var YGe=Object.freeze({__proto__:null,rsqw:R8e,exp:XV,linear:D8e,sine:M8e,cubic:N8e,quint:k8e,circ:Q8e,quart:H8e,expo:$8e,damp:mi,dampLookAt:K8e,dampAngle:Cd,damp2:V8e,damp3:B_,damp4:W8e,dampE:z8e,dampC:Y8e,dampQ:Hb,dampS:q8e,dampM:X8e});const J8e=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(s,o,A)=>{let l=s;if(o){const c=(A==null?void 0:A.equalityFn)||Object.is;let u=s(n.getState());l=f=>{const h=s(f);if(!c(u,h)){const d=u;o(u=h,d)}},A!=null&&A.fireImmediately&&o(u,u)}return i(l)},t(e,r,n)},qGe=J8e,rk=t=>Symbol.iterator in t,nk=t=>"entries"in t,ik=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[i,a]of r)if(!Object.is(a,n.get(i)))return!1;return!0},Z8e=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let i=r.next(),a=n.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=r.next(),a=n.next()}return!!i.done&&!!a.done};function XGe(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:!rk(t)||!rk(e)?ik({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)}):nk(t)&&nk(e)?ik(t,e):Z8e(t,e)}function eQe(){var t=Object.create(null);function e(i,a){var s=i.id,o=i.name,A=i.dependencies;A===void 0&&(A=[]);var l=i.init;l===void 0&&(l=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[s])try{A=A.map(function(f){return f&&f.isWorkerModule&&(e(f,function(h){if(h instanceof Error)throw h}),f=t[f.id].value),f}),l=n("<"+o+">.init",l),c&&(c=n("<"+o+">.getTransferables",c));var u=null;typeof l=="function"?u=l.apply(void 0,A):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:u,getTransferables:c},a(u)}catch(f){f&&f.noLog||console.error(f),a(f)}}function r(i,a){var s,o=i.id,A=i.args;(!t[o]||typeof t[o].value!="function")&&a(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var l=(s=t[o]).value.apply(s,A);l&&typeof l.then=="function"?l.then(c,function(u){return a(u instanceof Error?u:new Error(""+u))}):c(l)}catch(u){a(u)}function c(u){try{var f=t[o].getTransferables&&t[o].getTransferables(u);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),a(u,f)}catch(h){console.error(h),a(h)}}}function n(i,a){var s=void 0;self.troikaDefine=function(A){return s=A};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(A){console.error(A)}return URL.revokeObjectURL(o),delete self.troikaDefine,s}self.addEventListener("message",function(i){var a=i.data,s=a.messageId,o=a.action,A=a.data;try{o==="registerModule"&&e(A,function(l){l instanceof Error?postMessage({messageId:s,success:!1,error:l.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof l=="function"}})}),o==="callModule"&&r(A,function(l,c){l instanceof Error?postMessage({messageId:s,success:!1,error:l.message}):postMessage({messageId:s,success:!0,result:l},c||void 0)})}catch(l){postMessage({messageId:s,success:!1,error:l.stack})}})}function tQe(t){var e=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,r);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var r=t.dependencies,n=t.init;r=Array.isArray(r)?r.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(r).then(function(a){return n.apply(null,a)});return e._getInitResult=function(){return i},i},e}var JV=function(){var t=!1;if(typeof window!="undefined"&&typeof window.document!="undefined")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(r){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+r.message+"]")}return JV=function(){return t},t},rQe=0,nQe=0,PC=!1,P0=Object.create(null),U0=Object.create(null),C_=Object.create(null);function iQe(t){if((!t||typeof t.init!="function")&&!PC)throw new Error("requires `options.init` function");var e=t.dependencies,r=t.init,n=t.getTransferables,i=t.workerId,a=tQe(t);i==null&&(i="#default");var s="workerModule"+ ++rQe,o=t.name||s,A=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(PC=!0,c=iQe({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+i2(c)+`
)}`}),PC=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!JV())return a.apply(void 0,c);if(!A){A=ak(i,"registerModule",l.workerModuleData);var f=function(){A=null,U0[i].delete(f)};(U0[i]||(U0[i]=new Set)).add(f)}return A.then(function(h){var d=h.isCallable;if(d)return ak(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:i2(r),getTransferables:n&&i2(n)},l.onMainThread=a,l}function JGe(t){U0[t]&&U0[t].forEach(function(e){e()}),P0[t]&&(P0[t].terminate(),delete P0[t])}function i2(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function aQe(t){var e=P0[t];if(!e){var r=i2(eQe);e=P0[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+r+")()"],{type:"application/javascript"}))),e.onmessage=function(n){var i=n.data,a=i.messageId,s=C_[a];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete C_[a],s(i)}}return e}function ak(t,e,r){return new Promise(function(n,i){var a=++nQe;C_[a]=function(s){s.success?n(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},aQe(t).postMessage({messageId:a,action:e,data:r})})}function ZGe(){var t=function(e){function r(H,W,Z,I,U,$,G,te){var ie=1-G;te.x=ie*ie*H+2*ie*G*Z+G*G*U,te.y=ie*ie*W+2*ie*G*I+G*G*$}function n(H,W,Z,I,U,$,G,te,ie,oe){var ne=1-ie;oe.x=ne*ne*ne*H+3*ne*ne*ie*Z+3*ne*ie*ie*U+ie*ie*ie*G,oe.y=ne*ne*ne*W+3*ne*ne*ie*I+3*ne*ie*ie*$+ie*ie*ie*te}function i(H,W){for(var Z=/([MLQCZ])([^MLQCZ]*)/g,I,U,$,G,te;I=Z.exec(H);){var ie=I[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(oe){return parseFloat(oe)});switch(I[1]){case"M":G=U=ie[0],te=$=ie[1];break;case"L":(ie[0]!==G||ie[1]!==te)&&W("L",G,te,G=ie[0],te=ie[1]);break;case"Q":{W("Q",G,te,G=ie[2],te=ie[3],ie[0],ie[1]);break}case"C":{W("C",G,te,G=ie[4],te=ie[5],ie[0],ie[1],ie[2],ie[3]);break}case"Z":(G!==U||te!==$)&&W("L",G,te,U,$);break}}}function a(H,W,Z){Z===void 0&&(Z=16);var I={x:0,y:0};i(H,function(U,$,G,te,ie,oe,ne,ye,me){switch(U){case"L":W($,G,te,ie);break;case"Q":{for(var se=$,Ie=G,Re=1;Re<Z;Re++)r($,G,oe,ne,te,ie,Re/(Z-1),I),W(se,Ie,I.x,I.y),se=I.x,Ie=I.y;break}case"C":{for(var le=$,ee=G,He=1;He<Z;He++)n($,G,oe,ne,ye,me,te,ie,He/(Z-1),I),W(le,ee,I.x,I.y),le=I.x,ee=I.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",A=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(H,W){var Z=H.getContext?H.getContext("webgl",l):H,I=A.get(Z);if(!I){let ne=function(le){var ee=$[le];if(!ee&&(ee=$[le]=Z.getExtension(le),!ee))throw new Error(le+" not supported");return ee},ye=function(le,ee){var He=Z.createShader(ee);return Z.shaderSource(He,le),Z.compileShader(He),He},me=function(le,ee,He,Ee){if(!G[le]){var Be={},Te={},pe=Z.createProgram();Z.attachShader(pe,ye(ee,Z.VERTEX_SHADER)),Z.attachShader(pe,ye(He,Z.FRAGMENT_SHADER)),Z.linkProgram(pe),G[le]={program:pe,transaction:function(Fe){Z.useProgram(pe),Fe({setUniform:function(Qe,Xe){for(var lt=[],et=arguments.length-2;et-- >0;)lt[et]=arguments[et+2];var Ye=Te[Xe]||(Te[Xe]=Z.getUniformLocation(pe,Xe));Z["uniform"+Qe].apply(Z,[Ye].concat(lt))},setAttribute:function(Qe,Xe,lt,et,Ye){var ot=Be[Qe];ot||(ot=Be[Qe]={buf:Z.createBuffer(),loc:Z.getAttribLocation(pe,Qe),data:null}),Z.bindBuffer(Z.ARRAY_BUFFER,ot.buf),Z.vertexAttribPointer(ot.loc,Xe,Z.FLOAT,!1,0,0),Z.enableVertexAttribArray(ot.loc),U?Z.vertexAttribDivisor(ot.loc,et):ne("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ot.loc,et),Ye!==ot.data&&(Z.bufferData(Z.ARRAY_BUFFER,Ye,lt),ot.data=Ye)}})}}}G[le].transaction(Ee)},se=function(le,ee){ie++;try{Z.activeTexture(Z.TEXTURE0+ie);var He=te[le];He||(He=te[le]=Z.createTexture(),Z.bindTexture(Z.TEXTURE_2D,He),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.NEAREST),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.NEAREST)),Z.bindTexture(Z.TEXTURE_2D,He),ee(He,ie)}finally{ie--}},Ie=function(le,ee,He){var Ee=Z.createFramebuffer();oe.push(Ee),Z.bindFramebuffer(Z.FRAMEBUFFER,Ee),Z.activeTexture(Z.TEXTURE0+ee),Z.bindTexture(Z.TEXTURE_2D,le),Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,le,0);try{He(Ee)}finally{Z.deleteFramebuffer(Ee),Z.bindFramebuffer(Z.FRAMEBUFFER,oe[--oe.length-1]||null)}},Re=function(){$={},G={},te={},ie=-1,oe.length=0};var U=typeof WebGL2RenderingContext!="undefined"&&Z instanceof WebGL2RenderingContext,$={},G={},te={},ie=-1,oe=[];Z.canvas.addEventListener("webglcontextlost",function(le){Re(),le.preventDefault()},!1),A.set(Z,I={gl:Z,isWebGL2:U,getExtension:ne,withProgram:me,withTexture:se,withTextureFramebuffer:Ie,handleContextLoss:Re})}W(I)}function u(H,W,Z,I,U,$,G,te){G===void 0&&(G=15),te===void 0&&(te=null),c(H,function(ie){var oe=ie.gl,ne=ie.withProgram,ye=ie.withTexture;ye("copy",function(me,se){oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,U,$,0,oe.RGBA,oe.UNSIGNED_BYTE,W),ne("copy",s,o,function(Ie){var Re=Ie.setUniform,le=Ie.setAttribute;le("aUV",2,oe.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Re("1i","image",se),oe.bindFramebuffer(oe.FRAMEBUFFER,te||null),oe.disable(oe.BLEND),oe.colorMask(G&8,G&4,G&2,G&1),oe.viewport(Z,I,U,$),oe.scissor(Z,I,U,$),oe.drawArrays(oe.TRIANGLES,0,3)})})})}function f(H,W,Z){var I=H.width,U=H.height;c(H,function($){var G=$.gl,te=new Uint8Array(I*U*4);G.readPixels(0,0,I,U,G.RGBA,G.UNSIGNED_BYTE,te),H.width=W,H.height=Z,u(G,te,0,0,I,U)})}var h=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:u,resizeWebGLCanvasWithoutClearing:f});function d(H,W,Z,I,U,$){$===void 0&&($=1);var G=new Uint8Array(H*W),te=I[2]-I[0],ie=I[3]-I[1],oe=[];a(Z,function(le,ee,He,Ee){oe.push({x1:le,y1:ee,x2:He,y2:Ee,minX:Math.min(le,He),minY:Math.min(ee,Ee),maxX:Math.max(le,He),maxY:Math.max(ee,Ee)})}),oe.sort(function(le,ee){return le.maxX-ee.maxX});for(var ne=0;ne<H;ne++)for(var ye=0;ye<W;ye++){var me=Ie(I[0]+te*(ne+.5)/H,I[1]+ie*(ye+.5)/W),se=Math.pow(1-Math.abs(me)/U,$)/2;me<0&&(se=1-se),se=Math.max(0,Math.min(255,Math.round(se*255))),G[ye*H+ne]=se}return G;function Ie(le,ee){for(var He=1/0,Ee=1/0,Be=oe.length;Be--;){var Te=oe[Be];if(Te.maxX+Ee<=le)break;if(le+Ee>Te.minX&&ee-Ee<Te.maxY&&ee+Ee>Te.minY){var pe=v(le,ee,Te.x1,Te.y1,Te.x2,Te.y2);pe<He&&(He=pe,Ee=Math.sqrt(He))}}return Re(le,ee)&&(Ee=-Ee),Ee}function Re(le,ee){for(var He=0,Ee=oe.length;Ee--;){var Be=oe[Ee];if(Be.maxX<=le)break;var Te=Be.y1>ee!=Be.y2>ee&&le<(Be.x2-Be.x1)*(ee-Be.y1)/(Be.y2-Be.y1)+Be.x1;Te&&(He+=Be.y1<Be.y2?1:-1)}return He!==0}}function p(H,W,Z,I,U,$,G,te,ie,oe){$===void 0&&($=1),te===void 0&&(te=0),ie===void 0&&(ie=0),oe===void 0&&(oe=0),g(H,W,Z,I,U,$,G,null,te,ie,oe)}function g(H,W,Z,I,U,$,G,te,ie,oe,ne){$===void 0&&($=1),ie===void 0&&(ie=0),oe===void 0&&(oe=0),ne===void 0&&(ne=0);for(var ye=d(H,W,Z,I,U,$),me=new Uint8Array(ye.length*4),se=0;se<ye.length;se++)me[se*4+ne]=ye[se];u(G,me,ie,oe,H,W,1<<3-ne,te)}function v(H,W,Z,I,U,$){var G=U-Z,te=$-I,ie=G*G+te*te,oe=ie?Math.max(0,Math.min(1,((H-Z)*G+(W-I)*te)/ie)):0,ne=H-(Z+oe*G),ye=W-(I+oe*te);return ne*ne+ye*ye}var y=Object.freeze({__proto__:null,generate:d,generateIntoCanvas:p,generateIntoFramebuffer:g}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",x="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),C=null,L=!1,O={},D=new WeakMap;function _(H){if(!L&&!z(H))throw new Error("WebGL generation not supported")}function F(H,W,Z,I,U,$,G){if($===void 0&&($=1),G===void 0&&(G=null),!G&&(G=C,!G)){var te=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document!="undefined"?document.createElement("canvas"):null;if(!te)throw new Error("OffscreenCanvas or DOM canvas not supported");G=C=te.getContext("webgl",{depth:!1})}_(G);var ie=new Uint8Array(H*W*4);c(G,function(me){var se=me.gl,Ie=me.withTexture,Re=me.withTextureFramebuffer;Ie("readable",function(le,ee){se.texImage2D(se.TEXTURE_2D,0,se.RGBA,H,W,0,se.RGBA,se.UNSIGNED_BYTE,null),Re(le,ee,function(He){M(H,W,Z,I,U,$,se,He,0,0,0),se.readPixels(0,0,H,W,se.RGBA,se.UNSIGNED_BYTE,ie)})})});for(var oe=new Uint8Array(H*W),ne=0,ye=0;ne<ie.length;ne+=4)oe[ye++]=ie[ne];return oe}function R(H,W,Z,I,U,$,G,te,ie,oe){$===void 0&&($=1),te===void 0&&(te=0),ie===void 0&&(ie=0),oe===void 0&&(oe=0),M(H,W,Z,I,U,$,G,null,te,ie,oe)}function M(H,W,Z,I,U,$,G,te,ie,oe,ne){$===void 0&&($=1),ie===void 0&&(ie=0),oe===void 0&&(oe=0),ne===void 0&&(ne=0),_(G);var ye=[];a(Z,function(me,se,Ie,Re){ye.push(me,se,Ie,Re)}),ye=new Float32Array(ye),c(G,function(me){var se=me.gl,Ie=me.isWebGL2,Re=me.getExtension,le=me.withProgram,ee=me.withTexture,He=me.withTextureFramebuffer,Ee=me.handleContextLoss;if(ee("rawDistances",function(Be,Te){(H!==Be._lastWidth||W!==Be._lastHeight)&&se.texImage2D(se.TEXTURE_2D,0,se.RGBA,Be._lastWidth=H,Be._lastHeight=W,0,se.RGBA,se.UNSIGNED_BYTE,null),le("main",w,S,function(pe){var Ue=pe.setAttribute,Fe=pe.setUniform,De=!Ie&&Re("ANGLE_instanced_arrays"),Qe=!Ie&&Re("EXT_blend_minmax");Ue("aUV",2,se.STATIC_DRAW,0,E),Ue("aLineSegment",4,se.DYNAMIC_DRAW,1,ye),Fe.apply(void 0,["4f","uGlyphBounds"].concat(I)),Fe("1f","uMaxDistance",U),Fe("1f","uExponent",$),He(Be,Te,function(Xe){se.enable(se.BLEND),se.colorMask(!0,!0,!0,!0),se.viewport(0,0,H,W),se.scissor(0,0,H,W),se.blendFunc(se.ONE,se.ONE),se.blendEquationSeparate(se.FUNC_ADD,Ie?se.MAX:Qe.MAX_EXT),se.clear(se.COLOR_BUFFER_BIT),Ie?se.drawArraysInstanced(se.TRIANGLES,0,3,ye.length/4):De.drawArraysInstancedANGLE(se.TRIANGLES,0,3,ye.length/4)})}),le("post",s,x,function(pe){pe.setAttribute("aUV",2,se.STATIC_DRAW,0,E),pe.setUniform("1i","tex",Te),se.bindFramebuffer(se.FRAMEBUFFER,te),se.disable(se.BLEND),se.colorMask(ne===0,ne===1,ne===2,ne===3),se.viewport(ie,oe,H,W),se.scissor(ie,oe,H,W),se.drawArrays(se.TRIANGLES,0,3)})}),se.isContextLost())throw Ee(),new Error("webgl context lost")})}function z(H){var W=!H||H===C?O:H.canvas||H,Z=D.get(W);if(Z===void 0){L=!0;var I=null;try{var U=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],$=F(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,H);Z=$&&U.length===$.length&&$.every(function(G,te){return G===U[te]}),Z||(I="bad trial run results",console.info(U,$))}catch(G){Z=!1,I=G.message}I&&console.warn("WebGL SDF generation not supported:",I),L=!1,D.set(W,Z)}return Z}var N=Object.freeze({__proto__:null,generate:F,generateIntoCanvas:R,generateIntoFramebuffer:M,isSupported:z});function Y(H,W,Z,I,U,$){U===void 0&&(U=Math.max(I[2]-I[0],I[3]-I[1])/2),$===void 0&&($=1);try{return F.apply(N,arguments)}catch(G){return console.info("WebGL SDF generation failed, falling back to JS",G),d.apply(y,arguments)}}function X(H,W,Z,I,U,$,G,te,ie,oe){U===void 0&&(U=Math.max(I[2]-I[0],I[3]-I[1])/2),$===void 0&&($=1),te===void 0&&(te=0),ie===void 0&&(ie=0),oe===void 0&&(oe=0);try{return R.apply(N,arguments)}catch(ne){return console.info("WebGL SDF generation failed, falling back to JS",ne),p.apply(y,arguments)}}return e.forEachPathCommand=i,e.generate=Y,e.generateIntoCanvas=X,e.javascript=y,e.pathToLineSegments=a,e.webgl=N,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function eKe(){var t=function(e){var r={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(r).forEach(function(Ee,Be){n[Ee]=1<<Be+1,i[n[Ee]]=Ee}),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,s=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,A=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|a|n.PDI|A,c=null;function u(){if(!c){c=new Map;var Ee=function(Te){if(r.hasOwnProperty(Te)){var pe=0;r[Te].split(",").forEach(function(Ue){var Fe=Ue.split("+"),De=Fe[0],Qe=Fe[1];De=parseInt(De,36),Qe=Qe?parseInt(Qe,36):0,c.set(pe+=De,n[Te]);for(var Xe=0;Xe<Qe;Xe++)c.set(++pe,n[Te])})}};for(var Be in r)Ee(Be)}}function f(Ee){return u(),c.get(Ee.codePointAt(0))||n.L}function h(Ee){return i[f(Ee)]}var d={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function p(Ee,Be){var Te=36,pe=0,Ue=new Map,Fe=Be&&new Map,De;return Ee.split(",").forEach(function Qe(Xe){if(Xe.indexOf("+")!==-1)for(var lt=+Xe;lt--;)Qe(De);else{De=Xe;var et=Xe.split(">"),Ye=et[0],ot=et[1];Ye=String.fromCodePoint(pe+=parseInt(Ye,Te)),ot=String.fromCodePoint(pe+=parseInt(ot,Te)),Ue.set(Ye,ot),Be&&Fe.set(ot,Ye)}}),{map:Ue,reverseMap:Fe}}var g,v,y;function w(){if(!g){var Ee=p(d.pairs,!0),Be=Ee.map,Te=Ee.reverseMap;g=Be,v=Te,y=p(d.canonical,!1).map}}function S(Ee){return w(),g.get(Ee)||null}function x(Ee){return w(),v.get(Ee)||null}function E(Ee){return w(),y.get(Ee)||null}var C=n.L,L=n.R,O=n.EN,D=n.ES,_=n.ET,F=n.AN,R=n.CS,M=n.B,z=n.S,N=n.ON,Y=n.BN,X=n.NSM,H=n.AL,W=n.LRO,Z=n.RLO,I=n.LRE,U=n.RLE,$=n.PDF,G=n.LRI,te=n.RLI,ie=n.FSI,oe=n.PDI;function ne(Ee,Be){for(var Te=125,pe=new Uint32Array(Ee.length),Ue=0;Ue<Ee.length;Ue++)pe[Ue]=f(Ee[Ue]);var Fe=new Map;function De(Ln,wa){var Vn=pe[Ln];pe[Ln]=wa,Fe.set(Vn,Fe.get(Vn)-1),Vn&o&&Fe.set(o,Fe.get(o)-1),Fe.set(wa,(Fe.get(wa)||0)+1),wa&o&&Fe.set(o,(Fe.get(o)||0)+1)}for(var Qe=new Uint8Array(Ee.length),Xe=new Map,lt=[],et=null,Ye=0;Ye<Ee.length;Ye++)et||lt.push(et={start:Ye,end:Ee.length-1,level:Be==="rtl"?1:Be==="ltr"?0:hA(Ye,!1)}),pe[Ye]&M&&(et.end=Ye,et=null);for(var ot=U|I|Z|W|a|oe|$|M,ze=function(Ln){return Ln+(Ln&1?1:2)},Xt=function(Ln){return Ln+(Ln&1?2:1)},Ft=0;Ft<lt.length;Ft++){et=lt[Ft];var Bt=[{_level:et.level,_override:0,_isolate:0}],dt=void 0,Ht=0,Fr=0,Gt=0;Fe.clear();for(var Jt=et.start;Jt<=et.end;Jt++){var _t=pe[Jt];if(dt=Bt[Bt.length-1],Fe.set(_t,(Fe.get(_t)||0)+1),_t&o&&Fe.set(o,(Fe.get(o)||0)+1),_t&ot)if(_t&(U|I)){Qe[Jt]=dt._level;var Kn=(_t===U?Xt:ze)(dt._level);Kn<=Te&&!Ht&&!Fr?Bt.push({_level:Kn,_override:0,_isolate:0}):Ht||Fr++}else if(_t&(Z|W)){Qe[Jt]=dt._level;var ir=(_t===Z?Xt:ze)(dt._level);ir<=Te&&!Ht&&!Fr?Bt.push({_level:ir,_override:_t&Z?L:C,_isolate:0}):Ht||Fr++}else if(_t&a){_t&ie&&(_t=hA(Jt+1,!0)===1?te:G),Qe[Jt]=dt._level,dt._override&&De(Jt,dt._override);var Pr=(_t===te?Xt:ze)(dt._level);Pr<=Te&&Ht===0&&Fr===0?(Gt++,Bt.push({_level:Pr,_override:0,_isolate:1,_isolInitIndex:Jt})):Ht++}else if(_t&oe){if(Ht>0)Ht--;else if(Gt>0){for(Fr=0;!Bt[Bt.length-1]._isolate;)Bt.pop();var Lt=Bt[Bt.length-1]._isolInitIndex;Lt!=null&&(Xe.set(Lt,Jt),Xe.set(Jt,Lt)),Bt.pop(),Gt--}dt=Bt[Bt.length-1],Qe[Jt]=dt._level,dt._override&&De(Jt,dt._override)}else _t&$?(Ht===0&&(Fr>0?Fr--:!dt._isolate&&Bt.length>1&&(Bt.pop(),dt=Bt[Bt.length-1])),Qe[Jt]=dt._level):_t&M&&(Qe[Jt]=et.level);else Qe[Jt]=dt._level,dt._override&&_t!==Y&&De(Jt,dt._override)}for(var vt=[],zr=null,Ur=et.start;Ur<=et.end;Ur++){var Ui=pe[Ur];if(!(Ui&A)){var Ri=Qe[Ur],yt=Ui&a,qi=Ui===oe;zr&&Ri===zr._level?(zr._end=Ur,zr._endsWithIsolInit=yt):vt.push(zr={_start:Ur,_end:Ur,_level:Ri,_startsWithPDI:qi,_endsWithIsolInit:yt})}}for(var Xi=[],mr=0;mr<vt.length;mr++){var Er=vt[mr];if(!Er._startsWithPDI||Er._startsWithPDI&&!Xe.has(Er._start)){for(var Rr=[zr=Er],si=void 0;zr&&zr._endsWithIsolInit&&(si=Xe.get(zr._end))!=null;)for(var ma=mr+1;ma<vt.length;ma++)if(vt[ma]._start===si){Rr.push(zr=vt[ma]);break}for(var oi=[],Yr=0;Yr<Rr.length;Yr++)for(var Di=Rr[Yr],bi=Di._start;bi<=Di._end;bi++)oi.push(bi);for(var va=Qe[oi[0]],wi=et.level,Mi=oi[0]-1;Mi>=0;Mi--)if(!(pe[Mi]&A)){wi=Qe[Mi];break}var At=oi[oi.length-1],fe=Qe[At],Ve=et.level;if(!(pe[At]&a)){for(var rt=At+1;rt<=et.end;rt++)if(!(pe[rt]&A)){Ve=Qe[rt];break}}Xi.push({_seqIndices:oi,_sosType:Math.max(wi,va)%2?L:C,_eosType:Math.max(Ve,fe)%2?L:C})}}for(var Zt=0;Zt<Xi.length;Zt++){var qr=Xi[Zt],Ze=qr._seqIndices,an=qr._sosType,Ai=qr._eosType,Ni=Qe[Ze[0]]&1?L:C;if(Fe.get(X))for(var sn=0;sn<Ze.length;sn++){var vo=Ze[sn];if(pe[vo]&X){for(var iA=an,JA=sn-1;JA>=0;JA--)if(!(pe[Ze[JA]]&A)){iA=pe[Ze[JA]];break}De(vo,iA&(a|oe)?N:iA)}}if(Fe.get(O))for(var ic=0;ic<Ze.length;ic++){var ZA=Ze[ic];if(pe[ZA]&O)for(var ac=ic-1;ac>=-1;ac--){var on=ac===-1?an:pe[Ze[ac]];if(on&s){on===H&&De(ZA,F);break}}}if(Fe.get(H))for(var sc=0;sc<Ze.length;sc++){var bu=Ze[sc];pe[bu]&H&&De(bu,L)}if(Fe.get(D)||Fe.get(R))for(var aA=1;aA<Ze.length-1;aA++){var el=Ze[aA];if(pe[el]&(D|R)){for(var sA=0,ya=0,oA=aA-1;oA>=0&&(sA=pe[Ze[oA]],!!(sA&A));oA--);for(var xi=aA+1;xi<Ze.length&&(ya=pe[Ze[xi]],!!(ya&A));xi++);sA===ya&&(pe[el]===D?sA===O:sA&(O|F))&&De(el,sA)}}if(Fe.get(O))for(var Ji=0;Ji<Ze.length;Ji++){var Yf=Ze[Ji];if(pe[Yf]&O){for(var oc=Ji-1;oc>=0&&pe[Ze[oc]]&(_|A);oc--)De(Ze[oc],O);for(Ji++;Ji<Ze.length&&pe[Ze[Ji]]&(_|A|O);Ji++)pe[Ze[Ji]]!==O&&De(Ze[Ji],O)}}if(Fe.get(_)||Fe.get(D)||Fe.get(R))for(var AA=0;AA<Ze.length;AA++){var qf=Ze[AA];if(pe[qf]&(_|D|R)){De(qf,N);for(var tl=AA-1;tl>=0&&pe[Ze[tl]]&A;tl--)De(Ze[tl],N);for(var Ac=AA+1;Ac<Ze.length&&pe[Ze[Ac]]&A;Ac++)De(Ze[Ac],N)}}if(Fe.get(O))for(var rl=0,Xf=an;rl<Ze.length;rl++){var Jf=Ze[rl],wu=pe[Jf];wu&O?Xf===C&&De(Jf,C):wu&s&&(Xf=wu)}if(Fe.get(o)){var ba=L|O|F,nl=ba|C,yo=[];{for(var bo=[],hn=0;hn<Ze.length;hn++)if(pe[Ze[hn]]&o){var il=Ee[Ze[hn]],xu=void 0;if(S(il)!==null)if(bo.length<63)bo.push({char:il,seqIndex:hn});else break;else if((xu=x(il))!==null)for(var Tt=bo.length-1;Tt>=0;Tt--){var Eu=bo[Tt].char;if(Eu===xu||Eu===x(E(il))||S(E(Eu))===il){yo.push([bo[Tt].seqIndex,hn]),bo.length=Tt;break}}}yo.sort(function(Ln,wa){return Ln[0]-wa[0]})}for(var Bu=0;Bu<yo.length;Bu++){for(var As=yo[Bu],al=As[0],lc=As[1],sl=!1,ki=0,Cu=al+1;Cu<lc;Cu++){var Zf=Ze[Cu];if(pe[Zf]&nl){sl=!0;var eh=pe[Zf]&ba?L:C;if(eh===Ni){ki=eh;break}}}if(sl&&!ki){ki=an;for(var ol=al-1;ol>=0;ol--){var lA=Ze[ol];if(pe[lA]&nl){var wo=pe[lA]&ba?L:C;wo!==Ni?ki=wo:ki=Ni;break}}}if(ki){if(pe[Ze[al]]=pe[Ze[lc]]=ki,ki!==Ni){for(var Al=al+1;Al<Ze.length;Al++)if(!(pe[Ze[Al]]&A)){f(Ee[Ze[Al]])&X&&(pe[Ze[Al]]=ki);break}}if(ki!==Ni){for(var ls=lc+1;ls<Ze.length;ls++)if(!(pe[Ze[ls]]&A)){f(Ee[Ze[ls]])&X&&(pe[Ze[ls]]=ki);break}}}}for(var ka=0;ka<Ze.length;ka++)if(pe[Ze[ka]]&o){for(var ll=ka,cc=ka,uc=an,cA=ka-1;cA>=0;cA--)if(pe[Ze[cA]]&A)ll=cA;else{uc=pe[Ze[cA]]&ba?L:C;break}for(var Su=Ai,Zi=ka+1;Zi<Ze.length;Zi++)if(pe[Ze[Zi]]&(o|A))cc=Zi;else{Su=pe[Ze[Zi]]&ba?L:C;break}for(var cs=ll;cs<=cc;cs++)pe[Ze[cs]]=uc===Su?uc:Ni;ka=cc}}}for(var Qi=et.start;Qi<=et.end;Qi++){var uA=Qe[Qi],ea=pe[Qi];if(uA&1?ea&(C|O|F)&&Qe[Qi]++:ea&L?Qe[Qi]++:ea&(F|O)&&(Qe[Qi]+=2),ea&A&&(Qe[Qi]=Qi===0?et.level:Qe[Qi-1]),Qi===et.end||f(Ee[Qi])&(z|M))for(var fA=Qi;fA>=0&&f(Ee[fA])&l;fA--)Qe[fA]=et.level}}return{levels:Qe,paragraphs:lt};function hA(Ln,wa){for(var Vn=Ln;Vn<Ee.length;Vn++){var Qa=pe[Vn];if(Qa&(L|H))return 1;if(Qa&(M|C)||wa&&Qa===oe)return 0;if(Qa&a){var Tu=Vp(Vn);Vn=Tu===-1?Ee.length:Tu}}return 0}function Vp(Ln){for(var wa=1,Vn=Ln+1;Vn<Ee.length;Vn++){var Qa=pe[Vn];if(Qa&M)break;if(Qa&oe){if(--wa===0)return Vn}else Qa&a&&wa++}return-1}}var ye="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",me;function se(){if(!me){var Ee=p(ye,!0),Be=Ee.map,Te=Ee.reverseMap;Te.forEach(function(pe,Ue){Be.set(Ue,pe)}),me=Be}}function Ie(Ee){return se(),me.get(Ee)||null}function Re(Ee,Be,Te,pe){var Ue=Ee.length;Te=Math.max(0,Te==null?0:+Te),pe=Math.min(Ue-1,pe==null?Ue-1:+pe);for(var Fe=new Map,De=Te;De<=pe;De++)if(Be[De]&1){var Qe=Ie(Ee[De]);Qe!==null&&Fe.set(De,Qe)}return Fe}function le(Ee,Be,Te,pe){var Ue=Ee.length;Te=Math.max(0,Te==null?0:+Te),pe=Math.min(Ue-1,pe==null?Ue-1:+pe);var Fe=[];return Be.paragraphs.forEach(function(De){var Qe=Math.max(Te,De.start),Xe=Math.min(pe,De.end);if(Qe<Xe){for(var lt=Be.levels.slice(Qe,Xe+1),et=Xe;et>=Qe&&f(Ee[et])&l;et--)lt[et]=De.level;for(var Ye=De.level,ot=1/0,ze=0;ze<lt.length;ze++){var Xt=lt[ze];Xt>Ye&&(Ye=Xt),Xt<ot&&(ot=Xt|1)}for(var Ft=Ye;Ft>=ot;Ft--)for(var Bt=0;Bt<lt.length;Bt++)if(lt[Bt]>=Ft){for(var dt=Bt;Bt+1<lt.length&&lt[Bt+1]>=Ft;)Bt++;Bt>dt&&Fe.push([dt+Qe,Bt+Qe])}}}),Fe}function ee(Ee,Be,Te,pe){var Ue=He(Ee,Be,Te,pe),Fe=[].concat(Ee);return Ue.forEach(function(De,Qe){Fe[Qe]=(Be.levels[De]&1?Ie(Ee[De]):null)||Ee[De]}),Fe.join("")}function He(Ee,Be,Te,pe){for(var Ue=le(Ee,Be,Te,pe),Fe=[],De=0;De<Ee.length;De++)Fe[De]=De;return Ue.forEach(function(Qe){for(var Xe=Qe[0],lt=Qe[1],et=Fe.slice(Xe,lt+1),Ye=et.length;Ye--;)Fe[lt-Ye]=et[Ye]}),Fe}return e.closingToOpeningBracket=x,e.getBidiCharType=f,e.getBidiCharTypeName=h,e.getCanonicalBracket=E,e.getEmbeddingLevels=ne,e.getMirroredCharacter=Ie,e.getMirroredCharactersMap=Re,e.getReorderSegments=le,e.getReorderedIndices=He,e.getReorderedString=ee,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}var sQe=Object.defineProperty,oQe=(t,e,r)=>e in t?sQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pr=(t,e,r)=>(oQe(t,typeof e!="symbol"?e+"":e,r),r);function UC(t,e,r,n,i){let a;if(t=t.subarray||t.slice?t:t.buffer,r=r.subarray||r.slice?r:r.buffer,t=e?t.subarray?t.subarray(e,i&&e+i):t.slice(e,i&&e+i):t,r.set)r.set(t,n);else for(a=0;a<t.length;a++)r[a+n]=t[a];return r}function AQe(t){return t instanceof Float32Array?t:t instanceof UQ?t.getAttribute("position").array:t.map(e=>{const r=Array.isArray(e);return e instanceof Vi?[e.x,e.y,e.z]:e instanceof Sf?[e.x,e.y,0]:r&&e.length===3?[e[0],e[1],e[2]]:r&&e.length===2?[e[0],e[1],0]:e}).flat()}class tKe extends UQ{constructor(){super(),pr(this,"type","MeshLine"),pr(this,"isMeshLine",!0),pr(this,"positions",[]),pr(this,"previous",[]),pr(this,"next",[]),pr(this,"side",[]),pr(this,"width",[]),pr(this,"indices_array",[]),pr(this,"uvs",[]),pr(this,"counters",[]),pr(this,"widthCallback",null),pr(this,"_attributes"),pr(this,"_points",[]),pr(this,"points"),pr(this,"matrixWorld",new A4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,r){if(e=AQe(e),this._points=e,this.widthCallback=r!=null?r:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof Vi)for(let n=0;n<e.length;n++){const i=e[n],a=n/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(a),this.counters.push(a)}else for(let n=0;n<e.length;n+=3){const i=n/(e.length-1);this.positions.push(e[n],e[n+1],e[n+2]),this.positions.push(e[n],e[n+1],e[n+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,r){const n=e*6,i=r*6;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]}copyV3(e){const r=e*6;return[this.positions[r],this.positions[r+1],this.positions[r+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let r,n;this.compareV3(0,e-1)?n=this.copyV3(e-2):n=this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),this.widthCallback?r=this.widthCallback(i/(e-1)):r=1,this.width.push(r),this.width.push(r),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){n=this.copyV3(i),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);const a=i*2;this.indices_array.push(a,a+1,a+2),this.indices_array.push(a+2,a+1,a+3)}i>0&&(n=this.copyV3(i),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]))}this.compareV3(e-1,0)?n=this.copyV3(1):n=this.copyV3(e-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),!this._attributes||this._attributes.position.count!==this.counters.length?this._attributes={position:new Bc(new Float32Array(this.positions),3),previous:new Bc(new Float32Array(this.previous),3),next:new Bc(new Float32Array(this.next),3),side:new Bc(new Float32Array(this.side),1),width:new Bc(new Float32Array(this.width),1),uv:new Bc(new Float32Array(this.uvs),2),index:new Bc(new Uint16Array(this.indices_array),1),counters:new Bc(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:r,z:n}){const i=this._attributes.position.array,a=this._attributes.previous.array,s=this._attributes.next.array,o=i.length;UC(i,0,a,0,o),UC(i,6,i,0,o-6),i[o-6]=e,i[o-5]=r,i[o-4]=n,i[o-3]=e,i[o-2]=r,i[o-1]=n,UC(i,6,s,0,o-6),s[o-6]=e,s[o-5]=r,s[o-4]=n,s[o-3]=e,s[o-2]=r,s[o-1]=n,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const lQe=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,cQe=parseInt(pX.replace(/\D+/g,"")),uQe=cQe>=154?"colorspace_fragment":"encodings_fragment",fQe=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${uQe}>
  }
`;class rKe extends l4{constructor(e){super({uniforms:Xv(mh({},dX.fog),{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new m0(16777215)},gradient:{value:[new m0(16711680),new m0(65280)]},opacity:{value:1},resolution:{value:new Sf(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new Sf(1,1)}}),vertexShader:lQe,fragmentShader:fQe}),pr(this,"lineWidth"),pr(this,"map"),pr(this,"useMap"),pr(this,"alphaMap"),pr(this,"useAlphaMap"),pr(this,"color"),pr(this,"gradient"),pr(this,"resolution"),pr(this,"sizeAttenuation"),pr(this,"dashArray"),pr(this,"dashOffset"),pr(this,"dashRatio"),pr(this,"useDash"),pr(this,"useGradient"),pr(this,"visibility"),pr(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(r){this.uniforms.lineWidth.value=r}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(r){this.uniforms.map.value=r}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(r){this.uniforms.useMap.value=r}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(r){this.uniforms.alphaMap.value=r}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(r){this.uniforms.useAlphaMap.value=r}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(r){this.uniforms.color.value=r}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(r){this.uniforms.gradient.value=r}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(r){this.uniforms.opacity.value=r}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(r){this.uniforms.resolution.value.copy(r)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(r){this.uniforms.sizeAttenuation.value=r}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(r){this.uniforms.dashArray.value=r,this.useDash=r!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(r){this.uniforms.dashOffset.value=r}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(r){this.uniforms.dashRatio.value=r}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(r){this.uniforms.useDash.value=r}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(r){this.uniforms.useGradient.value=r}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(r){this.uniforms.visibility.value=r}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(r){this.uniforms.alphaTest.value=r}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(r){this.uniforms.repeat.value.copy(r)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const pn={LEFT:1,RIGHT:2,MIDDLE:4},Se=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),kh={NONE:0,IN:1,OUT:-1};function $u(t){return t.isPerspectiveCamera}function Oc(t){return t.isOrthographicCamera}const Qh=Math.PI*2,sk=Math.PI/2,ZV=1e-5,zg=Math.PI/180;function Fo(t,e,r){return Math.max(e,Math.min(r,t))}function $r(t,e=ZV){return Math.abs(t)<e}function vr(t,e,r=ZV){return $r(t-e,r)}function ok(t,e){return Math.round(t/e)*e}function Yg(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function qg(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function uy(t,e,r,n,i=1/0,a){n=Math.max(1e-4,n);const s=2/n,o=s*a,A=1/(1+o+.48*o*o+.235*o*o*o);let l=t-e;const c=e,u=i*n;l=Fo(l,-u,u),e=t-l;const f=(r.value+s*l)*a;r.value=(r.value-s*f)*A;let h=e+(l+f)*A;return c-t>0==h>c&&(h=c,r.value=(h-c)/a),h}function Ak(t,e,r,n,i=1/0,a,s){n=Math.max(1e-4,n);const o=2/n,A=o*a,l=1/(1+A+.48*A*A+.235*A*A*A);let c=e.x,u=e.y,f=e.z,h=t.x-c,d=t.y-u,p=t.z-f;const g=c,v=u,y=f,w=i*n,S=w*w,x=h*h+d*d+p*p;if(x>S){const z=Math.sqrt(x);h=h/z*w,d=d/z*w,p=p/z*w}c=t.x-h,u=t.y-d,f=t.z-p;const E=(r.x+o*h)*a,C=(r.y+o*d)*a,L=(r.z+o*p)*a;r.x=(r.x-o*E)*l,r.y=(r.y-o*C)*l,r.z=(r.z-o*L)*l,s.x=c+(h+E)*l,s.y=u+(d+C)*l,s.z=f+(p+L)*l;const O=g-t.x,D=v-t.y,_=y-t.z,F=s.x-g,R=s.y-v,M=s.z-y;return O*F+D*R+_*M>0&&(s.x=g,s.y=v,s.z=y,r.x=(s.x-g)/a,r.y=(s.y-v)/a,r.z=(s.z-y)/a),s}function RC(t,e){e.set(0,0),t.forEach(r=>{e.x+=r.clientX,e.y+=r.clientY}),e.x/=t.length,e.y/=t.length}function DC(t,e){return Oc(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class hQe{constructor(){this._listeners={}}addEventListener(e,r){const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)}hasEventListener(e,r){const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1}removeEventListener(e,r){const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(r);a!==-1&&i.splice(a,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e)}}}var MC;const dQe="2.10.0",fy=1/8,pQe=/Mac/.test((MC=globalThis==null?void 0:globalThis.navigator)===null||MC===void 0?void 0:MC.platform);let Rt,lk,hy,NC,Ka,jt,or,Hh,Xg,vA,yA,ju,ck,uk,Gs,Jg,$h,fk,kC,hk,QC,HC,dy;class S_ extends hQe{static install(e){Rt=e.THREE,lk=Object.freeze(new Rt.Vector3(0,0,0)),hy=Object.freeze(new Rt.Vector3(0,1,0)),NC=Object.freeze(new Rt.Vector3(0,0,1)),Ka=new Rt.Vector2,jt=new Rt.Vector3,or=new Rt.Vector3,Hh=new Rt.Vector3,Xg=new Rt.Vector3,vA=new Rt.Vector3,yA=new Rt.Vector3,ju=new Rt.Vector3,ck=new Rt.Vector3,uk=new Rt.Vector3,Gs=new Rt.Spherical,Jg=new Rt.Spherical,$h=new Rt.Box3,fk=new Rt.Box3,kC=new Rt.Sphere,hk=new Rt.Quaternion,QC=new Rt.Quaternion,HC=new Rt.Matrix4,dy=new Rt.Raycaster}static get ACTION(){return Se}constructor(e,r){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Se.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=kh.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Rt.Vector3,this._focalOffsetVelocity=new Rt.Vector3,this._zoomVelocity={value:0},this._truckInternal=(v,y,w,S)=>{let x,E;if($u(this._camera)){const C=jt.copy(this._camera.position).sub(this._target),L=this._camera.getEffectiveFOV()*zg,O=C.length()*Math.tan(L*.5);x=this.truckSpeed*v*O/this._elementRect.height,E=this.truckSpeed*y*O/this._elementRect.height}else if(Oc(this._camera)){const C=this._camera;x=this.truckSpeed*v*(C.right-C.left)/C.zoom/this._elementRect.width,E=this.truckSpeed*y*(C.top-C.bottom)/C.zoom/this._elementRect.height}else return;S?(w?this.setFocalOffset(this._focalOffsetEnd.x+x,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(x,0,!0),this.forward(-E,!0)):w?this.setFocalOffset(this._focalOffsetEnd.x+x,this._focalOffsetEnd.y+E,this._focalOffsetEnd.z,!0):this.truck(x,E,!0)},this._rotateInternal=(v,y)=>{const w=Qh*this.azimuthRotateSpeed*v/this._elementRect.height,S=Qh*this.polarRotateSpeed*y/this._elementRect.height;this.rotate(w,S,!0)},this._dollyInternal=(v,y,w)=>{const S=Math.pow(.95,-v*this.dollySpeed),x=this._sphericalEnd.radius,E=this._sphericalEnd.radius*S,C=Fo(E,this.minDistance,this.maxDistance),L=C-E;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(E,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(L,!0),this._dollyToNoClamp(C,!0)):this._dollyToNoClamp(C,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?E:C)-x,this._dollyControlCoord.set(y,w)),this._lastDollyDirection=Math.sign(-v)},this._zoomInternal=(v,y,w)=>{const S=Math.pow(.95,v*this.dollySpeed),x=this._zoom,E=this._zoom*S;this.zoomTo(E,!0),this.dollyToCursor&&(this._changedZoom+=E-x,this._dollyControlCoord.set(y,w))},typeof Rt=="undefined"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new Rt.Quaternion().setFromUnitVectors(this._camera.up,hy),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Se.NONE,this._target=new Rt.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Rt.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Rt.Spherical().setFromVector3(jt.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Rt.Vector3,new Rt.Vector3,new Rt.Vector3,new Rt.Vector3],this._updateNearPlaneCorners(),this._boundary=new Rt.Box3(new Rt.Vector3(-1/0,-1/0,-1/0),new Rt.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Rt.Vector2,this.mouseButtons={left:Se.ROTATE,middle:Se.DOLLY,right:Se.TRUCK,wheel:$u(this._camera)?Se.DOLLY:Oc(this._camera)?Se.ZOOM:Se.NONE},this.touches={one:Se.TOUCH_ROTATE,two:$u(this._camera)?Se.TOUCH_DOLLY_TRUCK:Oc(this._camera)?Se.TOUCH_ZOOM_TRUCK:Se.NONE,three:Se.TOUCH_TRUCK};const n=new Rt.Vector2,i=new Rt.Vector2,a=new Rt.Vector2,s=v=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const S=this._domElement.getBoundingClientRect(),x=v.clientX/S.width,E=v.clientY/S.height;if(x<this._interactiveArea.left||x>this._interactiveArea.right||E<this._interactiveArea.top||E>this._interactiveArea.bottom)return}const y=v.pointerType!=="mouse"?null:(v.buttons&pn.LEFT)===pn.LEFT?pn.LEFT:(v.buttons&pn.MIDDLE)===pn.MIDDLE?pn.MIDDLE:(v.buttons&pn.RIGHT)===pn.RIGHT?pn.RIGHT:null;if(y!==null){const S=this._findPointerByMouseButton(y);S&&this._disposePointer(S)}if((v.buttons&pn.LEFT)===pn.LEFT&&this._lockedPointer)return;const w={pointerId:v.pointerId,clientX:v.clientX,clientY:v.clientY,deltaX:0,deltaY:0,mouseButton:y};this._activePointers.push(w),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",A),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",A),this._isDragging=!0,f(v)},o=v=>{v.cancelable&&v.preventDefault();const y=v.pointerId,w=this._lockedPointer||this._findPointerById(y);if(w){if(w.clientX=v.clientX,w.clientY=v.clientY,w.deltaX=v.movementX,w.deltaY=v.movementY,this._state=0,v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(v.buttons&pn.LEFT)===pn.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(v.buttons&pn.MIDDLE)===pn.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(v.buttons&pn.RIGHT)===pn.RIGHT&&(this._state=this._state|this.mouseButtons.right);h()}},A=v=>{const y=this._findPointerById(v.pointerId);if(!(y&&y===this._lockedPointer)){if(y&&this._disposePointer(y),v.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Se.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Se.NONE;d()}};let l=-1;const c=v=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===Se.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),C=v.clientX/E.width,L=v.clientY/E.height;if(C<this._interactiveArea.left||C>this._interactiveArea.right||L<this._interactiveArea.top||L>this._interactiveArea.bottom)return}if(v.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Se.ROTATE||this.mouseButtons.wheel===Se.TRUCK){const E=performance.now();l-E<1e3&&this._getClientRect(this._elementRect),l=E}const y=pQe?-1:-3,w=v.deltaMode===1?v.deltaY/y:v.deltaY/(y*10),S=this.dollyToCursor?(v.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,x=this.dollyToCursor?(v.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Se.ROTATE:{this._rotateInternal(v.deltaX,v.deltaY),this._isUserControllingRotate=!0;break}case Se.TRUCK:{this._truckInternal(v.deltaX,v.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case Se.SCREEN_PAN:{this._truckInternal(v.deltaX,v.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case Se.OFFSET:{this._truckInternal(v.deltaX,v.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case Se.DOLLY:{this._dollyInternal(-w,S,x),this._isUserControllingDolly=!0;break}case Se.ZOOM:{this._zoomInternal(-w,S,x),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},u=v=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===S_.ACTION.NONE){const y=v instanceof PointerEvent?v.pointerId:0,w=this._findPointerById(y);w&&this._disposePointer(w),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",A);return}v.preventDefault()}},f=v=>{if(!this._enabled)return;if(RC(this._activePointers,Ka),this._getClientRect(this._elementRect),n.copy(Ka),i.copy(Ka),this._activePointers.length>=2){const w=Ka.x-this._activePointers[1].clientX,S=Ka.y-this._activePointers[1].clientY,x=Math.sqrt(w*w+S*S);a.set(0,x);const E=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,C=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;i.set(E,C)}if(this._state=0,!v)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in v&&v.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(v.buttons&pn.LEFT)===pn.LEFT&&(this._state=this._state|this.mouseButtons.left),(v.buttons&pn.MIDDLE)===pn.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(v.buttons&pn.RIGHT)===pn.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Se.ROTATE)===Se.ROTATE||(this._state&Se.TOUCH_ROTATE)===Se.TOUCH_ROTATE||(this._state&Se.TOUCH_DOLLY_ROTATE)===Se.TOUCH_DOLLY_ROTATE||(this._state&Se.TOUCH_ZOOM_ROTATE)===Se.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Se.TRUCK)===Se.TRUCK||(this._state&Se.SCREEN_PAN)===Se.SCREEN_PAN||(this._state&Se.TOUCH_TRUCK)===Se.TOUCH_TRUCK||(this._state&Se.TOUCH_SCREEN_PAN)===Se.TOUCH_SCREEN_PAN||(this._state&Se.TOUCH_DOLLY_TRUCK)===Se.TOUCH_DOLLY_TRUCK||(this._state&Se.TOUCH_DOLLY_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN||(this._state&Se.TOUCH_ZOOM_TRUCK)===Se.TOUCH_ZOOM_TRUCK||(this._state&Se.TOUCH_ZOOM_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Se.DOLLY)===Se.DOLLY||(this._state&Se.TOUCH_DOLLY)===Se.TOUCH_DOLLY||(this._state&Se.TOUCH_DOLLY_TRUCK)===Se.TOUCH_DOLLY_TRUCK||(this._state&Se.TOUCH_DOLLY_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN||(this._state&Se.TOUCH_DOLLY_OFFSET)===Se.TOUCH_DOLLY_OFFSET||(this._state&Se.TOUCH_DOLLY_ROTATE)===Se.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Se.ZOOM)===Se.ZOOM||(this._state&Se.TOUCH_ZOOM)===Se.TOUCH_ZOOM||(this._state&Se.TOUCH_ZOOM_TRUCK)===Se.TOUCH_ZOOM_TRUCK||(this._state&Se.TOUCH_ZOOM_SCREEN_PAN)===Se.TOUCH_ZOOM_SCREEN_PAN||(this._state&Se.TOUCH_ZOOM_OFFSET)===Se.TOUCH_ZOOM_OFFSET||(this._state&Se.TOUCH_ZOOM_ROTATE)===Se.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Se.OFFSET)===Se.OFFSET||(this._state&Se.TOUCH_OFFSET)===Se.TOUCH_OFFSET||(this._state&Se.TOUCH_DOLLY_OFFSET)===Se.TOUCH_DOLLY_OFFSET||(this._state&Se.TOUCH_ZOOM_OFFSET)===Se.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},h=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,RC(this._activePointers,Ka);const y=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,w=y?-y.deltaX:i.x-Ka.x,S=y?-y.deltaY:i.y-Ka.y;if(i.copy(Ka),((this._state&Se.ROTATE)===Se.ROTATE||(this._state&Se.TOUCH_ROTATE)===Se.TOUCH_ROTATE||(this._state&Se.TOUCH_DOLLY_ROTATE)===Se.TOUCH_DOLLY_ROTATE||(this._state&Se.TOUCH_ZOOM_ROTATE)===Se.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(w,S),this._isUserControllingRotate=!0),(this._state&Se.DOLLY)===Se.DOLLY||(this._state&Se.ZOOM)===Se.ZOOM){const x=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,E=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0,C=this.dollyDragInverted?-1:1;(this._state&Se.DOLLY)===Se.DOLLY?(this._dollyInternal(C*S*fy,x,E),this._isUserControllingDolly=!0):(this._zoomInternal(C*S*fy,x,E),this._isUserControllingZoom=!0)}if((this._state&Se.TOUCH_DOLLY)===Se.TOUCH_DOLLY||(this._state&Se.TOUCH_ZOOM)===Se.TOUCH_ZOOM||(this._state&Se.TOUCH_DOLLY_TRUCK)===Se.TOUCH_DOLLY_TRUCK||(this._state&Se.TOUCH_ZOOM_TRUCK)===Se.TOUCH_ZOOM_TRUCK||(this._state&Se.TOUCH_DOLLY_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN||(this._state&Se.TOUCH_ZOOM_SCREEN_PAN)===Se.TOUCH_ZOOM_SCREEN_PAN||(this._state&Se.TOUCH_DOLLY_OFFSET)===Se.TOUCH_DOLLY_OFFSET||(this._state&Se.TOUCH_ZOOM_OFFSET)===Se.TOUCH_ZOOM_OFFSET||(this._state&Se.TOUCH_DOLLY_ROTATE)===Se.TOUCH_DOLLY_ROTATE||(this._state&Se.TOUCH_ZOOM_ROTATE)===Se.TOUCH_ZOOM_ROTATE){const x=Ka.x-this._activePointers[1].clientX,E=Ka.y-this._activePointers[1].clientY,C=Math.sqrt(x*x+E*E),L=a.y-C;a.set(0,C);const O=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Se.TOUCH_DOLLY)===Se.TOUCH_DOLLY||(this._state&Se.TOUCH_DOLLY_ROTATE)===Se.TOUCH_DOLLY_ROTATE||(this._state&Se.TOUCH_DOLLY_TRUCK)===Se.TOUCH_DOLLY_TRUCK||(this._state&Se.TOUCH_DOLLY_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN||(this._state&Se.TOUCH_DOLLY_OFFSET)===Se.TOUCH_DOLLY_OFFSET?(this._dollyInternal(L*fy,O,D),this._isUserControllingDolly=!0):(this._zoomInternal(L*fy,O,D),this._isUserControllingZoom=!0)}((this._state&Se.TRUCK)===Se.TRUCK||(this._state&Se.TOUCH_TRUCK)===Se.TOUCH_TRUCK||(this._state&Se.TOUCH_DOLLY_TRUCK)===Se.TOUCH_DOLLY_TRUCK||(this._state&Se.TOUCH_ZOOM_TRUCK)===Se.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(w,S,!1,!1),this._isUserControllingTruck=!0),((this._state&Se.SCREEN_PAN)===Se.SCREEN_PAN||(this._state&Se.TOUCH_SCREEN_PAN)===Se.TOUCH_SCREEN_PAN||(this._state&Se.TOUCH_DOLLY_SCREEN_PAN)===Se.TOUCH_DOLLY_SCREEN_PAN||(this._state&Se.TOUCH_ZOOM_SCREEN_PAN)===Se.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(w,S,!1,!0),this._isUserControllingTruck=!0),((this._state&Se.OFFSET)===Se.OFFSET||(this._state&Se.TOUCH_OFFSET)===Se.TOUCH_OFFSET||(this._state&Se.TOUCH_DOLLY_OFFSET)===Se.TOUCH_DOLLY_OFFSET||(this._state&Se.TOUCH_ZOOM_OFFSET)===Se.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(w,S,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},d=()=>{RC(this._activePointers,Ka),i.copy(Ka),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",A),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",A),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",p),this._domElement.ownerDocument.addEventListener("pointerlockerror",g),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",A),f())},this.unlockPointer=()=>{var v,y,w;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(v=this._domElement)===null||v===void 0||v.ownerDocument.exitPointerLock(),(y=this._domElement)===null||y===void 0||y.ownerDocument.removeEventListener("pointerlockchange",p),(w=this._domElement)===null||w===void 0||w.ownerDocument.removeEventListener("pointerlockerror",g),this.cancel()};const p=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},g=()=>{this.unlockPointer()};this._addAllEventListeners=v=>{this._domElement=v,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",s),this._domElement.addEventListener("pointercancel",A),this._domElement.addEventListener("wheel",c,{passive:!1}),this._domElement.addEventListener("contextmenu",u)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",s),this._domElement.removeEventListener("pointercancel",A),this._domElement.removeEventListener("wheel",c,{passive:!1}),this._domElement.removeEventListener("contextmenu",u),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",A),this._domElement.ownerDocument.removeEventListener("pointerlockchange",p),this._domElement.ownerDocument.removeEventListener("pointerlockerror",g))},this.cancel=()=>{this._state!==Se.NONE&&(this._state=Se.NONE,this._activePointers.length=0,d())},r&&this.connect(r),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Fo(e.width,0,1),this._interactiveArea.height=Fo(e.height,0,1),this._interactiveArea.x=Fo(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Fo(e.y,0,1-this._interactiveArea.height)}addEventListener(e,r){super.addEventListener(e,r)}removeEventListener(e,r){super.removeEventListener(e,r)}rotate(e,r,n=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+r,n)}rotateAzimuthTo(e,r=!1){return this.rotateTo(e,this._sphericalEnd.phi,r)}rotatePolarTo(e,r=!1){return this.rotateTo(this._sphericalEnd.theta,e,r)}rotateTo(e,r,n=!1){this._isUserControllingRotate=!1;const i=Fo(e,this.minAzimuthAngle,this.maxAzimuthAngle),a=Fo(r,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=a,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const s=!n||vr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&vr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(s)}dolly(e,r=!1){return this.dollyTo(this._sphericalEnd.radius-e,r)}dollyTo(e,r=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=kh.NONE,this._changedDolly=0,this._dollyToNoClamp(Fo(e,this.minDistance,this.maxDistance),r)}_dollyToNoClamp(e,r=!1){const n=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const s=this._collisionTest(),o=vr(s,this._spherical.radius);if(!(n>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,s)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,r||(this._spherical.radius=this._sphericalEnd.radius);const a=!r||vr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}dollyInFixed(e,r=!1){this._targetEnd.add(this._getCameraDirection(Xg).multiplyScalar(e)),r||this._target.copy(this._targetEnd);const n=!r||vr(this._target.x,this._targetEnd.x,this.restThreshold)&&vr(this._target.y,this._targetEnd.y,this.restThreshold)&&vr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}zoom(e,r=!1){return this.zoomTo(this._zoomEnd+e,r)}zoomTo(e,r=!1){this._isUserControllingZoom=!1,this._zoomEnd=Fo(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,r||(this._zoom=this._zoomEnd);const n=!r||vr(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(n)}pan(e,r,n=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,r,n)}truck(e,r,n=!1){this._camera.updateMatrix(),vA.setFromMatrixColumn(this._camera.matrix,0),yA.setFromMatrixColumn(this._camera.matrix,1),vA.multiplyScalar(e),yA.multiplyScalar(-r);const i=jt.copy(vA).add(yA),a=or.copy(this._targetEnd).add(i);return this.moveTo(a.x,a.y,a.z,n)}forward(e,r=!1){jt.setFromMatrixColumn(this._camera.matrix,0),jt.crossVectors(this._camera.up,jt),jt.multiplyScalar(e);const n=or.copy(this._targetEnd).add(jt);return this.moveTo(n.x,n.y,n.z,r)}elevate(e,r=!1){return jt.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+jt.x,this._targetEnd.y+jt.y,this._targetEnd.z+jt.z,r)}moveTo(e,r,n,i=!1){this._isUserControllingTruck=!1;const a=jt.set(e,r,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,a,this.boundaryFriction),this._needsUpdate=!0,i||this._target.copy(this._targetEnd);const s=!i||vr(this._target.x,this._targetEnd.x,this.restThreshold)&&vr(this._target.y,this._targetEnd.y,this.restThreshold)&&vr(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}lookInDirectionOf(e,r,n,i=!1){const o=jt.set(e,r,n).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(o.x,o.y,o.z,i)}fitToBox(e,r,{cover:n=!1,paddingLeft:i=0,paddingRight:a=0,paddingBottom:s=0,paddingTop:o=0}={}){const A=[],l=e.isBox3?$h.copy(e):$h.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=ok(this._sphericalEnd.theta,sk),u=ok(this._sphericalEnd.phi,sk);A.push(this.rotateTo(c,u,r));const f=jt.setFromSpherical(this._sphericalEnd).normalize(),h=hk.setFromUnitVectors(f,NC),d=vr(Math.abs(f.y),1);d&&h.multiply(QC.setFromAxisAngle(hy,c)),h.multiply(this._yAxisUpSpaceInverse);const p=fk.makeEmpty();or.copy(l.min).applyQuaternion(h),p.expandByPoint(or),or.copy(l.min).setX(l.max.x).applyQuaternion(h),p.expandByPoint(or),or.copy(l.min).setY(l.max.y).applyQuaternion(h),p.expandByPoint(or),or.copy(l.max).setZ(l.min.z).applyQuaternion(h),p.expandByPoint(or),or.copy(l.min).setZ(l.max.z).applyQuaternion(h),p.expandByPoint(or),or.copy(l.max).setY(l.min.y).applyQuaternion(h),p.expandByPoint(or),or.copy(l.max).setX(l.min.x).applyQuaternion(h),p.expandByPoint(or),or.copy(l.max).applyQuaternion(h),p.expandByPoint(or),p.min.x-=i,p.min.y-=s,p.max.x+=a,p.max.y+=o,h.setFromUnitVectors(NC,f),d&&h.premultiply(QC.invert()),h.premultiply(this._yAxisUpSpace);const g=p.getSize(jt),v=p.getCenter(or).applyQuaternion(h);if($u(this._camera)){const y=this.getDistanceToFitBox(g.x,g.y,g.z,n);A.push(this.moveTo(v.x,v.y,v.z,r)),A.push(this.dollyTo(y,r)),A.push(this.setFocalOffset(0,0,0,r))}else if(Oc(this._camera)){const y=this._camera,w=y.right-y.left,S=y.top-y.bottom,x=n?Math.max(w/g.x,S/g.y):Math.min(w/g.x,S/g.y);A.push(this.moveTo(v.x,v.y,v.z,r)),A.push(this.zoomTo(x,r)),A.push(this.setFocalOffset(0,0,0,r))}return Promise.all(A)}fitToSphere(e,r){const n=[],a="isObject3D"in e?S_.createBoundingSphere(e,kC):kC.copy(e);if(n.push(this.moveTo(a.center.x,a.center.y,a.center.z,r)),$u(this._camera)){const s=this.getDistanceToFitSphere(a.radius);n.push(this.dollyTo(s,r))}else if(Oc(this._camera)){const s=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,A=2*a.radius,l=Math.min(s/A,o/A);n.push(this.zoomTo(l,r))}return n.push(this.setFocalOffset(0,0,0,r)),Promise.all(n)}setLookAt(e,r,n,i,a,s,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=kh.NONE,this._changedDolly=0;const A=or.set(i,a,s),l=jt.set(e,r,n);this._targetEnd.copy(A),this._sphericalEnd.setFromVector3(l.sub(A).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const c=!o||vr(this._target.x,this._targetEnd.x,this.restThreshold)&&vr(this._target.y,this._targetEnd.y,this.restThreshold)&&vr(this._target.z,this._targetEnd.z,this.restThreshold)&&vr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&vr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&vr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerpLookAt(e,r,n,i,a,s,o,A,l,c,u,f,h,d=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=kh.NONE,this._changedDolly=0;const p=jt.set(i,a,s),g=or.set(e,r,n);Gs.setFromVector3(g.sub(p).applyQuaternion(this._yAxisUpSpace));const v=Hh.set(c,u,f),y=or.set(o,A,l);Jg.setFromVector3(y.sub(v).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(v,h));const w=Jg.theta-Gs.theta,S=Jg.phi-Gs.phi,x=Jg.radius-Gs.radius;this._sphericalEnd.set(Gs.radius+x*h,Gs.phi+S*h,Gs.theta+w*h),this.normalizeRotations(),this._needsUpdate=!0,d||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const E=!d||vr(this._target.x,this._targetEnd.x,this.restThreshold)&&vr(this._target.y,this._targetEnd.y,this.restThreshold)&&vr(this._target.z,this._targetEnd.z,this.restThreshold)&&vr(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&vr(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&vr(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(E)}setPosition(e,r,n,i=!1){return this.setLookAt(e,r,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)}setTarget(e,r,n,i=!1){const a=this.getPosition(jt),s=this.setLookAt(a.x,a.y,a.z,e,r,n,i);return this._sphericalEnd.phi=Fo(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),s}setFocalOffset(e,r,n,i=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,r,n),this._needsUpdate=!0,i||this._focalOffset.copy(this._focalOffsetEnd);const a=!i||vr(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&vr(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&vr(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}setOrbitPoint(e,r,n){this._camera.updateMatrixWorld(),vA.setFromMatrixColumn(this._camera.matrixWorldInverse,0),yA.setFromMatrixColumn(this._camera.matrixWorldInverse,1),ju.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const i=jt.set(e,r,n),a=i.distanceTo(this._camera.position),s=i.sub(this._camera.position);vA.multiplyScalar(s.x),yA.multiplyScalar(s.y),ju.multiplyScalar(s.z),jt.copy(vA).add(yA).add(ju),jt.z=jt.z+a,this.dollyTo(a,!1),this.setFocalOffset(-jt.x,jt.y,-jt.z,!1),this.moveTo(e,r,n,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,r,n,i){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new Rt.Vector4,typeof e=="number"?this._viewport.set(e,r,n,i):this._viewport.copy(e)}getDistanceToFitBox(e,r,n,i=!1){if(DC(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const a=e/r,s=this._camera.getEffectiveFOV()*zg,o=this._camera.aspect;return((i?a>o:a<o)?r:e/o)*.5/Math.tan(s*.5)+n*.5}getDistanceToFitSphere(e){if(DC(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const r=this._camera.getEffectiveFOV()*zg,n=Math.atan(Math.tan(r*.5)*this._camera.aspect)*2,i=1<this._camera.aspect?r:n;return e/Math.sin(i*.5)}getTarget(e,r=!0){return(e&&e.isVector3?e:new Rt.Vector3).copy(r?this._targetEnd:this._target)}getPosition(e,r=!0){return(e&&e.isVector3?e:new Rt.Vector3).setFromSpherical(r?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(r?this._targetEnd:this._target)}getSpherical(e,r=!0){return(e||new Rt.Spherical).copy(r?this._sphericalEnd:this._spherical)}getFocalOffset(e,r=!0){return(e&&e.isVector3?e:new Rt.Vector3).copy(r?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Qh,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Qh),this._spherical.theta+=Qh*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Qh)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!vr(this._camera.up.x,this._cameraUp0.x)||!vr(this._camera.up.y,this._cameraUp0.y)||!vr(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const n=this.getPosition(jt);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}const r=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(r)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,hy),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=jt.subVectors(this._target,this._camera.position).normalize(),r=or.crossVectors(e,this._camera.up);this._camera.up.crossVectors(r,e).normalize(),this._camera.updateMatrixWorld();const n=this.getPosition(jt);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}update(e){const r=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,i=this._sphericalEnd.radius-this._spherical.radius,a=ck.subVectors(this._targetEnd,this._target),s=uk.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if($r(r))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const u=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=uy(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,u,1/0,e),this._needsUpdate=!0}if($r(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const u=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=uy(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,u,1/0,e),this._needsUpdate=!0}if($r(i))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const u=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=uy(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,u,this.maxSpeed,e),this._needsUpdate=!0}if($r(a.x)&&$r(a.y)&&$r(a.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const u=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;Ak(this._target,this._targetEnd,this._targetVelocity,u,this.maxSpeed,e,this._target),this._needsUpdate=!0}if($r(s.x)&&$r(s.y)&&$r(s.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const u=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;Ak(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,u,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if($r(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const u=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=uy(this._zoom,this._zoomEnd,this._zoomVelocity,u,1/0,e)}if(this.dollyToCursor){if($u(this._camera)&&this._changedDolly!==0){const u=this._spherical.radius-this._lastDistance,f=this._camera,h=this._getCameraDirection(Xg),d=jt.copy(h).cross(f.up).normalize();d.lengthSq()===0&&(d.x=1);const p=or.crossVectors(d,h),g=this._sphericalEnd.radius*Math.tan(f.getEffectiveFOV()*zg*.5),y=(this._sphericalEnd.radius-u-this._sphericalEnd.radius)/this._sphericalEnd.radius,w=Hh.copy(this._targetEnd).add(d.multiplyScalar(this._dollyControlCoord.x*g*f.aspect)).add(p.multiplyScalar(this._dollyControlCoord.y*g)),S=jt.copy(this._targetEnd).lerp(w,y),x=this._lastDollyDirection===kh.IN&&this._spherical.radius<=this.minDistance,E=this._lastDollyDirection===kh.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(x||E)){this._sphericalEnd.radius-=u,this._spherical.radius-=u;const L=or.copy(h).multiplyScalar(-u);S.add(L)}this._boundary.clampPoint(S,S);const C=or.subVectors(S,this._targetEnd);this._targetEnd.copy(S),this._target.add(C),this._changedDolly-=u,$r(this._changedDolly)&&(this._changedDolly=0)}else if(Oc(this._camera)&&this._changedZoom!==0){const u=this._zoom-this._lastZoom,f=this._camera,h=jt.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(f.near+f.far)/(f.near-f.far)).unproject(f),d=or.set(0,0,-1).applyQuaternion(f.quaternion),p=Hh.copy(h).add(d.multiplyScalar(-h.dot(f.up))),v=-(this._zoom-u-this._zoom)/this._zoom,y=this._getCameraDirection(Xg),w=this._targetEnd.dot(y),S=jt.copy(this._targetEnd).lerp(p,v),x=S.dot(y),E=y.multiplyScalar(x-w);S.sub(E),this._boundary.clampPoint(S,S);const C=or.subVectors(S,this._targetEnd);this._targetEnd.copy(S),this._target.add(C),this._changedZoom-=u,$r(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const A=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,A),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!$r(this._focalOffset.x)||!$r(this._focalOffset.y)||!$r(this._focalOffset.z))&&(vA.setFromMatrixColumn(this._camera.matrix,0),yA.setFromMatrixColumn(this._camera.matrix,1),ju.setFromMatrixColumn(this._camera.matrix,2),vA.multiplyScalar(this._focalOffset.x),yA.multiplyScalar(-this._focalOffset.y),ju.multiplyScalar(this._focalOffset.z),jt.copy(vA).add(yA).add(ju),this._camera.position.add(jt),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),jt.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const c=this._needsUpdate;return c&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):c?(this.dispatchEvent({type:"update"}),$r(r,this.restThreshold)&&$r(n,this.restThreshold)&&$r(i,this.restThreshold)&&$r(a.x,this.restThreshold)&&$r(a.y,this.restThreshold)&&$r(a.z,this.restThreshold)&&$r(s.x,this.restThreshold)&&$r(s.y,this.restThreshold)&&$r(s.z,this.restThreshold)&&$r(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!c&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=c,this._needsUpdate=!1,c}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Yg(this.maxDistance),minZoom:this.minZoom,maxZoom:Yg(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Yg(this.maxPolarAngle),minAzimuthAngle:Yg(this.minAzimuthAngle),maxAzimuthAngle:Yg(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:jt.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,r=!1){const n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=qg(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=qg(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=qg(n.maxPolarAngle),this.minAzimuthAngle=qg(n.minAzimuthAngle),this.maxAzimuthAngle=qg(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],r),Gs.setFromVector3(jt.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Gs.theta,Gs.phi,r),this.dollyTo(Gs.radius,r),this.zoomTo(n.zoom,r),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],r),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",dQe),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(r=>r.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(r=>r.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,r,n){const i=r.lengthSq();if(i===0)return e;const a=or.copy(r).add(e),o=this._boundary.clampPoint(a,Hh).sub(a),A=o.lengthSq();if(A===0)return e.add(r);if(A===i)return e;if(n===0)return e.add(r).add(o);{const l=1+n*A/r.dot(o);return e.add(or.copy(r).multiplyScalar(l)).add(o.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if($u(this._camera)){const e=this._camera,r=e.near,n=e.getEffectiveFOV()*zg,i=Math.tan(n*.5)*r,a=i*e.aspect;this._nearPlaneCorners[0].set(-a,-i,0),this._nearPlaneCorners[1].set(a,-i,0),this._nearPlaneCorners[2].set(a,i,0),this._nearPlaneCorners[3].set(-a,i,0)}else if(Oc(this._camera)){const e=this._camera,r=1/e.zoom,n=e.left*r,i=e.right*r,a=e.top*r,s=e.bottom*r;this._nearPlaneCorners[0].set(n,a,0),this._nearPlaneCorners[1].set(i,a,0),this._nearPlaneCorners[2].set(i,s,0),this._nearPlaneCorners[3].set(n,s,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||DC(this._camera,"_collisionTest"))return e;const n=this._getTargetDirection(Xg);HC.lookAt(lk,n,this._camera.up);for(let i=0;i<4;i++){const a=or.copy(this._nearPlaneCorners[i]);a.applyMatrix4(HC);const s=Hh.addVectors(this._target,a);dy.set(s,n),dy.far=this._spherical.radius+1;const o=dy.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const r=this._domElement.getBoundingClientRect();return e.x=r.left,e.y=r.top,this._viewport?(e.x+=this._viewport.x,e.y+=r.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=r.width,e.height=r.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(r=>{const n=()=>{this.removeEventListener("rest",n),r()};this.addEventListener("rest",n)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,r=new Rt.Sphere){const n=r,i=n.center;$h.makeEmpty(),e.traverseVisible(s=>{s.isMesh&&$h.expandByObject(s)}),$h.getCenter(i);let a=0;return e.traverseVisible(s=>{if(!s.isMesh)return;const o=s;if(!o.geometry)return;const A=o.geometry.clone();A.applyMatrix4(o.matrixWorld);const c=A.attributes.position;for(let u=0,f=c.count;u<f;u++)jt.fromBufferAttribute(c,u),a=Math.max(a,i.distanceToSquared(jt))}),n.radius=Math.sqrt(a),n}}function gQe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eW={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(A,l,c){if(c=c||{},A=A.trim(),l=l.trim(),!l){if(!c.alwaysNormalize)return A;var u=o.parseURL(A);if(!u)throw new Error("Error trying to parse base URL.");return u.path=o.normalizePath(u.path),o.buildURLFromParts(u)}var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):l;var h=o.parseURL(A);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var d=i.exec(h.path);h.netLoc=d[1],h.path=d[2]}h.netLoc&&!h.path&&(h.path="/");var p={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(p.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)p.path=h.path,f.params||(p.params=h.params,f.query||(p.query=h.query));else{var g=h.path,v=g.substring(0,g.lastIndexOf("/")+1)+f.path;p.path=o.normalizePath(v)}return p.path===null&&(p.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(p)},parseURL:function(A){var l=n.exec(A);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(A){for(A=A.split("").reverse().join("").replace(a,"");A.length!==(A=A.replace(s,"")).length;);return A.split("").reverse().join("")},buildURLFromParts:function(A){return A.scheme+A.netLoc+A.path+A.params+A.query+A.fragment}};t.exports=o})()})(eW);var PL=eW.exports;function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){yQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mQe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vQe(t){var e=mQe(t,"string");return typeof e=="symbol"?e:String(e)}function yQe(t,e,r){return e=vQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ai(){return ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ai.apply(this,arguments)}const ut=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},bQe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=wQe},wQe=Number.MAX_SAFE_INTEGER||9007199254740991;let j=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Ot=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),_e=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Xu=function(){},T_={trace:Xu,debug:Xu,log:Xu,warn:Xu,info:Xu,error:Xu};let R0=T_;function xQe(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Xu}function EQe(t,...e){e.forEach(function(r){R0[r]=t[r]?t[r].bind(t):xQe(r)})}function BQe(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){EQe(t,"debug","log","info","warn","error");try{R0.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch(r){R0=T_}}else R0=T_}const be=R0,CQe=/^(\d+)x(\d+)$/,pk=/(.+?)=(".*?"|.*?)(?:,|$)/g;class ln{constructor(e){typeof e=="string"&&(e=ln.parseAttrList(e)),ai(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}else return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const r=CQe.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e){let r;const n={},i='"';for(pk.lastIndex=0;(r=pk.exec(e))!==null;){let a=r[2];a.indexOf(i)===0&&a.lastIndexOf(i)===a.length-1&&(a=a.slice(1,-1));const s=r[1].trim();n[s]=a}return n}}function SQe(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function TQe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class UL{constructor(e,r){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){const n=r.attr;for(const i in n)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==n[i]){be.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=ai(new ln({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);ut(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ut(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ut(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class mv{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Sr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class RL{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Sr.AUDIO]:null,[Sr.VIDEO]:null,[Sr.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=(r==null?void 0:r.byteRangeEndOffset)||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=PL.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class a2 extends RL{constructor(e,r){super(r),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new mv,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!ut(this.programDateTime))return null;const e=ut(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),n=r.length;if(n>1||n===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,a,s=!1){const{elementaryStreams:o}=this,A=o[e];if(!A){o[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:a,partial:s};return}A.startPTS=Math.min(A.startPTS,r),A.endPTS=Math.max(A.endPTS,n),A.startDTS=Math.min(A.startDTS,i),A.endDTS=Math.max(A.endDTS,a)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Sr.AUDIO]=null,e[Sr.VIDEO]=null,e[Sr.AUDIOVIDEO]=null}}class tW extends RL{constructor(e,r,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new mv,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const _Qe=10;class rW{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?ut(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||_Qe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function DL(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function LQe(t){const e=__(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function IQe(t){const e=function(n,i,a){const s=n[i];n[i]=n[a],n[a]=s};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function OQe(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",s=i[1];a?(n.splice(-1,1),r=DL(s)):r=LQe(s)}}return r}function __(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const op=typeof self!="undefined"?self:void 0;var gr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Ia={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function $C(t){switch(t){case Ia.FAIRPLAY:return gr.FAIRPLAY;case Ia.PLAYREADY:return gr.PLAYREADY;case Ia.WIDEVINE:return gr.WIDEVINE;case Ia.CLEARKEY:return gr.CLEARKEY}}var py={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function jC(t){if(t===py.WIDEVINE)return gr.WIDEVINE;if(t===py.PLAYREADY)return gr.PLAYREADY;if(t===py.CENC||t===py.CLEARKEY)return gr.CLEARKEY}function GC(t){switch(t){case gr.FAIRPLAY:return Ia.FAIRPLAY;case gr.PLAYREADY:return Ia.PLAYREADY;case gr.WIDEVINE:return Ia.WIDEVINE;case gr.CLEARKEY:return Ia.CLEARKEY}}function gy(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[gr.FAIRPLAY,gr.WIDEVINE,gr.PLAYREADY,gr.CLEARKEY].filter(i=>!!e[i]):[];return!n[gr.WIDEVINE]&&r&&n.push(gr.WIDEVINE),n}const nW=function(t){return op!=null&&(t=op.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function FQe(t,e,r,n){let i;switch(t){case gr.FAIRPLAY:i=["cenc","sinf"];break;case gr.WIDEVINE:case gr.PLAYREADY:i=["cenc"];break;case gr.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return PQe(i,e,r,n)}function PQe(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs="${a}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(a=>({contentType:`video/mp4; codecs="${a}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function iW(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(s){const o=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(o){const A=DL(o).subarray(0,16);return IQe(A),A}}return null}function bf(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}const ML=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,aW=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Fm=(t,e)=>{const r=e;let n=0;for(;ML(t,e);){n+=10;const i=Ix(t,e+6);n+=i,aW(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)},Ix=(t,e)=>{let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r},UQe=(t,e)=>ML(t,e)&&Ix(t,e+6)+10<=t.length-e,NL=t=>{const e=oW(t);for(let r=0;r<e.length;r++){const n=e[r];if(sW(n))return QQe(n)}},sW=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",RQe=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=Ix(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}},oW=t=>{let e=0;const r=[];for(;ML(t,e);){const n=Ix(t,e+6);e+=10;const i=e+n;for(;e+8<i;){const a=RQe(t.subarray(e)),s=DQe(a);s&&r.push(s),e+=a.size+10}aW(t,e)&&(e+=10)}return r},DQe=t=>t.type==="PRIV"?MQe(t):t.type[0]==="W"?kQe(t):NQe(t),MQe=t=>{if(t.size<2)return;const e=kA(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}},NQe=t=>{if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=kA(t.data.subarray(r),!0);r+=n.length+1;const i=kA(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=kA(t.data.subarray(1));return{key:t.type,data:e}},kQe=t=>{if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=kA(t.data.subarray(r),!0);r+=n.length+1;const i=kA(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=kA(t.data);return{key:t.type,data:e}},QQe=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}},kA=(t,e=!1)=>{const r=HQe();if(r){const l=r.decode(t);if(e){const c=l.indexOf("\0");return c!==-1?l.substring(0,c):l}return l.replace(/\0/g,"")}const n=t.length;let i,a,s,o="",A=0;for(;A<n;){if(i=t[A++],i===0&&e)return o;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=t[A++],o+=String.fromCharCode((i&31)<<6|a&63);break;case 14:a=t[A++],s=t[A++],o+=String.fromCharCode((i&15)<<12|(a&63)<<6|(s&63)<<0);break}}return o};let KC;function HQe(){if(!navigator.userAgent.includes("PlayStation 4"))return!KC&&typeof self.TextDecoder!="undefined"&&(KC=new self.TextDecoder("utf-8")),KC}const BA={hexDump:function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}},$b=Math.pow(2,32)-1,$Qe=[].push,AW={video:1,audio:2,id3:3,text:4};function fi(t){return String.fromCharCode.apply(null,t)}function lW(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function St(t,e){const r=cW(t,e);return r<0?4294967296+r:r}function gk(t,e){let r=St(t,e);return r*=Math.pow(2,32),r+=St(t,e+4),r}function cW(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function VC(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255}function jQe(t){const e=t.byteLength;for(let r=0;r<e;){const n=St(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function Qt(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const a=St(t,i),s=fi(t.subarray(i+4,i+8)),o=a>1?i+a:n;if(s===e[0])if(e.length===1)r.push(t.subarray(i+8,o));else{const A=Qt(t.subarray(i+8,o),e.slice(1));A.length&&$Qe.apply(r,A)}i=o}return r}function GQe(t){const e=[],r=t[0];let n=8;const i=St(t,n);n+=4;let a=0,s=0;r===0?(a=St(t,n),s=St(t,n+4),n+=8):(a=gk(t,n),s=gk(t,n+8),n+=16),n+=2;let o=t.length+s;const A=lW(t,n);n+=2;for(let l=0;l<A;l++){let c=n;const u=St(t,c);c+=4;const f=u&2147483647;if((u&2147483648)>>>31===1)return be.warn("SIDX has hierarchical references (not supported)"),null;const d=St(t,c);c+=4,e.push({referenceSize:f,subsegmentDuration:d,info:{duration:d/i,start:o,end:o+f-1}}),o+=f,c+=4,n=c}return{earliestPresentationTime:a,timescale:i,version:r,referencesCount:A,references:e}}function uW(t){const e=[],r=Qt(t,["moov","trak"]);for(let i=0;i<r.length;i++){const a=r[i],s=Qt(a,["tkhd"])[0];if(s){let o=s[0];const A=St(s,o===0?12:20),l=Qt(a,["mdia","mdhd"])[0];if(l){o=l[0];const c=St(l,o===0?12:20),u=Qt(a,["mdia","hdlr"])[0];if(u){const f=fi(u.subarray(8,12)),h={soun:Sr.AUDIO,vide:Sr.VIDEO}[f];if(h){const d=Qt(a,["mdia","minf","stbl","stsd"])[0],p=KQe(d);e[A]={timescale:c,type:h},e[h]=Oi({timescale:c,id:A},p)}}}}}return Qt(t,["moov","mvex","trex"]).forEach(i=>{const a=St(i,4),s=e[a];s&&(s.default={duration:St(i,12),flags:St(i,20)})}),e}function KQe(t){const e=t.subarray(8),r=e.subarray(86),n=fi(e.subarray(4,8));let i=n;const a=n==="enca"||n==="encv";if(a){const o=Qt(e,[n])[0].subarray(n==="enca"?28:78);Qt(o,["sinf"]).forEach(l=>{const c=Qt(l,["schm"])[0];if(c){const u=fi(c.subarray(4,8));if(u==="cbcs"||u==="cenc"){const f=Qt(l,["frma"])[0];f&&(i=fi(f))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const s=Qt(r,["avcC"])[0];i+="."+my(s[1])+my(s[2])+my(s[3]);break}case"mp4a":{const s=Qt(e,[n])[0],o=Qt(s.subarray(28),["esds"])[0];if(o&&o.length>12){let A=4;if(o[A++]!==3)break;A=WC(o,A),A+=2;const l=o[A++];if(l&128&&(A+=2),l&64&&(A+=o[A++]),o[A++]!==4)break;A=WC(o,A);const c=o[A++];if(c===64)i+="."+my(c);else break;if(A+=12,o[A++]!==5)break;A=WC(o,A);const u=o[A++];let f=(u&248)>>3;f===31&&(f+=1+((u&7)<<3)+((o[A]&224)>>5)),i+="."+f}break}case"hvc1":case"hev1":{const s=Qt(r,["hvcC"])[0],o=s[1],A=["","A","B","C"][o>>6],l=o&31,c=St(s,2),u=(o&32)>>5?"H":"L",f=s[12],h=s.subarray(6,12);i+="."+A+l,i+="."+c.toString(16).toUpperCase(),i+="."+u+f;let d="";for(let p=h.length;p--;){const g=h[p];(g||d)&&(d="."+g.toString(16).toUpperCase()+d)}i+=d;break}case"dvh1":case"dvhe":{const s=Qt(r,["dvcC"])[0],o=s[2]>>1&127,A=s[2]<<5&32|s[3]>>3&31;i+="."+bA(o)+"."+bA(A);break}case"vp09":{const s=Qt(r,["vpcC"])[0],o=s[4],A=s[5],l=s[6]>>4&15;i+="."+bA(o)+"."+bA(A)+"."+bA(l);break}case"av01":{const s=Qt(r,["av1C"])[0],o=s[1]>>>5,A=s[1]&31,l=s[2]>>>7?"H":"M",c=(s[2]&64)>>6,u=(s[2]&32)>>5,f=o===2&&c?u?12:10:c?10:8,h=(s[2]&16)>>4,d=(s[2]&8)>>3,p=(s[2]&4)>>2,g=s[2]&3;i+="."+o+"."+bA(A)+l+"."+bA(f)+"."+h+"."+d+p+g+"."+bA(1)+"."+bA(1)+"."+bA(1)+"."+0;break}}return{codec:i,encrypted:a}}function WC(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function my(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function bA(t){return(t<10?"0":"")+t}function VQe(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&Qt(t,["moov","trak"]).forEach(i=>{const s=Qt(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=Qt(s,["enca"]);const A=o.length>0;A||(o=Qt(s,["encv"])),o.forEach(l=>{const c=A?l.subarray(28):l.subarray(78);Qt(c,["sinf"]).forEach(f=>{const h=fW(f);if(h){const d=h.subarray(8,24);d.some(p=>p!==0)||(be.log(`[eme] Patching keyId in 'enc${A?"a":"v"}>sinf>>tenc' box: ${BA.hexDump(d)} -> ${BA.hexDump(r)}`),h.set(r,8))}})})}),t}function fW(t){const e=Qt(t,["schm"])[0];if(e){const r=fi(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return Qt(t,["schi","tenc"])[0]}return null}function WQe(t,e){return Qt(e,["moof","traf"]).reduce((r,n)=>{const i=Qt(n,["tfdt"])[0],a=i[0],s=Qt(n,["tfhd"]).reduce((o,A)=>{const l=St(A,4),c=t[l];if(c){let u=St(i,4);if(a===1){if(u===$b)return be.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;u*=$b+1,u+=St(i,8)}const f=c.timescale||9e4,h=u/f;if(ut(h)&&(o===null||h<o))return h}return o},null);return s!==null&&ut(s)&&(r===null||s<r)?s:r},null)}function zQe(t,e){let r=0,n=0,i=0;const a=Qt(t,["moof","traf"]);for(let s=0;s<a.length;s++){const o=a[s],A=Qt(o,["tfhd"])[0],l=St(A,4),c=e[l];if(!c)continue;const u=c.default,f=St(A,0)|(u==null?void 0:u.flags);let h=u==null?void 0:u.duration;f&8&&(f&2?h=St(A,12):h=St(A,8));const d=c.timescale||9e4,p=Qt(o,["trun"]);for(let g=0;g<p.length;g++){if(r=YQe(p[g]),!r&&h){const v=St(p[g],4);r=h*v}c.type===Sr.VIDEO?n+=r/d:c.type===Sr.AUDIO&&(i+=r/d)}}if(n===0&&i===0){let s=1/0,o=0,A=0;const l=Qt(t,["sidx"]);for(let c=0;c<l.length;c++){const u=GQe(l[c]);if(u!=null&&u.references){s=Math.min(s,u.earliestPresentationTime/u.timescale);const f=u.references.reduce((h,d)=>h+d.info.duration||0,0);o=Math.max(o,f+u.earliestPresentationTime/u.timescale),A=o-s}}if(A&&ut(A))return A}return n||i}function YQe(t){const e=St(t,0);let r=8;e&1&&(r+=4),e&4&&(r+=4);let n=0;const i=St(t,4);for(let a=0;a<i;a++){if(e&256){const s=St(t,r);n+=s,r+=4}e&512&&(r+=4),e&1024&&(r+=4),e&2048&&(r+=4)}return n}function qQe(t,e,r){Qt(e,["moof","traf"]).forEach(n=>{Qt(n,["tfhd"]).forEach(i=>{const a=St(i,4),s=t[a];if(!s)return;const o=s.timescale||9e4;Qt(n,["tfdt"]).forEach(A=>{const l=A[0],c=r*o;if(c){let u=St(A,4);if(l===0)u-=c,u=Math.max(u,0),VC(A,4,u);else{u*=Math.pow(2,32),u+=St(A,8),u-=c,u=Math.max(u,0);const f=Math.floor(u/($b+1)),h=Math.floor(u%($b+1));VC(A,4,f),VC(A,8,h)}}})})})}function XQe(t){const e={valid:null,remainder:null},r=Qt(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=bf(t,0,n.byteOffset-8),e.remainder=bf(t,n.byteOffset-8),e}function co(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function mk(t,e){const r=[],n=e.samples,i=e.timescale,a=e.id;let s=!1;return Qt(n,["moof"]).map(A=>{const l=A.byteOffset-8;Qt(A,["traf"]).map(u=>{const f=Qt(u,["tfdt"]).map(h=>{const d=h[0];let p=St(h,4);return d===1&&(p*=Math.pow(2,32),p+=St(h,8)),p/i})[0];return f!==void 0&&(t=f),Qt(u,["tfhd"]).map(h=>{const d=St(h,4),p=St(h,0)&16777215,g=(p&1)!==0,v=(p&2)!==0,y=(p&8)!==0;let w=0;const S=(p&16)!==0;let x=0;const E=(p&32)!==0;let C=8;d===a&&(g&&(C+=8),v&&(C+=4),y&&(w=St(h,C),C+=4),S&&(x=St(h,C),C+=4),E&&(C+=4),e.type==="video"&&(s=JQe(e.codec)),Qt(u,["trun"]).map(L=>{const O=L[0],D=St(L,0)&16777215,_=(D&1)!==0;let F=0;const R=(D&4)!==0,M=(D&256)!==0;let z=0;const N=(D&512)!==0;let Y=0;const X=(D&1024)!==0,H=(D&2048)!==0;let W=0;const Z=St(L,4);let I=8;_&&(F=St(L,I),I+=4),R&&(I+=4);let U=F+l;for(let $=0;$<Z;$++){if(M?(z=St(L,I),I+=4):z=w,N?(Y=St(L,I),I+=4):Y=x,X&&(I+=4),H&&(O===0?W=St(L,I):W=cW(L,I),I+=4),e.type===Sr.VIDEO){let G=0;for(;G<Y;){const te=St(n,U);if(U+=4,ZQe(s,n[U])){const ie=n.subarray(U,U+te);hW(ie,s?2:1,t+W/i,r)}U+=te,G+=te+4}}t+=z/i}}))})})}),r}function JQe(t){if(!t)return!1;const e=t.indexOf("."),r=e<0?t:t.substring(0,e);return r==="hvc1"||r==="hev1"||r==="dvh1"||r==="dvhe"}function ZQe(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function hW(t,e,r,n){const i=dW(t);let a=0;a+=e;let s=0,o=0,A=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;A=i[a++],s+=A}while(A===255);o=0;do{if(a>=i.length)break;A=i[a++],o+=A}while(A===255);const l=i.length-a;let c=a;if(o<l)a+=o;else if(o>l){be.error(`Malformed SEI payload. ${o} is too small, only ${l} bytes left to parse.`);break}if(s===4){if(i[c++]===181){const f=lW(i,c);if(c+=2,f===49){const h=St(i,c);if(c+=4,h===1195456820){const d=i[c++];if(d===3){const p=i[c++],g=31&p,v=64&p,y=v?2+g*3:0,w=new Uint8Array(y);if(v){w[0]=p;for(let S=1;S<y;S++)w[S]=i[c++]}n.push({type:d,payloadType:s,pts:r,bytes:w})}}}}}else if(s===5&&o>16){const u=[];for(let d=0;d<16;d++){const p=i[c++].toString(16);u.push(p.length==1?"0"+p:p),(d===3||d===5||d===7||d===9)&&u.push("-")}const f=o-16,h=new Uint8Array(f);for(let d=0;d<f;d++)h[d]=i[c++];n.push({payloadType:s,pts:r,uuid:u.join(""),userData:kA(h),userDataBytes:h})}}}function dW(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,a=new Uint8Array(i);let s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=t[s];return a}function e7e(t){const e=t[0];let r="",n="",i=0,a=0,s=0,o=0,A=0,l=0;if(e===0){for(;fi(t.subarray(l,l+1))!=="\0";)r+=fi(t.subarray(l,l+1)),l+=1;for(r+=fi(t.subarray(l,l+1)),l+=1;fi(t.subarray(l,l+1))!=="\0";)n+=fi(t.subarray(l,l+1)),l+=1;n+=fi(t.subarray(l,l+1)),l+=1,i=St(t,12),a=St(t,16),o=St(t,20),A=St(t,24),l=28}else if(e===1){l+=4,i=St(t,l),l+=4;const u=St(t,l);l+=4;const f=St(t,l);for(l+=4,s=SE(2,32)*u+f,bQe(s)||(s=Number.MAX_SAFE_INTEGER,be.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=St(t,l),l+=4,A=St(t,l),l+=4;fi(t.subarray(l,l+1))!=="\0";)r+=fi(t.subarray(l,l+1)),l+=1;for(r+=fi(t.subarray(l,l+1)),l+=1;fi(t.subarray(l,l+1))!=="\0";)n+=fi(t.subarray(l,l+1)),l+=1;n+=fi(t.subarray(l,l+1)),l+=1}const c=t.subarray(l,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:A,payload:c}}function t7e(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(t,4),i=0,n=8;i<r;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function r7e(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(s.buffer).setUint32(0,r.byteLength,!1),t7e([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,i,s,r||new Uint8Array)}function n7e(t){const e=[];if(t instanceof ArrayBuffer){const r=t.byteLength;let n=0;for(;n+32<r;){const i=new DataView(t,n),a=i7e(i);e.push(a),n+=a.size}}return e}function i7e(t){const e=t.getUint32(0),r=t.byteOffset,n=t.byteLength;if(n<e)return{offset:r,size:n};if(t.getUint32(4)!==1886614376)return{offset:r,size:e};const a=t.getUint32(8)>>>24;if(a!==0&&a!==1)return{offset:r,size:e};const s=t.buffer,o=BA.hexDump(new Uint8Array(s,r+12,16)),A=t.getUint32(28);let l=null,c=null;if(a===0){if(e-32<A||A<22)return{offset:r,size:e};c=new Uint8Array(s,r+32,A)}else if(a===1){if(!A||n<r+32+A*16+16)return{offset:r,size:e};l=[];for(let u=0;u<A;u++)l.push(new Uint8Array(s,r+32+u*16,16))}return{version:a,systemId:o,kids:l,data:c,offset:r,size:e}}let vy={};class Ap{static clearKeyUriToKeyIdMap(){vy={}}constructor(e,r,n,i=[1],a=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Ia.FAIRPLAY:case Ia.WIDEVINE:case Ia.PLAYREADY:case Ia.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&be.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=a7e(e);return new Ap(this.method,this.uri,"identity",this.keyFormatVersions,n)}const r=OQe(this.uri);if(r)switch(this.keyFormat){case Ia.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case Ia.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=r7e(n,null,r),this.keyId=iW(r);break}default:{let n=r.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=vy[this.uri];if(!n){const i=Object.keys(vy).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),vy[this.uri]=n}this.keyId=n}return this}}function a7e(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const pW=/\{\$([a-zA-Z0-9-_]+)\}/g;function vk(t){return pW.test(t)}function Va(t,e,r){if(t.variableList!==null||t.hasVariableRefs)for(let n=r.length;n--;){const i=r[n],a=e[i];a&&(e[i]=L_(t,a))}}function L_(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(pW,n=>{const i=n.substring(2,n.length-1),a=r==null?void 0:r[i];return a===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function yk(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const s=new self.URL(r).searchParams;if(s.has(i))a=s.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else i=e.NAME,a=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function s7e(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function au(t=!0){return typeof self=="undefined"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function o7e(t){return typeof self!="undefined"&&t===self.ManagedMediaSource}const jb={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function A7e(t,e){const r=jb[e];return!!r&&!!r[t.slice(0,4)]}function zC(t,e,r=!0){return!t.split(",").some(n=>!gW(n,e,r))}function gW(t,e,r=!0){var n;const i=au(r);return(n=i==null?void 0:i.isTypeSupported(Pm(t,e)))!=null?n:!1}function Pm(t,e){return`${e}/mp4;codecs="${t}"`}function bk(t){if(t){const e=t.substring(0,4);return jb.video[e]}return 2}function Gb(t){return t.split(",").reduce((e,r)=>{const n=jb.video[r];return n?(n*2+e)/(e?3:2):(jb.audio[r]+e)/(e?2:1)},0)}const YC={};function l7e(t,e=!0){if(YC[t])return YC[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let n=0;n<r.length;n++)if(gW(r[n],"audio",e))return YC[t]=r[n],r[n];return t}const c7e=/flac|opus/i;function Kb(t,e=!0){return t.replace(c7e,r=>l7e(r.toLowerCase(),e))}function wk(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function u7e(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");if(n.length>2){let i=n.shift()+".";i+=parseInt(n.shift()).toString(16),i+=("000"+parseInt(n.shift()).toString(16)).slice(-4),e[r]=i}}return e.join(",")}const xk=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Ek=/#EXT-X-MEDIA:(.*)/g,f7e=/^#EXT(?:INF|-X-TARGETDURATION):/m,Bk=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),h7e=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class OA{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return PL.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return f7e.test(e)}static parseMasterPlaylist(e,r){const n=vk(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];xk.lastIndex=0;let s;for(;(s=xk.exec(e))!=null;)if(s[1]){var o;const l=new ln(s[1]);Va(i,l,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const c=L_(i,s[2]),u={attrs:l,bitrate:l.decimalInteger("BANDWIDTH")||l.decimalInteger("AVERAGE-BANDWIDTH"),name:l.NAME,url:OA.resolve(c,r)},f=l.decimalResolution("RESOLUTION");f&&(u.width=f.width,u.height=f.height),d7e(l.CODECS,u),(o=u.unknownCodecs)!=null&&o.length||a.push(u),i.levels.push(u)}else if(s[3]){const l=s[3],c=s[4];switch(l){case"SESSION-DATA":{const u=new ln(c);Va(i,u,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=u["DATA-ID"];f&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[f]=u);break}case"SESSION-KEY":{const u=Ck(c,r,i);u.encrypted&&u.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(u)):be.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${c}"`);break}case"DEFINE":{{const u=new ln(c);Va(i,u,["NAME","VALUE","QUERYPARAM"]),yk(i,u,r)}break}case"CONTENT-STEERING":{const u=new ln(c);Va(i,u,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:OA.resolve(u["SERVER-URI"],r),pathwayId:u["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=Sk(c);break}}}const A=a.length>0&&a.length<i.levels.length;return i.levels=A?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const a={},s=n.levels,o={AUDIO:s.map(l=>({id:l.attrs.AUDIO,audioCodec:l.audioCodec})),SUBTITLES:s.map(l=>({id:l.attrs.SUBTITLES,textCodec:l.textCodec})),"CLOSED-CAPTIONS":[]};let A=0;for(Ek.lastIndex=0;(i=Ek.exec(e))!==null;){const l=new ln(i[1]),c=l.TYPE;if(c){const u=o[c],f=a[c]||[];a[c]=f,Va(n,l,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h=l.LANGUAGE,d=l["ASSOC-LANGUAGE"],p=l.CHANNELS,g=l.CHARACTERISTICS,v=l["INSTREAM-ID"],y={attrs:l,bitrate:0,id:A++,groupId:l["GROUP-ID"]||"",name:l.NAME||h||"",type:c,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:h,url:l.URI?OA.resolve(l.URI,r):""};if(d&&(y.assocLang=d),p&&(y.channels=p),g&&(y.characteristics=g),v&&(y.instreamId=v),u!=null&&u.length){const w=OA.findGroup(u,y.groupId)||u[0];Tk(y,w,"audioCodec"),Tk(y,w,"textCodec")}f.push(y)}}return a}static parseLevelPlaylist(e,r,n,i,a,s){const o=new rW(r),A=o.fragments;let l=null,c=0,u=0,f=0,h=0,d=null,p=new a2(i,r),g,v,y,w=-1,S=!1,x=null;for(Bk.lastIndex=0,o.m3u8=e,o.hasVariableRefs=vk(e);(g=Bk.exec(e))!==null;){S&&(S=!1,p=new a2(i,r),p.start=f,p.sn=c,p.cc=h,p.level=n,l&&(p.initSegment=l,p.rawProgramDateTime=l.rawProgramDateTime,l.rawProgramDateTime=null,x&&(p.setByteRange(x),x=null)));const O=g[1];if(O){p.duration=parseFloat(O);const D=(" "+g[2]).slice(1);p.title=D||null,p.tagList.push(D?["INF",O,D]:["INF",O])}else if(g[3]){if(ut(p.duration)){p.start=f,y&&Ik(p,y,o),p.sn=c,p.level=n,p.cc=h,A.push(p);const D=(" "+g[3]).slice(1);p.relurl=L_(o,D),_k(p,d),d=p,f+=p.duration,c++,u=0,S=!0}}else if(g[4]){const D=(" "+g[4]).slice(1);d?p.setByteRange(D,d):p.setByteRange(D)}else if(g[5])p.rawProgramDateTime=(" "+g[5]).slice(1),p.tagList.push(["PROGRAM-DATE-TIME",p.rawProgramDateTime]),w===-1&&(w=A.length);else{if(g=g[0].match(h7e),!g){be.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<g.length&&typeof g[v]=="undefined";v++);const D=(" "+g[v]).slice(1),_=(" "+g[v+1]).slice(1),F=g[v+2]?(" "+g[v+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":o.type=_.toUpperCase();break;case"MEDIA-SEQUENCE":c=o.startSN=parseInt(_);break;case"SKIP":{const R=new ln(_);Va(o,R,["RECENTLY-REMOVED-DATERANGES"]);const M=R.decimalInteger("SKIPPED-SEGMENTS");if(ut(M)){o.skippedSegments=M;for(let N=M;N--;)A.unshift(null);c+=M}const z=R.enumeratedString("RECENTLY-REMOVED-DATERANGES");z&&(o.recentlyRemovedDateranges=z.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(_),1);break;case"VERSION":o.version=parseInt(_);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(_||F)&&p.tagList.push(F?[_,F]:[_]);break;case"DISCONTINUITY":h++,p.tagList.push(["DIS"]);break;case"GAP":p.gap=!0,p.tagList.push([D]);break;case"BITRATE":p.tagList.push([D,_]);break;case"DATERANGE":{const R=new ln(_);Va(o,R,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Va(o,R,R.clientAttrs);const M=new UL(R,o.dateRanges[R.ID]);M.isValid||o.skippedSegments?o.dateRanges[M.id]=M:be.warn(`Ignoring invalid DATERANGE tag: "${_}"`),p.tagList.push(["EXT-X-DATERANGE",_]);break}case"DEFINE":{{const R=new ln(_);Va(o,R,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in R?s7e(o,R,s):yk(o,R,r)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt(_);break;case"KEY":{const R=Ck(_,r,o);if(R.isSupported()){if(R.method==="NONE"){y=void 0;break}y||(y={}),y[R.keyFormat]&&(y=ai({},y)),y[R.keyFormat]=R}else be.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${_}"`);break}case"START":o.startTimeOffset=Sk(_);break;case"MAP":{const R=new ln(_);if(Va(o,R,["BYTERANGE","URI"]),p.duration){const M=new a2(i,r);Lk(M,R,n,y),l=M,p.initSegment=l,l.rawProgramDateTime&&!p.rawProgramDateTime&&(p.rawProgramDateTime=l.rawProgramDateTime)}else{const M=p.byteRangeEndOffset;if(M){const z=p.byteRangeStartOffset;x=`${M-z}@${z}`}else x=null;Lk(p,R,n,y),l=p,S=!0}break}case"SERVER-CONTROL":{const R=new ln(_);o.canBlockReload=R.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=R.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&R.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=R.optionalFloat("PART-HOLD-BACK",0),o.holdBack=R.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const R=new ln(_);o.partTarget=R.decimalFloatingPoint("PART-TARGET");break}case"PART":{let R=o.partList;R||(R=o.partList=[]);const M=u>0?R[R.length-1]:void 0,z=u++,N=new ln(_);Va(o,N,["BYTERANGE","URI"]);const Y=new tW(N,p,r,z,M);R.push(Y),p.duration+=Y.duration;break}case"PRELOAD-HINT":{const R=new ln(_);Va(o,R,["URI"]),o.preloadHint=R;break}case"RENDITION-REPORT":{const R=new ln(_);Va(o,R,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(R);break}default:be.warn(`line parsed but not handled: ${g}`);break}}}d&&!d.relurl?(A.pop(),f-=d.duration,o.partList&&(o.fragmentHint=d)):o.partList&&(_k(p,d),p.cc=h,o.fragmentHint=p,y&&Ik(p,y,o));const E=A.length,C=A[0],L=A[E-1];if(f+=o.skippedSegments*o.targetduration,f>0&&E&&L){o.averagetargetduration=f/E;const O=L.sn;o.endSN=O!=="initSegment"?O:0,o.live||(L.endList=!0),C&&(o.startCC=C.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(f+=o.fragmentHint.duration),o.totalduration=f,o.endCC=h,w>0&&p7e(A,w),o}}function Ck(t,e,r){var n,i;const a=new ln(t);Va(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=(n=a.METHOD)!=null?n:"",o=a.URI,A=a.hexadecimalInteger("IV"),l=a.KEYFORMATVERSIONS,c=(i=a.KEYFORMAT)!=null?i:"identity";o&&a.IV&&!A&&be.error(`Invalid IV: ${a.IV}`);const u=o?OA.resolve(o,e):"",f=(l||"1").split("/").map(Number).filter(Number.isFinite);return new Ap(s,u,c,f,A)}function Sk(t){const r=new ln(t).decimalFloatingPoint("TIME-OFFSET");return ut(r)?r:null}function d7e(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(a=>A7e(a,n));i.length&&(e[`${n}Codec`]=i.join(","),r=r.filter(a=>i.indexOf(a)===-1))}),e.unknownCodecs=r}function Tk(t,e,r){const n=e[r];n&&(t[r]=n)}function p7e(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function _k(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),ut(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function Lk(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function Ik(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}var nr={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Et={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function Ok(t){const{type:e}=t;switch(e){case nr.AUDIO_TRACK:return Et.AUDIO;case nr.SUBTITLE_TRACK:return Et.SUBTITLE;default:return Et.MAIN}}function qC(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class g7e{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.LEVEL_LOADING,this.onLevelLoading,this),e.on(j.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(j.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.LEVEL_LOADING,this.onLevelLoading,this),e.off(j.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(j.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,a=n||i,s=new a(r);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:nr.MANIFEST,url:n,deliveryDirectives:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:a,url:s,deliveryDirectives:o}=r;this.load({id:n,level:i,pathwayId:a,responseType:"text",type:nr.LEVEL,url:s,deliveryDirectives:o})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:nr.AUDIO_TRACK,url:a,deliveryDirectives:s})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:nr.SUBTITLE_TRACK,url:a,deliveryDirectives:s})}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const l=i.context;if(l&&l.url===e.url&&l.level===e.level){be.trace("[playlist-loader]: playlist request ongoing");return}be.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===nr.MANIFEST?a=n.manifestLoadPolicy.default:a=ai({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),ut((r=e.deliveryDirectives)==null?void 0:r.part)){let l;if(e.type===nr.LEVEL&&e.level!==null?l=this.hls.levels[e.level].details:e.type===nr.AUDIO_TRACK&&e.id!==null?l=this.hls.audioTracks[e.id].details:e.type===nr.SUBTITLE_TRACK&&e.id!==null&&(l=this.hls.subtitleTracks[e.id].details),l){const c=l.partTarget,u=l.targetduration;if(c&&u){const f=Math.max(c*3,u*.8)*1e3;a=ai({},a,{maxTimeToFirstByteMs:Math.min(f,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,a.maxTimeToFirstByteMs)})}}}const s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},A={onSuccess:(l,c,u,f)=>{const h=this.getInternalLoader(u);this.resetInternalLoader(u.type);const d=l.data;if(d.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(l,u,new Error("no EXTM3U delimiter"),f||null,c);return}c.parsing.start=performance.now(),OA.isMediaPlaylist(d)?this.handleTrackOrLevelPlaylist(l,c,u,f||null,h):this.handleMasterPlaylist(l,c,u,f)},onError:(l,c,u,f)=>{this.handleNetworkError(c,u,!1,l,f)},onTimeout:(l,c,u)=>{this.handleNetworkError(c,u,!0,void 0,l)}};i.load(e,o,A)}handleMasterPlaylist(e,r,n,i){const a=this.hls,s=e.data,o=qC(e,n),A=OA.parseMasterPlaylist(s,o);if(A.playlistParsingError){this.handleManifestParsingError(e,n,A.playlistParsingError,i,r);return}const{contentSteering:l,levels:c,sessionData:u,sessionKeys:f,startTimeOffset:h,variableList:d}=A;this.variableList=d;const{AUDIO:p=[],SUBTITLES:g,"CLOSED-CAPTIONS":v}=OA.parseMasterPlaylistMedia(s,o,A);p.length&&!p.some(w=>!w.url)&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(be.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ln({}),bitrate:0,url:""})),a.trigger(j.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:g,captions:v,contentSteering:l,url:o,stats:r,networkDetails:i,sessionData:u,sessionKeys:f,startTimeOffset:h,variableList:d})}handleTrackOrLevelPlaylist(e,r,n,i,a){const s=this.hls,{id:o,level:A,type:l}=n,c=qC(e,n),u=0,f=ut(A)?A:ut(o)?o:0,h=Ok(n),d=OA.parseLevelPlaylist(e.data,c,f,h,u,this.variableList);if(l===nr.MANIFEST){const p={attrs:new ln({}),bitrate:0,details:d,name:"",url:c};s.trigger(j.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:c,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=d,this.handlePlaylistLoaded(d,e,r,n,i,a)}handleManifestParsingError(e,r,n,i,a){this.hls.trigger(j.ERROR,{type:Ot.NETWORK_ERROR,details:_e.MANIFEST_PARSING_ERROR,fatal:r.type===nr.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:a})}handleNetworkError(e,r,n=!1,i,a){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===nr.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===nr.AUDIO_TRACK||e.type===nr.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(s);be.warn(`[playlist-loader]: ${s}`);let A=_e.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case nr.MANIFEST:A=n?_e.MANIFEST_LOAD_TIMEOUT:_e.MANIFEST_LOAD_ERROR,l=!0;break;case nr.LEVEL:A=n?_e.LEVEL_LOAD_TIMEOUT:_e.LEVEL_LOAD_ERROR,l=!1;break;case nr.AUDIO_TRACK:A=n?_e.AUDIO_TRACK_LOAD_TIMEOUT:_e.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case nr.SUBTITLE_TRACK:A=n?_e.SUBTITLE_TRACK_LOAD_TIMEOUT:_e.SUBTITLE_LOAD_ERROR,l=!1;break}c&&this.resetInternalLoader(e.type);const u={type:Ot.NETWORK_ERROR,details:A,fatal:l,url:e.url,loader:c,context:e,error:o,networkDetails:r,stats:a};if(i){const f=(r==null?void 0:r.url)||e.url;u.response=Oi({url:f,data:void 0},i)}this.hls.trigger(j.ERROR,u)}handlePlaylistLoaded(e,r,n,i,a,s){const o=this.hls,{type:A,level:l,id:c,groupId:u,deliveryDirectives:f}=i,h=qC(r,i),d=Ok(i),p=typeof i.level=="number"&&d===Et.MAIN?l:void 0;if(!e.fragments.length){const v=new Error("No Segments found in Playlist");o.trigger(j.ERROR,{type:Ot.NETWORK_ERROR,details:_e.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:r,context:i,level:p,parent:d,networkDetails:a,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const g=e.playlistParsingError;if(g){o.trigger(j.ERROR,{type:Ot.NETWORK_ERROR,details:_e.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:r,context:i,level:p,parent:d,networkDetails:a,stats:n});return}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),A){case nr.MANIFEST:case nr.LEVEL:o.trigger(j.LEVEL_LOADED,{details:e,level:p||0,id:c||0,stats:n,networkDetails:a,deliveryDirectives:f});break;case nr.AUDIO_TRACK:o.trigger(j.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:a,deliveryDirectives:f});break;case nr.SUBTITLE_TRACK:o.trigger(j.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:a,deliveryDirectives:f});break}}}function mW(t,e){let r;try{r=new Event("addtrack")}catch(n){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function vW(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){be.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){be.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function ud(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)t.removeCue(t.cues[r]);e==="disabled"&&(t.mode=e)}function I_(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const a=v7e(t.cues,e,r);for(let s=0;s<a.length;s++)(!n||n(a[s]))&&t.removeCue(a[s])}i==="disabled"&&(t.mode=i)}function m7e(t,e){if(e<t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r;for(;n<=i;){const a=Math.floor((i+n)/2);if(e<t[a].startTime)i=a-1;else if(e>t[a].startTime&&n<r)n=a+1;else return a}return t[n].startTime-e<e-t[i].startTime?n:i}function v7e(t,e,r){const n=[],i=m7e(t,e);if(i>-1)for(let a=i,s=t.length;a<s;a++){const o=t[a];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}function s2(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}var Xs={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const y7e=.25;function O_(){if(typeof self!="undefined")return self.VTTCue||self.TextTrackCue}function Fk(t,e,r,n,i){let a=new t(e,r,"");try{a.value=n,i&&(a.type=i)}catch(s){a=new t(e,r,JSON.stringify(i?Oi({type:i},n):n))}return a}const yy=(()=>{const t=O_();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function XC(t,e){return t.getTime()/1e3-e}function b7e(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class w7e{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(j.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(j.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,r){this.media=r.media}onMediaDetaching(){this.id3Track&&(ud(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return mW(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:a}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=O_();if(s)for(let o=0;o<a.length;o++){const A=a[o].type;if(A===Xs.emsg&&!n||!i)continue;const l=oW(a[o].data);if(l){const c=a[o].pts;let u=c+a[o].duration;u>yy&&(u=yy),u-c<=0&&(u=c+y7e);for(let h=0;h<l.length;h++){const d=l[h];if(!sW(d)){this.updateId3CueEnds(c,A);const p=Fk(s,c,u,d,A);p&&this.id3Track.addCue(p)}}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let a=i.length;a--;){const s=i[a];s.type===r&&s.startTime<e&&s.endTime===yy&&(s.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:A}}=s;if(a&&(o||A)){let l;i==="audio"?l=c=>c.type===Xs.audioId3&&A:i==="video"?l=c=>c.type===Xs.emsg&&o:l=c=>c.type===Xs.audioId3&&A||c.type===Xs.emsg&&o,I_(a,r,n,l)}}onLevelUpdated(e,{details:r}){if(!this.media||!r.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:i}=this,{dateRanges:a}=r,s=Object.keys(a);if(i){const c=Object.keys(n).filter(u=>!s.includes(u));for(let u=c.length;u--;){const f=c[u];Object.keys(n[f].cues).forEach(h=>{i.removeCue(n[f].cues[h])}),delete n[f]}}const o=r.fragments[r.fragments.length-1];if(s.length===0||!ut(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const A=o.programDateTime/1e3-o.start,l=O_();for(let c=0;c<s.length;c++){const u=s[c],f=a[u],h=XC(f.startDate,A),d=n[u],p=(d==null?void 0:d.cues)||{};let g=(d==null?void 0:d.durationKnown)||!1,v=yy;const y=f.endDate;if(y)v=XC(y,A),g=!0;else if(f.endOnNext&&!g){const S=s.reduce((x,E)=>{if(E!==f.id){const C=a[E];if(C.class===f.class&&C.startDate>f.startDate&&(!x||f.startDate<x.startDate))return C}return x},null);S&&(v=XC(S.startDate,A),g=!0)}const w=Object.keys(f.attr);for(let S=0;S<w.length;S++){const x=w[S];if(!SQe(x))continue;const E=p[x];if(E)g&&!d.durationKnown&&(E.endTime=v);else if(l){let C=f.attr[x];TQe(x)&&(C=b7e(C));const L=Fk(l,h,v,{key:x,data:C},Xs.dateRange);L&&(L.id=u,this.id3Track.addCue(L),p[x]=L)}}n[u]={cues:p,dateRange:f,durationKnown:g}}}}class x7e{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:r}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:s,lowLatencyMode:o}=this.config,A=this.hls.userConfig;let l=o&&n||r;(A.liveSyncDuration||A.liveSyncDurationCount||l===0)&&(l=a!==void 0?a:s*i);const c=i;return l+Math.min(this.stallCount*1,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency,n=this.levelDetails;if(e===null||r===null||n===null)return null;const i=n.edge,a=e-r-this.edgeStalled,s=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,a),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e,levelDetails:r}=this;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(j.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(j.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(j.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(j.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(j.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(j.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,r){var n;r.details===_e.BUFFER_STALLED_ERROR&&(this.stallCount++,(n=this.levelDetails)!=null&&n.live&&be.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:r}=this;if(!e||!r)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:a}=this.config;if(!i||a===1||!r.live)return;const s=this.targetLatency;if(s===null)return;const o=n-s,A=Math.min(this.maxLatency,s+r.targetduration);if(o<A&&o>.05&&this.forwardBufferLength>1){const c=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,u))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const F_=["NONE","TYPE-0","TYPE-1",null];function E7e(t){return F_.indexOf(t)>-1}const Vb=["SDR","PQ","HLG"];function B7e(t){return!!t&&Vb.indexOf(t)>-1}var D0={No:"",Yes:"YES",v2:"v2"};function Pk(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?D0.v2:D0.Yes:D0.No}class P_{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class Pf{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return Uk(this._audioGroups,e)}hasSubtitleGroup(e){return Uk(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function Uk(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function JC(t,e){const r=e.startPTS;if(ut(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&(i.duration=n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function yW(t,e,r,n,i,a){n-r<=0&&(be.warn("Fragment should have a positive duration",e),n=r+e.duration,a=i+e.duration);let o=r,A=n;const l=e.startPTS,c=e.endPTS;if(ut(l)){const g=Math.abs(l-r);ut(e.deltaPTS)?e.deltaPTS=Math.max(g,e.deltaPTS):e.deltaPTS=g,o=Math.max(r,l),r=Math.min(r,l),i=Math.min(i,e.startDTS),A=Math.min(n,c),n=Math.max(n,c),a=Math.max(a,e.endDTS)}const u=r-e.start;e.start!==0&&(e.start=r),e.duration=n-e.start,e.startPTS=r,e.maxStartPTS=o,e.startDTS=i,e.endPTS=n,e.minEndPTS=A,e.endDTS=a;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let h;const d=f-t.startSN,p=t.fragments;for(p[d]=e,h=d;h>0;h--)JC(p[h],p[h-1]);for(h=d;h<p.length-1;h++)JC(p[h],p[h+1]);return t.fragmentHint&&JC(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,u}function C7e(t,e){let r=null;const n=t.fragments;for(let o=n.length-1;o>=0;o--){const A=n[o].initSegment;if(A){r=A;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i;_7e(t,e,(o,A,l,c)=>{if(e.skippedSegments&&A.cc!==o.cc){const u=o.cc-A.cc;for(let f=l;f<c.length;f++)c[f].cc+=u}ut(o.startPTS)&&ut(o.endPTS)&&(A.start=A.startPTS=o.startPTS,A.startDTS=o.startDTS,A.maxStartPTS=o.maxStartPTS,A.endPTS=o.endPTS,A.endDTS=o.endDTS,A.minEndPTS=o.minEndPTS,A.duration=o.endPTS-o.startPTS,A.duration&&(i=A),e.PTSKnown=e.alignedSliding=!0),A.elementaryStreams=o.elementaryStreams,A.loader=o.loader,A.stats=o.stats,o.initSegment&&(A.initSegment=o.initSegment,r=o.initSegment)});const a=e.fragments;if(r&&(e.fragmentHint?a.concat(e.fragmentHint):a).forEach(A=>{var l;A&&(!A.initSegment||A.initSegment.relurl===((l=r)==null?void 0:l.relurl))&&(A.initSegment=r)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(o=>!o),e.deltaUpdateFailed){be.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let o=e.skippedSegments;o--;)a.shift();e.startSN=a[0].sn}else e.canSkipDateRanges&&(e.dateRanges=S7e(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=a[a.length-1].cc}T7e(t.partList,e.partList,(o,A)=>{A.elementaryStreams=o.elementaryStreams,A.stats=o.stats}),i?yW(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):bW(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const s=e.advancedDateTime;if(e.advanced&&s){const o=e.edge;e.driftStart||(e.driftStartTime=s,e.driftStart=o),e.driftEndTime=s,e.driftEnd=o}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function S7e(t,e,r){const n=ai({},t);return r&&r.forEach(i=>{delete n[i]}),Object.keys(e).forEach(i=>{const a=new UL(e[i].attr,n[i]);a.isValid?n[i]=a:be.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),n}function T7e(t,e,r){if(t&&e){let n=0;for(let i=0,a=t.length;i<=a;i++){const s=t[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}}function _7e(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,A=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=i;l<=a;l++){const c=A[s+l];let u=o[l];n&&!u&&l<n&&(u=e.fragments[l]=c),c&&u&&r(c,u,l,o)}}function bW(t,e){const r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||U_(e,n[r].start)}function U_(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function L7e(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const a=n[n.length-1].duration*1e3;a<r&&(r=a)}}else r/=2;return Math.round(r)}function I7e(t,e,r){if(!(t!=null&&t.details))return null;const n=t.details;let i=n.fragments[e-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===e)?i:e<n.startSN&&r&&r.sn===e?r:null}function Rk(t,e,r){var n;return t!=null&&t.details?wW((n=t.details)==null?void 0:n.partList,e,r):null}function wW(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function xW(t){t.forEach((e,r)=>{const{details:n}=e;n!=null&&n.fragments&&n.fragments.forEach(i=>{i.level=r})})}function Wb(t){switch(t.details){case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_TIMEOUT:case _e.LEVEL_LOAD_TIMEOUT:case _e.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Dk(t,e){const r=Wb(e);return t.default[`${r?"timeout":"error"}Retry`]}function kL(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function Mk(t){return Oi(Oi({},t),{errorRetry:null,timeoutRetry:null})}function zb(t,e,r,n){if(!t)return!1;const i=n==null?void 0:n.code,a=e<t.maxNumRetry&&(O7e(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,a):a}function O7e(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const EW={search:function(t,e){let r=0,n=t.length-1,i=null,a=null;for(;r<=n;){i=(r+n)/2|0,a=t[i];const s=e(a);if(s>0)r=i+1;else if(s<0)n=i-1;else return a}return null}};function F7e(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!ut(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;r=r||0;for(let a=0;a<t.length;++a){const s=t[a];if(U7e(e,r,s))return s}return null}function Yb(t,e,r=0,n=0,i=.005){let a=null;if(t){a=e[t.sn-e[0].sn+1]||null;const o=t.endDTS-r;o>0&&o<15e-7&&(r+=15e-7)}else r===0&&e[0].start===0&&(a=e[0]);if(a&&((!t||t.level===a.level)&&R_(r,n,a)===0||P7e(a,t,Math.min(i,n))))return a;const s=EW.search(e,R_.bind(null,r,n));return s&&(s!==t||!a)?s:a}function P7e(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,a)=>(a[0]==="INF"&&(i+=parseFloat(a[1])),i),r);return t.start<=n}return!1}function R_(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function U7e(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function R7e(t,e){return EW.search(t,r=>r.cc<e?1:r.cc>e?-1:0)}var hi={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Vs={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class BW{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=be.log.bind(be,"[info]:"),this.warn=be.warn.bind(be,"[warning]:"),this.error=be.error.bind(be,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(j.ERROR,this.onError,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(j.ERROR,this.onError,this),e.off(j.ERROR,this.onErrorOut,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Et.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,r){var n,i;if(r.fatal)return;const a=this.hls,s=r.context;switch(r.details){case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case _e.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction={action:hi.DoNothing,flags:Vs.None};return}case _e.FRAG_GAP:case _e.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=hi.SendAlternateToPenaltyBox;return}case _e.LEVEL_EMPTY_ERROR:case _e.LEVEL_PARSING_ERROR:{var o,A;const l=r.parent===Et.MAIN?r.level:a.loadLevel;r.details===_e.LEVEL_EMPTY_ERROR&&((o=r.context)!=null&&(A=o.levelDetails)!=null&&A.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,l):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,l))}return;case _e.LEVEL_LOAD_ERROR:case _e.LEVEL_LOAD_TIMEOUT:typeof(s==null?void 0:s.level)=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.level));return;case _e.AUDIO_TRACK_LOAD_ERROR:case _e.AUDIO_TRACK_LOAD_TIMEOUT:case _e.SUBTITLE_LOAD_ERROR:case _e.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const l=a.levels[a.loadLevel];if(l&&(s.type===nr.AUDIO_TRACK&&l.hasAudioGroup(s.groupId)||s.type===nr.SUBTITLE_TRACK&&l.hasSubtitleGroup(s.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.loadLevel),r.errorAction.action=hi.SendAlternateToPenaltyBox,r.errorAction.flags=Vs.MoveAllAlternatesMatchingHost;return}}return;case _e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const l=a.levels[a.loadLevel],c=l==null?void 0:l.attrs["HDCP-LEVEL"];c?r.errorAction={action:hi.SendAlternateToPenaltyBox,flags:Vs.MoveAllAlternatesMatchingHDCP,hdcpLevel:c}:this.keySystemError(r)}return;case _e.BUFFER_ADD_CODEC_ERROR:case _e.REMUX_ALLOC_ERROR:case _e.BUFFER_APPEND_ERROR:r.errorAction=this.getLevelSwitchAction(r,(i=r.level)!=null?i:a.loadLevel);return;case _e.INTERNAL_EXCEPTION:case _e.BUFFER_APPENDING_ERROR:case _e.BUFFER_FULL_ERROR:case _e.LEVEL_SWITCH_ERROR:case _e.BUFFER_STALLED_ERROR:case _e.BUFFER_SEEK_OVER_HOLE:case _e.BUFFER_NUDGE_ON_STALL:r.errorAction={action:hi.DoNothing,flags:Vs.None};return}r.type===Ot.KEY_SYSTEM_ERROR&&this.keySystemError(r)}keySystemError(e){const r=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,r)}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=Dk(n.config.playlistLoadPolicy,e),a=this.playlistError++;if(zb(i,a,Wb(e),e.response))return{action:hi.RetryRequest,flags:Vs.None,retryConfig:i,retryCount:a};const o=this.getLevelSwitchAction(e,r);return i&&(o.retryConfig=i,o.retryCount=a),o}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:a,keyLoadPolicy:s}=r.config,o=Dk(e.details.startsWith("key")?s:a,e),A=r.levels.reduce((c,u)=>c+u.fragmentError,0);if(i&&(e.details!==_e.FRAG_GAP&&i.fragmentError++,zb(o,A,Wb(e),e.response)))return{action:hi.RetryRequest,flags:Vs.None,retryConfig:o,retryCount:A};const l=this.getLevelSwitchAction(e,n);return o&&(l.retryConfig=o,l.retryCount=A),l}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var a,s;const l=e.details;i.loadError++,l===_e.BUFFER_APPEND_ERROR&&i.fragmentError++;let c=-1;const{levels:u,loadLevel:f,minAutoLevel:h,maxAutoLevel:d}=n;n.autoLevelEnabled||(n.loadLevel=-1);const p=(a=e.frag)==null?void 0:a.type,v=(p===Et.AUDIO&&l===_e.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(l===_e.BUFFER_ADD_CODEC_ERROR||l===_e.BUFFER_APPEND_ERROR))&&u.some(({audioCodec:E})=>i.audioCodec!==E),w=e.sourceBufferName==="video"&&(l===_e.BUFFER_ADD_CODEC_ERROR||l===_e.BUFFER_APPEND_ERROR)&&u.some(({codecSet:E,audioCodec:C})=>i.codecSet!==E&&i.audioCodec===C),{type:S,groupId:x}=(s=e.context)!=null?s:{};for(let E=u.length;E--;){const C=(E+f)%u.length;if(C!==f&&C>=h&&C<=d&&u[C].loadError===0){var o,A;const L=u[C];if(l===_e.FRAG_GAP&&p===Et.MAIN&&e.frag){const O=u[C].details;if(O){const D=Yb(e.frag,O.fragments,e.frag.start);if(D!=null&&D.gap)continue}}else{if(S===nr.AUDIO_TRACK&&L.hasAudioGroup(x)||S===nr.SUBTITLE_TRACK&&L.hasSubtitleGroup(x))continue;if(p===Et.AUDIO&&(o=i.audioGroups)!=null&&o.some(O=>L.hasAudioGroup(O))||p===Et.SUBTITLE&&(A=i.subtitleGroups)!=null&&A.some(O=>L.hasSubtitleGroup(O))||v&&i.audioCodec===L.audioCodec||!v&&i.audioCodec!==L.audioCodec||w&&i.codecSet===L.codecSet)continue}c=C;break}}if(c>-1&&n.loadLevel!==c)return e.levelRetry=!0,this.playlistError=0,{action:hi.SendAlternateToPenaltyBox,flags:Vs.None,nextAutoLevel:c}}return{action:hi.SendAlternateToPenaltyBox,flags:Vs.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case hi.DoNothing:break;case hi.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==_e.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break;case hi.RetryRequest:break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:a,nextAutoLevel:s}=n;switch(i){case Vs.None:this.switchLevel(e,s);break;case Vs.MoveAllAlternatesMatchingHDCP:a&&(r.maxHdcpLevel=F_[F_.indexOf(a)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class Ox{constructor(e,r){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=be.log.bind(be,`${r}:`),this.warn=be.warn.bind(be,`${r}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r==null?void 0:r.renditionReports;if(i){let a=-1;for(let s=0;s<i.length;s++){const o=i[s];let A;try{A=new self.URL(o.URI,r.url).href}catch(l){be.warn(`Could not construct new URL for Rendition Report: ${l}`),A=o.URI||""}if(A===e){a=s;break}else A===e.substring(0,A.length)&&(a=s)}if(a!==-1){const s=i[a],o=parseInt(s["LAST-MSN"])||(r==null?void 0:r.lastPartSn);let A=parseInt(s["LAST-PART"])||(r==null?void 0:r.lastPartIndex);if(this.hls.config.lowLatencyMode){const c=Math.min(r.age-r.partTarget,r.targetduration);A>=0&&c>r.partTarget&&(A+=1)}const l=n&&Pk(n);return new P_(o,A>=0?A:void 0,l)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,r,n){const{details:i,stats:a}=r,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||n!=null&&n.live){if(i.reloaded(n),n&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),n&&i.fragments.length>0&&C7e(n,i),!this.canLoad||!i.live)return;let A,l,c;if(i.canBlockReload&&i.endSN&&i.advanced){const g=this.hls.config.lowLatencyMode,v=i.lastPartSn,y=i.endSN,w=i.lastPartIndex,S=w!==-1,x=v===y,E=g?0:w;S?(l=x?y+1:v,c=x?E:w+1):l=y+1;const C=i.age,L=C+i.ageHeader;let O=Math.min(L-i.partTarget,i.targetduration*1.5);if(O>0){if(n&&O>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${O} with playlist age: ${i.age}`),O=0;else{const D=Math.floor(O/i.targetduration);if(l+=D,c!==void 0){const _=Math.round(O%i.targetduration/i.partTarget);c+=_}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${C.toFixed(2)}s goal: ${O} skip sn ${D} to part ${c}`)}i.tuneInGoal=O}if(A=this.getDeliveryDirectives(i,r.deliveryDirectives,l,c),g||!x){this.loadPlaylist(A);return}}else(i.canBlockReload||i.canSkipUntil)&&(A=this.getDeliveryDirectives(i,r.deliveryDirectives,l,c));const u=this.hls.mainForwardBufferInfo,f=u?u.end-u.len:0,h=(i.edge-f)*1e3,d=L7e(i,h);i.updated&&s>this.requestScheduled+d&&(this.requestScheduled=a.loading.start),l!==void 0&&i.canBlockReload?this.requestScheduled=a.loading.first+d-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+d<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=d);let p=this.requestScheduled-s;p=Math.max(0,p),this.log(`reload live playlist ${e} in ${Math.round(p)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(A),p)}else this.clearTimer()}getDeliveryDirectives(e,r,n,i){let a=Pk(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,a=D0.No),new P_(n,i,a)}checkRetry(e){const r=e.details,n=Wb(e),i=e.errorAction,{action:a,retryCount:s=0,retryConfig:o}=i||{},A=!!i&&!!o&&(a===hi.RetryRequest||!i.resolved&&a===hi.SendAlternateToPenaltyBox);if(A){var l;if(this.requestScheduled=-1,s>=o.maxNumRetry)return!1;if(n&&(l=e.context)!=null&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const c=kL(o,s);this.timer=self.setTimeout(()=>this.loadPlaylist(),c),this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" in ${c}ms`)}e.levelRetry=!0,i.resolved=!0}return A}}class jh{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class D7e{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new jh(e),this.fast_=new jh(r),this.defaultTTFB_=i,this.ttfb_=new jh(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new jh(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new jh(r,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new jh(e,a.getEstimate(),a.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const CW={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},Nk={};function M7e(t,e,r,n,i,a){const s=t.audioCodec?t.audioGroups:null,o=a==null?void 0:a.audioCodec,A=a==null?void 0:a.channels,l=A?parseInt(A):o?1/0:2;let c=null;if(s!=null&&s.length)try{s.length===1&&s[0]?c=e.groups[s[0]].channels:c=s.reduce((u,f)=>{if(f){const h=e.groups[f];if(!h)throw new Error(`Audio track group ${f} not found`);Object.keys(h.channels).forEach(d=>{u[d]=(u[d]||0)+h.channels[d]})}return u},{2:0})}catch(u){return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!c&&ut(l)&&Object.keys(c).some(u=>parseInt(u)>l)}function N7e(t,e,r){const n=t.videoCodec,i=t.audioCodec;if(!n||!i||!r)return Promise.resolve(CW);const a={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},s=t.videoRange;s!=="SDR"&&(a.transferFunction=s.toLowerCase());const o=n.split(",").map(A=>({type:"media-source",video:Oi(Oi({},a),{},{contentType:Pm(A,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(A=>{var l;A&&((l=e.groups[A])==null||l.tracks.forEach(c=>{if(c.groupId===A){const u=c.channels||"",f=parseFloat(u);ut(f)&&f>2&&o.push.apply(o,i.split(",").map(h=>({type:"media-source",audio:{contentType:Pm(h,"audio"),channels:""+f}})))}}))}),Promise.all(o.map(A=>{const l=k7e(A);return Nk[l]||(Nk[l]=r.decodingInfo(A))})).then(A=>({supported:!A.some(l=>!l.supported),configurations:o,decodingInfoResults:A})).catch(A=>({supported:!1,configurations:o,decodingInfoResults:[],error:A}))}function k7e(t){const{audio:e,video:r}=t,n=r||e;if(n){const i=n.contentType.split('"')[1];if(r)return`r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${i}_${Math.ceil(r.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function Q7e(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function H7e(t,e){let r=!1,n=[];return t&&(r=t!=="SDR",n=[t]),e&&(n=e.allowedVideoRanges||Vb.slice(0),r=e.preferHDR!==void 0?e.preferHDR:Q7e(),r?n=n.filter(i=>i!=="SDR"):n=["SDR"]),{preferHDR:r,allowedVideoRanges:n}}function $7e(t,e,r,n,i){const a=Object.keys(t),s=n==null?void 0:n.channels,o=n==null?void 0:n.audioCodec,A=s&&parseInt(s)===2;let l=!0,c=!1,u=1/0,f=1/0,h=1/0,d=0,p=[];const{preferHDR:g,allowedVideoRanges:v}=H7e(e,i);for(let x=a.length;x--;){const E=t[a[x]];l=E.channels[2]>0,u=Math.min(u,E.minHeight),f=Math.min(f,E.minFramerate),h=Math.min(h,E.minBitrate);const C=v.filter(L=>E.videoRanges[L]>0);C.length>0&&(c=!0,p=C)}u=ut(u)?u:0,f=ut(f)?f:0;const y=Math.max(1080,u),w=Math.max(30,f);return h=ut(h)?h:r,r=Math.max(h,r),c||(e=void 0,p=[]),{codecSet:a.reduce((x,E)=>{const C=t[E];if(E===x)return x;if(C.minBitrate>r)return Bl(E,`min bitrate of ${C.minBitrate} > current estimate of ${r}`),x;if(!C.hasDefaultAudio)return Bl(E,"no renditions with default or auto-select sound found"),x;if(o&&E.indexOf(o.substring(0,4))%5!==0)return Bl(E,`audio codec preference "${o}" not found`),x;if(s&&!A){if(!C.channels[s])return Bl(E,`no renditions with ${s} channel sound found (channels options: ${Object.keys(C.channels)})`),x}else if((!o||A)&&l&&C.channels[2]===0)return Bl(E,"no renditions with stereo sound found"),x;return C.minHeight>y?(Bl(E,`min resolution of ${C.minHeight} > maximum of ${y}`),x):C.minFramerate>w?(Bl(E,`min framerate of ${C.minFramerate} > maximum of ${w}`),x):p.some(L=>C.videoRanges[L]>0)?C.maxScore<d?(Bl(E,`max score of ${C.maxScore} < selected max of ${d}`),x):x&&(Gb(E)>=Gb(x)||C.fragmentError>t[x].fragmentError)?x:(d=C.maxScore,E):(Bl(E,`no variants with VIDEO-RANGE of ${JSON.stringify(p)} found`),x)},void 0),videoRanges:p,preferHDR:g,minFramerate:f,minBitrate:h}}function Bl(t,e){be.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function j7e(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function G7e(t,e,r,n){return t.slice(r,n+1).reduce((i,a)=>{if(!a.codecSet)return i;const s=a.audioGroups;let o=i[a.codecSet];o||(i[a.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!s,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,a.bitrate);const A=Math.min(a.height,a.width);return o.minHeight=Math.min(o.minHeight,A),o.minFramerate=Math.min(o.minFramerate,a.frameRate),o.maxScore=Math.max(o.maxScore,a.score),o.fragmentError+=a.fragmentError,o.videoRanges[a.videoRange]=(o.videoRanges[a.videoRange]||0)+1,s&&s.forEach(l=>{if(!l)return;const c=e.groups[l];c&&(o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?c.hasDefault:c.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(c.channels).forEach(u=>{o.channels[u]=(o.channels[u]||0)+c.channels[u]}))}),i},{})}function FA(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(wf(t,i,r))return n}return-1}function wf(t,e,r){const{groupId:n,name:i,lang:a,assocLang:s,default:o}=t,A=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(a===void 0||e.lang===a)&&(a===void 0||e.assocLang===s)&&(o===void 0||e.default===o)&&(A===void 0||e.forced===A)&&(!("characteristics"in t)||K7e(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function K7e(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function Ju(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function V7e(t,e,r,n,i){const a=e[n],o=e.reduce((f,h,d)=>{const p=h.uri;return(f[p]||(f[p]=[])).push(d),f},{})[a.uri];o.length>1&&(n=Math.max.apply(Math,o));const A=a.videoRange,l=a.frameRate,c=a.codecSet.substring(0,4),u=kk(e,n,f=>{if(f.videoRange!==A||f.frameRate!==l||f.codecSet.substring(0,4)!==c)return!1;const h=f.audioGroups,d=r.filter(p=>!h||h.indexOf(p.groupId)!==-1);return FA(t,d,i)>-1});return u>-1?u:kk(e,n,f=>{const h=f.audioGroups,d=r.filter(p=>!h||h.indexOf(p.groupId)!==-1);return FA(t,d,i)>-1})}function kk(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}class SW{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:r,partCurrent:n,hls:i}=this,{autoLevelEnabled:a,media:s}=i;if(!r||!s)return;const o=performance.now(),A=n?n.stats:r.stats,l=n?n.duration:r.duration,c=o-A.loading.start,u=i.minAutoLevel;if(A.aborted||A.loaded&&A.loaded===A.total||r.level<=u){this.clearTimer(),this._nextAutoLevel=-1;return}if(!a||s.paused||!s.playbackRate||!s.readyState)return;const f=i.mainForwardBufferInfo;if(f===null)return;const h=this.bwEstimator.getEstimateTTFB(),d=Math.abs(s.playbackRate);if(c<=Math.max(h,1e3*(l/(d*2))))return;const p=f.len/d,g=A.loading.first?A.loading.first-A.loading.start:-1,v=A.loaded&&g>-1,y=this.getBwEstimate(),w=i.levels,S=w[r.level],x=A.total||Math.max(A.loaded,Math.round(l*S.averageBitrate/8));let E=v?c-g:c;E<1&&v&&(E=Math.min(c,A.loaded*8/y));const C=v?A.loaded*1e3/E:0,L=C?(x-A.loaded)/C:x*8/y+h/1e3;if(L<=p)return;const O=C?C*8:y;let D=Number.POSITIVE_INFINITY,_;for(_=r.level-1;_>u;_--){const R=w[_].maxBitrate;if(D=this.getTimeToLoadFrag(h/1e3,O,l*R,!w[_].details),D<p)break}if(D>=L||D>l*10)return;i.nextLoadLevel=i.nextAutoLevel=_,v?this.bwEstimator.sample(c-Math.min(h,g),A.loaded):this.bwEstimator.sampleTTFB(c);const F=w[_].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>F&&this.resetEstimator(F),this.clearTimer(),be.warn(`[abr] Fragment ${r.sn}${n?" part "+n.index:""} of level ${r.level} is loading too slowly;
      Time to underbuffer: ${p.toFixed(3)} s
      Estimated load time for current fragment: ${L.toFixed(3)} s
      Estimated load time for down switch fragment: ${D.toFixed(3)} s
      TTFB estimate: ${g|0} ms
      Current BW estimate: ${ut(y)?y|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${_} @ ${F|0} bps`),i.trigger(j.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:n,stats:A})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(be.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new D7e(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.FRAG_LOADING,this.onFragLoading,this),e.on(j.FRAG_LOADED,this.onFragLoaded,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this),e.on(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(j.LEVEL_LOADED,this.onLevelLoaded,this),e.on(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(j.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(j.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.FRAG_LOADING,this.onFragLoading,this),e.off(j.FRAG_LOADED,this.onFragLoaded,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this),e.off(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(j.LEVEL_LOADED,this.onLevelLoaded,this),e.off(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(j.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(j.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case _e.BUFFER_ADD_CODEC_ERROR:case _e.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case _e.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:a}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const s=performance.now(),o=a?a.stats:n.stats,A=s-o.loading.start,l=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&l>-1){const u=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(A-Math.min(u,l),o.loaded)}else this.bwEstimator.sampleTTFB(A)}break}}}getTimeToLoadFrag(e,r,n,i){const a=e+n/r,s=i?this.lastLevelLoadSec:0;return a+s}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,a=i.end-i.start;ut(a)&&(this.lastLevelLoadSec=a/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===Et.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,A=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:A},s.realBitrate=Math.round(8*o/A)}if(r.bitrateTest){const a={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(j.FRAG_BUFFERED,a),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const s=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,a.loaded),a.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Et.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(n,r,e,0,i,1,1);if(a>-1)return a;const s=this.hls.firstLevel,o=Math.min(Math.max(s,r),e);return be.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const a=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const s=this.hls.levels;if(s.length>Math.max(e,a)&&s[e].loadError<=s[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this,{maxAutoLevel:i,config:a,minAutoLevel:s}=n,o=r?r.duration:e?e.duration:0,A=this.getBwEstimate(),l=this.getStarvationDelay();let c=a.abrBandWidthFactor,u=a.abrBandWidthUpFactor;if(l){const g=this.findBestLevel(A,s,i,l,0,c,u);if(g>=0)return g}let f=o?Math.min(o,a.maxStarvationDelay):a.maxStarvationDelay;if(!l){const g=this.bitrateTestDelay;g&&(f=(o?Math.min(o,a.maxLoadingDelay):a.maxLoadingDelay)-g,be.info(`[abr] bitrate test took ${Math.round(1e3*g)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),c=u=1)}const h=this.findBestLevel(A,s,i,l,f,c,u);if(be.info(`[abr] ${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const d=n.levels[s],p=n.levels[n.loadLevel];return(d==null?void 0:d.bitrate)<(p==null?void 0:p.bitrate)?s:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,a,s,o){var A;const l=i+a,c=this.lastLoadedFragLevel,u=c===-1?this.hls.firstLevel:c,{fragCurrent:f,partCurrent:h}=this,{levels:d,allAudioTracks:p,loadLevel:g,config:v}=this.hls;if(d.length===1)return 0;const y=d[u],w=!!(y!=null&&(A=y.details)!=null&&A.live),S=g===-1||c===-1;let x,E="SDR",C=(y==null?void 0:y.frameRate)||0;const{audioPreference:L,videoPreference:O}=v,D=this.audioTracksByGroup||(this.audioTracksByGroup=j7e(p));if(S){if(this.firstSelection!==-1)return this.firstSelection;const z=this.codecTiers||(this.codecTiers=G7e(d,D,r,n)),N=$7e(z,E,e,L,O),{codecSet:Y,videoRanges:X,minFramerate:H,minBitrate:W,preferHDR:Z}=N;x=Y,E=Z?X[X.length-1]:X[0],C=H,e=Math.max(e,W),be.log(`[abr] picked start tier ${JSON.stringify(N)}`)}else x=y==null?void 0:y.codecSet,E=y==null?void 0:y.videoRange;const _=h?h.duration:f?f.duration:0,F=this.bwEstimator.getEstimateTTFB()/1e3,R=[];for(let z=n;z>=r;z--){var M;const N=d[z],Y=z>u;if(!N)continue;if(v.useMediaCapabilities&&!N.supportedResult&&!N.supportedPromise){const $=navigator.mediaCapabilities;typeof($==null?void 0:$.decodingInfo)=="function"&&M7e(N,D,E,C,e,L)?(N.supportedPromise=N7e(N,D,$),N.supportedPromise.then(G=>{if(!this.hls)return;N.supportedResult=G;const te=this.hls.levels,ie=te.indexOf(N);G.error?be.warn(`[abr] MediaCapabilities decodingInfo error: "${G.error}" for level ${ie} ${JSON.stringify(G)}`):G.supported||(be.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ie} ${JSON.stringify(G)}`),ie>-1&&te.length>1&&(be.log(`[abr] Removing unsupported level ${ie}`),this.hls.removeLevel(ie)))})):N.supportedResult=CW}if(x&&N.codecSet!==x||E&&N.videoRange!==E||Y&&C>N.frameRate||!Y&&C>0&&C<N.frameRate||N.supportedResult&&!((M=N.supportedResult.decodingInfoResults)!=null&&M[0].smooth)){R.push(z);continue}const X=N.details,H=(h?X==null?void 0:X.partTarget:X==null?void 0:X.averagetargetduration)||_;let W;Y?W=o*e:W=s*e;const Z=_&&i>=_*2&&a===0?d[z].averageBitrate:d[z].maxBitrate,I=this.getTimeToLoadFrag(F,W,Z*H,X===void 0);if(W>=Z&&(z===c||N.loadError===0&&N.fragmentError===0)&&(I<=F||!ut(I)||w&&!this.bitrateTestDelay||I<l)){const $=this.forcedAutoLevel;return z!==g&&($===-1||$!==g)&&(R.length&&be.trace(`[abr] Skipped level(s) ${R.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${d[R[0]].codecs}" ${d[R[0]].videoRange}; not compatible with "${y.codecs}" ${E}`),be.info(`[abr] switch candidate:${u}->${z} adjustedbw(${Math.round(W)})-bitrate=${Math.round(W-Z)} ttfb:${F.toFixed(1)} avgDuration:${H.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${I.toFixed(1)} firstSelection:${S} codecSet:${x} videoRange:${E} hls.loadLevel:${g}`)),S&&(this.firstSelection=z),z}}return-1}set nextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls,i=Math.min(Math.max(e,n),r);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class W7e{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Ii={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class z7e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(j.BUFFER_APPENDED,this.onBufferAppended,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this),e.on(j.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.BUFFER_APPENDED,this.onBufferAppended,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this),e.off(j.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const a=n[i];if(!a)break;const s=a.end;if(a.start<=e&&s!==null&&e<=s)return a}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){const{fragments:n}=this,i=Object.keys(n);for(let a=i.length;a--;){const s=n[i[a]];if((s==null?void 0:s.body.type)===r&&s.buffered){const o=s.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,r,n,i){this.timeRanges&&(this.timeRanges[e]=r);const a=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o||a>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===n&&this.removeFragment(o.body);return}const A=o.range[e];A&&A.time.some(l=>{const c=!this.isTimeBuffered(l.startPTS,l.endPTS,r);return c&&this.removeFragment(o.body),c})})}detectPartialFragments(e){const r=this.timeRanges,{frag:n,part:i}=e;if(!r||n.sn==="initSegment")return;const a=Gh(n),s=this.fragments[a];if(!s||s.buffered&&n.gap)return;const o=!n.relurl;Object.keys(r).forEach(A=>{const l=n.elementaryStreams[A];if(!l)return;const c=r[A],u=o||l.partial===!0;s.range[A]=this.getBufferedTimes(n,i,u,c)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=n.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),by(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=n.filter(i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Gh(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,r,n,i){const a={time:[],partial:n},s=e.start,o=e.end,A=e.minEndPTS||o,l=e.maxStartPTS||s;for(let c=0;c<i.length;c++){const u=i.start(c)-this.bufferPadding,f=i.end(c)+this.bufferPadding;if(l>=u&&A<=f){a.time.push({startPTS:Math.max(s,i.start(c)),endPTS:Math.min(o,i.end(c))});break}else if(s<f&&o>u){const h=Math.max(s,i.start(c)),d=Math.min(o,i.end(c));d>h&&(a.partial=!0,a.time.push({startPTS:h,endPTS:d}))}else if(o<=u)break}return a}getPartialFragment(e){let r=null,n,i,a,s=0;const{bufferPadding:o,fragments:A}=this;return Object.keys(A).forEach(l=>{const c=A[l];c&&by(c)&&(i=c.body.start-o,a=c.body.end+o,e>=i&&e<=a&&(n=Math.min(e-i,a-e),s<=n&&(r=c.body,s=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||by(r))}getState(e){const r=Gh(e),n=this.fragments[r];return n?n.buffered?by(n)?Ii.PARTIAL:Ii.OK:Ii.APPENDING:Ii.NOT_LOADED}isTimeBuffered(e,r,n){let i,a;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&r<=a)return!0;if(r<=i)return!1}return!1}onFragLoaded(e,r){const{frag:n,part:i}=r;if(n.sn==="initSegment"||n.bitrateTest)return;const a=i?null:r,s=Gh(n);this.fragments[s]={body:n,appendedPTS:null,loaded:a,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:a}=r;if(n.sn==="initSegment")return;const s=n.type;if(i){let o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(i)}this.timeRanges=a,Object.keys(a).forEach(o=>{const A=a[o];this.detectEvictedFragments(o,A,s,i)})}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Gh(e);return!!this.fragments[r]}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o)return;const A=o.body;A.type!==n||i&&!A.gap||A.start<r&&A.end>e&&(o.buffered||a)&&this.removeFragment(A)})}removeFragment(e){const r=Gh(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=n.filter(a=>a.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function by(t){var e,r,n;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((r=t.range.audio)==null?void 0:r.partial)||((n=t.range.audiovideo)==null?void 0:n.partial))}function Gh(t){return`${t.type}_${t.level}_${t.sn}`}const Y7e={length:0,start:()=>0,end:()=>0};class Gr{static isBuffered(e,r){try{if(e){const n=Gr.getBuffered(e);for(let i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}}catch(n){}return!1}static bufferInfo(e,r,n){try{if(e){const i=Gr.getBuffered(e),a=[];let s;for(s=0;s<i.length;s++)a.push({start:i.start(s),end:i.end(s)});return this.bufferedInfo(a,r,n)}}catch(i){}return{len:0,start:r,end:r,nextStart:void 0}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.sort(function(l,c){const u=l.start-c.start;return u||c.end-l.end});let i=[];if(n)for(let l=0;l<e.length;l++){const c=i.length;if(c){const u=i[c-1].end;e[l].start-u<n?e[l].end>u&&(i[c-1].end=e[l].end):i.push(e[l])}else i.push(e[l])}else i=e;let a=0,s,o=r,A=r;for(let l=0;l<i.length;l++){const c=i[l].start,u=i[l].end;if(r+n>=c&&r<u)o=c,A=u,a=A-r;else if(r+n<c){s=c;break}}return{len:a,start:o||0,end:A||0,nextStart:s}}static getBuffered(e){try{return e.buffered}catch(r){return be.log("failed to get media.buffered",r),Y7e}}}class Fx{constructor(e,r,n,i=0,a=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=wy(),this.buffering={audio:wy(),video:wy(),audiovideo:wy()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=s}}function wy(){return{start:0,executeStart:0,executeEnd:0,end:0}}function o2(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function q7e(t,e,r){return!!(e&&(r.endCC>r.startCC||t&&t.cc<r.startCC))}function X7e(t,e){const r=t.fragments,n=e.fragments;if(!n.length||!r.length){be.log("No fragments to align");return}const i=o2(r,n[0].cc);if(!i||i&&!i.startPTS){be.log("No frag in previous level to align on");return}return i}function Qk(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function TW(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)Qk(r[n],t);e.fragmentHint&&Qk(e.fragmentHint,t),e.alignedSliding=!0}function J7e(t,e,r){e&&(Z7e(t,r,e),!r.alignedSliding&&e&&qb(r,e),!r.alignedSliding&&e&&!r.skippedSegments&&bW(e,r))}function Z7e(t,e,r){if(q7e(t,r,e)){const n=X7e(r,e);n&&ut(n.start)&&(be.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),TW(n.start,e))}}function qb(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,a;const s=Math.min(e.endCC,t.endCC);e.startCC<s&&t.startCC<s&&(i=o2(n,s),a=o2(r,s)),(!i||!a)&&(i=n[Math.floor(n.length/2)],a=o2(r,i.cc)||r[Math.floor(r.length/2)]);const o=i.programDateTime,A=a.programDateTime;if(!o||!A)return;const l=(A-o)/1e3-(a.start-i.start);TW(l,t)}const Hk=Math.pow(2,17);class eHe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new _l({type:Ot.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,A)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){A(jk(e));return}else e.gap=!1;const l=this.loader=e.loader=a?new a(i):new s(i),c=$k(e),u=Mk(i.fragLoadPolicy.default),f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:Hk};e.stats=l.stats,l.load(c,f,{onSuccess:(h,d,p,g)=>{this.resetLoader(e,l);let v=h.data;p.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(v.slice(0,16)),v=v.slice(16)),o({frag:e,part:null,payload:v,networkDetails:g})},onError:(h,d,p,g)=>{this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Oi({url:n,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:p,stats:g}))},onAbort:(h,d,p)=>{this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:p,stats:h}))},onTimeout:(h,d,p)=>{this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:p,stats:h}))},onProgress:(h,d,p,g)=>{r&&r({frag:e,part:null,payload:p,networkDetails:g})}})})}loadPart(e,r,n){this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,A)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){A(jk(e,r));return}const l=this.loader=e.loader=a?new a(i):new s(i),c=$k(e,r),u=Mk(i.fragLoadPolicy.default),f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Hk};r.stats=l.stats,l.load(c,f,{onSuccess:(h,d,p,g)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,r);const v={frag:e,part:r,payload:h.data,networkDetails:g};n(v),o(v)},onError:(h,d,p,g)=>{this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:Oi({url:c.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:p,stats:g}))},onAbort:(h,d,p)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:p,stats:h}))},onTimeout:(h,d,p)=>{this.resetLoader(e,l),A(new _l({type:Ot.NETWORK_ERROR,details:_e.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:p,stats:h}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,a=i.total;if(n.loaded+=i.loaded,a){const A=Math.round(e.duration/r.duration),l=Math.min(Math.round(n.loaded/a),A),u=(A-l)*Math.round(n.loaded/l);n.total=n.loaded+u}else n.total=Math.max(n.loaded,n.total);const s=n.loading,o=i.loading;s.start?s.first+=o.first-o.start:(s.start=o.start,s.first=o.first),s.end=o.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function $k(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(ut(i)&&ut(a)){var s;let o=i,A=a;if(t.sn==="initSegment"&&((s=t.decryptdata)==null?void 0:s.method)==="AES-128"){const l=a-i;l%16&&(A=a+(16-l%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=A}return n}function jk(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Ot.MEDIA_ERROR,details:_e.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new _l(n)}class _l extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class tHe{constructor(e,r){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=r}decrypt(e,r){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e)}}class rHe{constructor(e,r){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=r}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function nHe(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?bf(t,0,e-r):t}class iHe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],a=n[1],s=n[2],o=n[3],A=this.invSubMix,l=A[0],c=A[1],u=A[2],f=A[3],h=new Uint32Array(256);let d=0,p=0,g=0;for(g=0;g<256;g++)g<128?h[g]=g<<1:h[g]=g<<1^283;for(g=0;g<256;g++){let v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^v&255^99,e[d]=v,r[v]=d;const y=h[d],w=h[y],S=h[w];let x=h[v]*257^v*16843008;i[d]=x<<24|x>>>8,a[d]=x<<16|x>>>16,s[d]=x<<8|x>>>24,o[d]=x,x=S*16843009^w*65537^y*257^d*16843008,l[v]=x<<24|x>>>8,c[v]=x<<16|x>>>16,u[v]=x<<8|x>>>24,f[v]=x,d?(d=y^h[h[h[S^y]]],p^=h[h[p]]):d=p=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const a=this.keySize=r.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const s=this.ksRows=(a+6+1)*4;let o,A;const l=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),u=this.sBox,f=this.rcon,h=this.invSubMix,d=h[0],p=h[1],g=h[2],v=h[3];let y,w;for(o=0;o<s;o++){if(o<a){y=l[o]=r[o];continue}w=y,o%a===0?(w=w<<8|w>>>24,w=u[w>>>24]<<24|u[w>>>16&255]<<16|u[w>>>8&255]<<8|u[w&255],w^=f[o/a|0]<<24):a>6&&o%a===4&&(w=u[w>>>24]<<24|u[w>>>16&255]<<16|u[w>>>8&255]<<8|u[w&255]),l[o]=y=(l[o-a]^w)>>>0}for(A=0;A<s;A++)o=s-A,A&3?w=l[o]:w=l[o-4],A<4||o<=4?c[A]=w:c[A]=d[u[w>>>24]]^p[u[w>>>16&255]]^g[u[w>>>8&255]]^v[u[w&255]],c[A]=c[A]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,o=this.invSubMix,A=o[0],l=o[1],c=o[2],u=o[3],f=this.uint8ArrayToUint32Array_(n);let h=f[0],d=f[1],p=f[2],g=f[3];const v=new Int32Array(e),y=new Int32Array(v.length);let w,S,x,E,C,L,O,D,_,F,R,M,z,N;const Y=this.networkToHostOrderSwap;for(;r<v.length;){for(_=Y(v[r]),F=Y(v[r+1]),R=Y(v[r+2]),M=Y(v[r+3]),C=_^a[0],L=M^a[1],O=R^a[2],D=F^a[3],z=4,N=1;N<i;N++)w=A[C>>>24]^l[L>>16&255]^c[O>>8&255]^u[D&255]^a[z],S=A[L>>>24]^l[O>>16&255]^c[D>>8&255]^u[C&255]^a[z+1],x=A[O>>>24]^l[D>>16&255]^c[C>>8&255]^u[L&255]^a[z+2],E=A[D>>>24]^l[C>>16&255]^c[L>>8&255]^u[O&255]^a[z+3],C=w,L=S,O=x,D=E,z=z+4;w=s[C>>>24]<<24^s[L>>16&255]<<16^s[O>>8&255]<<8^s[D&255]^a[z],S=s[L>>>24]<<24^s[O>>16&255]<<16^s[D>>8&255]<<8^s[C&255]^a[z+1],x=s[O>>>24]<<24^s[D>>16&255]<<16^s[C>>8&255]<<8^s[L&255]^a[z+2],E=s[D>>>24]<<24^s[C>>16&255]<<16^s[L>>8&255]<<8^s[O&255]^a[z+3],y[r]=Y(w^h),y[r+1]=Y(E^d),y[r+2]=Y(x^p),y[r+3]=Y(S^g),h=_,d=F,p=R,g=M,r=r+4}return y.buffer}}const aHe=16;class QL{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(n){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?nHe(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n){return this.useSoftware?new Promise((i,a)=>{this.softwareDecrypt(new Uint8Array(e),r,n);const s=this.flush();s?i(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n)}softwareDecrypt(e,r,n){const{currentIV:i,currentResult:a,remainderData:s}=this;this.logOnce("JS AES decrypt"),s&&(e=co(s,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;i&&(n=i);let A=this.softwareDecrypter;A||(A=this.softwareDecrypter=new iHe),A.expandKey(r);const l=a;return this.currentResult=A.decrypt(o.buffer,0,n),this.currentIV=bf(o,-16).buffer,l||null}webCryptoDecrypt(e,r,n){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n));this.key=r,this.fastAesKey=new rHe(this.subtle,r)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new tHe(this.subtle,new Uint8Array(n)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(be.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,r,n)))}onWebCryptoError(e,r,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%aHe;return n!==e.length&&(r=bf(e,0,n),this.remainderData=bf(e,n)),r}logOnce(e){this.logEnabled&&(be.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const sHe={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},$e={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Px extends W7e{constructor(e,r,n,i,a){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=$e.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=a,this.logPrefix=i,this.log=be.log.bind(be,`${i}:`),this.warn=be.warn.bind(be,`${i}:`),this.hls=e,this.fragmentLoader=new eHe(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new QL(e.config),e.on(j.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=$e.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,r){if(r.live||e.nextStart||!e.end||!this.media)return!1;const n=r.partList;if(n!=null&&n.length){const a=n[n.length-1];return Gr.isBuffered(this.media,a.start+a.duration/2)}const i=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===$e.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:r,media:n,mediaBuffer:i,state:a}=this,s=n?n.currentTime:0,o=Gr.bufferInfo(i||n,s,e.maxBufferHole);if(this.log(`media seeking to ${ut(s)?s.toFixed(3):s}, state: ${a}`),this.state===$e.ENDED)this.resetLoadingState();else if(r){const A=e.maxFragLookUpTolerance,l=r.start-A,c=r.start+r.duration+A;if(!o.len||c<o.start||l>o.end){const u=s>c;(s<l||u)&&(u&&r.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(s,1/0,this.playlistType,!0),this.lastCurrentTime=s),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(j.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=$e.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=a=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${a.part?" p: "+a.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,r,n,i).then(a=>{if(!a)return;const s=this.state;if(this.fragContextChanged(e)){(s===$e.FRAG_LOADING||!this.fragCurrent&&s===$e.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=$e.IDLE);return}"payload"in a&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(j.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===$e.STOPPED||this.state===$e.ERROR||(this.warn(`Frag error: ${(a==null?void 0:a.message)||a}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===Ii.APPENDING){const a=e.type,s=this.getFwdBufferInfo(this.mediaBuffer,a),o=Math.max(e.duration,s?s.len:this.config.maxBufferLength),A=this.backtrackFragment;((A?e.sn-A.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Ii.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(j.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{if(!n||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{payload:a}=n,s=e.decryptdata;if(a&&a.byteLength>0&&s!=null&&s.key&&s.iv&&s.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),s.key.buffer,s.iv.buffer).catch(A=>{throw i.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_DECRYPT_ERROR,fatal:!1,error:A,reason:A.message,frag:e}),A}).then(A=>{const l=self.performance.now();return i.trigger(j.FRAG_DECRYPTED,{frag:e,payload:A,stats:{tstart:o,tdecrypt:l}}),n.payload=A,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===$e.STOPPED||this.state===$e.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state=$e.IDLE,e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){var n,i,a,s;const o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.playlistType===Et.MAIN?"level":"track"} ${e.level} (frag:[${((n=e.startPTS)!=null?n:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${o?sHe.toString(Gr.getBuffered(o)):"(detached)"})`),e.sn!=="initSegment"){var A;if(e.type!==Et.SUBTITLE){const c=e.elementaryStreams;if(!Object.keys(c).some(u=>!!c[u])){this.state=$e.IDLE;return}}const l=(A=this.levels)==null?void 0:A[e.level];l!=null&&l.fragmentError&&(this.log(`Resetting level fragment error count of ${l.fragmentError} on frag buffered`),l.fragmentError=0)}this.state=$e.IDLE,o&&(!this.loadedmetadata&&e.type==Et.MAIN&&o.buffered.length&&((a=this.fragCurrent)==null?void 0:a.sn)===((s=this.fragPrevious)==null?void 0:s.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:a}=e,s=!a||a.length===0||a.some(A=>!A),o=new Fx(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);r.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var a;const s=r==null?void 0:r.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let o=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)?(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=$e.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(c=>{if(!this.fragContextChanged(c.frag))return this.hls.trigger(j.KEY_LOADED,c),this.state===$e.KEY_LOADING&&(this.state=$e.IDLE),c}),this.hls.trigger(j.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const c=s.partList;if(c&&i){n>e.end&&s.fragmentHint&&(e=s.fragmentHint);const u=this.getNextPart(c,e,n);if(u>-1){const f=c[u];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${s.startSN}-${s.endSN}] parts [0-${u}-${c.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=$e.FRAG_LOADING;let h;return o?h=o.then(d=>!d||this.fragContextChanged(d.frag)?null:this.doFragPartsLoad(e,f,r,i)).catch(d=>this.handleFragLoadError(d)):h=this.doFragPartsLoad(e,f,r,i).catch(d=>this.handleFragLoadError(d)),this.hls.trigger(j.FRAG_LOADING,{frag:e,part:f,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(c,n))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${s?"of ["+s.startSN+"-"+s.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),ut(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=$e.FRAG_LOADING;const A=this.config.progressive;let l;return A&&o?l=o.then(c=>!c||this.fragContextChanged(c==null?void 0:c.frag)?null:this.fragmentLoader.load(e,i)).catch(c=>this.handleFragLoadError(c)):l=Promise.all([this.fragmentLoader.load(e,A?i:void 0),o]).then(([c])=>(!A&&c&&i&&i(c),c)).catch(c=>this.handleFragLoadError(c)),this.hls.trigger(j.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(e,r,n,i){return new Promise((a,s)=>{var o;const A=[],l=(o=n.details)==null?void 0:o.partList,c=u=>{this.fragmentLoader.loadPart(e,u,i).then(f=>{A[u.index]=f;const h=f.part;this.hls.trigger(j.FRAG_LOADED,f);const d=Rk(n,e.sn,u.index+1)||wW(l,e.sn,u.index+1);if(d)c(d);else return a({frag:e,part:h,partsLoaded:A})}).catch(s)};c(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===_e.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger(j.ERROR,r)}else this.hls.trigger(j.ERROR,{type:Ot.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==$e.PARSING){!this.fragCurrent&&this.state!==$e.STOPPED&&this.state!==$e.ERROR&&(this.state=$e.IDLE);return}const{frag:n,part:i,level:a}=r,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s),this.updateLevelTiming(n,i,a,e.partial)}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:a,part:s}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of level ${i}. The current chunk will not be buffered.`),null;const o=r[i],A=s>-1?Rk(o,a,s):null,l=A?A.fragment:I7e(o,a,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:A,level:o}):null}bufferFragmentData(e,r,n,i,a){var s;if(!e||this.state!==$e.PARSING)return;const{data1:o,data2:A}=e;let l=o;if(o&&A&&(l=co(o,A)),!((s=l)!=null&&s.length))return;const c={type:e.type,frag:r,part:n,chunkMeta:i,parent:r.type,data:l};if(this.hls.trigger(j.BUFFER_APPENDING,c),e.dropped&&e.independent&&!n){if(a)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!Gr.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=Gr.bufferInfo(r,n,0),a=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),o=Math.max(Math.min(e.start-s,i.end-s),n+s);e.start-o>s&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,r){const n=this.getLoadPosition();return ut(n)?this.getFwdBufferInfoAtPos(e,n,r):null}getFwdBufferInfoAtPos(e,r,n){const{config:{maxBufferHole:i}}=this,a=Gr.bufferInfo(e,r,i);if(a.len===0&&a.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(r,n);if(s&&a.nextStart<s.end)return Gr.bufferInfo(e,r,Math.max(a.nextStart,i))}return a}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),a=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return a>=i?(n.maxMaxBufferLength=a,this.warn(`Reduce max buffer length to ${a}s`),!0):!1}getAppendedFrag(e,r=Et.MAIN){const n=this.fragmentTracker.getAppendedFrag(e,Et.MAIN);return n&&"fragment"in n?n.fragment:n}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:a}=this,s=n[0].start;let o;if(r.live){const A=a.initialLiveManifestSize;if(i<A)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${A})`),null;(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<s)&&(o=this.getInitialLiveFragment(r,n),this.startPosition=this.nextLoadPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=s&&(o=n[0]);if(!o){const A=a.lowLatencyMode?r.partEnd:r.fragmentEnd;o=this.getFragmentAtPosition(e,A,r)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===Ii.OK||n===Ii.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,a){const s=e.gap,o=this.getNextFragment(this.nextLoadPosition,r);if(o===null)return o;if(e=o,s&&e&&!e.gap&&n.nextStart){const A=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i);if(A!==null&&n.len+A.len>=a)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,a=!1,s=!0;for(let o=0,A=e.length;o<A;o++){const l=e[o];if(s=s&&!l.independent,i>-1&&n<l.start)break;const c=l.loaded;c?i=-1:(a||l.independent||s)&&l.fragment===r&&(i=o),a=c}return i}loadedEndOfParts(e,r){const n=e[e.length-1];return n&&r>n.start&&n.loaded}getInitialLiveFragment(e,r){const n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=F7e(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const s=r[a-e.startSN];n.cc===s.cc&&(i=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=R7e(r,n.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:s,endSN:o}=n;const{fragmentHint:A}=n,{maxFragLookUpTolerance:l}=i,c=n.partList,u=!!(i.lowLatencyMode&&c!=null&&c.length&&A);u&&A&&!this.bitrateTest&&(s=s.concat(A),o=A.sn);let f;if(e<r){const h=e>r-l?0:l;f=Yb(a,s,e,h)}else f=s[s.length-1];if(f){const h=f.sn-n.startSN,d=this.fragmentTracker.getState(f);if((d===Ii.OK||d===Ii.PARTIAL&&f.gap)&&(a=f),a&&f.sn===a.sn&&(!u||c[0].fragment.sn>f.sn)&&a&&f.level===a.level){const g=s[h+1];f.sn<o&&this.fragmentTracker.getState(g)!==Ii.OK?f=g:f=null}}return f}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=n.currentTime,s=e.fragments[0].start,o=e.edge,A=a>=s-r.maxFragLookUpTolerance&&a<=o;if(i!==null&&n.duration>i&&(a<i||!A)){const l=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;(!A&&n.readyState<4||a<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=i),n.readyState&&(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),n.currentTime=i))}}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const a=e.fragments[0].start,s=!r,o=e.alignedSliding&&ut(a);if(s||!o&&!a){const{fragPrevious:A}=this;J7e(A,n,e);const l=e.fragments[0].start;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} prev-sn: ${A?A.sn:"na"} fragments: ${i}`),l}return a}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;if(n<r&&(n=-1),n===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,a=i?this.startTimeOffset:e.startTimeOffset;a!==null&&ut(a)?(n=r+a,a<0&&(n+=e.totalduration),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Start time offset ${a} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||r:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let r=0;return this.loadedmetadata&&e?r=e.currentTime:this.nextLoadPosition&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,r){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==$e.FRAG_LOADING_WAITING_RETRY)&&(this.state=$e.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const c=this.getCurrentContext(r.chunkMeta);c&&(r.frag=c.frag)}const n=r.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const a=r.details===_e.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);const s=r.errorAction,{action:o,retryCount:A=0,retryConfig:l}=s||{};if(s&&o===hi.RetryRequest&&l){this.resetStartWhenNotLoaded(this.levelLastLoaded);const c=kL(l,A);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${r.details}, retrying loading ${A+1}/${l.maxNumRetry} in ${c}ms`),s.resolved=!0,this.retryDate=self.performance.now()+c,this.state=$e.FRAG_LOADING_WAITING_RETRY}else if(l&&s)if(this.resetFragmentErrors(e),A<l.maxNumRetry)!a&&o!==hi.RemoveAlternatePermanently&&(s.resolved=!0);else{be.warn(`${r.details} reached or exceeded max retry (${A})`);return}else(s==null?void 0:s.action)===hi.SendAlternateToPenaltyBox?this.state=$e.WAITING_LEVEL:this.state=$e.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===$e.PARSING||this.state===$e.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=i&&i.len>.5;a&&this.reduceMaxBufferLength(i.len,(r==null?void 0:r.duration)||10);const s=!a;return s&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===Et.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==$e.STOPPED&&(this.state=$e.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=Gr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===$e.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=$e.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const r=e?e.details:null;r!=null&&r.live?(this.startPosition=-1,this.setStartPosition(r,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){var a;const s=n.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((A,l)=>{const c=e.elementaryStreams[l];if(c){const u=c.endPTS-c.startPTS;if(u<=0)return this.warn(`Could not parse fragment ${e.sn} ${l} duration reliably (${u})`),A||!1;const f=i?0:yW(s,e,c.startPTS,c.endPTS,c.startDTS,c.endDTS);return this.hls.trigger(j.LEVEL_PTS_UPDATED,{details:s,level:n,drift:f,type:l,frag:e,start:c.startPTS,end:c.endPTS}),!0}return A},!1)&&((a=this.transmuxer)==null?void 0:a.error)===null){const A=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(n.fragmentError===0&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(A.message),this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,error:A,frag:e,reason:`Found no media in msn ${e.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=$e.PARSED,this.hls.trigger(j.FRAG_PARSED,{frag:e,part:r})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}class _W{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=oHe(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function oHe(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const a=t[i];r.set(a,n),n+=a.length}return r}function AHe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function lHe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function cHe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function TA(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class HL{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=co(this.cachedData,e),this.cachedData=null);let n=Fm(e,0),i=n?n.length:0,a;const s=this._audioTrack,o=this._id3Track,A=n?NL(n):void 0,l=e.length;for((this.basePTS===null||this.frameIndex===0&&ut(A))&&(this.basePTS=uHe(A,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Xs.audioId3,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const c=this.appendFrame(s,e,i);c?(this.frameIndex++,this.lastPTS=c.sample.pts,i+=c.length,a=i):i=l}else UQe(e,i)?(n=Fm(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Xs.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===l&&a!==l){const c=bf(e,a);this.cachedData?this.cachedData=co(this.cachedData,c):this.cachedData=c}}return{audioTrack:s,videoTrack:TA(),id3Track:o,textTrack:TA()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:TA(),id3Track:this._id3Track,textTrack:TA()}}destroy(){}}const uHe=(t,e,r)=>{if(ut(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};function fHe(t,e,r,n){let i,a,s,o;const A=navigator.userAgent.toLowerCase(),l=n,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[r+2]&192)>>>6)+1;const u=(e[r+2]&60)>>>2;if(u>c.length-1){const f=new Error(`invalid ADTS sampling index:${u}`);t.emit(j.ERROR,j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return s=(e[r+2]&1)<<2,s|=(e[r+3]&192)>>>6,be.log(`manifest codec:${n}, ADTS type:${i}, samplingIndex:${u}`),/firefox/i.test(A)?u>=6?(i=5,o=new Array(4),a=u-3):(i=2,o=new Array(2),a=u):A.indexOf("android")!==-1?(i=2,o=new Array(2),a=u):(i=5,o=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&u>=6?a=u-3:((n&&n.indexOf("mp4a.40.2")!==-1&&(u>=6&&s===1||/vivaldi/i.test(A))||!n&&s===1)&&(i=2,o=new Array(2)),a=u)),o[0]=i<<3,o[0]|=(u&14)>>1,o[1]|=(u&1)<<7,o[1]|=s<<3,i===5&&(o[1]|=(a&14)>>1,o[2]=(a&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:c[u],channelCount:s,codec:"mp4a.40."+i,manifestCodec:l}}function LW(t,e){return t[e]===255&&(t[e+1]&246)===240}function IW(t,e){return t[e+1]&1?7:9}function $L(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function hHe(t,e){return e+5<t.length}function Xb(t,e){return e+1<t.length&&LW(t,e)}function dHe(t,e){return hHe(t,e)&&LW(t,e)&&$L(t,e)<=t.length-e}function pHe(t,e){if(Xb(t,e)){const r=IW(t,e);if(e+r>=t.length)return!1;const n=$L(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||Xb(t,i)}return!1}function OW(t,e,r,n,i){if(!t.samplerate){const a=fHe(e,r,n,i);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,be.log(`parsed codec:${t.codec}, rate:${a.samplerate}, channels:${a.channelCount}`)}}function FW(t){return 1024*9e4/t}function gHe(t,e){const r=IW(t,e);if(e+r<=t.length){const n=$L(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function PW(t,e,r,n,i){const a=FW(t.samplerate),s=n+i*a,o=gHe(e,r);let A;if(o){const{frameLength:u,headerLength:f}=o,h=f+u,d=Math.max(0,r+h-e.length);d?(A=new Uint8Array(h-f),A.set(e.subarray(r+f,e.length),0)):A=e.subarray(r+f,r+h);const p={unit:A,pts:s};return d||t.samples.push(p),{sample:p,length:h,missing:d}}const l=e.length-r;return A=new Uint8Array(l),A.set(e.subarray(r,e.length),0),{sample:{unit:A,pts:s},length:l,missing:-1}}let xy=null;const mHe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],vHe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],yHe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],bHe=[0,1,1,4];function UW(t,e,r,n,i){if(r+24>e.length)return;const a=RW(e,r);if(a&&r+a.frameLength<=e.length){const s=a.samplesPerFrame*9e4/a.sampleRate,o=n+i*s,A={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(A),{sample:A,length:a.frameLength,missing:0}}}function RW(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&a!==3){const s=t[e+2]>>1&1,o=t[e+3]>>6,A=r===3?3-n:n===3?3:4,l=mHe[A*14+i-1]*1e3,u=vHe[(r===3?0:r===2?1:2)*3+a],f=o===3?1:2,h=yHe[r][n],d=bHe[n],p=h*8*d,g=Math.floor(h*l/u+s)*d;if(xy===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);xy=w?parseInt(w[1]):0}return!!xy&&xy<=87&&n===2&&l>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:u,channelCount:f,frameLength:g,samplesPerFrame:p}}}function jL(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function DW(t,e){return e+1<t.length&&jL(t,e)}function wHe(t,e){return jL(t,e)&&4<=t.length-e}function MW(t,e){if(e+1<t.length&&jL(t,e)){const n=RW(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===t.length||DW(t,a)}return!1}class xHe extends HL{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=Fm(e,0);let n=(r==null?void 0:r.length)||0;if(MW(e,n))return!1;for(let i=e.length;n<i;n++)if(pHe(e,n))return be.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return dHe(e,r)}appendFrame(e,r,n){OW(e,this.observer,r,n,e.manifestCodec);const i=PW(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const EHe=/\/emsg[-/]ID3/i;class BHe{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const a=this.videoTrack=TA("video",1),s=this.audioTrack=TA("audio",1),o=this.txtTrack=TA("text",1);if(this.id3Track=TA("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const A=uW(e);if(A.video){const{id:l,timescale:c,codec:u}=A.video;a.id=l,a.timescale=o.timescale=c,a.codec=u}if(A.audio){const{id:l,timescale:c,codec:u}=A.audio;s.id=l,s.timescale=c,s.codec=u}o.id=AW.text,a.sampleDuration=0,a.duration=s.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return jQe(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=co(this.remainderData,e));const o=XQe(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,r);return a.samples=mk(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=mk(e,r),{videoTrack:r,audioTrack:TA(),id3Track:i,textTrack:TA()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=Qt(e.samples,["emsg"]);i&&i.forEach(a=>{const s=e7e(a);if(EHe.test(s.schemeIdUri)){const o=ut(s.presentationTime)?s.presentationTime/s.timeScale:r+s.presentationTimeDelta/s.timeScale;let A=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;A<=.001&&(A=Number.POSITIVE_INFINITY);const l=s.payload;n.samples.push({data:l,len:l.byteLength,dts:o,pts:o,type:Xs.emsg,duration:A})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const NW=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),a=new Uint32Array(1),s=new Uint8Array(1);for(;n>0;){s[0]=t[e];const o=Math.min(n,8),A=8-o;a[0]=4278190080>>>24+A<<A,i[0]=(s[0]&a[0])>>A,r=r?r<<o|i[0]:i[0],e+=1,n-=o}return r};class CHe extends HL{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=kW(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=Fm(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&NL(r)!==void 0&&NW(e,n)<16}}function kW(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const a=e[r+4]>>6;if(a>=3)return-1;const o=[48e3,44100,32e3][a],A=e[r+4]&63,c=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][A*3+a]*2;if(r+c>e.length)return-1;const u=e[r+6]>>5;let f=0;u===2?f+=2:(u&1&&u!==1&&(f+=2),u&4&&(f+=2));const h=(e[r+6]<<8|e[r+7])>>12-f&1,p=[2,1,2,3,3,4,4,5][u]+h,g=e[r+5]>>3,v=e[r+5]&7,y=new Uint8Array([a<<6|g<<1|v>>2,(v&3)<<6|u<<3|h<<2|A>>4,A<<4&224]),w=1536/o*9e4,S=n+i*w,x=e.subarray(r,r+c);return t.config=y,t.channelCount=p,t.samplerate=o,t.samples.push({unit:x,pts:S}),c}class SHe{constructor(){this.VideoSample=null}createVideoSample(e,r,n,i){return{key:e,frame:!1,pts:r,dts:n,units:[],debug:i,length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const a=n.units;i=a[a.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const a=n[i-1];e.pts=a.pts,e.dts=a.dts}else{r.dropped++;return}}r.samples.push(e)}e.debug.length&&be.log(e.pts+"/"+e.dts+":"+e.debug)}}class Gk{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),a=Math.min(4,r);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&be.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let r=8,n=8,i;for(let a=0;a<e;a++)n!==0&&(i=this.readEG(),n=(r+i+256)%256),r=n===0?r:n}readSPS(){let e=0,r=0,n=0,i=0,a,s,o;const A=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),d=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);A();const g=A();if(l(5),f(3),A(),d(),g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128){const E=c();if(E===3&&f(1),d(),d(),f(1),u())for(s=E!==3?8:12,o=0;o<s;o++)u()&&(o<6?p(16):p(64))}d();const v=c();if(v===0)c();else if(v===1)for(f(1),h(),h(),a=c(),o=0;o<a;o++)h();d(),f(1);const y=c(),w=c(),S=l(1);S===0&&f(1),f(1),u()&&(e=c(),r=c(),n=c(),i=c());let x=[1,1];if(u()&&u())switch(A()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:{x=[A()<<8|A(),A()<<8|A()];break}}return{width:Math.ceil((y+1)*16-e*2-r*2),height:(2-S)*(w+1)*16-(S?2:4)*(n+i),pixelRatio:x}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class THe extends SHe{parseAVCPES(e,r,n,i,a){const s=this.parseAVCNALu(e,n.data);let o=this.VideoSample,A,l=!1;n.data=null,o&&s.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),s.forEach(c=>{var u;switch(c.type){case 1:{let p=!1;A=!0;const g=c.data;if(l&&g.length>4){const v=new Gk(g).readSliceType();(v===2||v===4||v===7||v===9)&&(p=!0)}if(p){var f;(f=o)!=null&&f.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.frame=!0,o.key=p;break}case 5:A=!0,(u=o)!=null&&u.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.key=!0,o.frame=!0;break;case 6:{A=!0,hW(c.data,1,n.pts,r.samples);break}case 7:{var h,d;A=!0,l=!0;const p=c.data,v=new Gk(p).readSPS();if(!e.sps||e.width!==v.width||e.height!==v.height||((h=e.pixelRatio)==null?void 0:h[0])!==v.pixelRatio[0]||((d=e.pixelRatio)==null?void 0:d[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[p],e.duration=a;const y=p.subarray(1,4);let w="avc1.";for(let S=0;S<3;S++){let x=y[S].toString(16);x.length<2&&(x="0"+x),w+=x}e.codec=w}break}case 8:A=!0,e.pps=[c.data];break;case 9:A=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:A=!0;break;default:A=!1,o&&(o.debug+="unknown NAL "+c.type+" ");break}o&&A&&o.units.push(c)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,r){const n=r.byteLength;let i=e.naluState||0;const a=i,s=[];let o=0,A,l,c,u=-1,f=0;for(i===-1&&(u=0,f=r[0]&31,i=0,o=1);o<n;){if(A=r[o++],!i){i=A?0:1;continue}if(i===1){i=A?0:2;continue}if(!A)i=3;else if(A===1){if(l=o-i-1,u>=0){const h={data:r.subarray(u,l),type:f};s.push(h)}else{const h=this.getLastNalUnit(e.samples);h&&(a&&o<=4-a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-a)),l>0&&(h.data=co(h.data,r.subarray(0,l)),h.state=0))}o<n?(c=r[o]&31,u=o,f=c,i=0):i=-1}else i=0}if(u>=0&&i>=0){const h={data:r.subarray(u,n),type:f,state:i};s.push(h)}if(s.length===0){const h=this.getLastNalUnit(e.samples);h&&(h.data=co(h.data,r))}return e.naluState=i,s}}class _He{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new QL(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(o=>{const A=new Uint8Array(o);i.set(A,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)})}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,r,n,i,a){const s=dW(a.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(A=>{a.data=this.getAvcDecryptedUnit(s,A),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)})}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const a=e[r].units;for(;!(n>=a.length);n++){const s=a[n];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,r,n,i,s),!this.decrypter.isSync()))return}}}}const Si=188;class Rc{constructor(e,r,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.videoParser=new THe}static probe(e){const r=Rc.syncOffset(e);return r>0&&be.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const r=e.length;let n=Math.min(Si*5,r-Si)+1,i=0;for(;i<n;){let a=!1,s=-1,o=0;for(let A=i;A<r;A+=Si)if(e[A]===71&&(r-A===Si||e[A+Si]===71)){if(o++,s===-1&&(s=A,s!==0&&(n=Math.min(s+Si*99,e.length-Si)+1)),a||(a=D_(e,A)===0),a&&o>1&&(s===0&&o>2||A+Si>n))return s}else{if(o)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:AW[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Rc.createTrack("video"),this._audioTrack=Rc.createTrack("audio",i),this._id3Track=Rc.createTrack("id3"),this._txtTrack=Rc.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let a;const s=this._videoTrack,o=this._audioTrack,A=this._id3Track,l=this._txtTrack;let c=s.pid,u=s.pesData,f=o.pid,h=A.pid,d=o.pesData,p=A.pesData,g=null,v=this.pmtParsed,y=this._pmtId,w=e.length;if(this.remainderData&&(e=co(this.remainderData,e),w=e.length,this.remainderData=null),w<Si&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:A,textTrack:l};const S=Math.max(0,Rc.syncOffset(e));w-=(w-S)%Si,w<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let x=0;for(let C=S;C<w;C+=Si)if(e[C]===71){const L=!!(e[C+1]&64),O=D_(e,C),D=(e[C+3]&48)>>4;let _;if(D>1){if(_=C+5+e[C+4],_===C+Si)continue}else _=C+4;switch(O){case c:L&&(u&&(a=Kh(u))&&this.videoParser.parseAVCPES(s,l,a,!1,this._duration),u={data:[],size:0}),u&&(u.data.push(e.subarray(_,C+Si)),u.size+=C+Si-_);break;case f:if(L){if(d&&(a=Kh(d)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a);break;case"ac3":this.parseAC3PES(o,a);break}d={data:[],size:0}}d&&(d.data.push(e.subarray(_,C+Si)),d.size+=C+Si-_);break;case h:L&&(p&&(a=Kh(p))&&this.parseID3PES(A,a),p={data:[],size:0}),p&&(p.data.push(e.subarray(_,C+Si)),p.size+=C+Si-_);break;case 0:L&&(_+=e[_]+1),y=this._pmtId=LHe(e,_);break;case y:{L&&(_+=e[_]+1);const F=IHe(e,_,this.typeSupported,n,this.observer);c=F.videoPid,c>0&&(s.pid=c,s.segmentCodec=F.segmentVideoCodec),f=F.audioPid,f>0&&(o.pid=f,o.segmentCodec=F.segmentAudioCodec),h=F.id3Pid,h>0&&(A.pid=h),g!==null&&!v&&(be.warn(`MPEG-TS PMT found at ${C} after unknown PID '${g}'. Backtracking to sync byte @${S} to parse all TS packets.`),g=null,C=S-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=O;break}}else x++;x>0&&Jb(this.observer,new Error(`Found ${x} TS packet/s that do not start with 0x47`)),s.pesData=u,o.pesData=d,A.pesData=p;const E={audioTrack:o,videoTrack:s,id3Track:A,textTrack:l};return i&&this.extractRemainingSamples(E),E}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:a}=e,s=n.pesData,o=r.pesData,A=i.pesData;let l;if(s&&(l=Kh(s))?(this.videoParser.parseAVCPES(n,a,l,!0,this._duration),n.pesData=null):n.pesData=s,o&&(l=Kh(o))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,l);break;case"mp3":this.parseMPEGPES(r,l);break;case"ac3":this.parseAC3PES(r,l);break}r.pesData=null}else o!=null&&o.size&&be.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;A&&(l=Kh(A))?(this.parseID3PES(i,l),i.pesData=null):i.pesData=A}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new _He(this.observer,this.config,r);return this.decrypt(i,a)}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{a.samples?r.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&r.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this._duration=0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let a=r.data;if(i){this.aacOverFlow=null;const u=i.missing,f=i.sample.unit.byteLength;if(u===-1)a=co(i.sample.unit,a);else{const h=f-u;i.sample.unit.set(a.subarray(0,u),h),e.samples.push(i.sample),n=i.missing}}let s,o;for(s=n,o=a.length;s<o-1&&!Xb(a,s);s++);if(s!==n){let u;const f=s<o-1;if(f?u=`AAC PES did not start with ADTS header,offset:${s}`:u="No ADTS header found in AAC PES",Jb(this.observer,new Error(u),f),!f)return}OW(e,this.observer,a,s,this.audioCodec);let A;if(r.pts!==void 0)A=r.pts;else if(i){const u=FW(e.samplerate);A=i.sample.pts+u}else{be.warn("[tsdemuxer]: AAC PES unknown PTS");return}let l=0,c;for(;s<o;)if(c=PW(e,a,s,A,l),s+=c.length,c.missing){this.aacOverFlow=c;break}else for(l++;s<o-1&&!Xb(a,s);s++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let a=0,s=0;const o=r.pts;if(o===void 0){be.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<i;)if(DW(n,s)){const A=UW(e,n,s,o,a);if(A)s+=A.length,a++;else break}else s++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){be.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const a=n.length;let s=0,o=0,A;for(;o<a&&(A=kW(e,n,o,i,s++))>0;)o+=A}}parseID3PES(e,r){if(r.pts===void 0){be.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=ai({},r,{type:this._videoTrack?Xs.emsg:Xs.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function D_(t,e){return((t[e+1]&31)<<8)+t[e+2]}function LHe(t,e){return(t[e+10]&31)<<8|t[e+11]}function IHe(t,e,r,n,i){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},s=(t[e+1]&15)<<8|t[e+2],o=e+3+s-4,A=(t[e+10]&15)<<8|t[e+11];for(e+=12+A;e<o;){const l=D_(t,e),c=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){ZC("ADTS AAC");break}case 15:a.audioPid===-1&&(a.audioPid=l);break;case 21:a.id3Pid===-1&&(a.id3Pid=l);break;case 219:if(!n){ZC("H.264");break}case 27:a.videoPid===-1&&(a.videoPid=l,a.segmentVideoCodec="avc");break;case 3:case 4:!r.mpeg&&!r.mp3?be.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=l,a.segmentAudioCodec="mp3");break;case 193:if(!n){ZC("AC-3");break}case 129:r.ac3?a.audioPid===-1&&(a.audioPid=l,a.segmentAudioCodec="ac3"):be.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&c>0){let u=e+5,f=c;for(;f>2;){switch(t[u]){case 106:r.ac3!==!0?be.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=l,a.segmentAudioCodec="ac3");break}const d=t[u+1]+2;u+=d,f-=d}}break;case 194:case 135:return Jb(i,new Error("Unsupported EC-3 in M2TS found")),a;case 36:return Jb(i,new Error("Unsupported HEVC in M2TS found")),a}e+=c+5}return a}function Jb(t,e,r){be.warn(`parsing error: ${e.message}`),t.emit(j.ERROR,j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function ZC(t){be.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Kh(t){let e=0,r,n,i,a,s;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;)o[0]=co(o[0],o[1]),o.splice(1,1);if(r=o[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(n=(r[4]<<8)+r[5],n&&n>t.size-6)return null;const l=r[7];l&192&&(a=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,l&64?(s=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,a-s>60*9e4&&(be.warn(`${Math.round((a-s)/9e4)}s delta between PTS and DTS, align them`),a=s)):s=a),i=r[8];let c=i+9;if(t.size<=c)return null;t.size-=c;const u=new Uint8Array(t.size);for(let f=0,h=o.length;f<h;f++){r=o[f];let d=r.byteLength;if(c)if(c>d){c-=d;continue}else r=r.subarray(c),d-=c,c=0;u.set(r,e),e+=d}return n&&(n-=i+3),{data:u,pts:a,dts:s,len:n}}return null}class OHe extends HL{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=Fm(e,0);let n=(r==null?void 0:r.length)||0;if(r&&e[n]===11&&e[n+1]===119&&NL(r)!==void 0&&NW(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(MW(e,n))return be.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return wHe(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return UW(e,r,n,this.basePTS,this.frameIndex)}}class Kk{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Tc=Math.pow(2,32)-1;class Ce{static init(){Ce.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Ce.types)Ce.types.hasOwnProperty(e)&&(Ce.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ce.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);Ce.STTS=Ce.STSC=Ce.STCO=a,Ce.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ce.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ce.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ce.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),A=new Uint8Array([0,0,0,1]);Ce.FTYP=Ce.box(Ce.types.ftyp,s,A,s,o),Ce.DINF=Ce.box(Ce.types.dinf,Ce.box(Ce.types.dref,i))}static box(e,...r){let n=8,i=r.length;const a=i;for(;i--;)n+=r[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(e,4),i=0,n=8;i<a;i++)s.set(r[i],n),n+=r[i].byteLength;return s}static hdlr(e){return Ce.box(Ce.types.hdlr,Ce.HDLR_TYPES[e])}static mdat(e){return Ce.box(Ce.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Tc+1)),i=Math.floor(r%(Tc+1));return Ce.box(Ce.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return Ce.box(Ce.types.mdia,Ce.mdhd(e.timescale,e.duration),Ce.hdlr(e.type),Ce.minf(e))}static mfhd(e){return Ce.box(Ce.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Ce.box(Ce.types.minf,Ce.box(Ce.types.smhd,Ce.SMHD),Ce.DINF,Ce.stbl(e)):Ce.box(Ce.types.minf,Ce.box(Ce.types.vmhd,Ce.VMHD),Ce.DINF,Ce.stbl(e))}static moof(e,r,n){return Ce.box(Ce.types.moof,Ce.mfhd(e),Ce.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=Ce.trak(e[r]);return Ce.box.apply(null,[Ce.types.moov,Ce.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(Ce.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=Ce.trex(e[r]);return Ce.box.apply(null,[Ce.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Tc+1)),i=Math.floor(r%(Tc+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ce.box(Ce.types.mvhd,a)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,a;for(i=0;i<r.length;i++)a=r[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return Ce.box(Ce.types.sdtp,n)}static stbl(e){return Ce.box(Ce.types.stbl,Ce.stsd(e),Ce.box(Ce.types.stts,Ce.STTS),Ce.box(Ce.types.stsc,Ce.STSC),Ce.box(Ce.types.stsz,Ce.STSZ),Ce.box(Ce.types.stco,Ce.STCO))}static avc1(e){let r=[],n=[],i,a,s;for(i=0;i<e.sps.length;i++)a=e.sps[i],s=a.byteLength,r.push(s>>>8&255),r.push(s&255),r=r.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],s=a.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(a));const o=Ce.box(Ce.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),A=e.width,l=e.height,c=e.pixelRatio[0],u=e.pixelRatio[1];return Ce.box(Ce.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,A>>8&255,A&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,Ce.box(Ce.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ce.box(Ce.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,c&255,u>>24,u>>16&255,u>>8&255,u&255])))}static esds(e){const r=e.config.length;return new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const r=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return Ce.box(Ce.types.mp4a,Ce.audioStsd(e),Ce.box(Ce.types.esds,Ce.esds(e)))}static mp3(e){return Ce.box(Ce.types[".mp3"],Ce.audioStsd(e))}static ac3(e){return Ce.box(Ce.types["ac-3"],Ce.audioStsd(e),Ce.box(Ce.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?Ce.box(Ce.types.stsd,Ce.STSD,Ce.mp3(e)):e.segmentCodec==="ac3"?Ce.box(Ce.types.stsd,Ce.STSD,Ce.ac3(e)):Ce.box(Ce.types.stsd,Ce.STSD,Ce.mp4a(e)):Ce.box(Ce.types.stsd,Ce.STSD,Ce.avc1(e))}static tkhd(e){const r=e.id,n=e.duration*e.timescale,i=e.width,a=e.height,s=Math.floor(n/(Tc+1)),o=Math.floor(n%(Tc+1));return Ce.box(Ce.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,r){const n=Ce.sdtp(e),i=e.id,a=Math.floor(r/(Tc+1)),s=Math.floor(r%(Tc+1));return Ce.box(Ce.types.traf,Ce.box(Ce.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),Ce.box(Ce.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255])),Ce.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,Ce.box(Ce.types.trak,Ce.tkhd(e),Ce.mdia(e))}static trex(e){const r=e.id;return Ce.box(Ce.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,a=12+16*i,s=new Uint8Array(a);let o,A,l,c,u,f;for(r+=8+a,s.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),o=0;o<i;o++)A=n[o],l=A.duration,c=A.size,u=A.flags,f=A.cts,s.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,u.degradPrio&61440,u.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*o);return Ce.box(Ce.types.trun,s)}static initSegment(e){Ce.types||Ce.init();const r=Ce.moov(e);return co(Ce.FTYP,r)}}Ce.types=void 0;Ce.HDLR_TYPES=void 0;Ce.STTS=void 0;Ce.STSC=void 0;Ce.STCO=void 0;Ce.STSZ=void 0;Ce.VMHD=void 0;Ce.SMHD=void 0;Ce.STSD=void 0;Ce.FTYP=void 0;Ce.DINF=void 0;const QW=9e4;function GL(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function FHe(t,e,r=1,n=!1){return GL(t,e,1/r,n)}function Zg(t,e=!1){return GL(t,1e3,1/QW,e)}function PHe(t,e=1){return GL(t,QW,1/e)}const UHe=10*1e3,Vk=1024,RHe=1152,DHe=1536;let Vh=null,e5=null;class A2{constructor(e,r,n,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,Vh===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Vh=s?parseInt(s[1]):0}if(e5===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);e5=a?parseInt(a[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){be.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){be.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){be.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((a,s)=>{let o=s.pts,A=o-a;return A<-4294967296&&(r=!0,o=zs(o,n),A=o-a),A>0?a:o},n);return r&&be.debug("PTS rollover detected"),i}remux(e,r,n,i,a,s,o,A){let l,c,u,f,h,d,p=a,g=a;const v=e.pid>-1,y=r.pid>-1,w=r.samples.length,S=e.samples.length>0,x=o&&w>0||w>1;if((!v||S)&&(!y||x)||this.ISGenerated||o){if(this.ISGenerated){var C,L,O,D;const M=this.videoTrackConfig;M&&(r.width!==M.width||r.height!==M.height||((C=r.pixelRatio)==null?void 0:C[0])!==((L=M.pixelRatio)==null?void 0:L[0])||((O=r.pixelRatio)==null?void 0:O[1])!==((D=M.pixelRatio)==null?void 0:D[1]))&&this.resetInitSegment()}else u=this.generateIS(e,r,a,s);const _=this.isVideoContiguous;let F=-1,R;if(x&&(F=MHe(r.samples),!_&&this.config.forceKeyFrameOnDiscontinuity))if(d=!0,F>0){be.warn(`[mp4-remuxer]: Dropped ${F} out of ${w} video samples due to a missing keyframe`);const M=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(F),r.dropped+=F,g+=(r.samples[0].pts-M)/r.inputTimeScale,R=g}else F===-1&&(be.warn(`[mp4-remuxer]: No keyframe found out of ${w} video samples`),d=!1);if(this.ISGenerated){if(S&&x){const M=this.getVideoStartPts(r.samples),N=(zs(e.samples[0].pts,M)-M)/r.inputTimeScale;p+=Math.max(0,N),g+=Math.max(0,-N)}if(S){if(e.samplerate||(be.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,r,a,s)),c=this.remuxAudio(e,p,this.isAudioContiguous,s,y||x||A===Et.AUDIO?g:void 0),x){const M=c?c.endPTS-c.startPTS:0;r.inputTimeScale||(be.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,r,a,s)),l=this.remuxVideo(r,g,_,M)}}else x&&(l=this.remuxVideo(r,g,_,0));l&&(l.firstKeyFrame=F,l.independent=F!==-1,l.firstKeyFramePTS=R)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=HW(n,a,this._initPTS,this._initDTS)),i.samples.length&&(f=$W(i,a,this._initPTS))),{audio:c,video:l,initSegment:u,independent:d,text:f,id3:h}}generateIS(e,r,n,i){const a=e.samples,s=r.samples,o=this.typeSupported,A={},l=this._initPTS;let c=!l||i,u="audio/mp4",f,h,d;if(c&&(f=h=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(u="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}A.audio={id:"audio",container:u,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):Ce.initSegment([e]),metadata:{channelCount:e.channelCount}},c&&(d=e.inputTimeScale,!l||d!==l.timescale?f=h=a[0].pts-Math.round(d*n):c=!1)}if(r.sps&&r.pps&&s.length){if(r.timescale=r.inputTimeScale,A.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:Ce.initSegment([r]),metadata:{width:r.width,height:r.height}},c)if(d=r.inputTimeScale,!l||d!==l.timescale){const p=this.getVideoStartPts(s),g=Math.round(d*n);h=Math.min(h,zs(s[0].dts,p)-g),f=Math.min(f,p-g)}else c=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(A).length)return this.ISGenerated=!0,c?(this._initPTS={baseTime:f,timescale:d},this._initDTS={baseTime:h,timescale:d}):f=d=void 0,{tracks:A,initPTS:f,timescale:d}}remuxVideo(e,r,n,i){const a=e.inputTimeScale,s=e.samples,o=[],A=s.length,l=this._initPTS;let c=this.nextAvcDts,u=8,f=this.videoSampleDuration,h,d,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;if(!n||c===null){const H=r*a,W=s[0].pts-zs(s[0].dts,s[0].pts);Vh&&c!==null&&Math.abs(H-W-c)<15e3?n=!0:c=H-W}const y=l.baseTime*a/l.timescale;for(let H=0;H<A;H++){const W=s[H];W.pts=zs(W.pts-y,c),W.dts=zs(W.dts-y,c),W.dts<s[H>0?H-1:H].dts&&(v=!0)}v&&s.sort(function(H,W){const Z=H.dts-W.dts,I=H.pts-W.pts;return Z||I}),h=s[0].dts,d=s[s.length-1].dts;const w=d-h,S=w?Math.round(w/(A-1)):f||e.inputTimeScale/30;if(n){const H=h-c,W=H>S,Z=H<-1;if((W||Z)&&(W?be.warn(`AVC: ${Zg(H,!0)} ms (${H}dts) hole between fragments detected at ${r.toFixed(3)}`):be.warn(`AVC: ${Zg(-H,!0)} ms (${H}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!Z||c>=s[0].pts||Vh)){h=c;const I=s[0].pts-H;if(W)s[0].dts=h,s[0].pts=I;else for(let U=0;U<s.length&&!(s[U].dts>I);U++)s[U].dts-=H,s[U].pts-=H;be.log(`Video: Initial PTS/DTS adjusted: ${Zg(I,!0)}/${Zg(h,!0)}, delta: ${Zg(H,!0)} ms`)}}h=Math.max(0,h);let x=0,E=0,C=h;for(let H=0;H<A;H++){const W=s[H],Z=W.units,I=Z.length;let U=0;for(let $=0;$<I;$++)U+=Z[$].data.length;E+=U,x+=I,W.length=U,W.dts<C?(W.dts=C,C+=S/4|0||1):C=W.dts,p=Math.min(W.pts,p),g=Math.max(W.pts,g)}d=s[A-1].dts;const L=E+4*x+8;let O;try{O=new Uint8Array(L)}catch(H){this.observer.emit(j.ERROR,j.ERROR,{type:Ot.MUX_ERROR,details:_e.REMUX_ALLOC_ERROR,fatal:!1,error:H,bytes:L,reason:`fail allocating video mdat ${L}`});return}const D=new DataView(O.buffer);D.setUint32(0,L),O.set(Ce.types.mdat,4);let _=!1,F=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY;for(let H=0;H<A;H++){const W=s[H],Z=W.units;let I=0;for(let G=0,te=Z.length;G<te;G++){const ie=Z[G],oe=ie.data,ne=ie.data.byteLength;D.setUint32(u,ne),u+=4,O.set(oe,u),u+=ne,I+=4+ne}let U;if(H<A-1)f=s[H+1].dts-W.dts,U=s[H+1].pts-W.pts;else{const G=this.config,te=H>0?W.dts-s[H-1].dts:S;if(U=H>0?W.pts-s[H-1].pts:S,G.stretchShortVideoTrack&&this.nextAudioPts!==null){const ie=Math.floor(G.maxBufferHole*a),oe=(i?p+i*a:this.nextAudioPts)-W.pts;oe>ie?(f=oe-te,f<0?f=te:_=!0,be.log(`[mp4-remuxer]: It is approximately ${oe/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=te}else f=te}const $=Math.round(W.pts-W.dts);F=Math.min(F,f),M=Math.max(M,f),R=Math.min(R,U),z=Math.max(z,U),o.push(new Wk(W.key,f,I,$))}if(o.length){if(Vh){if(Vh<70){const H=o[0].flags;H.dependsOn=2,H.isNonSync=0}}else if(e5&&z-R<M-F&&S/M<.025&&o[0].cts===0){be.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let H=h;for(let W=0,Z=o.length;W<Z;W++){const I=H+o[W].duration,U=H+o[W].cts;if(W<Z-1){const $=I+o[W+1].cts;o[W].duration=$-U}else o[W].duration=W?o[W-1].duration:S;o[W].cts=0,H=I}}}f=_||!f?S:f,this.nextAvcDts=c=d+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const X={data1:Ce.moof(e.sequenceNumber++,h,ai({},e,{samples:o})),data2:O,startPTS:p/a,endPTS:(g+f)/a,startDTS:h/a,endDTS:c/a,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,X}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return RHe;case"ac3":return DHe;default:return Vk}}remuxAudio(e,r,n,i,a){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,A=s/o,l=this.getSamplesPerFrame(e),c=l*A,u=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],d=a!==void 0;let p=e.samples,g=f?0:8,v=this.nextAudioPts||-1;const y=r*s,w=u.baseTime*s/u.timescale;if(this.isAudioContiguous=n=n||p.length&&v>0&&(i&&Math.abs(y-v)<9e3||Math.abs(zs(p[0].pts-w,y)-v)<20*c),p.forEach(function(N){N.pts=zs(N.pts-w,y)}),!n||v<0){if(p=p.filter(N=>N.pts>=0),!p.length)return;a===0?v=0:i&&!d?v=Math.max(0,y):v=p[0].pts}if(e.segmentCodec==="aac"){const N=this.config.maxAudioFramesDrift;for(let Y=0,X=v;Y<p.length;Y++){const H=p[Y],W=H.pts,Z=W-X,I=Math.abs(1e3*Z/s);if(Z<=-N*c&&d)Y===0&&(be.warn(`Audio frame @ ${(W/s).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Z/s)} ms.`),this.nextAudioPts=v=X=W);else if(Z>=N*c&&I<UHe&&d){let U=Math.round(Z/c);X=W-U*c,X<0&&(U--,X+=c),Y===0&&(this.nextAudioPts=v=X),be.warn(`[mp4-remuxer]: Injecting ${U} audio frame @ ${(X/s).toFixed(3)}s due to ${Math.round(1e3*Z/s)} ms gap.`);for(let $=0;$<U;$++){const G=Math.max(X,0);let te=Kk.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);te||(be.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),te=H.unit.subarray()),p.splice(Y,0,{unit:te,pts:G}),X+=c,Y++}}H.pts=X,X+=c}}let S=null,x=null,E,C=0,L=p.length;for(;L--;)C+=p[L].unit.byteLength;for(let N=0,Y=p.length;N<Y;N++){const X=p[N],H=X.unit;let W=X.pts;if(x!==null){const I=h[N-1];I.duration=Math.round((W-x)/A)}else if(n&&e.segmentCodec==="aac"&&(W=v),S=W,C>0){C+=g;try{E=new Uint8Array(C)}catch(I){this.observer.emit(j.ERROR,j.ERROR,{type:Ot.MUX_ERROR,details:_e.REMUX_ALLOC_ERROR,fatal:!1,error:I,bytes:C,reason:`fail allocating audio mdat ${C}`});return}f||(new DataView(E.buffer).setUint32(0,C),E.set(Ce.types.mdat,4))}else return;E.set(H,g);const Z=H.byteLength;g+=Z,h.push(new Wk(!0,l,Z,0)),x=W}const O=h.length;if(!O)return;const D=h[h.length-1];this.nextAudioPts=v=x+A*D.duration;const _=f?new Uint8Array(0):Ce.moof(e.sequenceNumber++,S/A,ai({},e,{samples:h}));e.samples=[];const F=S/s,R=v/s,z={data1:_,data2:E,startPTS:F,endPTS:R,startDTS:F,endDTS:R,type:"audio",hasAudio:!0,hasVideo:!1,nb:O};return this.isAudioContiguous=!0,z}remuxEmptyAudio(e,r,n,i){const a=e.inputTimeScale,s=e.samplerate?e.samplerate:a,o=a/s,A=this.nextAudioPts,l=this._initDTS,c=l.baseTime*9e4/l.timescale,u=(A!==null?A:i.startDTS*a)+c,f=i.endDTS*a+c,h=o*Vk,d=Math.ceil((f-u)/h),p=Kk.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(be.warn("[mp4-remuxer]: remux empty Audio"),!p){be.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const g=[];for(let v=0;v<d;v++){const y=u+v*h;g.push({unit:p,pts:y,dts:y})}return e.samples=g,this.remuxAudio(e,r,n,!1)}}function zs(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function MHe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function HW(t,e,r,n){const i=t.samples.length;if(!i)return;const a=t.inputTimeScale;for(let o=0;o<i;o++){const A=t.samples[o];A.pts=zs(A.pts-r.baseTime*a/r.timescale,e*a)/a,A.dts=zs(A.dts-n.baseTime*a/n.timescale,e*a)/a}const s=t.samples;return t.samples=[],{samples:s}}function $W(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let s=0;s<n;s++){const o=t.samples[s];o.pts=zs(o.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((s,o)=>s.pts-o.pts);const a=t.samples;return t.samples=[],{samples:a}}class Wk{constructor(e,r,n,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=r,this.size=n,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class NHe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(VQe(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=uW(e);i.audio&&(r=zk(i.audio,Sr.AUDIO)),i.video&&(n=zk(i.video,Sr.VIDEO));const a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:e,id:"main"}:i.audio?a.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:i.video?a.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:be.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=a}remux(e,r,n,i,a,s){var o,A;let{initPTS:l,lastEndTime:c}=this;const u={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};ut(c)||(c=this.lastEndTime=a||0);const f=r.samples;if(!(f!=null&&f.length))return u;const h={initPTS:void 0,timescale:1};let d=this.initData;if((o=d)!=null&&o.length||(this.generateInitSegment(f),d=this.initData),!((A=d)!=null&&A.length))return be.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=zQe(f,d),g=WQe(d,f),v=g===null?a:g;(kHe(l,v,a,p)||h.timescale!==l.timescale&&s)&&(h.initPTS=v-a,l&&l.timescale===1&&be.warn(`Adjusting initPTS by ${h.initPTS-l.baseTime}`),this.initPTS=l={baseTime:h.initPTS,timescale:1});const y=e?v-l.baseTime/l.timescale:c,w=y+p;qQe(d,f,l.baseTime/l.timescale),p>0?this.lastEndTime=w:(be.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const S=!!d.audio,x=!!d.video;let E="";S&&(E+="audio"),x&&(E+="video");const C={data1:f,startPTS:y,startDTS:y,endPTS:w,endDTS:w,type:E,hasAudio:S,hasVideo:x,nb:1,dropped:0};return u.audio=C.type==="audio"?C:void 0,u.video=C.type!=="audio"?C:void 0,u.initSegment=h,u.id3=HW(n,a,l,l),i.samples.length&&(u.text=$W(i,a,l)),u}}function kHe(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>i}function zk(t,e){const r=t==null?void 0:t.codec;if(r&&r.length>4)return r;if(e===Sr.AUDIO){if(r==="ec-3"||r==="ac-3"||r==="alac")return r;if(r==="fLaC"||r==="Opus")return Kb(r,!1);const n="mp4a.40.5";return be.info(`Parsed audio codec "${r}" or audio object type not handled. Using "${n}"`),n}return be.warn(`Unhandled video codec "${r}"`),r==="hvc1"||r==="hev1"?"hvc1.1.6.L120.90":r==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Ll;try{Ll=self.performance.now.bind(self.performance)}catch(t){be.debug("Unable to use Performance API on this environment"),Ll=op==null?void 0:op.Date.now}const l2=[{demux:BHe,remux:NHe},{demux:Rc,remux:A2},{demux:xHe,remux:A2},{demux:OHe,remux:A2}];l2.splice(2,0,{demux:CHe,remux:A2});class Yk{constructor(e,r,n,i,a){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.vendor=i,this.id=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const a=n.transmuxing;a.executeStart=Ll();let s=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:A}=this;i&&(this.currentTransmuxState=i);const{contiguous:l,discontinuity:c,trackSwitch:u,accurateTimeOffset:f,timeOffset:h,initSegmentChange:d}=i||o,{audioCodec:p,videoCodec:g,defaultInitPts:v,duration:y,initSegmentData:w}=A,S=QHe(s,r);if(S&&S.method==="AES-128"){const L=this.getDecrypter();if(L.isSync()){let O=L.softwareDecrypt(s,S.key.buffer,S.iv.buffer);if(n.part>-1&&(O=L.flush()),!O)return a.executeEnd=Ll(),t5(n);s=new Uint8Array(O)}else return this.decryptionPromise=L.webCryptoDecrypt(s,S.key.buffer,S.iv.buffer).then(O=>{const D=this.push(O,null,n);return this.decryptionPromise=null,D}),this.decryptionPromise}const x=this.needsProbing(c,u);if(x){const L=this.configureTransmuxer(s);if(L)return be.warn(`[transmuxer] ${L.message}`),this.observer.emit(j.ERROR,j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,error:L,reason:L.message}),a.executeEnd=Ll(),t5(n)}(c||u||d||x)&&this.resetInitSegment(w,p,g,y,r),(c||d||x)&&this.resetInitialTimestamp(v),l||this.resetContiguity();const E=this.transmux(s,S,h,f,n),C=this.currentTransmuxState;return C.contiguous=!0,C.discontinuity=!1,C.trackSwitch=!1,a.executeEnd=Ll(),E}flush(e){const r=e.transmuxing;r.executeStart=Ll();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return a.then(()=>this.flush(e));const s=[],{timeOffset:o}=i;if(n){const u=n.flush();u&&s.push(this.push(u,null,e))}const{demuxer:A,remuxer:l}=this;if(!A||!l)return r.executeEnd=Ll(),[t5(e)];const c=A.flush(o);return c2(c)?c.then(u=>(this.flushRemux(s,u,e),s)):(this.flushRemux(s,c,e),s)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=r,{accurateTimeOffset:A,timeOffset:l}=this.currentTransmuxState;be.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const c=this.remuxer.remux(i,a,s,o,l,A,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=Ll()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,a){const{demuxer:s,remuxer:o}=this;!s||!o||(s.resetInitSegment(e,r,n,i),o.resetInitSegment(e,r,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,a){let s;return r&&r.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,r,n,i,a):s=this.transmuxUnencrypted(e,n,i,a),s}transmuxUnencrypted(e,r,n,i){const{audioTrack:a,videoTrack:s,id3Track:o,textTrack:A}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,s,o,A,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,a){return this.demuxer.demuxSampleAes(e,r,n).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i,vendor:a}=this;let s;for(let f=0,h=l2.length;f<h;f++){var o;if((o=l2[f].demux)!=null&&o.probe(e)){s=l2[f];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const A=this.demuxer,l=this.remuxer,c=s.remux,u=s.demux;(!l||!(l instanceof c))&&(this.remuxer=new c(n,r,i,a)),(!A||!(A instanceof u))&&(this.demuxer=new u(n,r,i),this.probe=u.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new QL(this.config)),e}}function QHe(t,e){let r=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const t5=t=>({remuxResult:{},chunkMeta:t});function c2(t){return"then"in t&&t.then instanceof Function}class HHe{constructor(e,r,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class $He{constructor(e,r,n,i,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s}}var jW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,c){this.fn=A,this.context=l,this.once=c||!1}function a(A,l,c,u,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,u||A,f),d=r?r+l:l;return A._events[d]?A._events[d].fn?A._events[d]=[A._events[d],h]:A._events[d].push(h):(A._events[d]=h,A._eventsCount++),A}function s(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],c,u;if(this._eventsCount===0)return l;for(u in c=this._events)e.call(c,u)&&l.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},o.prototype.listeners=function(l){var c=r?r+l:l,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,h=u.length,d=new Array(h);f<h;f++)d[f]=u[f].fn;return d},o.prototype.listenerCount=function(l){var c=r?r+l:l,u=this._events[c];return u?u.fn?1:u.length:0},o.prototype.emit=function(l,c,u,f,h,d){var p=r?r+l:l;if(!this._events[p])return!1;var g=this._events[p],v=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,u),!0;case 4:return g.fn.call(g.context,c,u,f),!0;case 5:return g.fn.call(g.context,c,u,f,h),!0;case 6:return g.fn.call(g.context,c,u,f,h,d),!0}for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var S=g.length,x;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(l,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,c);break;case 3:g[w].fn.call(g[w].context,c,u);break;case 4:g[w].fn.call(g[w].context,c,u,f);break;default:if(!y)for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];g[w].fn.apply(g[w].context,y)}}return!0},o.prototype.on=function(l,c,u){return a(this,l,c,u,!1)},o.prototype.once=function(l,c,u){return a(this,l,c,u,!0)},o.prototype.removeListener=function(l,c,u,f){var h=r?r+l:l;if(!this._events[h])return this;if(!c)return s(this,h),this;var d=this._events[h];if(d.fn)d.fn===c&&(!f||d.once)&&(!u||d.context===u)&&s(this,h);else{for(var p=0,g=[],v=d.length;p<v;p++)(d[p].fn!==c||f&&!d[p].once||u&&d[p].context!==u)&&g.push(d[p]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(jW);var jHe=jW.exports,KL=gQe(jHe);class GW{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const a=e.config;this.hls=e,this.id=r,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(l,c)=>{c=c||{},c.frag=this.frag,c.id=this.id,l===j.ERROR&&(this.error=c.error),this.hls.trigger(l,c)};this.observer=new KL,this.observer.on(j.FRAG_DECRYPTED,s),this.observer.on(j.ERROR,s);const o=au(a.preferManagedMediaSource)||{isTypeSupported:()=>!1},A={mpeg:o.isTypeSupported("audio/mpeg"),mp3:o.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:o.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker!="undefined"&&(a.workerPath||AHe())){try{a.workerPath?(be.log(`loading Web Worker ${a.workerPath} for "${r}"`),this.workerContext=cHe(a.workerPath)):(be.log(`injecting Web Worker for "${r}"`),this.workerContext=lHe()),this.onwmsg=u=>this.onWorkerMessage(u);const{worker:c}=this.workerContext;c.addEventListener("message",this.onwmsg),c.onerror=u=>{const f=new Error(`${u.message}  (${u.filename}:${u.lineno})`);a.enableWorker=!1,be.warn(`Error in "${r}" Web Worker, fallback to inline`),this.hls.trigger(j.ERROR,{type:Ot.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},c.postMessage({cmd:"init",typeSupported:A,vendor:"",id:r,config:JSON.stringify(a)})}catch(c){be.warn(`Error setting up "${r}" Web Worker, fallback to inline`,c),this.resetWorker(),this.error=null,this.transmuxer=new Yk(this.observer,A,a,"",r)}return}this.transmuxer=new Yk(this.observer,A,a,"",r)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:r}=this.workerContext;r&&self.URL.revokeObjectURL(r),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,r,n,i,a,s,o,A,l,c){var u,f;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,d=s?s.start:a.start,p=a.decryptdata,g=this.frag,v=!(g&&a.cc===g.cc),y=!(g&&l.level===g.level),w=g?l.sn-g.sn:-1,S=this.part?l.part-this.part.index:-1,x=w===0&&l.id>1&&l.id===(g==null?void 0:g.stats.chunkCount),E=!y&&(w===1||w===0&&(S===1||x&&S<=0)),C=self.performance.now();(y||w||a.stats.parsing.start===0)&&(a.stats.parsing.start=C),s&&(S||!E)&&(s.stats.parsing.start=C);const L=!(g&&((u=a.initSegment)==null?void 0:u.url)===((f=g.initSegment)==null?void 0:f.url)),O=new $He(v,E,A,y,d,L);if(!E||v||L){be.log(`[transmuxer-interface, ${a.type}]: Starting new transmux session for sn: ${l.sn} p: ${l.part} level: ${l.level} id: ${l.id}
        discontinuity: ${v}
        trackSwitch: ${y}
        contiguous: ${E}
        accurateTimeOffset: ${A}
        timeOffset: ${d}
        initSegmentChange: ${L}`);const D=new HHe(n,i,r,o,c);this.configureTransmuxer(D)}if(this.frag=a,this.part=s,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:p,chunkMeta:l,state:O},e instanceof ArrayBuffer?[e]:[]);else if(h){const D=h.push(e,p,l,O);c2(D)?(h.async=!0,D.then(_=>{this.handleTransmuxComplete(_)}).catch(_=>{this.transmuxerError(_,l,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(D))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){let n=r.flush(e);c2(n)||r.async?(c2(n)||(n=Promise.resolve(n)),n.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")})):this.handleFlushResult(n,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}onWorkerMessage(e){const r=e.data;if(!(r!=null&&r.event)){be.warn(`worker message received with no ${r?"event name":"data"}`);return}const n=this.hls;if(this.hls)switch(r.event){case"init":{var i;const a=(i=this.workerContext)==null?void 0:i.objectURL;a&&self.URL.revokeObjectURL(a);break}case"transmuxComplete":{this.handleTransmuxComplete(r.data);break}case"flush":{this.onFlush(r.data);break}case"workerLog":be[r.data.logType]&&be[r.data.logType](r.data.message);break;default:{r.data=r.data||{},r.data.frag=this.frag,r.data.id=this.id,n.trigger(r.event,r.data);break}}}configureTransmuxer(e){const{transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const qk=100;class KW extends Px{constructor(e,r,n){super(e,r,n,"[audio-stream-controller]",Et.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.LEVEL_LOADED,this.onLevelLoaded,this),e.on(j.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(j.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(j.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(j.ERROR,this.onError,this),e.on(j.BUFFER_RESET,this.onBufferReset,this),e.on(j.BUFFER_CREATED,this.onBufferCreated,this),e.on(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(j.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(j.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.LEVEL_LOADED,this.onLevelLoaded,this),e.off(j.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(j.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(j.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(j.ERROR,this.onError,this),e.off(j.BUFFER_RESET,this.onBufferReset,this),e.off(j.BUFFER_CREATED,this.onBufferCreated,this),e.off(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(j.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(j.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){if(n==="main"){const s=r.cc;this.initPTS[r.cc]={baseTime:i,timescale:a},this.log(`InitPTS for cc: ${s} found from main: ${i}`),this.videoTrackCC=s,this.state===$e.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=$e.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(qk),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=$e.IDLE):(this.loadedmetadata=!1,this.state=$e.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case $e.IDLE:this.doTickIdle();break;case $e.WAITING_TRACK:{var e;const{levels:n,trackId:i}=this,a=n==null||(e=n[i])==null?void 0:e.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=$e.WAITING_INIT_PTS}break}case $e.FRAG_LOADING_WAITING_RETRY:{var r;const n=performance.now(),i=this.retryDate;if(!i||n>=i||(r=this.media)!=null&&r.seeking){const{levels:a,trackId:s}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((a==null?void 0:a[s])||null),this.state=$e.IDLE}break}case $e.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:i,part:a,cache:s,complete:o}=n;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=$e.FRAG_LOADING;const A=s.flush(),l={frag:i,part:a,payload:A,networkDetails:null};this._handleFragmentLoadProgress(l),o&&super._handleFragmentLoadComplete(l)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const A=this.getLoadPosition(),l=Gr.bufferInfo(this.mediaBuffer,A,this.config.maxBufferHole);R_(l.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${l.end} is needed`),this.clearWaitingFragment())}}else this.state=$e.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=$e.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:r,media:n,trackId:i}=this,a=e.config;if(!this.buffering||!n&&(this.startFragRequested||!a.startFragPrefetch)||!(r!=null&&r[i]))return;const s=r[i],o=s.details;if(!o||o.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(o)){this.state=$e.WAITING_TRACK;return}const A=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&A&&(this.bufferFlushed=!1,this.afterBufferFlushed(A,Sr.AUDIO,Et.AUDIO));const l=this.getFwdBufferInfo(A,Et.AUDIO);if(l===null)return;if(!this.switchingTrack&&this._streamEnded(l,o)){e.trigger(j.BUFFER_EOS,{type:"audio"}),this.state=$e.ENDED;return}const c=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Et.MAIN),u=l.len,f=this.getMaxBufferLength(c==null?void 0:c.len),h=o.fragments,d=h[0].start,p=this.getLoadPosition(),g=this.flushing?p:l.end;if(this.switchingTrack&&n){const S=p;o.PTSKnown&&S<d&&(l.end>d||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=d+.05)}if(u>=f&&!this.switchingTrack&&g<h[h.length-1].start)return;let v=this.getNextFragment(g,o),y=!1;if(v&&this.isLoopLoading(v,g)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,o,l,Et.MAIN,f)),!v){this.bufferFlushed=!0;return}const w=c&&v.start>c.end+o.targetduration;if(w||!(c!=null&&c.len)&&l.len){const S=this.getAppendedFrag(v.start,Et.MAIN);if(S===null||(y||(y=!!S.gap||!!w&&c.len===0),w&&!y||y&&l.nextStart&&l.nextStart<S.end))return}this.loadFragment(v,s,g)}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new Pf(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?this.setInterval(qk):this.resetTransmuxer(),n?(this.switchingTrack=r,this.state=$e.IDLE,this.flushAudioIfNeeded(r)):(this.switchingTrack=null,this.bufferedTrack=r,this.state=$e.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,r){this.mainDetails=r.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(j.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,r){var n;if(this.mainDetails==null){this.cachedTrackLoadedData=r;return}const{levels:i}=this,{details:a,id:s}=r;if(!i){this.warn(`Audio tracks were reset while loading level ${s}`);return}this.log(`Audio track ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const o=i[s];let A=0;if(a.live||(n=o.details)!=null&&n.live){this.checkLiveUpdate(a);const c=this.mainDetails;if(a.deltaUpdateFailed||!c)return;if(!o.details&&a.hasProgramDateTime&&c.hasProgramDateTime)qb(a,c),A=a.fragments[0].start;else{var l;A=this.alignPlaylists(a,o.details,(l=this.levelLastLoaded)==null?void 0:l.details)}}o.details=a,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(this.mainDetails||a,A),this.state===$e.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=$e.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{config:s,trackId:o,levels:A}=this;if(!A){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=A[o];if(!l){this.warn("Audio track is undefined on fragment load progress");return}const c=l.details;if(!c){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const u=s.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new GW(this.hls,Et.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],d=(r=n.initSegment)==null?void 0:r.data;if(h!==void 0){const g=i?i.index:-1,v=g!==-1,y=new Fx(n.level,n.sn,n.stats.chunkCount,a.byteLength,g,v);f.push(a,d,u,"",n,i,c.totalduration,!1,y,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${o}`);const{cache:p}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new _W,complete:!1};p.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=$e.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,r){const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),r.tracks.video&&(this.videoBuffer=r.tracks.video.buffer||null)}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==Et.AUDIO){if(!this.loadedmetadata&&n.type===Et.MAIN){const a=this.videoBuffer||this.media;a&&Gr.getBuffered(a).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(n.sn!=="initSegment"){this.fragPrevious=n;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(j.AUDIO_TRACK_SWITCHED,Oi({},a)))}this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=$e.ERROR;return}switch(r.details){case _e.FRAG_GAP:case _e.FRAG_PARSING_ERROR:case _e.FRAG_DECRYPT_ERROR:case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Et.AUDIO,r);break;case _e.AUDIO_TRACK_LOAD_ERROR:case _e.AUDIO_TRACK_LOAD_TIMEOUT:case _e.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===$e.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===nr.AUDIO_TRACK&&(this.state=$e.IDLE);break;case _e.BUFFER_APPEND_ERROR:case _e.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="audio")return;if(r.details===_e.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case _e.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==Sr.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==Sr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===$e.ENDED&&(this.state=$e.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,Et.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:A,part:l,level:c}=o,{details:u}=c,{audio:f,text:h,id3:d,initSegment:p}=a;if(this.fragContextChanged(A)||!u){this.fragmentTracker.removeFragment(A);return}if(this.state=$e.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),p!=null&&p.tracks){const g=A.initSegment||A;this._bufferInitSegment(c,p.tracks,g,s),i.trigger(j.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:n,tracks:p.tracks})}if(f){const{startPTS:g,endPTS:v,startDTS:y,endDTS:w}=f;l&&(l.elementaryStreams[Sr.AUDIO]={startPTS:g,endPTS:v,startDTS:y,endDTS:w}),A.setElementaryStreamInfo(Sr.AUDIO,g,v,y,w),this.bufferFragmentData(f,A,l,s)}if(d!=null&&(r=d.samples)!=null&&r.length){const g=ai({id:n,frag:A,details:u},d);i.trigger(j.FRAG_PARSING_METADATA,g)}if(h){const g=ai({id:n,frag:A,details:u},h);i.trigger(j.FRAG_PARSING_USERDATA,g)}}_bufferInitSegment(e,r,n,i){if(this.state!==$e.PARSING)return;r.video&&delete r.video;const a=r.audio;if(!a)return;a.id="audio";const s=e.audioCodec;this.log(`Init audio buffer, container:${a.container}, codecs[level/parsed]=[${s}/${a.codec}]`),s&&s.split(",").length===1&&(a.levelCodec=s),this.hls.trigger(j.BUFFER_CODECS,r);const o=a.initSegment;if(o!=null&&o.byteLength){const A={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:o};this.hls.trigger(j.BUFFER_APPENDING,A)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Ii.NOT_LOADED||i===Ii.PARTIAL){var a;if(e.sn==="initSegment")this._loadInitSegment(e,r);else if((a=r.details)!=null&&a.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=$e.WAITING_INIT_PTS;const s=this.mainDetails;s&&s.fragments[0].start!==r.details.fragments[0].start&&qb(r.details,s)}else this.startFragRequested=!0,super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o}=this.bufferedTrack;wf({name:r,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o},e,Ju)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(j.AUDIO_TRACK_SWITCHED,Oi({},e))}}function VW(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Um(t[r].attrs,e[r].attrs))return!1;return!0}function Um(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function M_(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class WW extends Ox{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.LEVEL_LOADING,this.onLevelLoading,this),e.on(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(j.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(j.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.LEVEL_LOADING,this.onLevelLoading,this),e.off(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(j.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(j.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${s==null?void 0:s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`Audio track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(f=>!n||n.indexOf(f.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(f=>f.default)&&(this.selectDefaultTrack=!1),o.forEach((f,h)=>{f.id=h});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const A=this.hls.config.audioPreference;if(!a&&A){const f=FA(A,o,Ju);if(f>-1)a=o[f];else{const h=FA(A,this.tracks);a=this.tracks[h]}}let l=this.findTrackId(a);l===-1&&a&&(l=this.findTrackId(null));const c={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(j.AUDIO_TRACKS_UPDATED,c);const u=this.trackId;if(l!==-1&&u===-1)this.setAudioTrack(l);else if(o.length&&u===-1){var s;const f=new Error(`No audio track selected for current audio group-ID(s): ${(s=this.groupIds)==null?void 0:s.join(",")} track count: ${o.length}`);this.warn(f.message),this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(a)&&this.setAudioTrack(this.trackId)}onError(e,r){r.fatal||!r.context||r.context.type===nr.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(r))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&wf(e,i,Ju))return i;const a=FA(e,this.tracksInGroup,Ju);if(a>-1){const s=this.tracksInGroup[a];return this.setAudioTrack(a),s}else if(i){let s=r.loadLevel;s===-1&&(s=r.firstAutoLevel);const o=V7e(e,r.levels,n,s,Ju);if(o===-1)return null;r.nextLoadLevel=o}if(e.channels||e.audioCodec){const s=FA(e,n);if(s>-1)return n[s]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],a=i.details&&!i.details.live;if(e===this.trackId&&i===n&&a||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(j.AUDIO_TRACK_SWITCHING,Oi({},i)),a))return;const s=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(s)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||wf(e,i,Ju)))return n}if(e){const{name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:A}=e;for(let l=0;l<r.length;l++){const c=r[l];if(wf({name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:A},c,Ju))return l}for(let l=0;l<r.length;l++){const c=r[l];if(Um(e.attrs,c.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<r.length;l++){const c=r[l];if(Um(e.attrs,c.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){const r=this.currentTrack;if(this.shouldLoadPlaylist(r)&&r){super.loadPlaylist();const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`loading audio-track playlist ${n} "${r.name}" lang:${r.lang} group:${i}`),this.clearTimer(),this.hls.trigger(j.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}}const Xk=500;class zW extends Px{constructor(e,r,n){super(e,r,n,"[subtitle-stream-controller]",Et.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.LEVEL_LOADED,this.onLevelLoaded,this),e.on(j.ERROR,this.onError,this),e.on(j.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(j.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(j.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(j.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.LEVEL_LOADED,this.onLevelLoaded,this),e.off(j.ERROR,this.onError,this),e.off(j.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(j.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(j.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(j.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=$e.IDLE,this.setInterval(Xk),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragPrevious=n,this.state=$e.IDLE,!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let s;const o=n.start;for(let l=0;l<a.length;l++)if(o>=a[l].start&&o<=a[l].end){s=a[l];break}const A=n.start+n.duration;s?s.end=A:(s={start:o,end:A},a.push(s)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const a=i-1;if(a<=0)return;r.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(s=>{for(let o=0;o<s.length;){if(s[o].end<=a){s.shift();continue}else if(s[o].start<a)s[o].start=a;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,a,Et.SUBTITLE)}}onFragBuffered(e,r){if(!this.loadedmetadata&&r.frag.type===Et.MAIN){var n;(n=this.media)!=null&&n.buffered.length&&(this.loadedmetadata=!0)}}onError(e,r){const n=r.frag;(n==null?void 0:n.type)===Et.SUBTITLE&&(r.details===_e.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==$e.STOPPED&&(this.state=$e.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&VW(this.levels,r)){this.levels=r.map(n=>new Pf(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new Pf(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Et.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(Xk)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:a}=this,{details:s,id:o}=r;if(!a){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const A=a[o];if(o>=a.length||!A)return;this.log(`Subtitle track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(s.live||(n=A.details)!=null&&n.live){const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;const f=u.fragments[0];if(!A.details)s.hasProgramDateTime&&u.hasProgramDateTime?(qb(s,u),l=s.fragments[0].start):f&&(l=f.start,U_(s,l));else{var c;l=this.alignPlaylists(s,A.details,(c=this.levelLastLoaded)==null?void 0:c.details),l===0&&f&&(l=f.start,U_(s,l))}}A.details=s,this.levelLastLoaded=A,o===i&&(!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===$e.IDLE&&(Yb(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),A.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch(o=>{throw a.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:r}),o}).then(o=>{const A=performance.now();a.trigger(j.FRAG_DECRYPTED,{frag:r,payload:o,stats:{tstart:s,tdecrypt:A}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=$e.IDLE})}}doTick(){if(!this.media){this.state=$e.IDLE;return}if(this.state===$e.IDLE){const{currentTrackId:e,levels:r}=this,n=r==null?void 0:r[e];if(!n||!r.length||!n.details)return;const{config:i}=this,a=this.getLoadPosition(),s=Gr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),{end:o,len:A}=s,l=this.getFwdBufferInfo(this.media,Et.MAIN),c=n.details,u=this.getMaxBufferLength(l==null?void 0:l.len)+c.levelTargetDuration;if(A>u)return;const f=c.fragments,h=f.length,d=c.edge;let p=null;const g=this.fragPrevious;if(o<d){const v=i.maxFragLookUpTolerance,y=o>d-v?0:v;p=Yb(g,f,Math.max(f[0].start,o),y),!p&&g&&g.start<f[0].start&&(p=f[0])}else p=f[h-1];if(!p)return;if(p=this.mapToInitFragWhenRequired(p),p.sn!=="initSegment"){const v=p.sn-c.startSN,y=f[v-1];y&&y.cc===p.cc&&this.fragmentTracker.getState(y)===Ii.NOT_LOADED&&(p=y)}this.fragmentTracker.getState(p)===Ii.NOT_LOADED&&this.loadFragment(p,n,o)}}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.max(r,e):r}loadFragment(e,r,n){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,r):(this.startFragRequested=!0,super.loadFragment(e,r,n))}get mediaBufferTimeRanges(){return new GHe(this.tracksBuffered[this.currentTrackId]||[])}}class GHe{constructor(e){this.buffered=void 0;const r=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}class YW extends Ox{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=s2(this.media.textTracks);for(let a=0;a<n.length;a++)if(n[a].mode==="hidden")r=n[a];else if(n[a].mode==="showing"){r=n[a];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.LEVEL_LOADING,this.onLevelLoading,this),e.on(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(j.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(j.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.LEVEL_LOADING,this.onLevelLoading,this),e.off(j.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(j.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(j.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),s2(this.media.textTracks).forEach(r=>{ud(r)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${s==null?void 0:s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`Subtitle track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(s=>(i==null?void 0:i.indexOf(s))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(c=>!n||n.indexOf(c.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(c=>c.default)&&(this.selectDefaultTrack=!1),s.forEach((c,u)=>{c.id=u});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const o=this.hls.config.subtitlePreference;if(!a&&o){this.selectDefaultTrack=!1;const c=FA(o,s);if(c>-1)a=s[c];else{const u=FA(o,this.tracks);a=this.tracks[u]}}let A=this.findTrackId(a);A===-1&&a&&(A=this.findTrackId(null));const l={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(j.SUBTITLE_TRACKS_UPDATED,l),A!==-1&&this.trackId===-1&&this.setSubtitleTrack(A)}else this.shouldReloadPlaylist(a)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const a=r[i];if(!(n&&!a.default||!n&&!e)&&(!e||wf(a,e)))return i}if(e){for(let i=0;i<r.length;i++){const a=r[i];if(Um(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const a=r[i];if(Um(e.attrs,a.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(M_(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===nr.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&wf(e,n))return n;const i=FA(e,this.tracksInGroup);if(i>-1){const a=this.tracksInGroup[i];return this.setSubtitleTrack(i),a}else{if(n)return null;{const a=FA(e,r);if(a>-1)return r[a]}}}}return null}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;if(this.shouldLoadPlaylist(r)&&r){const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(j.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=s2(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(a=>M_(n,a))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(a=>{a.mode!=="disabled"&&a!==i&&(a.mode="disabled")}),i){const a=this.subtitleDisplay?"showing":"hidden";i.mode!==a&&(i.mode=a)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!ut(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(j.SUBTITLE_TRACK_SWITCH,{id:e});return}const a=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&a)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:s,groupId:o="",name:A,type:l,url:c}=i;this.hls.trigger(j.SUBTITLE_TRACK_SWITCH,{id:s,groupId:o,name:A,type:l,url:c});const u=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(u)}}class KHe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,r,n){const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}insertAbort(e,r){this.queues[r].unshift(e),this.executeNext(r)}appendBlocker(e){let r;const n=new Promise(a=>{r=a}),i={execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),n}executeNext(e){const r=this.queues[e];if(r.length){const n=r[0];try{n.execute()}catch(i){be.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),n.onError(i);const a=this.buffers[e];a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const Jk=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class qW{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=n=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:n,mediaSource:i}=this;this.log("Media source opened"),n&&(n.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(j.MEDIA_ATTACHED,{media:n,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&be.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e;const r="[buffer-controller]";this.appendSource=o7e(au(e.config.preferManagedMediaSource)),this.log=be.log.bind(be,r),this.warn=be.warn.bind(be,r),this.error=be.error.bind(be,r),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.BUFFER_RESET,this.onBufferReset,this),e.on(j.BUFFER_APPENDING,this.onBufferAppending,this),e.on(j.BUFFER_CODECS,this.onBufferCodecs,this),e.on(j.BUFFER_EOS,this.onBufferEos,this),e.on(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(j.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(j.FRAG_PARSED,this.onFragParsed,this),e.on(j.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.BUFFER_RESET,this.onBufferReset,this),e.off(j.BUFFER_APPENDING,this.onBufferAppending,this),e.off(j.BUFFER_CODECS,this.onBufferCodecs,this),e.off(j.BUFFER_EOS,this.onBufferEos,this),e.off(j.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(j.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(j.FRAG_PARSED,this.onFragParsed,this),e.off(j.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new KHe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){let n=2;(r.audio&&!r.video||!r.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,r){const n=this.media=r.media,i=au(this.appendSource);if(n&&i){var a;const s=this.mediaSource=new i;this.log(`created media source: ${(a=s.constructor)==null?void 0:a.name}`),s.addEventListener("sourceopen",this._onMediaSourceOpen),s.addEventListener("sourceended",this._onMediaSourceEnded),s.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.addEventListener("startstreaming",this._onStartStreaming),s.addEventListener("endstreaming",this._onEndStreaming));const o=this._objectUrl=self.URL.createObjectURL(s);if(this.appendSource)try{n.removeAttribute("src");const A=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||A&&s instanceof A,Zk(n),VHe(n,o),n.load()}catch(A){n.src=o}else n.src=o;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:r,_objectUrl:n}=this;if(r){if(this.log("media source detaching"),r.readyState==="open")try{r.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(r.removeEventListener("startstreaming",this._onStartStreaming),r.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(e.removeAttribute("src"),this.appendSource&&Zk(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(j.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const r=this.sourceBuffer[e];try{if(r){var n;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(n=this.mediaSource)!=null&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,r){const n=this.getSourceBufferTypes().length,i=Object.keys(r);if(i.forEach(s=>{if(n){const A=this.tracks[s];if(A&&typeof A.buffer.changeType=="function"){var o;const{id:l,codec:c,levelCodec:u,container:f,metadata:h}=r[s],d=wk(A.codec,A.levelCodec),p=d==null?void 0:d.replace(Jk,"$1");let g=wk(c,u);const v=(o=g)==null?void 0:o.replace(Jk,"$1");if(g&&p!==v){s.slice(0,5)==="audio"&&(g=Kb(g,this.appendSource));const y=`${f};codecs=${g}`;this.appendChangeType(s,y),this.log(`switching codec ${d} to ${g}`),this.tracks[s]={buffer:A.buffer,codec:c,container:f,levelCodec:u,metadata:h,id:l}}}}else this.pendingTracks[s]=r[s]}),n)return;const a=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==a&&(this.log(`${a} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=a),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,r){const{operationQueue:n}=this,i={execute:()=>{const a=this.sourceBuffer[e];a&&(this.log(`changing ${e} sourceBuffer type to ${r}`),a.changeType(r)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};n.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,r){const{hls:n,operationQueue:i,tracks:a}=this,{data:s,type:o,frag:A,part:l,chunkMeta:c}=r,u=c.buffering[o],f=self.performance.now();u.start=f;const h=A.stats.buffering,d=l?l.stats.buffering:null;h.start===0&&(h.start=f),d&&d.start===0&&(d.start=f);const p=a.audio;let g=!1;o==="audio"&&(p==null?void 0:p.container)==="audio/mpeg"&&(g=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const v=A.start,y={execute:()=>{if(u.executeStart=self.performance.now(),g){const w=this.sourceBuffer[o];if(w){const S=v-w.timestampOffset;Math.abs(S)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${v} (delta: ${S}) sn: ${A.sn})`),w.timestampOffset=v)}}this.appendExecutor(s,o)},onStart:()=>{},onComplete:()=>{const w=self.performance.now();u.executeEnd=u.end=w,h.first===0&&(h.first=w),d&&d.first===0&&(d.first=w);const{sourceBuffer:S}=this,x={};for(const E in S)x[E]=Gr.getBuffered(S[E]);this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(j.BUFFER_APPENDED,{type:o,frag:A,part:l,chunkMeta:c,parent:A.type,timeRanges:x})},onError:w=>{const S={type:Ot.MEDIA_ERROR,parent:A.type,details:_e.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:A,part:l,chunkMeta:c,error:w,err:w,fatal:!1};if(w.code===DOMException.QUOTA_EXCEEDED_ERR)S.details=_e.BUFFER_FULL_ERROR;else{const x=++this.appendErrors[o];S.details=_e.BUFFER_APPEND_ERROR,this.warn(`Failed ${x}/${n.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer`),x>=n.config.appendErrorMaxRetry&&(S.fatal=!0)}n.trigger(j.ERROR,S)}};i.append(y,o,!!this.pendingTracks[o])}onBufferFlushing(e,r){const{operationQueue:n}=this,i=a=>({execute:this.removeExecutor.bind(this,a,r.startOffset,r.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(j.BUFFER_FLUSHED,{type:a})},onError:s=>{this.warn(`Failed to remove from ${a} SourceBuffer`,s)}});r.type?n.append(i(r.type),r.type):this.getSourceBufferTypes().forEach(a=>{n.append(i(a),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[Sr.AUDIOVIDEO]?a.push("audiovideo"):(s[Sr.AUDIO]&&a.push("audio"),s[Sr.VIDEO]&&a.push("video"));const o=()=>{const A=self.performance.now();n.stats.buffering.end=A,i&&(i.stats.buffering.end=A);const l=i?i.stats:n.stats;this.hls.trigger(j.FRAG_BUFFERED,{frag:n,part:i,stats:l,id:n.type})};a.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,a)}onFragChanged(e,r){this.trimBuffers()}onBufferEos(e,r){this.getSourceBufferTypes().reduce((i,a)=>{const s=this.sourceBuffer[a];return s&&(!r.type||r.type===a)&&(s.ending=!0,s.ended||(s.ended=!0,this.log(`${a} sourceBuffer now EOS`))),i&&!!(!s||s.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(a=>{const s=this.sourceBuffer[a];s&&(s.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.getSourceBufferTypes().length)return;const a=e.config,s=n.currentTime,o=r.levelTargetDuration,A=r.live&&a.liveBackBufferLength!==null?a.liveBackBufferLength:a.backBufferLength;if(ut(A)&&A>0){const l=Math.max(A,o),c=Math.floor(s/o)*o-l;this.flushBackBuffer(s,o,c)}if(ut(a.frontBufferFlushThreshold)&&a.frontBufferFlushThreshold>0){const l=Math.max(a.maxBufferLength,a.frontBufferFlushThreshold),c=Math.max(l,o),u=Math.floor(s/o)*o+c;this.flushFrontBuffer(s,o,u)}}flushBackBuffer(e,r,n){const{details:i,sourceBuffer:a}=this;this.getSourceBufferTypes().forEach(o=>{const A=a[o];if(A){const l=Gr.getBuffered(A);if(l.length>0&&n>l.start(0)){if(this.hls.trigger(j.BACK_BUFFER_REACHED,{bufferEnd:n}),i!=null&&i.live)this.hls.trigger(j.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(A.ended&&l.end(l.length-1)-e<r*2){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(j.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}})}flushFrontBuffer(e,r,n){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(s=>{const o=i[s];if(o){const A=Gr.getBuffered(o),l=A.length;if(l<2)return;const c=A.start(l-1),u=A.end(l-1);if(n>c||e>=c&&e<=u)return;if(o.ended&&e-u<2*r){this.log(`Cannot flush ${s} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(j.BUFFER_FLUSHING,{startOffset:c,endOffset:1/0,type:s})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:r,media:n,mediaSource:i}=this,a=e.fragments[0].start+e.totalduration,s=n.duration,o=ut(i.duration)?i.duration:0;e.live&&r.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(a>o&&a>s||!ut(s))&&(this.log(`Updating Media Source duration to ${a.toFixed(3)}`),i.duration=a)}updateSeekableRange(e){const r=this.mediaSource,n=e.fragments;if(n.length&&e.live&&r!=null&&r.setLiveSeekableRange){const a=Math.max(0,n[0].start),s=Math.max(a,a+e.totalduration);this.log(`Media Source duration is set to ${r.duration}. Setting seekable range to ${a}-${s}.`),r.setLiveSeekableRange(a,s)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:r,pendingTracks:n}=this,i=Object.keys(n).length;if(i&&(!e||i===2||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const a=this.getSourceBufferTypes();if(a.length)this.hls.trigger(j.BUFFER_CREATED,{tracks:this.tracks}),a.forEach(s=>{r.executeNext(s)});else{const s=new Error("could not create source buffer for media codec(s)");this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:s,reason:s.message})}}}createSourceBuffers(e){const{sourceBuffer:r,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const a in e)if(!r[a]){var i;const s=e[a];if(!s)throw Error(`source buffer exists for track ${a}, however track does not`);let o=((i=s.levelCodec)==null?void 0:i.indexOf(","))===-1?s.levelCodec:s.codec;o&&a.slice(0,5)==="audio"&&(o=Kb(o,this.appendSource));const A=`${s.container};codecs=${o}`;this.log(`creating sourceBuffer(${A})`);try{const l=r[a]=n.addSourceBuffer(A),c=a;this.addBufferListener(c,"updatestart",this._onSBUpdateStart),this.addBufferListener(c,"updateend",this._onSBUpdateEnd),this.addBufferListener(c,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(c,"bufferedchange",(u,f)=>{const h=f.removedRanges;h!=null&&h.length&&this.hls.trigger(j.BUFFER_FLUSHED,{type:a})}),this.tracks[a]={buffer:l,codec:o,container:s.container,levelCodec:s.levelCodec,metadata:s.metadata,id:s.id}}catch(l){this.error(`error while trying to add sourceBuffer: ${l.message}`),this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:l,sourceBufferName:a,mimeType:A})}}}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n==null?void 0:n.src}_onSBUpdateStart(e){const{operationQueue:r}=this;r.current(e).onStart()}_onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:n}=this;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}_onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const a=this.operationQueue.current(e);a&&a.onError(i)}removeExecutor(e,r,n){const{media:i,mediaSource:a,operationQueue:s,sourceBuffer:o}=this,A=o[e];if(!i||!a||!A){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),s.shiftAndExecuteNext(e);return}const l=ut(i.duration)?i.duration:1/0,c=ut(a.duration)?a.duration:1/0,u=Math.max(0,r),f=Math.min(n,l,c);f>u&&(!A.ending||A.ended)?(A.ended=!1,this.log(`Removing [${u},${f}] from the ${e} SourceBuffer`),A.remove(u,f)):s.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.sourceBuffer[r];if(!n){if(!this.pendingTracks[r])throw new Error(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);return}n.ended=!1,n.appendBuffer(e)}blockBuffers(e,r=this.getSourceBufferTypes()){if(!r.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:n}=this,i=r.map(a=>n.appendBlocker(a));Promise.all(i).then(()=>{e(),r.forEach(a=>{const s=this.sourceBuffer[a];s!=null&&s.updating||n.shiftAndExecuteNext(a)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,r,n){const i=this.sourceBuffer[e];if(!i)return;const a=n.bind(this,e);this.listeners[e].push({event:r,listener:a}),i.addEventListener(r,a)}removeBufferListeners(e){const r=this.sourceBuffer[e];r&&this.listeners[e].forEach(n=>{r.removeEventListener(n.event,n.listener)})}}function Zk(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function VHe(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}const WHe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},XW=t=>String.fromCharCode(WHe[t]||t),Do=15,Cl=100,zHe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},YHe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},qHe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},XHe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},JHe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class ZHe{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;be.log(`${this.time} [${e}] ${n}`)}}}const Gu=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class JW{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class e$e{constructor(){this.uchar=" ",this.penState=new JW}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class t$e{constructor(e){this.chars=[],this.pos=0,this.currPenState=new JW,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<Cl;r++)this.chars.push(new e$e);this.logger=e}equals(e){for(let r=0;r<Cl;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<Cl;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Cl;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Cl&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Cl)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=XW(e);if(this.pos>=Cl){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Cl;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<Cl;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class r5{constructor(e){this.rows=[],this.currRow=Do-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<Do;r++)this.rows.push(new t$e(e));this.logger=e}reset(){for(let e=0;e<Do;e++)this.rows[e].clear();this.currRow=Do-1}equals(e){let r=!0;for(let n=0;n<Do;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<Do;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<Do;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let o=0;o<Do;o++)this.rows[o].clear();const a=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const o=s.rows[a].cueStartTime,A=this.logger.time;if(o!==null&&A!==null&&o<A)for(let l=0;l<this.nrRollUpRows;l++)this.rows[r-this.nrRollUpRows+l+1].copy(s.rows[a+l])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,s=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[s].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let a=0;a<Do;a++){const s=this.rows[a].getTextString();s&&(i=a+1,e?r.push("Row "+i+": '"+s+"'"):r.push(s.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class e8{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new r5(n),this.nonDisplayedMemory=new r5(n),this.lastOutputScreen=new r5(n),this.currRollUpRow=this.displayedMemory.rows[Do-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Do-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class t8{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=n$e(),this.logger=void 0;const i=this.logger=new ZHe;this.channels=[null,new e8(e,r,i),new e8(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,a=r[n+1]&127;let s=!1,o=null;if(i===0&&a===0)continue;this.logger.log(3,()=>"["+Gu([r[n],r[n+1]])+"] -> ("+Gu([i,a])+")");const A=this.cmdHistory;if(i>=16&&i<=31){if(r$e(i,a,A)){Ey(null,null,A),this.logger.log(3,()=>"Repeated command ("+Gu([i,a])+") is dropped");continue}Ey(i,a,this.cmdHistory),s=this.parseCmd(i,a),s||(s=this.parseMidrow(i,a)),s||(s=this.parsePAC(i,a)),s||(s=this.parseBackgroundAttributes(i,a))}else Ey(null,null,A);if(!s&&(o=this.parseChars(i,a),o)){const c=this.currentChannel;c&&c>0?this.channels[c].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!s&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Gu([i,a])+" orig: "+Gu([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const a=e===20||e===21||e===23?1:2,s=this.channels[a];return e===20||e===21||e===28||e===29?r===32?s.ccRCL():r===33?s.ccBS():r===34?s.ccAOF():r===35?s.ccAON():r===36?s.ccDER():r===37?s.ccRU(2):r===38?s.ccRU(3):r===39?s.ccRU(4):r===40?s.ccFON():r===41?s.ccRDC():r===42?s.ccTR():r===43?s.ccRTD():r===44?s.ccEDM():r===45?s.ccCR():r===46?s.ccENM():r===47&&s.ccEOC():s.ccTO(r-32),this.currentChannel=a,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+Gu([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,a=(e===16||e===24)&&r>=64&&r<=95;if(!(i||a))return!1;const s=e<=23?1:2;r>=64&&r<=95?n=s===1?zHe[e]:qHe[e]:n=s===1?YHe[e]:XHe[e];const o=this.channels[s];return o?(o.setPAC(this.interpretPAC(n,r)),this.currentChannel=s,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let s;a===17?s=r+80:a===18?s=r+112:s=r+144,this.logger.log(2,()=>"Special char '"+XW(s)+"' in channel "+n),i=[s]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+Gu(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let a;const s={};e===16||e===24?(a=Math.floor((r-32)/2),s.background=JHe[a],r%2===1&&(s.background=s.background+"_semi")):r===45?s.background="transparent":(s.foreground="black",r===47&&(s.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(s),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}Ey(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function Ey(t,e,r){r.a=t,r.b=e}function r$e(t,e,r){return r.a===t&&r.b===e}function n$e(){return{a:null,b:null}}class By{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var VL=function(){if(op!=null&&op.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(o,A){if(typeof A!="string"||!Array.isArray(o))return!1;const l=A.toLowerCase();return~o.indexOf(l)?l:!1}function n(o){return r(t,o)}function i(o){return r(e,o)}function a(o,...A){let l=1;for(;l<arguments.length;l++){const c=arguments[l];for(const u in c)o[u]=c[u]}return o}function s(o,A,l){const c=this,u={enumerable:!0};c.hasBeenReset=!1;let f="",h=!1,d=o,p=A,g=l,v=null,y="",w=!0,S="auto",x="start",E=50,C="middle",L=50,O="middle";Object.defineProperty(c,"id",a({},u,{get:function(){return f},set:function(D){f=""+D}})),Object.defineProperty(c,"pauseOnExit",a({},u,{get:function(){return h},set:function(D){h=!!D}})),Object.defineProperty(c,"startTime",a({},u,{get:function(){return d},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");d=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"endTime",a({},u,{get:function(){return p},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");p=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"text",a({},u,{get:function(){return g},set:function(D){g=""+D,this.hasBeenReset=!0}})),Object.defineProperty(c,"region",a({},u,{get:function(){return v},set:function(D){v=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"vertical",a({},u,{get:function(){return y},set:function(D){const _=n(D);if(_===!1)throw new SyntaxError("An invalid or illegal string was specified.");y=_,this.hasBeenReset=!0}})),Object.defineProperty(c,"snapToLines",a({},u,{get:function(){return w},set:function(D){w=!!D,this.hasBeenReset=!0}})),Object.defineProperty(c,"line",a({},u,{get:function(){return S},set:function(D){if(typeof D!="number"&&D!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"lineAlign",a({},u,{get:function(){return x},set:function(D){const _=i(D);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");x=_,this.hasBeenReset=!0}})),Object.defineProperty(c,"position",a({},u,{get:function(){return E},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");E=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"positionAlign",a({},u,{get:function(){return C},set:function(D){const _=i(D);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");C=_,this.hasBeenReset=!0}})),Object.defineProperty(c,"size",a({},u,{get:function(){return L},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");L=D,this.hasBeenReset=!0}})),Object.defineProperty(c,"align",a({},u,{get:function(){return O},set:function(D){const _=i(D);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");O=_,this.hasBeenReset=!0}})),c.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class i$e{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function ZW(t){function e(n,i,a,s){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(s||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class a$e{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function ez(t,e,r,n){const i=n?t.split(n):[t];for(const a in i){if(typeof i[a]!="string")continue;const s=i[a].split(r);if(s.length!==2)continue;const o=s[0],A=s[1];e(o,A)}}const N_=new VL(0,0,""),Cy=N_.align==="middle"?"middle":"center";function s$e(t,e,r){const n=t;function i(){const o=ZW(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,A){const l=new a$e;ez(o,function(f,h){let d;switch(f){case"region":for(let p=r.length-1;p>=0;p--)if(r[p].id===h){l.set(f,r[p].region);break}break;case"vertical":l.alt(f,h,["rl","lr"]);break;case"line":d=h.split(","),l.integer(f,d[0]),l.percent(f,d[0])&&l.set("snapToLines",!1),l.alt(f,d[0],["auto"]),d.length===2&&l.alt("lineAlign",d[1],["start",Cy,"end"]);break;case"position":d=h.split(","),l.percent(f,d[0]),d.length===2&&l.alt("positionAlign",d[1],["start",Cy,"end","line-left","line-right","auto"]);break;case"size":l.percent(f,h);break;case"align":l.alt(f,h,["start",Cy,"end","left","right"]);break}},/:/,/\s/),A.region=l.get("region",null),A.vertical=l.get("vertical","");let c=l.get("line","auto");c==="auto"&&N_.line===-1&&(c=-1),A.line=c,A.lineAlign=l.get("lineAlign","start"),A.snapToLines=l.get("snapToLines",!0),A.size=l.get("size",100),A.align=l.get("align",Cy);let u=l.get("position","auto");u==="auto"&&N_.position===50&&(u=A.align==="start"||A.align==="left"?0:A.align==="end"||A.align==="right"?100:50),A.position=u}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),s(),e.endTime=i(),s(),a(t,e)}function tz(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class o$e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new i$e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let a=r.buffer,s=0;for(a=tz(a);s<a.length&&a[s]!=="\r"&&a[s]!==`
`;)++s;const o=a.slice(0,s);return a[s]==="\r"&&++s,a[s]===`
`&&++s,r.buffer=a.slice(s),o}function i(a){ez(a,function(s,o){},/:/)}try{let a="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;a=n();const o=a.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let s=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(s?s=!1:a=n(),r.state){case"HEADER":/:/.test(a)?i(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new VL(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{s$e(a,r.cue,r.regionList)}catch(o){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const o=a.indexOf("-->")!==-1;if(!a||o&&(s=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a}continue;case"BADCUE":a||(r.state="ID")}}}catch(a){r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const A$e=/\r\n|\n\r|\n|\r/g,n5=function(e,r,n=0){return e.slice(n,n+r.length)===r},l$e=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!ut(r)||!ut(n)||!ut(i)||!ut(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=60*60*1e3*a,r},i5=function(e){let r=5381,n=e.length;for(;n;)r=r*33^e.charCodeAt(--n);return(r>>>0).toString()};function WL(t,e,r){return i5(t.toString())+i5(e.toString())+i5(r)}const c$e=function(e,r,n){let i=e[r],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(s=a)!=null&&s.new;){var s;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function u$e(t,e,r,n,i,a,s){const o=new o$e,A=kA(new Uint8Array(t)).trim().replace(A$e,`
`).split(`
`),l=[],c=e?PHe(e.baseTime,e.timescale):0;let u="00:00.000",f=0,h=0,d,p=!0;o.oncue=function(g){const v=r[n];let y=r.ccOffset;const w=(f-c)/9e4;if(v!=null&&v.new&&(h!==void 0?y=r.ccOffset=v.start:c$e(r,n,w)),w){if(!e){d=new Error("Missing initPTS for VTT MPEGTS");return}y=w-r.presentationOffset}const S=g.endTime-g.startTime,x=zs((g.startTime+y-h)*9e4,i*9e4)/9e4;g.startTime=Math.max(x,0),g.endTime=Math.max(x+S,0);const E=g.text.trim();g.text=decodeURIComponent(encodeURIComponent(E)),g.id||(g.id=WL(g.startTime,g.endTime,E)),g.endTime>0&&l.push(g)},o.onparsingerror=function(g){d=g},o.onflush=function(){if(d){s(d);return}a(l)},A.forEach(g=>{if(p)if(n5(g,"X-TIMESTAMP-MAP=")){p=!1,g.slice(16).split(",").forEach(v=>{n5(v,"LOCAL:")?u=v.slice(6):n5(v,"MPEGTS:")&&(f=parseInt(v.slice(7)))});try{h=l$e(u)/1e3}catch(v){d=v}return}else g===""&&(p=!1);o.parse(g+`
`)}),o.flush()}const a5="stpp.ttml.im1t",rz=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,nz=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,f$e={left:"start",center:"center",right:"end",start:"start",end:"end"};function r8(t,e,r,n){const i=Qt(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(o=>kA(o)),s=FHe(e.baseTime,1,e.timescale);try{a.forEach(o=>r(h$e(o,s)))}catch(o){n(o)}}function h$e(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((u,f)=>(u[f]=i.getAttribute(`ttp:${f}`)||a[f],u),{}),o=i.getAttribute("xml:space")!=="preserve",A=n8(s5(i,"styling","style")),l=n8(s5(i,"layout","region")),c=s5(i,"body","[begin]");return[].map.call(c,u=>{const f=iz(u,o);if(!f||!u.hasAttribute("begin"))return null;const h=A5(u.getAttribute("begin"),s),d=A5(u.getAttribute("dur"),s);let p=A5(u.getAttribute("end"),s);if(h===null)throw i8(u);if(p===null){if(d===null)throw i8(u);p=h+d}const g=new VL(h-e,p-e,f);g.id=WL(g.startTime,g.endTime,g.text);const v=l[u.getAttribute("region")],y=A[u.getAttribute("style")],w=d$e(v,y,A),{textAlign:S}=w;if(S){const x=f$e[S];x&&(g.lineAlign=x),g.align=S}return ai(g,w),g}).filter(u=>u!==null)}function s5(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function n8(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function iz(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var a;return n.nodeName==="br"&&i?r+`
`:(a=n.childNodes)!=null&&a.length?iz(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function d$e(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&r.hasOwnProperty(s)&&(i=r[s]),a.reduce((o,A)=>{const l=o5(e,n,A)||o5(t,n,A)||o5(i,n,A);return l&&(o[A]=l),o},{})}function o5(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function i8(t){return new Error(`Could not parse ttml timestamp ${t}`)}function A5(t,e){if(!t)return null;let r=ZW(t);return r===null&&(rz.test(t)?r=p$e(t,e):nz.test(t)&&(r=g$e(t,e))),r}function p$e(t,e){const r=rz.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function g$e(t,e){const r=nz.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class az{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=s8(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(j.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(j.FRAG_LOADING,this.onFragLoading,this),e.on(j.FRAG_LOADED,this.onFragLoaded,this),e.on(j.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(j.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(j.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(j.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(j.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(j.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(j.FRAG_LOADING,this.onFragLoading,this),e.off(j.FRAG_LOADED,this.onFragLoaded,this),e.off(j.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(j.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(j.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(j.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(j.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new By(this,"textTrack1"),r=new By(this,"textTrack2"),n=new By(this,"textTrack3"),i=new By(this,"textTrack4");this.cea608Parser1=new t8(1,e,r),this.cea608Parser2=new t8(3,n,i)}}addCues(e,r,n,i,a){let s=!1;for(let o=a.length;o--;){const A=a[o],l=m$e(A[0],A[1],r,n);if(l>=0&&(A[0]=Math.min(A[0],r),A[1]=Math.max(A[1],n),s=!0,l/(n-r)>.5))return}if(s||a.push([r,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,r,n,i)}else{const o=this.Cues.newCue(null,r,n,i);this.hls.trigger(j.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){const{unparsedVttFrags:s}=this;n==="main"&&(this.initPTS[r.cc]={baseTime:i,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach(o=>{this.onFragLoaded(j.FRAG_LOADED,o)}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const a=n.textTracks[i];if(a8(a,{name:e,lang:r}))return a}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:a,languageCode:s}=r[e],o=this.getExistingTrack(a,s);if(o)n[e]=o,ud(n[e]),mW(n[e],i);else{const A=this.createTextTrack("captions",a,s);A&&(A[e]=!0,n[e]=A)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(j.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(r=>{ud(e[r]),delete e[r]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=s8(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)ud(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(a=>a.textCodec===a5);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(VW(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const s=this.media,o=s?s2(s.textTracks):null;if(this.tracks.forEach((A,l)=>{let c;if(o){let u=null;for(let f=0;f<o.length;f++)if(o[f]&&a8(o[f],A)){u=o[f],o[f]=null;break}u&&(c=u)}if(c)ud(c);else{const u=sz(A);c=this.createTextTrack(u,A.name,A.lang),c&&(c.mode="disabled")}c&&this.textTracks.push(c)}),o!=null&&o.length){const A=o.filter(l=>l!==null).map(l=>l.label);A.length&&be.warn(`Media element contains unused subtitle tracks: ${A.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const s=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(j.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,s=this.captionsProperties[a];s&&(s.label=n.name,n.lang&&(s.languageCode=n.lang),s.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r==null?void 0:r.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===Et.MAIN){var n,i;const{cea608Parser1:a,cea608Parser2:s,lastSn:o}=this,{cc:A,sn:l}=r.frag,c=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;a&&s&&(l!==o+1||l===o&&c!==this.lastPartIndex+1||A!==this.lastCc)&&(a.reset(),s.reset()),this.lastCc=A,this.lastSn=l,this.lastPartIndex=c}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===Et.SUBTITLE)if(i.byteLength){const a=n.decryptdata,s="stats"in r;if(a==null||!a.encrypted||s){const o=this.tracks[n.level],A=this.vttCCs;A[n.cc]||(A[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===a5?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(j.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;r8(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(j.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{be.log(`Failed to parse IMSC1: ${i}`),n.trigger(j.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:a,unparsedVttFrags:s}=this,o=a.length-1;if(!a[n.cc]&&o===-1){s.push(e);return}const A=this.hls,l=(r=n.initSegment)!=null&&r.data?co(n.initSegment.data,new Uint8Array(i)):i;u$e(l,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,c=>{this._appendCues(c,n.level),A.trigger(j.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},c=>{const u=c.message==="Missing initPTS for VTT MPEGTS";u?s.push(e):this._fallbackToIMSC1(n,i),be.log(`Failed to parse VTT cue: ${c}`),!(u&&o>n.cc)&&A.trigger(j.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:c})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||r8(r,this.initPTS[e.cc],()=>{n.textCodec=a5,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(a=>vW(i,a))}else{const i=this.tracks[r];if(!i)return;const a=i.default?"default":"subtitles"+r;n.trigger(j.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===Et.SUBTITLE&&this.onFragLoaded(j.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:i}=this;if(!this.enabled||!n||!i)return;const{frag:a,samples:s}=r;if(!(a.type===Et.MAIN&&this.closedCaptionsForLevel(a)==="NONE"))for(let o=0;o<s.length;o++){const A=s[o].bytes;if(A){const l=this.extractCea608Data(A);n.addData(s[o].pts,l[0]),i.addData(s[o].pts,l[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:s}=this;if(!(!s||s.currentTime<n)){if(!a||a==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(A=>I_(o[A],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(A=>I_(o[A],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const s=e[i++],o=127&e[i++],A=127&e[i++];if(o===0&&A===0)continue;if((4&s)!==0){const c=3&s;(c===0||c===1)&&(r[c].push(o),r[c].push(A))}}return r}}function sz(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function a8(t,e){return!!t&&t.kind===sz(e)&&M_(e,t)}function m$e(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function s8(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Ux{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(j.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(j.BUFFER_CODECS,this.onBufferCodecs,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(j.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(j.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(j.BUFFER_CODECS,this.onBufferCodecs,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&ut(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&be.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,Ux.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(r){}return e}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(o,A)=>A?o.width!==A.width||o.height!==A.height:!0;let a=e.length-1;const s=Math.max(r,n);for(let o=0;o<e.length;o+=1){const A=e[o];if((A.width>=s||A.height>=s)&&i(A,e[o+1])){a=o;break}}return a}}class oz{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(j.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(j.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const a=i-this.lastTime,s=n-this.lastDroppedFrames,o=r-this.lastDecodedFrames,A=1e3*s/a,l=this.hls;if(l.trigger(j.FPS_DROP,{currentDropped:s,currentDecoded:o,totalDroppedFrames:n}),A>0&&s>l.config.fpsDroppedMonitoringThreshold*o){let c=l.currentLevel;be.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=c)&&(c=c-1,l.trigger(j.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Sy="[eme]";class xf{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=xf.CDMCleanupPromise?[xf.CDMCleanupPromise]:[],this.debug=be.debug.bind(be,Sy),this.log=be.log.bind(be,Sy),this.warn=be.warn.bind(be,Sy),this.error=be.error.bind(be,Sy),this.onMediaEncrypted=r=>{const{initDataType:n,initData:i}=r,a=`"${r.type}" event: init data type: "${n}"`;if(this.debug(a),i!==null){if(!this.keyFormatPromise){let s=Object.keys(this.keySystemAccessPromises);s.length||(s=gy(this.config));const o=s.map(GC).filter(A=>!!A);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(s=>{const o=$C(s);let A,l;if(n==="sinf"){if(o!==gr.FAIRPLAY){this.warn(`Ignoring unexpected "${r.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const d=fi(new Uint8Array(i));try{const p=DL(JSON.parse(d).sinf),g=fW(p);if(!g)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");A=g.subarray(8,24),l=gr.FAIRPLAY}catch(p){this.warn(`${a} Failed to parse sinf: ${p}`);return}}else{if(o!==gr.WIDEVINE&&o!==gr.PLAYREADY){this.warn(`Ignoring unexpected "${r.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const d=n7e(i),p=d.filter(v=>!!v.systemId&&jC(v.systemId)===o);p.length>1&&this.warn(`${a} Using first of ${p.length} pssh found for selected key-system ${o}`);const g=p[0];if(!g){d.length===0||d.some(v=>!v.systemId)?this.warn(`${a} contains incomplete or invalid pssh data`):this.log(`ignoring ${a} for ${d.map(v=>jC(v.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(l=jC(g.systemId),g.version===0&&g.data)if(l===gr.WIDEVINE){const v=g.data.length-22;A=g.data.subarray(v,v+16)}else l===gr.PLAYREADY&&(A=iW(g.data))}if(!l||!A){this.log(`Unable to handle ${a} with key-system ${o}`);return}const c=BA.hexDump(A),{keyIdToKeySessionPromise:u,mediaKeySessions:f}=this;let h=u[c];for(let d=0;d<f.length;d++){const p=f[d],g=p.decryptdata;if(!g.keyId)continue;const v=BA.hexDump(g.keyId);if(c===v||g.uri.replace(/-/g,"").indexOf(c)!==-1){if(h=u[v],g.pssh)break;delete u[v],g.pssh=new Uint8Array(i),g.keyId=A,h=u[c]=h.then(()=>this.generateRequestWithPreferredKeySession(p,n,i,"encrypted-event-key-match")),h.catch(y=>this.handleError(y));break}}if(!h){if(l!==o){this.log(`Ignoring "${a}" with ${l} init data for selected key-system ${o}`);return}h=u[c]=this.getKeySystemSelectionPromise([l]).then(({keySystem:d,mediaKeys:p})=>{var g;this.throwIfDestroyed();const v=new Ap("ISO-23001-7",c,(g=GC(d))!=null?g:"");return v.pssh=new Uint8Array(i),v.keyId=A,this.attemptSetMediaKeys(d,p).then(()=>{this.throwIfDestroyed();const y=this.createMediaKeySessionContext({decryptdata:v,keySystem:d,mediaKeys:p});return this.generateRequestWithPreferredKeySession(y,n,i,"encrypted-event-no-match")})}),h.catch(d=>this.handleError(d))}})}},this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(j.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(j.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(j.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(j.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(j.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(j.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r[e];if(i)return i.licenseUrl;if(e===gr.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(s,o,A)=>!!s&&A.indexOf(s)===o,i=r.map(s=>s.audioCodec).filter(n),a=r.map(s=>s.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((s,o)=>{const A=l=>{const c=l.shift();this.getMediaKeysPromise(c,i,a).then(u=>s({keySystem:c,mediaKeys:u})).catch(u=>{l.length?A(l):u instanceof Ks?o(u):o(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_ACCESS,error:u,fatal:!0},u.message))})};A(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return nW===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){const i=FQe(e,r,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e];let s=a==null?void 0:a.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),s=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(A=>{this.log(`Failed to obtain access to key-system "${e}": ${A}`)}),s.then(A=>{this.log(`Access for key-system "${A.keySystem}" obtained`);const l=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=A.createMediaKeys().then(c=>(this.log(`Media-keys created for "${e}"`),l.then(u=>u?this.setMediaKeysServerCertificate(c,e,u):c))),o.mediaKeys.catch(c=>{this.error(`Failed to create media-keys for "${e}"}: ${c}`)}),o.mediaKeys})}return s.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${BA.hexDump(e.keyId||[])}`);const i=n.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(r),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,r.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return BA.hexDump(e.keyId)}updateKeySession(e,r){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${BA.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),i.update(r)}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((r,n)=>{const i=gy(this.config),a=e.map($C).filter(s=>!!s&&i.indexOf(s)!==-1);return this.getKeySystemSelectionPromise(a).then(({keySystem:s})=>{const o=GC(s);o?r(o):n(new Error(`Unable to find format for key-system "${s}"`))}).catch(n)})}loadKey(e){const r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${i}`);let a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then(({keySystem:s,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(s,o).then(()=>{this.throwIfDestroyed();const A=this.createMediaKeySessionContext({keySystem:s,mediaKeys:o,decryptdata:r});return this.generateRequestWithPreferredKeySession(A,"cenc",r.pssh,"playlist-key")}))),a.catch(s=>this.handleError(s))),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ks?this.hls.trigger(j.ERROR,e.data):this.hls.trigger(j.ERROR,{type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=$C(e.keyFormat),a=i?[i]:gy(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=gy(this.config)),e.length===0)throw new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var a,s;const o=(a=this.config.drmSystems)==null||(s=a[e.keySystem])==null?void 0:s.generateRequest;if(o)try{const d=o.call(this.hls,r,n,e);if(!d)throw new Error("Invalid response from configured generateRequest filter");r=d.initDataType,n=e.decryptdata.pssh=d.initData?new Uint8Array(d.initData):null}catch(d){var A;if(this.warn(d.message),(A=this.hls)!=null&&A.config.debug)throw d}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${l} (init data type: ${r} length: ${n?n.byteLength:null})`);const c=new KL,u=e._onmessage=d=>{const p=e.mediaKeysSession;if(!p){c.emit("error",new Error("invalid state"));return}const{messageType:g,message:v}=d;this.log(`"${g}" message event for session "${p.sessionId}" message size: ${v.byteLength}`),g==="license-request"||g==="license-renewal"?this.renewLicense(e,v).catch(y=>{this.handleError(y),c.emit("error",y)}):g==="license-release"?e.keySystem===gr.FAIRPLAY&&(this.updateKeySession(e,__("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${g}"`)},f=e._onkeystatuseschange=d=>{if(!e.mediaKeysSession){c.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const g=e.keyStatus;c.emit("keyStatus",g),g==="expired"&&(this.warn(`${e.keySystem} expired for key ${l}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",u),e.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise((d,p)=>{c.on("error",p),c.on("keyStatus",g=>{g.startsWith("usable")?d():g==="output-restricted"?p(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):g==="internal-error"?p(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${g}"`)):g==="expired"?p(new Error("key expired while generating request")):this.warn(`unhandled key status change "${g}"`)})});return e.mediaKeysSession.generateRequest(r,n).then(()=>{var d;this.log(`Request generated for key-session "${(d=e.mediaKeysSession)==null?void 0:d.sessionId}" keyId: ${l}`)}).catch(d=>{throw new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_SESSION,error:d,fatal:!1},`Error generating key-session request: ${d}`)}).then(()=>h).catch(d=>{throw c.removeAllListeners(),this.removeSession(e),d}).then(()=>(c.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,n)=>{this.log(`key status change "${r}" for keyStatuses keyId: ${BA.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${BA.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise((s,o)=>{const A={responseType:"arraybuffer",url:a},l=r.certLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(f,h,d,p)=>{s(f.data)},onError:(f,h,d,p)=>{o(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:d,response:Oi({url:A.url,data:void 0},f)},`"${e}" certificate request failed (${a}). Status: ${f.code} (${f.text})`))},onTimeout:(f,h,d)=>{o(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:d,response:{url:A.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(f,h,d)=>{o(new Error("aborted"))}};i.load(A,c,u)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${r}"`),i(e)}).catch(s=>{a(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),a=i.querySelectorAll("HttpHeader");if(a.length>0){let c;for(let u=0,f=a.length;u<f;u++){var s,o;c=a[u];const h=(s=c.querySelector("name"))==null?void 0:s.textContent,d=(o=c.querySelector("value"))==null?void 0:o.textContent;h&&d&&e.setRequestHeader(h,d)}}const A=i.querySelector("Challenge"),l=A==null?void 0:A.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return __(atob(l))}setupLicenseXHR(e,r,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,r,n,i)}).catch(s=>{if(!n.decryptdata)throw s;return e.open("POST",r,!0),a.call(this.hls,e,r,n,i)}).then(s=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:s||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const s=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${s}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let A=o.response;this.log(`License received ${A instanceof ArrayBuffer?A.byteLength:A}`);const l=this.config.licenseResponseCallback;if(l)try{A=l.call(this.hls,o,s,e)}catch(c){this.error(c)}i(A)}else{const A=n.errorRetry,l=A?A.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||o.status>=400&&o.status<500)a(new Ks({type:Ot.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${s}). Status: ${o.status} (${o.statusText})`));else{const c=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${c} attempts left`),this.requestLicense(e,r).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,s,e,r).then(({xhr:A,licenseChallenge:l})=>{e.keySystem==gr.PLAYREADY&&(l=this.unpackPlayReadyKeyMessage(A,l)),A.send(l)})})}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,r=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ap.clearKeyUriToKeyIdMap();const n=r.length;xf.CDMCleanupPromise=Promise.all(r.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),r.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch(a=>{this.log(`Could not remove session: ${a}`)}).then(()=>r.close()).catch(a=>{this.log(`Could not close session: ${a}`)})}}}xf.CDMCleanupPromise=void 0;class Ks extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}var oa;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(oa||(oa={}));var k_;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(k_||(k_={}));var cf;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(cf||(cf={}));const v$e={[cf.OBJECT]:["br","d","ot","tb"],[cf.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[cf.SESSION]:["cid","pr","sf","sid","st","v"],[cf.STATUS]:["bs","rtp"]};class lp{constructor(e,r){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(n=>n instanceof lp?n:new lp(n))),this.value=e,this.params=r}}class Az{constructor(e){this.description=void 0,this.description=e}}const y$e="Dict";function b$e(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function w$e(t,e,r,n){return new Error(`failed to ${t} "${b$e(e)}" as ${r}`,{cause:n})}const o8="Bare Item",x$e="Boolean",E$e="Byte Sequence",B$e="Decimal",C$e="Integer";function S$e(t){return t<-999999999999999||999999999999999<t}const T$e=/[\x00-\x1f\x7f]+/,_$e="Token",L$e="Key";function $A(t,e,r){return w$e("serialize",t,e,r)}function I$e(t){if(typeof t!="boolean")throw $A(t,x$e);return t?"?1":"?0"}function O$e(t){return btoa(String.fromCharCode(...t))}function F$e(t){if(ArrayBuffer.isView(t)===!1)throw $A(t,E$e);return`:${O$e(t)}:`}function lz(t){if(S$e(t))throw $A(t,C$e);return t.toString()}function P$e(t){return`@${lz(t.getTime()/1e3)}`}function cz(t,e){if(t<0)return-cz(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}function U$e(t){const e=cz(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw $A(t,B$e);const r=e.toString();return r.includes(".")?r:`${r}.0`}const R$e="String";function D$e(t){if(T$e.test(t))throw $A(t,R$e);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function M$e(t){return t.description||t.toString().slice(7,-1)}function A8(t){const e=M$e(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw $A(e,_$e);return e}function Q_(t){switch(typeof t){case"number":if(!ut(t))throw $A(t,o8);return Number.isInteger(t)?lz(t):U$e(t);case"string":return D$e(t);case"symbol":return A8(t);case"boolean":return I$e(t);case"object":if(t instanceof Date)return P$e(t);if(t instanceof Uint8Array)return F$e(t);if(t instanceof Az)return A8(t);default:throw $A(t,o8)}}function H_(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw $A(t,L$e);return t}function zL(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${H_(e)}`:`;${H_(e)}=${Q_(r)}`).join("")}function uz(t){return t instanceof lp?`${Q_(t.value)}${zL(t.params)}`:Q_(t)}function N$e(t){return`(${t.value.map(uz).join(" ")})${zL(t.params)}`}function k$e(t,e={whitespace:!0}){if(typeof t!="object")throw $A(t,y$e);const r=t instanceof Map?t.entries():Object.entries(t),n=e!=null&&e.whitespace?" ":"";return Array.from(r).map(([i,a])=>{a instanceof lp||(a=new lp(a));let s=H_(i);return a.value===!0?s+=zL(a.params):(s+="=",Array.isArray(a.value)?s+=N$e(a):s+=uz(a)),s}).join(`,${n}`)}function Q$e(t,e){return k$e(t,e)}const H$e=t=>t==="ot"||t==="sf"||t==="st",$$e=t=>typeof t=="number"?ut(t):t!=null&&t!==""&&t!==!1;function j$e(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),a=n.pathname.split("/").slice(1,-1);for(;i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")}function G$e(){try{return crypto.randomUUID()}catch(t){try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch(e){let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const a=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?a:a&3|8).toString(16)})}}}const u2=t=>Math.round(t),K$e=(t,e)=>(e!=null&&e.baseUrl&&(t=j$e(t,e.baseUrl)),encodeURIComponent(t)),Ty=t=>u2(t/100)*100,V$e={br:u2,d:u2,bl:Ty,dl:Ty,mtp:Ty,nor:K$e,rtp:Ty,tb:u2};function W$e(t,e){const r={};if(t==null||typeof t!="object")return r;const n=Object.keys(t).sort(),i=ai({},V$e,e==null?void 0:e.formatters),a=e==null?void 0:e.filter;return n.forEach(s=>{if(a!=null&&a(s))return;let o=t[s];const A=i[s];A&&(o=A(o,e)),!(s==="v"&&o===1)&&(s=="pr"&&o===1||$$e(o)&&(H$e(s)&&typeof o=="string"&&(o=new Az(o)),r[s]=o))}),r}function fz(t,e={}){return t?Q$e(W$e(t,e),ai({whitespace:!1},e)):""}function z$e(t,e={}){if(!t)return{};const r=Object.entries(t),n=Object.entries(v$e).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=r.reduce((a,s)=>{var o,A;const[l,c]=s,u=((o=n.find(f=>f[1].includes(l)))==null?void 0:o[0])||cf.REQUEST;return(A=a[u])!=null||(a[u]={}),a[u][l]=c,a},{});return Object.entries(i).reduce((a,[s,o])=>(a[s]=fz(o,e),a),{})}function Y$e(t,e,r){return ai(t,z$e(e,r))}const q$e="CMCD";function X$e(t,e={}){if(!t)return"";const r=fz(t,e);return`${q$e}=${encodeURIComponent(r)}`}const l8=/CMCD=[^&#]+/;function J$e(t,e,r){const n=X$e(e,r);if(!n)return t;if(l8.test(t))return t.replace(l8,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class hz{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:oa.MANIFEST,su:!this.initialized})}catch(a){be.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const a=i.frag,s=this.hls.levels[a.level],o=this.getObjectType(a),A={d:a.duration*1e3,ot:o};(o===oa.VIDEO||o===oa.AUDIO||o==oa.MUXED)&&(A.br=s.bitrate/1e3,A.tb=this.getTopBandwidth(o)/1e3,A.bl=this.getBufferLength(o)),this.apply(i,A)}catch(a){be.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||G$e(),this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHED,this.onMediaDetached,this),e.on(j.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHED,this.onMediaDetached,this),e.off(j.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:k_.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){ai(r,this.createData());const n=r.ot===oa.INIT||r.ot===oa.VIDEO||r.ot===oa.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((a,s)=>(i.includes(s)&&(a[s]=r[s]),a),{})),this.useHeaders?(e.headers||(e.headers={}),Y$e(e.headers,r)):e.url=J$e(e.url,r)}getObjectType(e){const{type:r}=e;if(r==="subtitle")return oa.TIMED_TEXT;if(e.sn==="initSegment")return oa.INIT;if(r==="audio")return oa.AUDIO;if(r==="main")return this.hls.audioTracks.length?oa.VIDEO:oa.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===oa.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,s=a>-1?a+1:i.levels.length;n=i.levels.slice(0,s)}for(const a of n)a.bitrate>r&&(r=a.bitrate);return r>0?r:NaN}getBufferLength(e){const r=this.hls.media,n=e===oa.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:Gr.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}}const Z$e=3e5;class dz{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=be.log.bind(be,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if((n==null?void 0:n.action)===hi.SendAlternateToPenaltyBox&&n.flags===Vs.MoveAllAlternatesMatchingHost){const i=this.levels;let a=this.pathwayPriority,s=this.pathwayId;if(r.context){const{groupId:o,pathwayId:A,type:l}=r.context;o&&i?s=this.getPathwayForGroupId(o,l,s):A&&(s=A)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!a&&i&&(a=i.reduce((o,A)=>(o.indexOf(A.pathwayId)===-1&&o.push(A.pathwayId),o),[])),a&&a.length>1&&(this.updatePathwayPriority(a),n.resolved=this.pathwayId!==s),n.resolved||be.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${s} levels: ${i&&i.length} priorities: ${JSON.stringify(a)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>Z$e&&delete n[a]});for(let a=0;a<e.length;a++){const s=e[a];if(s in n)continue;if(s===this.pathwayId)return;const o=this.hls.nextLoadLevel,A=this.hls.levels[o];if(r=this.getLevelsForPathway(s),r.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,xW(r),this.hls.trigger(j.LEVELS_UPDATED,{levels:r});const l=this.hls.levels[o];A&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==A.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==A.bitrate&&this.log(`Unstable Pathways change from bitrate ${A.bitrate} to ${l.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let a=0;a<i.length;a++)if(r===nr.AUDIO_TRACK&&i[a].hasAudioGroup(e)||r===nr.SUBTITLE_TRACK&&i[a].hasSubtitleGroup(e))return i[a].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(a=>{const{ID:s,"BASE-ID":o,"URI-REPLACEMENT":A}=a;if(r.some(c=>c.pathwayId===s))return;const l=this.getLevelsForPathway(o).map(c=>{const u=new ln(c.attrs);u["PATHWAY-ID"]=s;const f=u.AUDIO&&`${u.AUDIO}_clone_${s}`,h=u.SUBTITLES&&`${u.SUBTITLES}_clone_${s}`;f&&(n[u.AUDIO]=f,u.AUDIO=f),h&&(i[u.SUBTITLES]=h,u.SUBTITLES=h);const d=pz(c.uri,u["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",A),p=new Pf({attrs:u,audioCodec:c.audioCodec,bitrate:c.bitrate,height:c.height,name:c.name,url:d,videoCodec:c.videoCodec,width:c.width});if(c.audioGroups)for(let g=1;g<c.audioGroups.length;g++)p.addGroupId("audio",`${c.audioGroups[g]}_clone_${s}`);if(c.subtitleGroups)for(let g=1;g<c.subtitleGroups.length;g++)p.addGroupId("text",`${c.subtitleGroups[g]}_clone_${s}`);return p});r.push(...l),c8(this.audioTracks,n,A,s),c8(this.subtitleTracks,i,A,s)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch(c){this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const c=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+c)}const a={responseType:"json",url:i.href},s=r.steeringManifestLoadPolicy.default,o=s.errorRetry||s.timeoutRetry||{},A={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,f,h)=>{this.log(`Loaded steering manifest: "${i}"`);const d=c.data;if(d.VERSION!==1){this.log(`Steering VERSION ${d.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=d.TTL;const{"RELOAD-URI":p,"PATHWAY-CLONES":g,"PATHWAY-PRIORITY":v}=d;if(p)try{this.uri=new self.URL(p,i).href}catch(w){this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${p}`);return}this.scheduleRefresh(this.uri||f.url),g&&this.clonePathways(g);const y={steeringManifest:d,url:i.toString()};this.hls.trigger(j.STEERING_MANIFEST_LOADED,y),v&&this.updatePathwayPriority(v)},onError:(c,u,f,h)=>{if(this.log(`Error loading steering manifest: ${c.code} ${c.text} (${u.url})`),this.stopLoad(),c.code===410){this.enabled=!1,this.log(`Steering manifest ${u.url} no longer available`);return}let d=this.timeToLoad*1e3;if(c.code===429){const p=this.loader;if(typeof(p==null?void 0:p.getResponseHeader)=="function"){const g=p.getResponseHeader("Retry-After");g&&(d=parseFloat(g)*1e3)}this.log(`Steering manifest ${u.url} rate limited`);return}this.scheduleRefresh(this.uri||u.url,d)},onTimeout:(c,u,f)=>{this.log(`Timeout loading steering manifest (${u.url})`),this.scheduleRefresh(this.uri||u.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,A,l)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function c8(t,e,r,n){t&&Object.keys(e).forEach(i=>{const a=t.filter(s=>s.groupId===i).map(s=>{const o=ai({},s);return o.details=void 0,o.attrs=new ln(o.attrs),o.url=o.attrs.URI=pz(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});t.push(...a)})}function pz(t,e,r,n){const{HOST:i,PARAMS:a,[r]:s}=n;let o;e&&(o=s==null?void 0:s[e],o&&(t=o));const A=new self.URL(t);return i&&!o&&(A.host=i),a&&Object.keys(a).sort().forEach(l=>{l&&A.searchParams.set(l,a[l])}),A.href}const e9e=/^age:\s*[\d.]+\s*$/im;class gz{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new mv,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return a(n,r.url)}).catch(s=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),a(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(s=>{this.callbacks.onError({code:n.status,text:s.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:s}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&ut(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const s=r.status,o=r.responseType==="text"?r.responseText:null;if(s>=200&&s<300){const u=o!=null?o:r.response;if(u!=null){n.loading.end=Math.max(self.performance.now(),n.loading.first);const f=r.responseType==="arraybuffer"?u.byteLength:u.length;if(n.loaded=n.total=f,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first),!this.callbacks)return;const h=this.callbacks.onProgress;if(h&&h(n,e,u,r),!this.callbacks)return;const d={url:r.responseURL,data:u,code:s};this.callbacks.onSuccess(d,n,e,r);return}}const A=a.loadPolicy.errorRetry,l=n.retry,c={url:e.url,data:void 0,code:s};zb(A,l,!1,c)?this.retry(A):(be.error(`${s} while loading ${e.url}`),this.callbacks.onError({code:s,text:r.statusText},e,r,n))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(zb(e,r,!0))this.retry(e);else{var n;be.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=kL(e,n.retry),n.retry++,be.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r==null?void 0:r.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&e9e.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function t9e(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}const r9e=/(\d+)-(\d+)\/(\d+)/;class u8{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||s9e,this.controller=new self.AbortController,this.stats=new mv}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=n9e(e,this.controller.signal),s=n.onProgress,o=e.responseType==="arraybuffer",A=o?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),r.timeout=l&&ut(l)?l:c,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},r.timeout),self.fetch(this.request).then(u=>{this.response=this.loader=u;const f=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},c-(f-i.loading.start)),!u.ok){const{status:h,statusText:d}=u;throw new o9e(d||"fetch, bad network response",h,u)}return i.loading.first=f,i.total=a9e(u.headers)||i.total,s&&ut(r.highWaterMark)?this.loadProgressively(u,i,e,r.highWaterMark,s):o?u.arrayBuffer():e.responseType==="json"?u.json():u.text()}).then(u=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=u[A];h&&(i.loaded=i.total=h);const d={url:f.url,data:u,code:f.status};s&&!ut(r.highWaterMark)&&s(i,e,u,f),n.onSuccess(d,i,e,f)}).catch(u=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const f=u&&u.code||0,h=u?u.message:null;n.onError({code:f,text:h},e,u?u.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,a){const s=new _W,o=e.body.getReader(),A=()=>o.read().then(l=>{if(l.done)return s.dataLength&&a(r,n,s.flush(),e),Promise.resolve(new ArrayBuffer(0));const c=l.value,u=c.length;return r.loaded+=u,u<i||s.dataLength?(s.push(c),s.dataLength>=i&&a(r,n,s.flush(),e)):a(r,n,c,e),A()}).catch(()=>Promise.reject());return A()}}function n9e(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(ai({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function i9e(t){const e=r9e.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function a9e(t){const e=t.get("Content-Range");if(e){const n=i9e(e);if(ut(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function s9e(t,e){return new self.Request(t.url,e)}class o9e extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const A9e=/\s/,l9e={newCue(t,e,r,n){const i=[];let a,s,o,A,l;const c=self.VTTCue||self.TextTrackCue;for(let f=0;f<n.rows.length;f++)if(a=n.rows[f],o=!0,A=0,l="",!a.isEmpty()){var u;for(let p=0;p<a.chars.length;p++)A9e.test(a.chars[p].uchar)&&o?A++:(l+=a.chars[p].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),A>=16?A--:A++;const h=tz(l.trim()),d=WL(e,r,h);t!=null&&(u=t.cues)!=null&&u.getCueById(d)||(s=new c(e,r,h),s.id=d,s.line=f+1,s.align="left",s.position=10+Math.min(80,Math.floor(A*8/32)*10),i.push(s))}return t&&i.length&&(i.sort((f,h)=>f.line==="auto"||h.line==="auto"?0:f.line>8&&h.line>8?h.line-f.line:f.line-h.line),i.forEach(f=>vW(t,f))),i}},c9e={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},mz=Oi(Oi({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:gz,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:SW,bufferController:qW,capLevelController:Ux,errorController:BW,fpsController:oz,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:nW,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:c9e},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},u9e()),{},{subtitleStreamController:zW,subtitleTrackController:YW,timelineController:az,audioStreamController:KW,audioTrackController:WW,emeController:xf,cmcdController:hz,contentSteeringController:dz});function u9e(){return{cueHandler:l9e,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function f9e(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=$_(t),n=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(a=>{const s=`${a==="level"?"playlist":a}LoadPolicy`,o=e[s]===void 0,A=[];i.forEach(l=>{const c=`${a}Loading${l}`,u=e[c];if(u!==void 0&&o){A.push(c);const f=r[s].default;switch(e[s]={default:f},l){case"TimeOut":f.maxLoadTimeMs=u,f.maxTimeToFirstByteMs=u;break;case"MaxRetry":f.errorRetry.maxNumRetry=u,f.timeoutRetry.maxNumRetry=u;break;case"RetryDelay":f.errorRetry.retryDelayMs=u,f.timeoutRetry.retryDelayMs=u;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=u,f.timeoutRetry.maxRetryDelayMs=u;break}}}),A.length&&be.warn(`hls.js config: "${A.join('", "')}" setting(s) are deprecated, use "${s}": ${JSON.stringify(e[s])}`)}),Oi(Oi({},r),e)}function $_(t){return t&&typeof t=="object"?Array.isArray(t)?t.map($_):Object.keys(t).reduce((e,r)=>(e[r]=$_(t[r]),e),{}):t}function h9e(t){const e=t.loader;e!==u8&&e!==gz?(be.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):t9e()&&(t.loader=u8,t.progressive=!0,t.enableSoftwareAES=!0,be.log("[config]: Progressive streaming enabled, using FetchLoader"))}let l5;class d9e extends Ox{constructor(e,r){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(j.LEVEL_LOADED,this.onLevelLoaded,this),e.on(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this),e.on(j.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(j.LEVEL_LOADED,this.onLevelLoaded,this),e.off(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this),e.off(j.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],a={},s={};let o=!1,A=!1,l=!1;r.levels.forEach(c=>{var u,f;const h=c.attrs;let{audioCodec:d,videoCodec:p}=c;((u=d)==null?void 0:u.indexOf("mp4a.40.34"))!==-1&&(l5||(l5=/chrome|firefox/i.test(navigator.userAgent)),l5&&(c.audioCodec=d=void 0)),d&&(c.audioCodec=d=Kb(d,n)),((f=p)==null?void 0:f.indexOf("avc1"))===0&&(p=c.videoCodec=u7e(p));const{width:g,height:v,unknownCodecs:y}=c;if(o||(o=!!(g&&v)),A||(A=!!p),l||(l=!!d),y!=null&&y.length||d&&!zC(d,"audio",n)||p&&!zC(p,"video",n))return;const{CODECS:w,"FRAME-RATE":S,"HDCP-LEVEL":x,"PATHWAY-ID":E,RESOLUTION:C,"VIDEO-RANGE":L}=h,D=`${`${E||"."}-`}${c.bitrate}-${C}-${S}-${w}-${L}-${x}`;if(a[D])if(a[D].uri!==c.url&&!c.attrs["PATHWAY-ID"]){const _=s[D]+=1;c.attrs["PATHWAY-ID"]=new Array(_+1).join(".");const F=new Pf(c);a[D]=F,i.push(F)}else a[D].addGroupId("audio",h.AUDIO),a[D].addGroupId("text",h.SUBTITLES);else{const _=new Pf(c);a[D]=_,s[D]=1,i.push(_)}}),this.filterAndSortMediaOptions(i,r,o,A,l)}filterAndSortMediaOptions(e,r,n,i,a){let s=[],o=[],A=e;if((n||i)&&a&&(A=A.filter(({videoCodec:d,videoRange:p,width:g,height:v})=>(!!d||!!(g&&v))&&B7e(p))),A.length===0){Promise.resolve().then(()=>{if(this.hls){r.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(r.levels[0].attrs)}`);const d=new Error("no level with compatible codecs found in manifest");this.hls.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:d,reason:d.message})}});return}if(r.audioTracks){const{preferManagedMediaSource:d}=this.hls.config;s=r.audioTracks.filter(p=>!p.audioCodec||zC(p.audioCodec,"audio",d)),f8(s)}r.subtitles&&(o=r.subtitles,f8(o));const l=A.slice(0);A.sort((d,p)=>{if(d.attrs["HDCP-LEVEL"]!==p.attrs["HDCP-LEVEL"])return(d.attrs["HDCP-LEVEL"]||"")>(p.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&d.height!==p.height)return d.height-p.height;if(d.frameRate!==p.frameRate)return d.frameRate-p.frameRate;if(d.videoRange!==p.videoRange)return Vb.indexOf(d.videoRange)-Vb.indexOf(p.videoRange);if(d.videoCodec!==p.videoCodec){const g=bk(d.videoCodec),v=bk(p.videoCodec);if(g!==v)return v-g}if(d.uri===p.uri&&d.codecSet!==p.codecSet){const g=Gb(d.codecSet),v=Gb(p.codecSet);if(g!==v)return v-g}return d.averageBitrate!==p.averageBitrate?d.averageBitrate-p.averageBitrate:0});let c=l[0];if(this.steering&&(A=this.steering.filterParsedLevels(A),A.length!==l.length)){for(let d=0;d<l.length;d++)if(l[d].pathwayId===A[0].pathwayId){c=l[d];break}}this._levels=A;for(let d=0;d<A.length;d++)if(A[d]===c){var u;this._firstLevel=d;const p=c.bitrate,g=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${A.length} level(s) found, first bitrate: ${p}`),((u=this.hls.userConfig)==null?void 0:u.abrEwmaDefaultEstimate)===void 0){const v=Math.min(p,this.hls.config.abrEwmaDefaultEstimateMax);v>g&&g===mz.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=v)}break}const f=a&&!i,h={levels:A,audioTracks:s,subtitleTracks:o,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:a,video:i,altAudio:!f&&s.some(d=>!!d.url)};this.hls.trigger(j.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const c=new Error("invalid level idx"),u=e<0;if(this.hls.trigger(j.ERROR,{type:Ot.OTHER_ERROR,details:_e.LEVEL_SWITCH_ERROR,level:e,fatal:u,error:c,reason:c.message}),u)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,s=r[e],o=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n===e&&s.details&&i&&a===o)return;this.log(`Switching to level ${e} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${o?" with Pathway "+o:""} from level ${n}${a?" with Pathway "+a:""}`);const A={level:e,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(j.LEVEL_SWITCHING,A);const l=s.details;if(!l||l.live){const c=this.switchParams(s.uri,i==null?void 0:i.details,l);this.loadPlaylist(c)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,r){r.fatal||!r.context||r.context.type===nr.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===Et.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(a=>!!n[a]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:a}=r,s=this._levels[i];if(!s){var o;this.warn(`Invalid level index ${i}`),(o=r.deliveryDirectives)!=null&&o.skip&&(a.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(s.fragmentError===0&&(s.loadError=0),this.playlistLoaded(i,r,s.details)):(n=r.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const r=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let i=n.uri;if(e)try{i=e.addDirectives(i)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}const a=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${r}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${a?" Pathway "+a:""} ${i}`),this.clearTimer(),this.hls.trigger(j.LEVEL_LOADING,{url:i,level:r,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;const n=this._levels.filter((i,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(s=>s.level=-1)),!1));xW(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(j.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger(j.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function f8(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}class p9e{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=_e.KEY_LOAD_ERROR,n,i,a){return new _l({type:Ot.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,r){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:i}=e;for(let a=0;a<r.length;a++){const s=r[a];if(i<=s.cc&&(n==="initSegment"||s.sn==="initSegment"||n<s.sn)){this.emeController.selectKeySystemFormat(s).then(o=>{s.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const a=e.decryptdata;if(!a){const l=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,l))}const s=a.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));let o=this.keyUriToKeyInfo[s];if((n=o)!=null&&n.decryptdata.key)return a.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var A;switch((A=o.mediaKeySessionContext)==null?void 0:A.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(l=>(a.key=l.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[s]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,a=new i(n);return r.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((s,o)=>{const A={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},l=n.keyLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(f,h,d,p)=>{const{frag:g,keyInfo:v,url:y}=d;if(!g.decryptdata||v!==this.keyUriToKeyInfo[y])return o(this.createKeyLoadError(g,_e.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),p));v.decryptdata.key=g.decryptdata.key=new Uint8Array(f.data),g.keyLoader=null,v.loader=null,s({frag:g,keyInfo:v})},onError:(f,h,d,p)=>{this.resetLoader(h),o(this.createKeyLoadError(r,_e.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),d,Oi({url:A.url,data:void 0},f)))},onTimeout:(f,h,d)=>{this.resetLoader(h),o(this.createKeyLoadError(r,_e.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),d))},onAbort:(f,h,d)=>{this.resetLoader(h),o(this.createKeyLoadError(r,_e.INTERNAL_ABORTED,new Error("key loading aborted"),d))}};a.load(A,c,u)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,a=n.loader;r.keyLoader===a&&(r.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],a&&a.destroy()}}function vz(){return self.SourceBuffer||self.WebKitSourceBuffer}function YL(){if(!au())return!1;const e=vz();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function yz(){if(!YL())return!1;const t=au();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Pm(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Pm(e,"audio"))))}function g9e(){var t;const e=vz();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const m9e=250,f2=2,v9e=.1,y9e=.05;class b9e{constructor(e,r,n,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=r,this.fragmentTracker=n,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,r){const{config:n,media:i,stalled:a}=this;if(i===null)return;const{currentTime:s,seeking:o}=i,A=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,s!==e){if(this.moved=!0,o||(this.nudgeRetry=0),a!==null){if(this.stallReported){const g=self.performance.now()-a;be.warn(`playback not stuck anymore @${s}, after ${Math.round(g)}ms`),this.stallReported=!1}this.stalled=null}return}if(l||A){this.stalled=null;return}if(i.paused&&!o||i.ended||i.playbackRate===0||!Gr.getBuffered(i).length){this.nudgeRetry=0;return}const c=Gr.bufferInfo(i,s,0),u=c.nextStart||0;if(o){const g=c.len>f2,v=!u||r&&r.start<=s||u-s>f2&&!this.fragmentTracker.getPartialFragment(s);if(g||v)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(c.len>0)&&!u)return;const v=Math.max(u,c.start||0)-s,y=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=(y==null||(f=y.details)==null?void 0:f.live)?y.details.targetduration*2:f2,x=this.fragmentTracker.getPartialFragment(s);if(v>0&&(v<=S||x)){i.paused||this._trySkipBufferHole(x);return}}const h=self.performance.now();if(a===null){this.stalled=h;return}const d=h-a;if(!o&&d>=m9e&&(this._reportStall(c),!this.media))return;const p=Gr.bufferInfo(i,s,n.maxBufferHole);this._tryFixBufferStall(p,d)}_tryFixBufferStall(e,r){const{config:n,fragmentTracker:i,media:a}=this;if(a===null)return;const s=a.currentTime,o=i.getPartialFragment(s);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-s<n.maxBufferHole)&&r>n.highBufferWatchdogPeriod*1e3&&(be.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:r,media:n,stallReported:i}=this;if(!i&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(e)})`);be.warn(a.message),r.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len})}}_trySkipBufferHole(e){const{config:r,hls:n,media:i}=this;if(i===null)return 0;const a=i.currentTime,s=Gr.bufferInfo(i,a,0),o=a<s.start?s.start:s.nextStart;if(o){const A=s.len<=r.maxBufferHole,l=s.len>0&&s.len<1&&i.readyState<3,c=o-a;if(c>0&&(A||l)){if(c>r.maxBufferHole){const{fragmentTracker:f}=this;let h=!1;if(a===0){const d=f.getAppendedFrag(0,Et.MAIN);d&&o<d.end&&(h=!0)}if(!h){const d=e||f.getAppendedFrag(a,Et.MAIN);if(d){let p=!1,g=d.end;for(;g<o;){const v=f.getPartialFragment(g);if(v)g+=v.duration;else{p=!0;break}}if(p)return 0}}}const u=Math.max(o+y9e,a+v9e);if(be.warn(`skipping hole, adjusting currentTime from ${a} to ${u}`),this.moved=!0,this.stalled=null,i.currentTime=u,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${u}`);n.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return u}}return 0}_tryNudgeBuffer(){const{config:e,hls:r,media:n,nudgeRetry:i}=this;if(n===null)return;const a=n.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const s=a+(i+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${a} to ${s}`);be.warn(o.message),n.currentTime=s,r.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const s=new Error(`Playhead still not moving while enough data buffered @${a} after ${e.nudgeMaxRetry} nudges`);be.error(s.message),r.trigger(j.ERROR,{type:Ot.MEDIA_ERROR,details:_e.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}const w9e=100;class x9e extends Px{constructor(e,r,n){super(e,r,n,"[stream-controller]",Et.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(j.MANIFEST_LOADING,this.onManifestLoading,this),e.on(j.MANIFEST_PARSED,this.onManifestParsed,this),e.on(j.LEVEL_LOADING,this.onLevelLoading,this),e.on(j.LEVEL_LOADED,this.onLevelLoaded,this),e.on(j.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(j.ERROR,this.onError,this),e.on(j.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(j.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(j.BUFFER_CREATED,this.onBufferCreated,this),e.on(j.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(j.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(j.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(j.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(j.MANIFEST_LOADING,this.onManifestLoading,this),e.off(j.MANIFEST_PARSED,this.onManifestParsed,this),e.off(j.LEVEL_LOADED,this.onLevelLoaded,this),e.off(j.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(j.ERROR,this.onError,this),e.off(j.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(j.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(j.BUFFER_CREATED,this.onBufferCreated,this),e.off(j.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(j.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(j.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:r,hls:n}=this;if(this.stopLoad(),this.setInterval(w9e),this.level=-1,!this.startFragRequested){let i=n.startLevel;i===-1&&(n.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=n.firstAutoLevel),n.nextLoadLevel=i,this.level=n.loadLevel,this.loadedmetadata=!1}r>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=$e.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=$e.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case $e.WAITING_LEVEL:{const{levels:r,level:n}=this,i=r==null?void 0:r[n],a=i==null?void 0:i.details;if(a&&(!a.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(a))break;this.state=$e.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=$e.IDLE;break}break}case $e.FRAG_LOADING_WAITING_RETRY:{var e;const r=self.performance.now(),n=this.retryDate;if(!n||r>=n||(e=this.media)!=null&&e.seeking){const{levels:i,level:a}=this,s=i==null?void 0:i[a];this.resetStartWhenNotLoaded(s||null),this.state=$e.IDLE}}break}this.state===$e.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const a=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[a]))return;const s=n[a],o=this.getMainFwdBufferInfo();if(o===null)return;const A=this.getLevelDetails();if(A&&this._streamEnded(o,A)){const p={};this.altAudio&&(p.type="video"),this.hls.trigger(j.BUFFER_EOS,p),this.state=$e.ENDED;return}if(!this.buffering)return;e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const l=s.details;if(!l||this.state===$e.WAITING_LEVEL||l.live&&this.levelLastLoaded!==s){this.level=a,this.state=$e.WAITING_LEVEL;return}const c=o.len,u=this.getMaxBufferLength(s.maxBitrate);if(c>=u)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:o.end;let h=this.getNextFragment(f,l);if(this.couldBacktrack&&!this.fragPrevious&&h&&h.sn!=="initSegment"&&this.fragmentTracker.getState(h)!==Ii.OK){var d;const g=((d=this.backtrackFragment)!=null?d:h).sn-l.startSN,v=l.fragments[g-1];v&&h.cc===v.cc&&(h=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const g=this.audioOnly&&!this.altAudio?Sr.AUDIO:Sr.VIDEO,v=(g===Sr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;v&&this.afterBufferFlushed(v,g,Et.MAIN)}h=this.getNextFragmentLoopLoading(h,l,o,Et.MAIN,u)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,s,f))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Ii.NOT_LOADED||i===Ii.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,r):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,super.loadFragment(e,r,n)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Et.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<a.targetduration*2)return}if(!r.paused&&e){const o=this.hls.nextLoadLevel,A=e[o],l=this.fragLastKbps;l&&this.fragCurrent?n=this.fragCurrent.duration*A.maxBitrate/(1e3*l)+1:n=0}else n=0;const s=this.getBufferedFrag(r.currentTime+n);if(s){const o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();const A=o.maxStartPTS?o.maxStartPTS:o.start,l=o.duration,c=Math.max(s.end,A+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,l*(this.couldBacktrack?.5:.125)),l*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case $e.KEY_LOADING:case $e.FRAG_LOADING:case $e.FRAG_LOADING_WAITING_RETRY:case $e.PARSING:case $e.PARSED:this.state=$e.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new b9e(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,r=e?e.currentTime:null;ut(r)&&this.log(`Media seeked to ${r.toFixed(3)}`);const n=this.getMainFwdBufferInfo();if(n===null||n.len===0){this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(j.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,r){let n=!1,i=!1;r.levels.forEach(a=>{const s=a.audioCodec;s&&(n=n||s.indexOf("mp4a.40.2")!==-1,i=i||s.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=n&&i&&!g9e(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==$e.IDLE)return;const i=n[r.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=$e.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i}=this,a=r.level,s=r.details,o=s.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""}, cc [${s.startCC}, ${s.endCC}] duration:${o}`);const A=i[a],l=this.fragCurrent;l&&(this.state===$e.FRAG_LOADING||this.state===$e.FRAG_LOADING_WAITING_RETRY)&&l.level!==r.level&&l.loader&&this.abortCurrentFrag();let c=0;if(s.live||(n=A.details)!=null&&n.live){var u;if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;c=this.alignPlaylists(s,A.details,(u=this.levelLastLoaded)==null?void 0:u.details)}if(A.details=s,this.levelLastLoaded=A,this.hls.trigger(j.LEVEL_UPDATED,{details:s,level:a}),this.state===$e.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=$e.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,c),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=s[n.level],A=o.details;if(!A){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const l=o.videoCodec,c=A.PTSKnown||!A.live,u=(r=n.initSegment)==null?void 0:r.data,f=this._getAudioCodec(o),h=this.transmuxer=this.transmuxer||new GW(this.hls,Et.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),d=i?i.index:-1,p=d!==-1,g=new Fx(n.level,n.sn,n.stats.chunkCount,a.byteLength,d,p),v=this.initPTS[n.cc];h.push(a,u,f,l,n,i,A.totalduration,c,g,v)}onAudioTrackSwitching(e,r){const n=this.altAudio;if(!!!r.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const a=this.hls;n&&(a.trigger(j.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),a.trigger(j.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=r.id,i=!!this.hls.audioTracks[n].url;if(i){const a=this.videoBuffer;a&&this.mediaBuffer!==a&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=a)}this.altAudio=i,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,a,s=!1;for(const o in n){const A=n[o];if(A.id==="main"){if(a=o,i=A,o==="video"){const l=n[o];l&&(this.videoBuffer=l.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n&&n.type!==Et.MAIN)return;if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===$e.PARSED&&(this.state=$e.IDLE);return}const a=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),n.sn!=="initSegment"&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=$e.ERROR;return}switch(r.details){case _e.FRAG_GAP:case _e.FRAG_PARSING_ERROR:case _e.FRAG_DECRYPT_ERROR:case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Et.MAIN,r);break;case _e.LEVEL_LOAD_ERROR:case _e.LEVEL_LOAD_TIMEOUT:case _e.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===$e.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===nr.LEVEL&&(this.state=$e.IDLE);break;case _e.BUFFER_APPEND_ERROR:case _e.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="main")return;if(r.details===_e.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case _e.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}checkBuffer(){const{media:e,gapController:r}=this;if(!(!e||!r||!e.readyState)){if(this.loadedmetadata||!Gr.getBuffered(e).length){const n=this.state!==$e.IDLE?this.fragCurrent:null;r.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=$e.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==Sr.AUDIO||this.audioOnly&&!this.altAudio){const n=(r===Sr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,Et.MAIN),this.tick()}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=Gr.getBuffered(e),s=(i.length?i.start(0):0)-n;s>0&&(s<this.config.maxBufferHole||s<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${s} to match buffer start`),n+=s,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${r}`),e.currentTime=n}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this;if(!n||this.fragContextChanged(e))return;r.fragmentError=0,this.state=$e.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(j.FRAG_LOADED,n),e.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const n="main",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:A,part:l,level:c}=o,{video:u,text:f,id3:h,initSegment:d}=a,{details:p}=c,g=this.altAudio?void 0:a.audio;if(this.fragContextChanged(A)){this.fragmentTracker.removeFragment(A);return}if(this.state=$e.PARSING,d){if(d!=null&&d.tracks){const w=A.initSegment||A;this._bufferInitSegment(c,d.tracks,w,s),i.trigger(j.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:n,tracks:d.tracks})}const v=d.initPTS,y=d.timescale;ut(v)&&(this.initPTS[A.cc]={baseTime:v,timescale:y},i.trigger(j.INIT_PTS_FOUND,{frag:A,id:n,initPTS:v,timescale:y}))}if(u&&p&&A.sn!=="initSegment"){const v=p.fragments[A.sn-1-p.startSN],y=A.sn===p.startSN,w=!v||A.cc>v.cc;if(a.independent!==!1){const{startPTS:S,endPTS:x,startDTS:E,endDTS:C}=u;if(l)l.elementaryStreams[u.type]={startPTS:S,endPTS:x,startDTS:E,endDTS:C};else if(u.firstKeyFrame&&u.independent&&s.id===1&&!w&&(this.couldBacktrack=!0),u.dropped&&u.independent){const L=this.getMainFwdBufferInfo(),O=(L?L.end:this.getLoadPosition())+this.config.maxBufferHole,D=u.firstKeyFramePTS?u.firstKeyFramePTS:S;if(!y&&O<D-this.config.maxBufferHole&&!w){this.backtrack(A);return}else w&&(A.gap=!0);A.setElementaryStreamInfo(u.type,A.start,x,A.start,C,!0)}else y&&S>f2&&(A.gap=!0);A.setElementaryStreamInfo(u.type,S,x,E,C),this.backtrackFragment&&(this.backtrackFragment=A),this.bufferFragmentData(u,A,l,s,y||w)}else if(y||w)A.gap=!0;else{this.backtrack(A);return}}if(g){const{startPTS:v,endPTS:y,startDTS:w,endDTS:S}=g;l&&(l.elementaryStreams[Sr.AUDIO]={startPTS:v,endPTS:y,startDTS:w,endDTS:S}),A.setElementaryStreamInfo(Sr.AUDIO,v,y,w,S),this.bufferFragmentData(g,A,l,s)}if(p&&h!=null&&(r=h.samples)!=null&&r.length){const v={id:n,frag:A,details:p,samples:h.samples};i.trigger(j.FRAG_PARSING_METADATA,v)}if(p&&f){const v={id:n,frag:A,details:p,samples:f.samples};i.trigger(j.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,r,n,i){if(this.state!==$e.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&delete r.audio;const{audio:a,video:s,audiovideo:o}=r;if(a){let A=e.audioCodec;const l=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){A&&(A.indexOf("mp4a.40.5")!==-1?A="mp4a.40.2":A="mp4a.40.5");const c=a.metadata;c&&"channelCount"in c&&(c.channelCount||1)!==1&&l.indexOf("firefox")===-1&&(A="mp4a.40.5")}A&&A.indexOf("mp4a.40.5")!==-1&&l.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(A="mp4a.40.2",this.log(`Android: force audio codec to ${A}`)),e.audioCodec&&e.audioCodec!==A&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${A}"`),a.levelCodec=A,a.id="main",this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${A||""}/${e.audioCodec||""}/${a.codec}]`)}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${s.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),this.hls.trigger(j.BUFFER_CODECS,r),Object.keys(r).forEach(A=>{const c=r[A].initSegment;c!=null&&c.byteLength&&this.hls.trigger(j.BUFFER_APPENDING,{type:A,data:c,frag:n,part:null,chunkMeta:i,parent:n.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Et.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=$e.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Gr.isBuffered(e,n)?r=this.getAppendedFrag(n):Gr.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,a=r.level;(!i||r.sn!==i.sn||i.level!==a)&&(this.fragPlaying=r,this.hls.trigger(j.FRAG_CHANGED,{frag:r}),(!i||i.level!==a)&&this.hls.trigger(j.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const r=e.currentTime,n=this.currentFrag;if(n&&ut(r)&&ut(n.programDateTime)){const i=n.programDateTime+(r-n.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Vc{static get version(){return"1.5.20"}static isMSESupported(){return YL()}static isSupported(){return yz()}static getMediaSource(){return au()}static get Events(){return j}static get ErrorTypes(){return Ot}static get ErrorDetails(){return _e}static get DefaultConfig(){return Vc.defaultConfig?Vc.defaultConfig:mz}static set DefaultConfig(e){Vc.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new KL,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,BQe(e.debug||!1,"Hls instance");const r=this.config=f9e(Vc.DefaultConfig,e);this.userConfig=e,r.progressive&&h9e(r);const{abrController:n,bufferController:i,capLevelController:a,errorController:s,fpsController:o}=r,A=new s(this),l=this.abrController=new n(this),c=this.bufferController=new i(this),u=this.capLevelController=new a(this),f=new o(this),h=new g7e(this),d=new w7e(this),p=r.contentSteeringController,g=p?new p(this):null,v=this.levelController=new d9e(this,g),y=new z7e(this),w=new p9e(this.config),S=this.streamController=new x9e(this,y,w);u.setStreamController(S),f.setStreamController(S);const x=[h,v,S];g&&x.splice(1,0,g),this.networkControllers=x;const E=[l,c,u,f,d,y];this.audioTrackController=this.createController(r.audioTrackController,x);const C=r.audioStreamController;C&&x.push(new C(this,y,w)),this.subtitleTrackController=this.createController(r.subtitleTrackController,x);const L=r.subtitleStreamController;L&&x.push(new L(this,y,w)),this.createController(r.timelineController,E),w.emeController=this.emeController=this.createController(r.emeController,E),this.cmcdController=this.createController(r.cmcdController,E),this.latencyController=this.createController(x7e,E),this.coreComponents=E,x.push(A);const O=A.onErrorOut;typeof O=="function"&&this.on(j.ERROR,O,A)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(be.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===j.ERROR;this.trigger(j.ERROR,{type:Ot.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){be.log("destroy"),this.trigger(j.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){be.log("attachMedia"),this._media=e,this.trigger(j.MEDIA_ATTACHING,{media:e})}detachMedia(){be.log("detachMedia"),this.trigger(j.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const r=this.media,n=this.url,i=this.url=PL.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,be.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(j.MANIFEST_LOADING,{url:e})}startLoad(e=-1){be.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e),!(!this.started||!this.networkControllers));r++);}stopLoad(){be.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){be.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){be.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){be.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){be.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){be.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){be.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){be.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){be.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){be.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(be.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){E7e(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let a=i;a--;){const s=e[a].attrs["HDCP-LEVEL"];if(s&&s<=n)return a}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var r;return(r=this.audioTrackController)==null?void 0:r.setAudioOption(e)}setSubtitleOption(e){var r;return(r=this.subtitleTrackController)==null||r.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Vc.defaultConfig=void 0;const aKe=Object.freeze(Object.defineProperty({__proto__:null,AbrController:SW,AttrList:ln,AudioStreamController:KW,AudioTrackController:WW,BasePlaylistController:Ox,BaseSegment:RL,BaseStreamController:Px,BufferController:qW,CMCDController:hz,CapLevelController:Ux,ChunkMetadata:Fx,ContentSteeringController:dz,DateRange:UL,EMEController:xf,ErrorActionFlags:Vs,ErrorController:BW,ErrorDetails:_e,ErrorTypes:Ot,Events:j,FPSController:oz,Fragment:a2,Hls:Vc,HlsSkip:D0,HlsUrlParameters:P_,KeySystemFormats:Ia,KeySystems:gr,Level:Pf,LevelDetails:rW,LevelKey:Ap,LoadStats:mv,MetadataSchema:Xs,NetworkErrorAction:hi,Part:tW,PlaylistLevelType:Et,SubtitleStreamController:zW,SubtitleTrackController:YW,TimelineController:az,default:Vc,getMediaSource:au,isMSESupported:YL,isSupported:yz},Symbol.toStringTag,{value:"Module"}));var bz={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(jo,function(){var r=function(){function n(h){return s.appendChild(h.dom),h}function i(h){for(var d=0;d<s.children.length;d++)s.children[d].style.display=d===h?"block":"none";a=h}var a=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(h){h.preventDefault(),i(++a%s.children.length)},!1);var o=(performance||Date).now(),A=o,l=0,c=n(new r.Panel("FPS","#0ff","#002")),u=n(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=n(new r.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:n,showPanel:i,begin:function(){o=(performance||Date).now()},end:function(){l++;var h=(performance||Date).now();if(u.update(h-o,200),h>A+1e3&&(c.update(1e3*l/(h-A),100),A=h,l=0,f)){var d=performance.memory;f.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return h},update:function(){o=this.end()},domElement:s,setMode:i}};return r.Panel=function(n,i,a){var s=1/0,o=0,A=Math.round,l=A(window.devicePixelRatio||1),c=80*l,u=48*l,f=3*l,h=2*l,d=3*l,p=15*l,g=74*l,v=30*l,y=document.createElement("canvas");y.width=c,y.height=u,y.style.cssText="width:80px;height:48px";var w=y.getContext("2d");return w.font="bold "+9*l+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=a,w.fillRect(0,0,c,u),w.fillStyle=i,w.fillText(n,f,h),w.fillRect(d,p,g,v),w.fillStyle=a,w.globalAlpha=.9,w.fillRect(d,p,g,v),{dom:y,update:function(S,x){s=Math.min(s,S),o=Math.max(o,S),w.fillStyle=a,w.globalAlpha=1,w.fillRect(0,0,c,p),w.fillStyle=i,w.fillText(A(S)+" "+n+" ("+A(s)+"-"+A(o)+")",f,h),w.drawImage(y,d+l,p,g-l,v,d,p,g-l,v),w.fillRect(d+g-l,p,l,v),w.fillStyle=a,w.globalAlpha=.9,w.fillRect(d+g-l,p,l,A((1-S/x)*v))}}},r})})(bz);var E9e=bz.exports;const sKe=xr(E9e);class B9e{constructor(e,r,n){this.name=e,this.fg=r,this.bg=n,this.gradient=null,this.PR=Math.round(window.devicePixelRatio||1),this.WIDTH=90*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=84*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.canvas=document.createElement("canvas"),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.canvas.style.width="90px",this.canvas.style.height="48px",this.canvas.style.position="absolute",this.canvas.style.cssText="width:90px;height:48px",this.context=this.canvas.getContext("2d"),this.initializeCanvas()}createGradient(){if(!this.context)throw new Error("No context");const e=this.context.createLinearGradient(0,this.GRAPH_Y,0,this.GRAPH_Y+this.GRAPH_HEIGHT);let r;const n=this.fg;switch(this.fg.toLowerCase()){case"#0ff":r="#006666";break;case"#0f0":r="#006600";break;case"#ff0":r="#666600";break;case"#e1e1e1":r="#666666";break;default:r=this.bg;break}return e.addColorStop(0,r),e.addColorStop(1,n),e}initializeCanvas(){this.context&&(this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.gradient=this.createGradient(),this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=this.fg,this.context.fillText(this.name,this.TEXT_X,this.TEXT_Y),this.context.fillStyle=this.fg,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT))}update(e,r,n,i,a=0){if(!this.context||!this.gradient)return;const s=Math.min(1/0,e),o=Math.max(n,e);i=Math.max(i,r),this.context.globalAlpha=1,this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText(`${e.toFixed(a)} ${this.name} (${s.toFixed(a)}-${parseFloat(o.toFixed(a))})`,this.TEXT_X,this.TEXT_Y),this.context.drawImage(this.canvas,this.GRAPH_X+this.PR,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT,this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT);const A=this.GRAPH_HEIGHT-(1-r/i)*this.GRAPH_HEIGHT;A>0&&(this.context.globalAlpha=1,this.context.fillStyle=this.gradient,this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y+this.GRAPH_HEIGHT-A,this.PR,A))}}const wz=class ed{constructor({trackGPU:e=!1,logsPerSecond:r=30,samplesLog:n=60,samplesGraph:i=10,precision:a=2,minimal:s=!1,horizontal:o=!0,mode:A=0}={}){this.gl=null,this.ext=null,this.activeQuery=null,this.gpuQueries=[],this.threeRendererPatched=!1,this.frames=0,this.renderCount=0,this.isRunningCPUProfiling=!1,this.totalCpuDuration=0,this.totalGpuDuration=0,this.totalGpuDurationCompute=0,this.totalFps=0,this.gpuPanel=null,this.gpuPanelCompute=null,this.averageFps={logs:[],graph:[]},this.averageCpu={logs:[],graph:[]},this.averageGpu={logs:[],graph:[]},this.averageGpuCompute={logs:[],graph:[]},this.handleClick=l=>{l.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)},this.handleResize=()=>{this.resizePanel(this.fpsPanel,0),this.resizePanel(this.msPanel,1),this.gpuPanel&&this.resizePanel(this.gpuPanel,2),this.gpuPanelCompute&&this.resizePanel(this.gpuPanelCompute,3)},this.mode=A,this.horizontal=o,this.minimal=s,this.trackGPU=e,this.samplesLog=n,this.samplesGraph=i,this.precision=a,this.logsPerSecond=r,this.dom=document.createElement("div"),this.initializeDOM(),this.beginTime=performance.now(),this.prevTime=this.beginTime,this.prevCpuTime=this.beginTime,this.fpsPanel=this.addPanel(new ed.Panel("FPS","#0ff","#002"),0),this.msPanel=this.addPanel(new ed.Panel("CPU","#0f0","#020"),1),this.setupEventListeners()}initializeDOM(){this.dom.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      opacity: 0.9;
      z-index: 10000;
      ${this.minimal?"cursor: pointer;":""}
    `}setupEventListeners(){this.minimal?(this.dom.addEventListener("click",this.handleClick),this.showPanel(this.mode)):window.addEventListener("resize",this.handleResize)}init(e){return Fn(this,null,function*(){if(!e){console.error('Stats: The "canvas" parameter is undefined.');return}this.handleThreeRenderer(e)||(yield this.handleWebGPURenderer(e))||this.initializeWebGL(e)})}handleThreeRenderer(e){return e.isWebGLRenderer&&!this.threeRendererPatched?(this.patchThreeRenderer(e),this.gl=e.getContext(),this.trackGPU&&this.initializeGPUTracking(),!0):!1}handleWebGPURenderer(e){return Fn(this,null,function*(){return e.isWebGPURenderer?(this.trackGPU&&(e.backend.trackTimestamp=!0,(yield e.hasFeatureAsync("timestamp-query"))&&this.initializeWebGPUPanels()),this.info=e.info,!0):!1})}initializeWebGPUPanels(){this.gpuPanel=this.addPanel(new ed.Panel("GPU","#ff0","#220"),2),this.gpuPanelCompute=this.addPanel(new ed.Panel("CPT","#e1e1e1","#212121"),3)}initializeWebGL(e){if(e instanceof WebGL2RenderingContext)this.gl=e;else if(e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas){if(this.gl=e.getContext("webgl2"),!this.gl)return console.error("Stats: Unable to obtain WebGL2 context."),!1}else return console.error("Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas."),!1;return!0}initializeGPUTracking(){this.gl&&(this.ext=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.ext&&(this.gpuPanel=this.addPanel(new ed.Panel("GPU","#ff0","#220"),2)))}begin(){this.isRunningCPUProfiling||this.beginProfiling("cpu-started"),!(!this.gl||!this.ext)&&(this.activeQuery&&this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.activeQuery=this.gl.createQuery(),this.activeQuery&&this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,this.activeQuery))}end(){this.renderCount++,this.gl&&this.ext&&this.activeQuery&&(this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.gpuQueries.push({query:this.activeQuery}),this.activeQuery=null)}update(){this.info?this.processWebGPUTimestamps():this.processGpuQueries(),this.endProfiling("cpu-started","cpu-finished","cpu-duration"),this.updateAverages(),this.resetCounters()}processWebGPUTimestamps(){this.totalGpuDuration=this.info.render.timestamp,this.totalGpuDurationCompute=this.info.compute.timestamp,this.addToAverage(this.totalGpuDurationCompute,this.averageGpuCompute)}updateAverages(){this.addToAverage(this.totalCpuDuration,this.averageCpu),this.addToAverage(this.totalGpuDuration,this.averageGpu)}resetCounters(){this.renderCount=0,this.totalCpuDuration===0&&this.beginProfiling("cpu-started"),this.totalCpuDuration=0,this.totalFps=0,this.beginTime=this.endInternal()}resizePanel(e,r){e.canvas.style.position="absolute",this.minimal?e.canvas.style.display="none":(e.canvas.style.display="block",this.horizontal?(e.canvas.style.top="0px",e.canvas.style.left=r*e.WIDTH/e.PR+"px"):(e.canvas.style.left="0px",e.canvas.style.top=r*e.HEIGHT/e.PR+"px"))}addPanel(e,r){return e.canvas&&(this.dom.appendChild(e.canvas),this.resizePanel(e,r)),e}showPanel(e){for(let r=0;r<this.dom.children.length;r++){const n=this.dom.children[r];n.style.display=r===e?"block":"none"}this.mode=e}processGpuQueries(){!this.gl||!this.ext||(this.totalGpuDuration=0,this.gpuQueries.forEach((e,r)=>{if(this.gl){const n=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT_AVAILABLE),i=this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);if(n&&!i){const s=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT)*1e-6;this.totalGpuDuration+=s,this.gl.deleteQuery(e.query),this.gpuQueries.splice(r,1)}}}))}endInternal(){this.frames++;const e=(performance||Date).now(),r=e-this.prevTime;if(e>=this.prevCpuTime+1e3/this.logsPerSecond){const n=Math.round(this.frames*1e3/r);this.addToAverage(n,this.averageFps),this.updatePanel(this.fpsPanel,this.averageFps,0),this.updatePanel(this.msPanel,this.averageCpu,this.precision),this.updatePanel(this.gpuPanel,this.averageGpu,this.precision),this.gpuPanelCompute&&this.updatePanel(this.gpuPanelCompute,this.averageGpuCompute),this.frames=0,this.prevCpuTime=e,this.prevTime=e}return e}addToAverage(e,r){r.logs.push(e),r.logs.length>this.samplesLog&&r.logs.shift(),r.graph.push(e),r.graph.length>this.samplesGraph&&r.graph.shift()}beginProfiling(e){window.performance&&(window.performance.mark(e),this.isRunningCPUProfiling=!0)}endProfiling(e,r,n){if(window.performance&&r&&this.isRunningCPUProfiling){window.performance.mark(r);const i=performance.measure(n,e,r);this.totalCpuDuration+=i.duration,this.isRunningCPUProfiling=!1}}updatePanel(e,r,n=2){if(r.logs.length>0){let i=0,a=.01;for(let A=0;A<r.logs.length;A++)i+=r.logs[A],r.logs[A]>a&&(a=r.logs[A]);let s=0,o=.01;for(let A=0;A<r.graph.length;A++)s+=r.graph[A],r.graph[A]>o&&(o=r.graph[A]);e&&e.update(i/Math.min(r.logs.length,this.samplesLog),s/Math.min(r.graph.length,this.samplesGraph),a,o,n)}}get domElement(){return this.dom}patchThreeRenderer(e){const r=e.render,n=this;e.render=function(i,a){n.begin(),r.call(this,i,a),n.end()},this.threeRendererPatched=!0}};wz.Panel=B9e;let oKe=wz;function c5(t,e,r,n){return new(r||(r=Promise))(function(i,a){function s(l){try{A(n.next(l))}catch(c){a(c)}}function o(l){try{A(n.throw(l))}catch(c){a(c)}}function A(l){var c;l.done?i(l.value):(c=l.value,c instanceof r?c:new r(function(u){u(c)})).then(s,o)}A((n=n.apply(t,[])).next())})}const C9e=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function h8(t){return t=t.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const xz=typeof window=="undefined",EA=(()=>{if(xz)return;const{userAgent:t,platform:e,maxTouchPoints:r}=window.navigator,n=/(iphone|ipod|ipad)/i.test(t),i=e==="iPad"||e==="MacIntel"&&r>0&&!window.MSStream;return{isIpad:i,isMobile:/android/i.test(t)||n||i,isSafari12:/Version\/12.+Safari/.test(t),isFirefox:/Firefox/.test(t)}})();function S9e(t,e,r){if(!r)return[e];const n=function(l){const c=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,u=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,f=l.createShader(35633),h=l.createShader(35632),d=l.createProgram();if(!(h&&f&&d))return;l.shaderSource(f,c),l.shaderSource(h,u),l.compileShader(f),l.compileShader(h),l.attachShader(d,f),l.attachShader(d,h),l.linkProgram(d),l.detachShader(d,f),l.detachShader(d,h),l.deleteShader(f),l.deleteShader(h),l.useProgram(d);const p=l.createBuffer();l.bindBuffer(34962,p),l.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const g=l.getAttribLocation(d,"aPosition");l.vertexAttribPointer(g,3,5126,!1,0,0),l.enableVertexAttribArray(g),l.clearColor(1,1,1,1),l.clear(16384),l.viewport(0,0,1,1),l.drawArrays(4,0,3);const v=new Uint8Array(4);return l.readPixels(0,0,1,1,6408,5121,v),l.deleteProgram(d),l.deleteBuffer(p),v.join("")}(t),i="801621810",a="8016218135",s="80162181161",o=EA!=null&&EA.isIpad?[["a7",s,12],["a8",a,15],["a8x",a,15],["a9",a,15],["a9x",a,15],["a10",a,15],["a10x",a,15],["a12",i,15],["a12x",i,15],["a12z",i,15],["a14",i,15],["a15",i,15],["m1",i,15],["m2",i,15]]:[["a7",s,12],["a8",a,12],["a9",a,15],["a10",a,15],["a11",i,15],["a12",i,15],["a13",i,15],["a14",i,15],["a15",i,15],["a16",i,15],["a17",i,15]];let A;return n==="80162181255"?A=o.filter(([,,l])=>l>=14):(A=o.filter(([,l])=>l===n),A.length||(A=o)),A.map(([l])=>`apple ${l} gpu`)}let d8=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}};const u5=[],p8=[];function T9e(t,e){if(t===e)return 0;const r=t;t.length>e.length&&(t=e,e=r);let n=t.length,i=e.length;for(;n>0&&t.charCodeAt(~-n)===e.charCodeAt(~-i);)n--,i--;let a,s=0;for(;s<n&&t.charCodeAt(s)===e.charCodeAt(s);)s++;if(n-=s,i-=s,n===0)return i;let o,A,l=0,c=0,u=0;for(;c<n;)p8[c]=t.charCodeAt(s+c),u5[c]=++c;for(;u<i;)for(a=e.charCodeAt(s+u),o=u++,l=u,c=0;c<n;c++)A=a===p8[c]?o:o+1,o=u5[c],l=u5[c]=o>l?A>l?l+1:A:A>o?o+1:A;return l}function _9e(t){return t!=null}const lKe=({mobileTiers:t=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:r={},glContext:n,failIfMajorPerformanceCaveat:i=!1,benchmarksURL:a="https://unpkg.com/detect-gpu@5.0.70/dist/benchmarks"}={})=>c5(void 0,void 0,void 0,function*(){const s={};if(xz)return{tier:0,type:"SSR"};const{isIpad:o=!!(EA!=null&&EA.isIpad),isMobile:A=!!(EA!=null&&EA.isMobile),screenSize:l=window.screen,loadBenchmarks:c=x=>c5(void 0,void 0,void 0,function*(){const E=yield fetch(`${a}/${x}`).then(C=>C.json());if(parseInt(E.shift().split(".")[0],10)<4)throw new d8("Detect GPU benchmark data is out of date. Please update to version 4x");return E})}=r;let{renderer:u}=r;const f=(x,E,C,L,O)=>({device:O,fps:L,gpu:C,isMobile:A,tier:x,type:E});let h,d="";if(u)u=h8(u),h=[u];else{const x=n||function(C,L=!1){const O={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:L,powerPreference:"high-performance",stencil:!1};C&&delete O.powerPreference;const D=window.document.createElement("canvas"),_=D.getContext("webgl",O)||D.getContext("experimental-webgl",O);return _!=null?_:void 0}(EA==null?void 0:EA.isSafari12,i);if(!x)return f(0,"WEBGL_UNSUPPORTED");const E=EA!=null&&EA.isFirefox?null:x.getExtension("WEBGL_debug_renderer_info");if(u=E?x.getParameter(E.UNMASKED_RENDERER_WEBGL):x.getParameter(x.RENDERER),!u)return f(1,"FALLBACK");d=u,u=h8(u),h=function(C,L,O){return L==="apple gpu"?S9e(C,L,O):[L]}(x,u,A)}const p=(yield Promise.all(h.map(function(x){var E;return c5(this,void 0,void 0,function*(){const C=(U=>{const $=A?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce","adreno"];for(const G of $)if(U.includes(G))return G})(x);if(!C)return;const L=`${A?"m":"d"}-${C}${o?"-ipad":""}.json`,O=s[L]=(E=s[L])!==null&&E!==void 0?E:c(L);let D;try{D=yield O}catch(U){if(U instanceof d8)throw U;return}const _=function(U){var $;const G=(U=U.replace(/\([^)]+\)/,"")).match(/\d+/)||U.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return($=G==null?void 0:G.join("").replace(/\W|amd/g,""))!==null&&$!==void 0?$:""}(x);let F=D.filter(([,U])=>U===_);F.length||(F=D.filter(([U])=>U.includes(x)));const R=F.length;if(R===0)return;const M=x.split(/[.,()\[\]/\s]/g).sort().filter((U,$,G)=>$===0||U!==G[$-1]).join(" ");let z,[N,,,,Y]=R>1?F.map(U=>[U,T9e(M,U[2])]).sort(([,U],[,$])=>U-$)[0][0]:F[0],X=Number.MAX_VALUE;const{devicePixelRatio:H}=window,W=l.width*H*l.height*H;for(const U of Y){const[$,G]=U,te=$*G,ie=Math.abs(W-te);ie<X&&(X=ie,z=U)}if(!z)return;const[,,Z,I]=z;return[X,Z,N,I]})}))).filter(_9e).sort(([x=Number.MAX_VALUE,E],[C=Number.MAX_VALUE,L])=>x===C?E-L:x-C);if(!p.length){const x=C9e.find(E=>u.includes(E));return x?f(0,"BLOCKLISTED",x):f(1,"FALLBACK",`${u} (${d})`)}const[,g,v,y]=p[0];if(g===-1)return f(0,"BLOCKLISTED",v,g,y);const w=A?t:e;let S=0;for(let x=0;x<w.length;x++)g>=w[x]&&(S=x);return f(S,"BENCHMARK",v,g,y)}),Ez=(t,e,r)=>{let n;switch(t){case L5:n=new Uint8ClampedArray(e*r*4);break;case c4:n=new Uint16Array(e*r*4);break;case BX:n=new Uint32Array(e*r*4);break;case EX:n=new Int8Array(e*r*4);break;case xX:n=new Int16Array(e*r*4);break;case wX:n=new Int32Array(e*r*4);break;case T5:n=new Float32Array(e*r*4);break;default:throw new Error("Unsupported data type")}return n};let _y;const L9e=(t,e,r,n)=>{if(_y!==void 0)return _y;const i=new MQ(1,1,n);e.setRenderTarget(i);const a=new RQ(new DQ,new bX({color:16777215}));e.render(a,r),e.setRenderTarget(null);const s=Ez(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),a.geometry.dispose(),a.material.dispose(),_y=s[0]!==0,_y};class qL{constructor(e){var r,n,i,a,s,o,A,l,c,u,f,h,d,p,g,v;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(w){throw this._renderer.setRenderTarget(null),w}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const y={format:b2,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:td,minFilter:((A=e.renderTargetOptions)===null||A===void 0?void 0:A.minFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter:td,samples:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.samples)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.wrapS:kc,wrapT:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapT)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapT:kc};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=qL.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new gX,this._camera=new mX,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!L9e(this._type,this._renderer,this._camera,y)){let w;switch(this._type){case c4:w=this._renderer.extensions.has("EXT_color_buffer_float")?T5:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${T5}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new RQ(new DQ,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new MQ(this.width,this.height,y),this._renderTarget.texture.mapping=((g=e.renderTargetOptions)===null||g===void 0?void 0:g.mapping)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping:w2}static instantiateRenderer(){const e=new vX;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=Ez(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const r=new yX(this.toArray(),this.width,this.height,b2,this._type,(e==null?void 0:e.mapping)||w2,(e==null?void 0:e.wrapS)||kc,(e==null?void 0:e.wrapT)||kc,(e==null?void 0:e.magFilter)||td,(e==null?void 0:e.minFilter)||td,(e==null?void 0:e.anisotropy)||1,_5);return r.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,r}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof l4&&Object.values(this.material.uniforms).forEach(r=>{r.value instanceof rd&&r.value.dispose()}),Object.values(this.material).forEach(r=>{r instanceof rd&&r.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const I9e=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,O9e=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class F9e extends l4{constructor({gamma:e,offsetHdr:r,offsetSdr:n,gainMapMin:i,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:o,hdrCapacityMax:A,sdr:l,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:I9e,fragmentShader:O9e,uniforms:{sdr:{value:l},gainMap:{value:c},gamma:{value:new Vi(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Vi().fromArray(r)},offsetSdr:{value:new Vi().fromArray(n)},gainMapMin:{value:new Vi().fromArray(i)},gainMapMax:{value:new Vi().fromArray(a)},weightFactor:{value:(Math.log2(s)-o)/(A-o)}},blending:_X,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=o,this._hdrCapacityMax=A,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const r=this.uniforms.gamma.value;r.x=1/e[0],r.y=1/e[1],r.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Bz extends Error{}class Cz extends Error{}const e0=(t,e,r)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(n)return n[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(r!==void 0)return r;throw new Error(`Can't find ${e} in gainmap metadata`)},P9e=t=>{let e;typeof TextDecoder!="undefined"?e=new TextDecoder().decode(t):e=t.toString();let r=e.indexOf("<x:xmpmeta");for(;r!==-1;){const n=e.indexOf("x:xmpmeta>",r),i=e.slice(r,n+10);try{const a=e0(i,"hdrgm:GainMapMin","0"),s=e0(i,"hdrgm:GainMapMax"),o=e0(i,"hdrgm:Gamma","1"),A=e0(i,"hdrgm:OffsetSDR","0.015625"),l=e0(i,"hdrgm:OffsetHDR","0.015625"),c=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),u=c?c[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const h=f[1];return{gainMapMin:Array.isArray(a)?a.map(d=>parseFloat(d)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(d=>parseFloat(d)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(o)?o.map(d=>parseFloat(d)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(A)?A.map(d=>parseFloat(d)):[parseFloat(A),parseFloat(A),parseFloat(A)],offsetHdr:Array.isArray(l)?l.map(d=>parseFloat(d)):[parseFloat(l),parseFloat(l),parseFloat(l)],hdrCapacityMin:parseFloat(u),hdrCapacityMax:parseFloat(h)}}catch(a){}r=e.indexOf("<x:xmpmeta",n)}};class U9e{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((r,n)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const s=a.byteLength;let o=2,A=0,l;for(;o<s;){if(++A>250){n(new Error(`Found no marker after ${A} loops `));return}if(a.getUint8(o)!==255){n(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${a.getUint8(o).toString(16)}`));return}if(l=a.getUint8(o+1),i&&console.log(`Marker: ${l.toString(16)}`),l===226){i&&console.log("Found APP2 marker (0xffe2)");const c=o+4;if(a.getUint32(c)===1297106432){const u=c+4;let f;if(a.getUint16(u)===18761)f=!1;else if(a.getUint16(u)===19789)f=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(u+2,!f)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const h=a.getUint32(u+4,!f);if(h<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const d=u+h,p=a.getUint16(d,!f),g=d+2;let v=0;for(let x=g;x<g+12*p;x+=12)a.getUint16(x,!f)===45057&&(v=a.getUint32(x+8,!f));const w=d+2+p*12+4,S=[];for(let x=w;x<w+v*16;x+=16){const E={MPType:a.getUint32(x,!f),size:a.getUint32(x+4,!f),dataOffset:a.getUint32(x+8,!f),dependantImages:a.getUint32(x+12,!f),start:-1,end:-1,isFII:!1};E.dataOffset?(E.start=u+E.dataOffset,E.isFII=!1):(E.start=0,E.isFII=!0),E.end=E.start+E.size,S.push(E)}if(this.options.extractNonFII&&S.length){const x=new Blob([a]),E=[];for(const C of S){if(C.isFII&&!this.options.extractFII)continue;const L=x.slice(C.start,C.end+1,"image/jpeg");E.push(L)}r(E)}}}o+=2+a.getUint16(o+2)}})}}const R9e=t=>Fn(void 0,null,function*(){const e=P9e(t);if(!e)throw new Cz("Gain map XMP metadata not found");const n=yield new U9e({extractFII:!0,extractNonFII:!0}).extract(t);if(n.length!==2)throw new Bz("Gain map recovery image not found");return{sdr:new Uint8Array(yield n[0].arrayBuffer()),gainMap:new Uint8Array(yield n[1].arrayBuffer()),metadata:e}}),g8=t=>new Promise((e,r)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=i=>{r(i)},n.src=URL.createObjectURL(t)});class Sz extends CX{constructor(e,r){super(r),e&&(this._renderer=e),this._internalLoadingManager=new SX}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new F9e({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new rd,sdr:new rd});return new qL({width:16,height:16,type:c4,colorSpace:_5,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}render(e,r,n,i){return Fn(this,null,function*(){const a=i?new Blob([i],{type:"image/jpeg"}):void 0,s=new Blob([n],{type:"image/jpeg"});let o,A,l=!1;if(typeof createImageBitmap=="undefined"){const f=yield Promise.all([a?g8(a):Promise.resolve(void 0),g8(s)]);A=f[0],o=f[1],l=!0}else{const f=yield Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);A=f[0],o=f[1]}const c=new rd(A||new ImageData(2,2),w2,kc,kc,td,bO,b2,L5,1,_5);c.flipY=l,c.needsUpdate=!0;const u=new rd(o,w2,kc,kc,td,bO,b2,L5,1,TX);u.flipY=l,u.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=c,e.material.sdr=u,e.material.gainMapMin=r.gainMapMin,e.material.gainMapMax=r.gainMapMax,e.material.offsetHdr=r.offsetHdr,e.material.offsetSdr=r.offsetSdr,e.material.gamma=r.gamma,e.material.hdrCapacityMin=r.hdrCapacityMin,e.material.hdrCapacityMax=r.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,r.hdrCapacityMax),e.material.needsUpdate=!0,e.render()})}}class cKe extends Sz{load([e,r,n],i,a,s){const o=this.prepareQuadRenderer();let A,l,c;const u=()=>Fn(this,null,function*(){if(A&&l&&c){try{yield this.render(o,c,A,l)}catch(O){this.manager.itemError(e),this.manager.itemError(r),this.manager.itemError(n),typeof s=="function"&&s(O),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(r),this.manager.itemEnd(n),o.disposeOnDemandRenderer()}});let f=!0,h=0,d=0,p=!0,g=0,v=0,y=!0,w=0,S=0;const x=()=>{if(typeof a=="function"){const O=h+g+w,D=d+v+S,_=f&&p&&y;a(new ProgressEvent("progress",{lengthComputable:_,loaded:D,total:O}))}};this.manager.itemStart(e),this.manager.itemStart(r),this.manager.itemStart(n);const E=new Ry(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(e,O=>Fn(this,null,function*(){if(typeof O=="string")throw new Error("Invalid sdr buffer");A=O,yield u()}),O=>{f=O.lengthComputable,d=O.loaded,h=O.total,x()},O=>{this.manager.itemError(e),typeof s=="function"&&s(O)});const C=new Ry(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(r,O=>Fn(this,null,function*(){if(typeof O=="string")throw new Error("Invalid gainmap buffer");l=O,yield u()}),O=>{p=O.lengthComputable,v=O.loaded,g=O.total,x()},O=>{this.manager.itemError(r),typeof s=="function"&&s(O)});const L=new Ry(this._internalLoadingManager);return L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(n,O=>Fn(this,null,function*(){if(typeof O!="string")throw new Error("Invalid metadata string");c=JSON.parse(O),yield u()}),O=>{y=O.lengthComputable,S=O.loaded,w=O.total,x()},O=>{this.manager.itemError(n),typeof s=="function"&&s(O)}),o}}class uKe extends Sz{load(e,r,n,i){const a=this.prepareQuadRenderer(),s=new Ry(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,o=>Fn(this,null,function*(){if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const A=new Uint8Array(o);let l,c,u;try{const f=yield R9e(A);l=f.sdr,c=f.gainMap,u=f.metadata}catch(f){if(f instanceof Cz||f instanceof Bz)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),u={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},l=A;else throw f}try{yield this.render(a,u,l,c)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),a.disposeOnDemandRenderer();return}typeof r=="function"&&r(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()}),n,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),a}}var D9e={};const m8=t=>{let e;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=(u!=null?u:typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(d=>d(e,h))}},i=()=>e,A={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(D9e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=e=t(n,i,A);return A},M9e=t=>t?m8(t):m8;var Tz={};const{useDebugValue:N9e}=he,{useSyncExternalStoreWithSelector:k9e}=NH;let v8=!1;const Q9e=t=>t;function H9e(t,e=Q9e,r){(Tz?"production":void 0)!=="production"&&r&&!v8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),v8=!0);const n=k9e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return N9e(n),n}const y8=t=>{(Tz?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?M9e(t):t,r=(n,i)=>H9e(e,n,i);return Object.assign(r,e),r},$9e=t=>t?y8(t):y8;var b8,w8;const x8=typeof window!="undefined"&&((b8=window.document)!=null&&b8.createElement||((w8=window.navigator)==null?void 0:w8.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function fKe(){const t=$9e(e=>({current:new Array,version:0,set:e}));return{In:({children:e})=>{const r=t(i=>i.set),n=t(i=>i.version);return x8(()=>{r(i=>({version:i.version+1}))},[]),x8(()=>(r(({current:i})=>({current:[...i,e]})),()=>r(({current:i})=>({current:i.filter(a=>a!==e)}))),[e,n]),null},Out:()=>{const e=t(r=>r.current);return he.createElement(he.Fragment,null,e)}}}var Uf=typeof self!="undefined"?self:{};function Zb(t,e){e:{for(var r=["CLOSURE_FLAGS"],n=Uf,i=0;i<r.length;i++)if((n=n[r[i]])==null){r=null;break e}r=n}return(t=r&&r[t])!=null?t:e}function Ku(){throw Error("Invalid UTF8")}function E8(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}let Ly,f5;const j9e=typeof TextDecoder!="undefined";let G9e;const K9e=typeof TextEncoder!="undefined";function _z(t){if(K9e)t=(G9e||(G9e=new TextEncoder)).encode(t);else{let r=0;const n=new Uint8Array(3*t.length);for(let i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<128)n[r++]=e;else{if(e<2048)n[r++]=e>>6|192;else{if(e>=55296&&e<=57343){if(e<=56319&&i<t.length){const a=t.charCodeAt(++i);if(a>=56320&&a<=57343){e=1024*(e-55296)+a-56320+65536,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128;continue}i--}e=65533}n[r++]=e>>12|224,n[r++]=e>>6&63|128}n[r++]=63&e|128}}t=r===n.length?n:n.subarray(0,r)}return t}var Rm,Lz=Zb(610401301,!1),V9e=Zb(653718497,Zb(1,!0)),Iz=Zb(660014094,!1);const B8=Uf.navigator;function j_(t){return!!Lz&&!!Rm&&Rm.brands.some(({brand:e})=>e&&e.indexOf(t)!=-1)}function Js(t){var e;return(e=Uf.navigator)&&(e=e.userAgent)||(e=""),e.indexOf(t)!=-1}function Mc(){return!!Lz&&!!Rm&&Rm.brands.length>0}function h5(){return Mc()?j_("Chromium"):(Js("Chrome")||Js("CriOS"))&&!(!Mc()&&Js("Edge"))||Js("Silk")}function XL(t){return XL[" "](t),t}Rm=B8&&B8.userAgentData||null,XL[" "]=function(){};var W9e=!Mc()&&(Js("Trident")||Js("MSIE"));!Js("Android")||h5(),h5(),Js("Safari")&&(h5()||!Mc()&&Js("Coast")||!Mc()&&Js("Opera")||!Mc()&&Js("Edge")||(Mc()?j_("Microsoft Edge"):Js("Edg/"))||Mc()&&j_("Opera"));var Oz={},p0=null;function z9e(t){var e=t.length,r=3*e/4;r%3?r=Math.floor(r):"=.".indexOf(t[e-1])!=-1&&(r="=.".indexOf(t[e-2])!=-1?r-2:r-1);var n=new Uint8Array(r),i=0;return function(a,s){function o(h){for(;A<a.length;){var d=a.charAt(A++),p=p0[d];if(p!=null)return p;if(!/^[\s\xa0]*$/.test(d))throw Error("Unknown base64 encoding at char: "+d)}return h}Fz();for(var A=0;;){var l=o(-1),c=o(0),u=o(64),f=o(64);if(f===64&&l===-1)break;s(l<<2|c>>4),u!=64&&(s(c<<4&240|u>>2),f!=64&&s(u<<6&192|f))}}(t,function(a){n[i++]=a}),i!==r?n.subarray(0,i):n}function Fz(){if(!p0){p0={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;r<5;r++){var n=t.concat(e[r].split(""));Oz[r]=n;for(var i=0;i<n.length;i++){var a=n[i];p0[a]===void 0&&(p0[a]=i)}}}}var Pz=typeof Uint8Array!="undefined",Uz=!W9e&&typeof btoa=="function";function C8(t){if(!Uz){var e;e===void 0&&(e=0),Fz(),e=Oz[e];var r=Array(Math.floor(t.length/3)),n=e[64]||"";let A=0,l=0;for(;A<t.length-2;A+=3){var i=t[A],a=t[A+1],s=t[A+2],o=e[i>>2];i=e[(3&i)<<4|a>>4],a=e[(15&a)<<2|s>>6],s=e[63&s],r[l++]=o+i+a+s}switch(o=0,s=n,t.length-A){case 2:s=e[(15&(o=t[A+1]))<<2]||n;case 1:t=t[A],r[l]=e[t>>2]+e[(3&t)<<4|o>>4]+s+n}return r.join("")}for(e="",r=0,n=t.length-10240;r<n;)e+=String.fromCharCode.apply(null,t.subarray(r,r+=10240));return e+=String.fromCharCode.apply(null,r?t.subarray(r):t),btoa(e)}const S8=/[-_.]/g,Y9e={"-":"+",_:"/",".":"="};function q9e(t){return Y9e[t]||""}function Rz(t){if(!Uz)return z9e(t);S8.test(t)&&(t=t.replace(S8,q9e)),t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function vv(t){return Pz&&t!=null&&t instanceof Uint8Array}var cp={};let X9e;function Dz(t){if(t!==cp)throw Error("illegal external caller")}function Rf(){return X9e||(X9e=new jl(null,cp))}function JL(t){Dz(cp);var e=t.ba;return(e=e==null||vv(e)?e:typeof e=="string"?Rz(e):null)==null?e:t.ba=e}var jl=class{constructor(t,e){if(Dz(e),this.ba=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}ua(){return new Uint8Array(JL(this)||0)}};function Mz(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}let d5;function Df(){const t=Error();Mz(t,"incident"),function(e){Uf.setTimeout(()=>{throw e},0)}(t)}function G_(t){return Mz(t=Error(t),"warning"),t}function ZL(){return typeof BigInt=="function"}function Ls(t){return Array.prototype.slice.call(t)}var Mp=typeof Symbol=="function"&&typeof Symbol()=="symbol";function Rx(t){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():t}var yv=Rx(),T8=Rx("0di"),p5=Rx("2ex"),t0=Rx("1oa"),Dx=Mp?(t,e)=>{t[yv]|=e}:(t,e)=>{t.G!==void 0?t.G|=e:Object.defineProperties(t,{G:{value:e,configurable:!0,writable:!0,enumerable:!1}})},ew=Mp?(t,e)=>{t[yv]&=~e}:(t,e)=>{t.G!==void 0&&(t.G&=~e)},Qn=Mp?t=>0|t[yv]:t=>0|t.G,wr=Mp?t=>t[yv]:t=>t.G,vn=Mp?(t,e)=>{t[yv]=e}:(t,e)=>{t.G!==void 0?t.G=e:Object.defineProperties(t,{G:{value:e,configurable:!0,writable:!0,enumerable:!1}})};function Np(t){return Dx(t,34),t}function J9e(t,e){vn(e,-14591&(0|t))}function K_(t,e){vn(e,-14557&(34|t))}var eI,bv={},Nz={};function _8(t){return!(!t||typeof t!="object"||t.La!==Nz)}function Mx(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function tI(t,e,r){if(t!=null){if(typeof t=="string")t=t?new jl(t,cp):Rf();else if(t.constructor!==jl)if(vv(t))t=t.length?new jl(r?t:new Uint8Array(t),cp):Rf();else{if(!e)throw Error();t=void 0}}return t}function tw(t){return!(!Array.isArray(t)||t.length)&&!!(1&Qn(t))}const L8=[];function nc(t){if(2&t)throw Error()}vn(L8,55),eI=Object.freeze(L8);class rw{constructor(e,r,n){this.l=0,this.g=e,this.h=r,this.m=n}next(){if(this.l<this.g.length){const e=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,e):e}}return{done:!0,value:void 0}}[Symbol.iterator](){return new rw(this.g,this.h,this.m)}}let Jc;function kz(t,e){(e=Jc?e[Jc]:void 0)&&(t[Jc]=Ls(e))}var Z9e=Object.freeze({}),eje=Object.freeze({});function Nx(t){return t.Sa=!0,t}var tje=Nx(t=>typeof t=="number"),I8=Nx(t=>typeof t=="string"),rje=Nx(t=>typeof t=="boolean"),kx=typeof Uf.BigInt=="function"&&typeof Uf.BigInt(0)=="bigint",V_=Nx(t=>kx?t>=ije&&t<=sje:t[0]==="-"?O8(t,nje):O8(t,aje));const nje=Number.MIN_SAFE_INTEGER.toString(),ije=kx?BigInt(Number.MIN_SAFE_INTEGER):void 0,aje=Number.MAX_SAFE_INTEGER.toString(),sje=kx?BigInt(Number.MAX_SAFE_INTEGER):void 0;function O8(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let r=0;r<t.length;r++){const n=t[r],i=e[r];if(n>i)return!1;if(n<i)return!0}}const oje=typeof Uint8Array.prototype.slice=="function";let Qz,Nr=0,Cn=0;function F8(t){const e=t>>>0;Nr=e,Cn=(t-e)/4294967296>>>0}function up(t){if(t<0){F8(-t);const[e,r]=aI(Nr,Cn);Nr=e>>>0,Cn=r>>>0}else F8(t)}function rI(t){const e=Qz||(Qz=new DataView(new ArrayBuffer(8)));e.setFloat32(0,+t,!0),Cn=0,Nr=e.getUint32(0,!0)}function nI(t,e){return 4294967296*e+(t>>>0)}function iI(t,e){const r=2147483648&e;return r&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),t=nI(t,e),r?-t:t}function nw(t,e){if(t>>>=0,(e>>>=0)<=2097151)var r=""+(4294967296*e+t);else ZL()?r=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(r=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),r+=8147497*e,e*=2,t>=1e7&&(r+=t/1e7>>>0,t%=1e7),r>=1e7&&(e+=r/1e7>>>0,r%=1e7),r=e+P8(r)+P8(t));return r}function P8(t){return t=String(t),"0000000".slice(t.length)+t}function Qx(t){if(t.length<16)up(Number(t));else if(ZL())t=BigInt(t),Nr=Number(t&BigInt(4294967295))>>>0,Cn=Number(t>>BigInt(32)&BigInt(4294967295));else{const e=+(t[0]==="-");Cn=Nr=0;const r=t.length;for(let n=e,i=(r-e)%6+e;i<=r;n=i,i+=6){const a=Number(t.slice(n,i));Cn*=1e6,Nr=1e6*Nr+a,Nr>=4294967296&&(Cn+=Math.trunc(Nr/4294967296),Cn>>>=0,Nr>>>=0)}if(e){const[n,i]=aI(Nr,Cn);Nr=n,Cn=i}}}function aI(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}function vu(t){return t==null||typeof t=="number"?t:t==="NaN"||t==="Infinity"||t==="-Infinity"?Number(t):void 0}function Hz(t){return t==null||typeof t=="boolean"?t:typeof t=="number"?!!t:void 0}const Aje=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Hx(t){const e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return e==="string"&&Aje.test(t)}function kp(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?0|t:void 0}function lje(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?t>>>0:void 0}function U8(t){return t[0]!=="-"&&(t.length<20||t.length===20&&Number(t.substring(0,6))<184467)}function sI(t){return t=Math.trunc(t),Number.isSafeInteger(t)||(up(t),t=iI(Nr,Cn)),t}function oI(t){var e=Math.trunc(Number(t));if(Number.isSafeInteger(e))return String(e);if((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),!(t[0]==="-"?t.length<20||t.length===20&&Number(t.substring(0,7))>-922337:t.length<19||t.length===19&&Number(t.substring(0,6))<922337))if(Qx(t),t=Nr,2147483648&(e=Cn))if(ZL())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{const[r,n]=aI(t,e);t="-"+nw(r,n)}else t=nw(t,e);return t}function iw(t){return t==null?t:typeof t=="bigint"?(V_(t)?t=Number(t):(t=BigInt.asIntN(64,t),t=V_(t)?Number(t):String(t)),t):Hx(t)?typeof t=="number"?sI(t):oI(t):void 0}function cje(t){if(t==null)return t;var e=typeof t;if(e==="bigint")return String(BigInt.asUintN(64,t));if(Hx(t)){if(e==="string")return e=Math.trunc(Number(t)),Number.isSafeInteger(e)&&e>=0?t=String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),U8(t)||(Qx(t),t=nw(Nr,Cn))),t;if(e==="number")return(t=Math.trunc(t))>=0&&Number.isSafeInteger(t)?t:function(r){if(r<0){up(r);const n=nw(Nr,Cn);return r=Number(n),Number.isSafeInteger(r)?r:n}return U8(String(r))?r:(up(r),nI(Nr,Cn))}(t)}}function $z(t){if(typeof t!="string")throw Error();return t}function Qp(t){if(t!=null&&typeof t!="string")throw Error();return t}function Zc(t){return t==null||typeof t=="string"?t:void 0}function AI(t,e,r,n){if(t!=null&&typeof t=="object"&&t.Y===bv)return t;if(!Array.isArray(t))return r?2&n?(t=e[T8])?e=t:(Np((t=new e).u),e=e[T8]=t):e=new e:e=void 0,e;let i=r=Qn(t);return i===0&&(i|=32&n),i|=2&n,i!==r&&vn(t,i),new e(t)}function uje(t,e,r){if(e)e:{if(!Hx(e=t))throw G_("int64");switch(typeof e){case"string":e=oI(e);break e;case"bigint":if(t=e=BigInt.asIntN(64,e),I8(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(tje(t)&&!Number.isSafeInteger(t))throw Error(String(t));e=kx?BigInt(e):rje(e)?e?"1":"0":I8(e)?e.trim()||"0":String(e);break e;default:e=sI(e)}}else e=iw(t);return typeof(r=(t=e)==null?r?0:void 0:t)=="string"&&(e=+r,Number.isSafeInteger(e))?e:r}function jz(t){if(r0===void 0&&(r0=typeof Proxy=="function"?Kz(Proxy):null),!r0||!Gz())return t;let e=da==null?void 0:da.get(t);return e||(Math.random()>.01?t:(function(r){if(g5===void 0){const n=new r0([],{});g5=Array.prototype.concat.call([],n).length===1}g5&&typeof Symbol=="function"&&Symbol.isConcatSpreadable&&(r[Symbol.isConcatSpreadable]=!0)}(t),e=new r0(t,{set:(r,n,i)=>(Df(),r[n]=i,!0)}),function(r,n){(da||(da=new Ef)).set(r,n),(h2||(h2=new Ef)).set(n,r)}(t,e),e))}let da,h2,r0,Ef,g5,Cs,aw,fje,hje;function Gz(){return Ef===void 0&&(Ef=typeof WeakMap=="function"?Kz(WeakMap):null),Ef}function Kz(t){try{return t.toString().indexOf("[native code]")!==-1?t:null}catch(e){return null}}function lI(t,e,r){var s;if(V9e&&Gz()){if((s=Cs==null?void 0:Cs.get(e))!=null&&s.get(t)){if(r)return}else if(Math.random()>.01)return;var n=t.length;r={length:n};for(var i=0;i<Math.min(n,10);i++){if(n<=10)var a=i;else{a=n/10;const o=Math.floor(i*a);a=o+Math.floor(Math.random()*(Math.floor((i+1)*a)-o))}r[a]=t[a]}Vz(t,r)?((i=(n=Cs||(Cs=new Ef)).get(e))||(i=new Ef,n.set(e,i)),i.set(t,r)):(Df(),Dm(t,e))}}function sw(t,e){var n;const r=(n=Cs==null?void 0:Cs.get(e))==null?void 0:n.get(t);r&&!Vz(t,r)&&(Df(),Dm(t,e))}function Vz(t,e){if(t.length!==e.length)return!1;for(const i in e){var r,n=Number(i);if((r=Number.isInteger(n))&&(r=t[n],n=e[n],r=!(Number.isNaN(r)?Number.isNaN(n):r===n)),r)return!1}return!0}function $x(t){if(t&&(Cs!=null&&Cs.has(t))){var e=t.u;if(e)for(let r=0;r<e.length;r++){const n=e[r];if(r===e.length-1&&Mx(n))for(const i in n){const a=n[i];Array.isArray(a)&&sw(a,t)}else Array.isArray(n)&&sw(n,t)}}}function Dm(t,e){var r;(r=Cs==null?void 0:Cs.get(e))==null||r.delete(t)}function Bf(t,e){return t=Wz(t,e[0],e[1]),Dx(t,16384),t}function Wz(t,e,r){if(t==null&&(t=aw),aw=void 0,t==null){var n=96;r?(t=[r],n|=512):t=[],e&&(n=-33521665&n|(1023&e)<<15)}else{if(!Array.isArray(t))throw Error("narr");if(2048&(n=Qn(t)))throw Error("farr");if(64&n)return t;if(n|=64,r&&(n|=512,r!==t[0]))throw Error("mid");e:{const i=(r=t).length;if(i){const a=i-1;if(Mx(r[a])){if((e=a-(+!!(512&(n|=256))-1))>=1024)throw Error("pvtlmt");n=-33521665&n|(1023&e)<<15;break e}}if(e){if((e=Math.max(e,i-(+!!(512&n)-1)))>1024)throw Error("spvt");n=-33521665&n|(1023&e)<<15}}}return vn(t,n),t}const dje={};let pje=function(){try{return XL(new class extends Map{constructor(){super()}}),!1}catch(t){return!0}}();class m5{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,r){return this.g.set(e,r),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,r){return this.g.forEach(e,r)}[Symbol.iterator](){return this.entries()}}const gje=pje?(Object.setPrototypeOf(m5.prototype,Map.prototype),Object.defineProperties(m5.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),m5):class extends Map{constructor(){super()}};function R8(t){return t}function v5(t){if(2&t.M)throw Error("Cannot mutate an immutable Map")}var uo=class extends gje{constructor(t,e,r=R8,n=R8){super();let i=Qn(t);i|=64,vn(t,i),this.M=i,this.U=e,this.T=r,this.aa=this.U?mje:n;for(let a=0;a<t.length;a++){const s=t[a],o=r(s[0],!1,!0);let A=s[1];e?A===void 0&&(A=null):A=n(s[1],!1,!0,void 0,void 0,i),super.set(o,A)}}pa(t=D8){if(this.size!==0)return this.Z(t)}Z(t=D8){const e=[],r=super.entries();for(var n;!(n=r.next()).done;)(n=n.value)[0]=t(n[0]),n[1]=t(n[1]),e.push(n);return e}clear(){v5(this),super.clear()}delete(t){return v5(this),super.delete(this.T(t,!0,!1))}entries(){var t=this.oa();return new rw(t,vje,this)}keys(){return this.Ka()}values(){var t=this.oa();return new rw(t,uo.prototype.get,this)}forEach(t,e){super.forEach((r,n)=>{t.call(e,this.get(n),n,this)})}set(t,e){return v5(this),(t=this.T(t,!0,!1))==null?this:e==null?(super.delete(t),this):super.set(t,this.aa(e,!0,!0,this.U,!1,this.M))}Qa(t){const e=this.T(t[0],!1,!0);t=t[1],t=this.U?t===void 0?null:t:this.aa(t,!1,!0,void 0,!1,this.M),super.set(e,t)}has(t){return super.has(this.T(t,!1,!1))}get(t){t=this.T(t,!1,!1);const e=super.get(t);if(e!==void 0){var r=this.U;return r?((r=this.aa(e,!1,!0,r,this.va,this.M))!==e&&super.set(t,r),r):e}}oa(){return Array.from(super.keys())}Ka(){return super.keys()}[Symbol.iterator](){return this.entries()}};function mje(t,e,r,n,i,a){return t=AI(t,n,r,a),i&&(t=Gx(t)),t}function D8(t){return t}function vje(t){return[t,this.get(t)]}let yje;function M8(){return yje||(yje=new uo(Np([]),void 0,void 0,void 0,dje))}function cI(t,e,r,n,i){if(t!=null){if(Array.isArray(t))t=tw(t)?void 0:i&&2&Qn(t)?t:jx(t,e,r,n!==void 0,i);else if(Mx(t)){const a={};for(let s in t)a[s]=cI(t[s],e,r,n,i);t=a}else t=e(t,n);return t}}function jx(t,e,r,n,i){const a=n||r?Qn(t):0;n=n?!!(32&a):void 0;const s=Ls(t);for(let o=0;o<s.length;o++)s[o]=cI(s[o],e,r,n,i);return r&&(kz(s,t),r(a,s)),s}function bje(t){return cI(t,uI,void 0,void 0,!1)}function uI(t){return t.Y===bv?t.toJSON():t instanceof uo?t.pa(bje):function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"bigint":return V_(e)?Number(e):String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(tw(e))return}else{if(vv(e))return C8(e);if(e instanceof jl){const r=e.ba;return r==null?"":typeof r=="string"?r:e.ba=C8(r)}if(e instanceof uo)return e.pa()}}return e}(t)}function W_(t,e,r=K_){if(t!=null){if(Pz&&t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var n=Qn(t);return 2&n?t:(e&&(e=n===0||!!(32&n)&&!(64&n||!(16&n))),e?(vn(t,-12293&(34|n)),t):jx(t,W_,4&n?K_:r,!0,!0))}return t.Y===bv?(r=t.u,t=2&(n=wr(r))?t:fI(t,r,n,!0)):t instanceof uo&&!(2&t.M)&&(r=Np(t.Z(W_)),t=new uo(r,t.U,t.T,t.aa)),t}}function fI(t,e,r,n){return $x(t),t=t.constructor,aw=e=zz(e,r,n),e=new t(e),aw=void 0,e}function zz(t,e,r){const n=r||2&e?K_:J9e,i=!!(32&e);return t=function(a,s,o){const A=Ls(a);var l=A.length;const c=256&s?A[l-1]:void 0;for(l+=c?-1:0,s=512&s?1:0;s<l;s++)A[s]=o(A[s]);if(c){s=A[s]={};for(const u in c)s[u]=o(c[u])}return kz(A,a),A}(t,e,a=>W_(a,i,n)),Dx(t,32|(r?2:0)),t}function Gx(t){const e=t.u,r=wr(e);return 2&r?fI(t,e,r,!1):t}function Yz(t,e,r,n){return!(4&e)||r!=null}function su(t,e){return qA(t=t.u,wr(t),e)}function N8(t,e,r,n){if(!((e=n+(+!!(512&e)-1))<0||e>=t.length||e>=r))return t[e]}function qA(t,e,r,n){if(r===-1)return null;const i=e>>15&1023||536870912;if(!(r>=i)){var a=t.length;return n&&256&e&&(n=t[a-1][r])!=null?(N8(t,e,i,r)&&p5!=null&&((e=(t=d5!=null?d5:d5={})[p5]||0)>=4||(t[p5]=e+1,Df())),n):N8(t,e,i,r)}return 256&e?t[t.length-1][r]:void 0}function Vr(t,e,r){const n=t.u;let i=wr(n);return nc(i),un(n,i,e,r),t}function un(t,e,r,n){const i=e>>15&1023||536870912;if(r>=i){let a,s=e;if(256&e)a=t[t.length-1];else{if(n==null)return s;a=t[i+(+!!(512&e)-1)]={},s|=256}return a[r]=n,r<i&&(t[r+(+!!(512&e)-1)]=void 0),s!==e&&vn(t,s),s}return t[r+(+!!(512&e)-1)]=n,256&e&&r in(t=t[t.length-1])&&delete t[r],e}function Hp(t,e,r,n,i){var a=2&e;i=qA(t,e,r,i),Array.isArray(i)||(i=eI);const s=!(2&n);n=!(1&n);const o=!!(32&e);let A=Qn(i);return A!==0||!o||a||s?1&A||(A|=1,vn(i,A)):(A|=33,vn(i,A)),a?(t=!1,2&A||(Np(i),t=!!(4&A)),(n||t)&&Object.freeze(i)):(a=!!(2&A)||!!(2048&A),n&&a?(i=Ls(i),a=1,o&&!s&&(a|=32),vn(i,a),un(t,e,r,i)):s&&32&A&&!a&&ew(i,32)),i}function d2(t,e){t=t.u;let r=wr(t);const n=qA(t,r,e),i=vu(n);return i!=null&&i!==n&&un(t,r,e,i),i}function qz(t){t=t.u;let e=wr(t);const r=qA(t,e,1),n=tI(r,!0,!!(34&e));return n!=null&&n!==r&&un(t,e,1,n),n}function uf(){return Z9e===void 0?2:5}function ff(t,e,r,n,i,a){const s=t.u;let o=wr(s);n=2&o?1:n,a=!!a,i=Xz(s,o,e,i);var A=Qn(i),l=i;if(sw(l,t),n!==2&&n!==1||Dm(l,t),Yz(t,A,void 0)){4&A&&(i=Ls(i),A=Mf(A,o),o=un(s,o,e,i));let u=l=0;for(;l<i.length;l++){const f=r(i[l]);f!=null&&(i[u++]=f)}u<l&&(i.length=u),A=-4097&(20|(A=Jz(A,o))),vn(i,A&=-8193),2&A&&Object.freeze(i)}let c;return n===1||n===4&&32&A?Fl(A)||(t=A,(A|=2)!==t&&vn(i,A),Object.freeze(i)):(r=n===5&&(!!(32&A)||Fl(A)||!!(da!=null&&da.get(i))),(n===2||r)&&Fl(A)&&(i=Ls(i),A=fp(A=Mf(A,o),o,a),vn(i,A),o=un(s,o,e,i)),Fl(A)||(e=A,(A=fp(A,o,a))!==e&&vn(i,A)),r?(c=jz(i),lI(i,t,!0)):n!==2||a||(da==null||da.delete(i))),c||i}function Xz(t,e,r,n){return t=qA(t,e,r,n),Array.isArray(t)?t:eI}function Jz(t,e){return t===0&&(t=Mf(t,e)),1|t}function Fl(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function Zz(t){t=Ls(t);for(let e=0;e<t.length;e++){const r=t[e]=Ls(t[e]);Array.isArray(r[1])&&(r[1]=Np(r[1]))}return t}function z_(t,e,r,n){t=t.u;let i=wr(t);nc(i),un(t,i,e,(n==="0"?Number(r)===0:r===n)?void 0:r)}function y5(t,e){var r=PY;return dI(hI(t=t.u),t,wr(t),r)===e?e:-1}function hI(t){var r;if(Mp)return(r=t[t0])!=null?r:t[t0]=new Map;if(t0 in t)return t[t0];const e=new Map;return Object.defineProperty(t,t0,{value:e}),e}function eY(t,e,r,n){const i=hI(t),a=dI(i,t,e,r);return a!==n&&(a&&(e=un(t,e,a)),i.set(r,n)),e}function dI(t,e,r,n){let i=t.get(n);if(i!=null)return i;i=0;for(let a=0;a<n.length;a++){const s=n[a];qA(e,r,s)!=null&&(i!==0&&(r=un(e,r,i)),i=s)}return t.set(n,i),i}function pI(t,e,r,n){let i,a=wr(t);if((n=qA(t,a,r,n))!=null&&n.Y===bv)return(e=Gx(n))!==n&&un(t,a,r,e),e.u;if(Array.isArray(n)){const s=Qn(n);i=2&s?zz(n,s,!1):n,i=Bf(i,e)}else i=Bf(void 0,e);return i!==n&&un(t,a,r,i),i}function tY(t,e,r,n){t=t.u;let i=wr(t);return(e=AI(n=qA(t,i,r,n),e,!1,i))!==n&&e!=null&&un(t,i,r,e),e}function sr(t,e,r,n=!1){if((e=tY(t,e,r,n))==null)return e;if(t=t.u,!(2&(n=wr(t)))){const i=Gx(e);i!==e&&un(t,n,r,e=i)}return e}function rY(t,e,r,n,i,a,s){const o=t.u;var A=!!(2&e);i=A?1:i,a=!!a,s&&(s=!A),A=Xz(o,e,n);var l=Qn(A),c=A;if(sw(c,t),i!==2&&i!==1||Dm(c,t),!(c=!!(4&l))){var u=A,f=e;const d=!!(2&(l=Jz(l,e)));d&&(f|=2);let p=!d,g=!0,v=0,y=0;for(;v<u.length;v++){const w=AI(u[v],r,!1,f);if(w instanceof r){if(!d){const S=!!(2&Qn(w.u));p&&(p=!S),g&&(g=S)}u[y++]=w}}y<v&&(u.length=y),l|=4,l=g?16|l:-17&l,vn(u,l=p?8|l:-9&l),d&&Object.freeze(u)}if(s&&!(8&l||!A.length&&(i===1||i===4&&32&l))){for(Fl(l)?(A=Ls(A),l=Mf(l,e),e=un(o,e,n,A)):Dm(A,t),r=A,s=l,u=0;u<r.length;u++)(l=r[u])!==(f=Gx(l))&&(r[u]=f);s|=8,s=r.length?-17&s:16|s,vn(r,s),l=s}let h;return i===1||i===4&&32&l?Fl(l)||(t=l,(l|=!A.length||16&l&&(!c||32&l)?2:2048)!==t&&vn(A,l),Object.freeze(A)):(c=i===5&&(!!(32&l)||Fl(l)||!!(da!=null&&da.get(A))),(i===2||c)&&Fl(l)&&(A=Ls(A),l=fp(l=Mf(l,e),e,a),vn(A,l),e=un(o,e,n,A)),Fl(l)||(n=l,(l=fp(l,e,a))!==n&&vn(A,l)),c?(h=jz(A),lI(A,t,!0)):i!==2||a||(da==null||da.delete(A))),h||A}function Xl(t,e,r){const n=wr(t.u);return rY(t,n,e,r,uf(),!1,!(2&n))}function xt(t,e,r,n){return n==null&&(n=void 0),Vr(t,r,n)}function M0(t,e,r,n){n==null&&(n=void 0);e:{t=t.u;let i=wr(t);if(nc(i),n==null){const a=hI(t);if(dI(a,t,i,r)!==e)break e;a.set(r,0)}else i=eY(t,i,r,e);un(t,i,e,n)}}function Mf(t,e){return-2049&(t=32|(2&e?2|t:-3&t))}function fp(t,e,r){return 32&e&&r||(t&=-33),t}function ow(t,e,r,n){const i=wr(t.u);nc(i),t=rY(t,i,r,e,2,!0),r=n!=null?n:new r,t.push(r),2&Qn(r.u)?ew(t,8):ew(t,16)}function Ko(t,e){return t!=null?t:e}function ro(t,e){return kp(su(t,e))}function Rn(t,e){return Ko(d2(t,e),0)}function jA(t,e){return Ko(Zc(su(t,e)),"")}function Mm(t,e,r){if(r!=null&&typeof r!="boolean")throw t=typeof r,Error(`Expected boolean but got ${t!="object"?t:r?Array.isArray(r)?"array":t:"null"}: ${r}`);Vr(t,e,r)}function GA(t,e,r){if(r!=null){if(typeof r!="number"||!Number.isFinite(r))throw G_("int32");r|=0}Vr(t,e,r)}function gt(t,e,r){if(r!=null&&typeof r!="number")throw Error(`Value of float/double field must be a number, found ${typeof r}: ${r}`);Vr(t,e,r)}function Aw(t,e,r){{const o=t.u;let A=wr(o);if(nc(A),r==null)un(o,A,e);else{r=(h2==null?void 0:h2.get(r))||r;var n,i=Qn(r),a=i,s=!!(2&i)||Object.isFrozen(r);if((n=!s)&&(n=eje===void 0||!1),Yz(t,i)){i=21,s&&(r=Ls(r),a=0,i=fp(i=Mf(i,A),A,!0));for(let l=0;l<r.length;l++)r[l]=$z(r[l])}n?(r=Ls(r),a=0,i=fp(i=Mf(i,A),A,!0)):s||lI(r,t),i!==a&&vn(r,i),un(o,A,e,r)}}}function Kx(t,e,r){nc(wr(t.u)),ff(t,e,Zc,2,void 0,!0).push($z(r))}function nY(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function gI(){return Error("Failed to read varint, encoding is invalid.")}function iY(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function mI(t){if(typeof t=="string")return{buffer:Rz(t),O:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Uint8Array)return{buffer:t,O:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),O:!1};if(t.constructor===jl)return{buffer:JL(t)||new Uint8Array(0),O:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function vI(t,e){let r,n=0,i=0,a=0;const s=t.h;let o=t.g;do r=s[o++],n|=(127&r)<<a,a+=7;while(a<32&&128&r);for(a>32&&(i|=(127&r)>>4),a=3;a<32&&128&r;a+=7)r=s[o++],i|=(127&r)<<a;if(Cf(t,o),r<128)return e(n>>>0,i>>>0);throw gI()}function yI(t){let e=0,r=t.g;const n=r+10,i=t.h;for(;r<n;){const a=i[r++];if(e|=a,(128&a)==0)return Cf(t,r),!!(127&e)}throw gI()}function ou(t){const e=t.h;let r=t.g,n=e[r++],i=127&n;if(128&n&&(n=e[r++],i|=(127&n)<<7,128&n&&(n=e[r++],i|=(127&n)<<14,128&n&&(n=e[r++],i|=(127&n)<<21,128&n&&(n=e[r++],i|=n<<28,128&n&&128&e[r++]&&128&e[r++]&&128&e[r++]&&128&e[r++]&&128&e[r++])))))throw gI();return Cf(t,r),i}function Au(t){return ou(t)>>>0}function Y_(t){var e=t.h;const r=t.g,n=e[r],i=e[r+1],a=e[r+2];return e=e[r+3],Cf(t,t.g+4),(n<<0|i<<8|a<<16|e<<24)>>>0}function q_(t){var e=Y_(t);t=2*(e>>31)+1;const r=e>>>23&255;return e&=8388607,r==255?e?NaN:t*(1/0):r==0?1401298464324817e-60*t*e:t*Math.pow(2,r-150)*(e+8388608)}function wje(t){return ou(t)}function b5(t,e,{ea:r=!1}={}){t.ea=r,e&&(e=mI(e),t.h=e.buffer,t.m=e.O,t.j=0,t.l=t.h.length,t.g=t.j)}function Cf(t,e){if(t.g=e,e>t.l)throw iY(t.l,e)}function aY(t,e){if(e<0)throw Error(`Tried to read a negative byte length: ${e}`);const r=t.g,n=r+e;if(n>t.l)throw iY(e,t.l-r);return t.g=n,r}function sY(t,e){if(e==0)return Rf();var r=aY(t,e);return t.ea&&t.m?r=t.h.subarray(r,r+e):(t=t.h,r=r===(e=r+e)?new Uint8Array(0):oje?t.slice(r,e):new Uint8Array(t.subarray(r,e))),r.length==0?Rf():new jl(r,cp)}uo.prototype.toJSON=void 0,uo.prototype.La=Nz;var k8=[];function oY(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var r=Au(t.g);if(e=r>>>3,!((r&=7)>=0&&r<=5))throw nY(r,t.l);if(e<1)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=r,!0}function p2(t){switch(t.h){case 0:t.h!=0?p2(t):yI(t.g);break;case 1:Cf(t=t.g,t.g+8);break;case 2:if(t.h!=2)p2(t);else{var e=Au(t.g);Cf(t=t.g,t.g+e)}break;case 5:Cf(t=t.g,t.g+4);break;case 3:for(e=t.m;;){if(!oY(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.m!=e)throw Error("Unmatched end-group tag");break}p2(t)}break;default:throw nY(t.h,t.l)}}function wv(t,e,r){const n=t.g.l,i=Au(t.g),a=t.g.g+i;let s=a-n;if(s<=0&&(t.g.l=a,r(e,t,void 0,void 0,void 0),s=a-t.g.g),s)throw Error(`Message parsing ended unexpectedly. Expected to read ${i} bytes, instead read ${i-s} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=a,t.g.l=n,e}function bI(t){var e=Au(t.g),r=aY(t=t.g,e);if(t=t.h,j9e){var n,i=t;(n=f5)||(n=f5=new TextDecoder("utf-8",{fatal:!0})),e=r+e,i=r===0&&e===i.length?i:i.subarray(r,e);try{var a=n.decode(i)}catch(o){if(Ly===void 0){try{n.decode(new Uint8Array([128]))}catch(A){}try{n.decode(new Uint8Array([97])),Ly=!0}catch(A){Ly=!1}}throw!Ly&&(f5=void 0),o}}else{e=(a=r)+e,r=[];let o,A=null;for(;a<e;){var s=t[a++];s<128?r.push(s):s<224?a>=e?Ku():(o=t[a++],s<194||(192&o)!=128?(a--,Ku()):r.push((31&s)<<6|63&o)):s<240?a>=e-1?Ku():(o=t[a++],(192&o)!=128||s===224&&o<160||s===237&&o>=160||(192&(n=t[a++]))!=128?(a--,Ku()):r.push((15&s)<<12|(63&o)<<6|63&n)):s<=244?a>=e-2?Ku():(o=t[a++],(192&o)!=128||o-144+(s<<28)>>30||(192&(n=t[a++]))!=128||(192&(i=t[a++]))!=128?(a--,Ku()):(s=(7&s)<<18|(63&o)<<12|(63&n)<<6|63&i,s-=65536,r.push(55296+(s>>10&1023),56320+(1023&s)))):Ku(),r.length>=8192&&(A=E8(A,r),r.length=0)}a=E8(A,r)}return a}function AY(t){const e=Au(t.g);return sY(t.g,e)}function Vx(t,e,r){var n=Au(t.g);for(n=t.g.g+n;t.g.g<n;)r.push(e(t.g))}var Iy=[];let lw;function tA(t,e,r){e.g?e.m(t,e.g,e.h,r,!0):e.m(t,e.h,r,!0)}var pt=class{constructor(t,e){this.u=Wz(t,e)}toJSON(){return lY(this)}l(){var t=AGe;return t.g?t.l(this,t.g,t.h,!0):t.l(this,t.h,t.defaultValue,!0)}clone(){const t=this.u;return fI(this,t,wr(t),!1)}O(){return!!(2&Qn(this.u))}};function lY(t){$x(t),t=lw?t.u:jx(t.u,uI,void 0,void 0,!1);{var e=!lw;let l=t.length;if(l){var r=t[l-1],n=Mx(r);n?l--:r=void 0;var i=t;if(n){e:{var a,s=r,o=!1;if(s)for(let c in s)isNaN(+c)?(a!=null?a:a={})[c]=s[c]:(n=s[c],Array.isArray(n)&&(tw(n)||_8(n)&&n.size===0)&&(n=null),n==null&&(o=!0),n!=null&&((a!=null?a:a={})[c]=n));if(o||(a=s),a)for(let c in a){o=a;break e}o=null}s=o==null?r!=null:o!==r}for(;l>0&&((a=i[l-1])==null||tw(a)||_8(a)&&a.size===0);l--)var A=!0;(i!==t||s||A)&&(e?(A||s||o)&&(i.length=l):i=Array.prototype.slice.call(i,0,l),o&&i.push(o)),A=i}else A=t}return A}function Q8(t){return t?/^\d+$/.test(t)?(Qx(t),new X_(Nr,Cn)):null:xje||(xje=new X_(0,0))}pt.prototype.Y=bv,pt.prototype.toString=function(){try{return lw=!0,lY(this).toString()}finally{lw=!1}};var X_=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let xje;function H8(t){return t?/^-?\d+$/.test(t)?(Qx(t),new J_(Nr,Cn)):null:Eje||(Eje=new J_(0,0))}var J_=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let Eje;function Sd(t,e,r){for(;r>0||e>127;)t.g.push(127&e|128),e=(e>>>7|r<<25)>>>0,r>>>=7;t.g.push(e)}function xv(t,e){for(;e>127;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function Wx(t,e){if(e>=0)xv(t,e);else{for(let r=0;r<9;r++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function Nm(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function hp(t,e){e.length!==0&&(t.l.push(e),t.h+=e.length)}function po(t,e,r){xv(t.g,8*e+r)}function wI(t,e){return po(t,e,2),e=t.g.end(),hp(t,e),e.push(t.h),e}function xI(t,e){var r=e.pop();for(r=t.h+t.g.length()-r;r>127;)e.push(127&r|128),r>>>=7,t.h++;e.push(r),t.h++}function zx(t,e,r){po(t,e,2),xv(t.g,r.length),hp(t,t.g.end()),hp(t,r)}function Z_(t,e,r,n){r!=null&&(e=wI(t,e),n(r,t),xI(t,e))}class $p{constructor(e,r,n){this.g=e,this.h=r,this.qa=n}}function cY(t){return Array.isArray(t)?t[0]instanceof $p?t:[Pje,t]:[t,void 0]}function jp(t,e){if(Array.isArray(e)){var r=Qn(e);if(4&r)return e;for(var n=0,i=0;n<e.length;n++){const a=t(e[n]);a!=null&&(e[i++]=a)}return i<n&&(e.length=i),vn(e,-12289&(5|r)),2&r&&Object.freeze(e),e}}const $8=Symbol();function EI(t){let e=t[$8];if(!e){const r=BI(t),n=r.h;e=n?(i,a)=>n(i,a,r):(i,a)=>{var l;for(;oY(a)&&a.h!=4;){var s=a.m;let c=r[s];const u=!c;let f=!1;if(!c){var o=r.X;if(o){var A=o[s];A&&(f=(l=o.P)==null?void 0:l[s],(!Iz||f)&&(o=Bje(A))&&(c=r[s]=o))}}c&&c(a,i,s)||(s=(o=a).l,p2(o),o.ja?o=void 0:(A=o.g.g-s,o.g.g=s,o=sY(o.g,A)),s=i,o&&(Jc||(Jc=Symbol()),(A=s[Jc])?A.push(o):s[Jc]=[o])),u&&c&&!f&&e4++<5&&Df()}},t[$8]=e}return e}function Bje(t){const e=(t=cY(t))[0].g;if(t=t[1]){const r=EI(t),n=BI(t).g;return(i,a,s)=>e(i,a,s,n,r)}return e}function Cje(t,e,r){t[e]=r}function uY(t,e,r,n){var i=Cje;e.g=function(u){switch(typeof u){case"boolean":return fje||(fje=[0,void 0,!0]);case"number":return u>0?void 0:u===0?hje||(hje=[0,void 0]):[-u,void 0];case"string":return[0,u];case"object":return u}}(t[0]);let a=0;var s=t[++a];s&&s.constructor===Object&&(e.X=s,typeof(s=t[++a])=="function"&&(e.h=s,e.l=t[++a],s=t[++a]));const o={};for(;Array.isArray(s)&&typeof s[0]=="number"&&s[0]>0;){for(var A=0;A<s.length;A++)o[s[A]]=s;s=t[++a]}for(A=1;s!==void 0;){let u;typeof s=="number"&&(A+=s,s=t[++a]);var l=void 0;if(s instanceof $p?u=s:(u=Uje,a--),u.qa){s=t[++a],l=t;var c=a;typeof s=="function"&&(s=s(),l[c]=s),l=s}for(c=A+1,typeof(s=t[++a])=="number"&&s<0&&(c-=s,s=t[++a]);A<c;A++){const f=o[A];i(e,A,l?n(u,l,f):r(u,f))}}return e}const j8=Symbol();function fY(t){let e=t[j8];if(!e){const r=Yx(t);e=(n,i)=>hY(n,i,r),t[j8]=e}return e}const G8=Symbol();function Sje(t){return t.h}function Tje(t,e){let r,n;const i=t.h;return(a,s,o)=>i(a,s,o,n||(n=Yx(e).g),r||(r=fY(e)))}function Yx(t){let e=t[G8];return e||(e=uY(t,t[G8]={},Sje,Tje))}const K8=Symbol();function _je(t,e){const r=t.g;return e?(n,i,a)=>r(n,i,a,e):r}function Lje(t,e,r){const n=t.g;let i,a;return(s,o,A)=>n(s,o,A,a||(a=BI(e).g),i||(i=EI(e)),r)}function BI(t){let e=t[K8];return e||(e=uY(t,t[K8]={},_je,Lje))}function V8(t,e){var a;var r=t[e];if(r)return r;if(r=t.X){var n=r[e];if(n){var i=(n=cY(n))[0].h;if(n=n[1],r=(a=r.P)==null?void 0:a[e],!Iz||r){if(n){const s=fY(n),o=Yx(n).g;r=(r=t.l)?r(o,s):(A,l,c)=>i(A,l,c,o,s)}else r=i;return t[e]=r}}}}function hY(t,e,r){var A,l,c;for(var n=wr(t),i=+!!(512&n)-1,a=t.length,s=512&n?1:0,o=a+(256&n?-1:0);s<o;s++){const u=t[s];if(u==null)continue;const f=s-i,h=V8(r,f);if(!h)continue;const d=r.X;d!=null&&d[f]&&!((A=d==null?void 0:d.P)!=null&&A[f])&&e4++<5&&Df(),h(e,u,f)}if(256&n){n=t[a-1];for(let u in n)i=+u,!Number.isNaN(i)&&(a=n[u])!=null&&(o=V8(r,i))&&((l=s=r.X)!=null&&l[i]&&!((c=s==null?void 0:s.P)!=null&&c[i])&&e4++<5&&Df(),o(e,a,i))}if(t=Jc?t[Jc]:void 0)for(hp(e,e.g.end()),r=0;r<t.length;r++)hp(e,JL(t[r])||new Uint8Array(0))}function as(t,e){return new $p(t,e,!1)}function Gp(t,e){return new $p(t,e,!1)}function qx(t,e){return new $p(t,e,!0)}function ss(t,e,r){un(t,wr(t),e,r)}var Ije=qx(function(t,e,r,n,i){return t.h===2&&(t=wv(t,Bf([void 0,void 0],n),i),nc(n=wr(e)),(i=qA(e,n,r))instanceof uo?2&i.M?((i=i.Z()).push(t),un(e,n,r,i)):i.Qa(t):Array.isArray(i)?(2&Qn(i)&&un(e,n,r,i=Zz(i)),i.push(t)):un(e,n,r,[t]),!0)},function(t,e,r,n,i){if(e instanceof uo)e.forEach((a,s)=>{Z_(t,r,Bf([s,a],n),i)});else if(Array.isArray(e))for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&Z_(t,r,Bf(s,n),i)}});let e4=0;function dY(t,e,r){if(e=function(n){if(n==null)return n;const i=typeof n;if(i==="bigint")return String(BigInt.asIntN(64,n));if(Hx(n)){if(i==="string")return oI(n);if(i==="number")return sI(n)}}(e),e!=null&&(typeof e=="string"&&H8(e),e!=null))switch(po(t,r,0),typeof e){case"number":t=t.g,up(e),Sd(t,Nr,Cn);break;case"bigint":r=BigInt.asUintN(64,e),r=new J_(Number(r&BigInt(4294967295)),Number(r>>BigInt(32))),Sd(t.g,r.h,r.g);break;default:r=H8(e),Sd(t.g,r.h,r.g)}}function pY(t,e,r){(e=kp(e))!=null&&e!=null&&(po(t,r,0),Wx(t.g,e))}function gY(t,e,r){(e=Hz(e))!=null&&(po(t,r,0),t.g.g.push(e?1:0))}function mY(t,e,r){(e=Zc(e))!=null&&zx(t,r,_z(e))}function Xx(t,e,r,n,i){e instanceof pt?($x(e),e=e.u):e=Array.isArray(e)?Bf(e,n):void 0,Z_(t,r,e,i)}function vY(t,e,r){(e=e==null||typeof e=="string"||vv(e)||e instanceof jl?e:void 0)!=null&&zx(t,r,mI(e).buffer)}function yY(t,e,r){return(t.h===5||t.h===2)&&(e=Hp(e,wr(e),r,2,!1),t.h==2?Vx(t,q_,e):e.push(q_(t.g)),!0)}var ti,Ol=as(function(t,e,r){if(t.h!==1)return!1;var n=t.g;t=Y_(n);const i=Y_(n);n=2*(i>>31)+1;const a=i>>>20&2047;return t=4294967296*(1048575&i)+t,ss(e,r,a==2047?t?NaN:n*(1/0):a==0?5e-324*n*t:n*Math.pow(2,a-1075)*(t+4503599627370496)),!0},function(t,e,r){(e=vu(e))!=null&&(po(t,r,1),t=t.g,(r=Qz||(Qz=new DataView(new ArrayBuffer(8)))).setFloat64(0,+e,!0),Nr=r.getUint32(0,!0),Cn=r.getUint32(4,!0),Nm(t,Nr),Nm(t,Cn))}),vi=as(function(t,e,r){return t.h===5&&(ss(e,r,q_(t.g)),!0)},function(t,e,r){(e=vu(e))!=null&&(po(t,r,5),t=t.g,rI(e),Nm(t,Nr))}),Oje=Gp(yY,function(t,e,r){if((e=jp(vu,e))!=null)for(let s=0;s<e.length;s++){var n=t,i=r,a=e[s];a!=null&&(po(n,i,5),n=n.g,rI(a),Nm(n,Nr))}}),CI=Gp(yY,function(t,e,r){if((e=jp(vu,e))!=null&&e.length){po(t,r,2),xv(t.g,4*e.length);for(let n=0;n<e.length;n++)r=t.g,rI(e[n]),Nm(r,Nr)}}),lu=as(function(t,e,r){return t.h===0&&(ss(e,r,vI(t.g,iI)),!0)},dY),w5=as(function(t,e,r){return t.h===0&&(ss(e,r,(t=vI(t.g,iI))===0?void 0:t),!0)},dY),Fje=as(function(t,e,r){return t.h===0&&(ss(e,r,vI(t.g,nI)),!0)},function(t,e,r){if((e=cje(e))!=null&&(typeof e=="string"&&Q8(e),e!=null))switch(po(t,r,0),typeof e){case"number":t=t.g,up(e),Sd(t,Nr,Cn);break;case"bigint":r=BigInt.asUintN(64,e),r=new X_(Number(r&BigInt(4294967295)),Number(r>>BigInt(32))),Sd(t.g,r.h,r.g);break;default:r=Q8(e),Sd(t.g,r.h,r.g)}}),Tn=as(function(t,e,r){return t.h===0&&(ss(e,r,ou(t.g)),!0)},pY),Jx=Gp(function(t,e,r){return(t.h===0||t.h===2)&&(e=Hp(e,wr(e),r,2,!1),t.h==2?Vx(t,ou,e):e.push(ou(t.g)),!0)},function(t,e,r){if((e=jp(kp,e))!=null&&e.length){r=wI(t,r);for(let n=0;n<e.length;n++)Wx(t.g,e[n]);xI(t,r)}}),fd=as(function(t,e,r){return t.h===0&&(ss(e,r,(t=ou(t.g))===0?void 0:t),!0)},pY),mn=as(function(t,e,r){return t.h===0&&(ss(e,r,yI(t.g)),!0)},gY),N0=as(function(t,e,r){return t.h===0&&(ss(e,r,(t=yI(t.g))===!1?void 0:t),!0)},gY),ca=Gp(function(t,e,r){if(t.h!==2)return!1;t=bI(t);const n=wr(e);return nc(n),Hp(e,n,r,2).push(t),!0},function(t,e,r){if((e=jp(Zc,e))!=null)for(let s=0;s<e.length;s++){var n=t,i=r,a=e[s];a!=null&&zx(n,i,_z(a))}}),Nc=as(function(t,e,r){return t.h===2&&(ss(e,r,(t=bI(t))===""?void 0:t),!0)},mY),Tr=as(function(t,e,r){return t.h===2&&(ss(e,r,bI(t)),!0)},mY),Pje=qx(function(t,e,r,n,i){return t.h===2&&(wv(t,pI(e,n,r,!0),i),!0)},Xx),Uje=qx(function(t,e,r,n,i){return t.h===2&&(wv(t,pI(e,n,r),i),!0)},Xx);ti=new $p(function(t,e,r,n,i){if(t.h!==2)return!1;n=Bf(void 0,n);let a=wr(e);nc(a);let s=Hp(e,a,r,3);return a=wr(e),4&Qn(s)&&(s=Ls(s),vn(s,-2079&(1|Qn(s))),un(e,a,r,s)),s.push(n),wv(t,n,i),!0},function(t,e,r,n,i){if(Array.isArray(e))for(let a=0;a<e.length;a++)Xx(t,e[a],r,n,i)},!0);var Lr=qx(function(t,e,r,n,i,a){return t.h===2&&(eY(e,wr(e),a,r),wv(t,e=pI(e,n,r),i),!0)},Xx),bY=as(function(t,e,r){return t.h===2&&(ss(e,r,AY(t)),!0)},vY),Rje=Gp(function(t,e,r){return(t.h===0||t.h===2)&&(e=Hp(e,wr(e),r,2,!1),t.h==2?Vx(t,Au,e):e.push(Au(t.g)),!0)},function(t,e,r){if((e=jp(lje,e))!=null)for(let s=0;s<e.length;s++){var n=t,i=r,a=e[s];a!=null&&(po(n,i,0),xv(n.g,a))}}),Vo=as(function(t,e,r){return t.h===0&&(ss(e,r,ou(t.g)),!0)},function(t,e,r){(e=kp(e))!=null&&(e=parseInt(e,10),po(t,r,0),Wx(t.g,e))});class Dje{constructor(e,r){this.h=e,this.g=r,this.l=sr,this.m=xt,this.defaultValue=void 0}}function rA(t,e){return new Dje(t,e)}function yu(t,e){return(r,n)=>{if(Iy.length){const a=Iy.pop();a.o(n),b5(a.g,r,n),r=a}else r=new class{constructor(a,s){if(k8.length){const o=k8.pop();b5(o,a,s),a=o}else a=new class{constructor(o,A){this.h=null,this.m=!1,this.g=this.l=this.j=0,b5(this,o,A)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ea=!1}}(a,s);this.g=a,this.l=this.g.g,this.h=this.m=-1,this.o(s)}o({ja:a=!1}={}){this.ja=a}}(r,n);try{const a=new t,s=a.u;EI(e)(s,r);var i=a}finally{r.g.clear(),r.m=-1,r.h=-1,Iy.length<100&&Iy.push(r)}return i}}function Zx(t){return function(){$x(this);const e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const s=this.g;return this.g=[],s}}}};hY(this.u,e,Yx(t)),hp(e,e.g.end());const r=new Uint8Array(e.h),n=e.l,i=n.length;let a=0;for(let s=0;s<i;s++){const o=n[s];r.set(o,a),a+=o.length}return e.l=[r],r}}var W8=class extends pt{constructor(t){super(t)}},z8=[0,Nc,as(function(t,e,r){return t.h===2&&(ss(e,r,(t=AY(t))===Rf()?void 0:t),!0)},function(t,e,r){if(e!=null){if(e instanceof pt){const n=e.Ta;return void(n&&(e=n(e),e!=null&&zx(t,r,mI(e).buffer)))}if(Array.isArray(e))return}vY(t,e,r)})],wY=[0,Tn,Vo,mn,-1,Jx,Vo,-1],Mje=class extends pt{constructor(){super()}},xY=[0,mn,Tr,mn,Vo,-1,Gp(function(t,e,r){return(t.h===0||t.h===2)&&(e=Hp(e,wr(e),r,2,!1),t.h==2?Vx(t,wje,e):e.push(ou(t.g)),!0)},function(t,e,r){if((e=jp(kp,e))!=null&&e.length){r=wI(t,r);for(let n=0;n<e.length;n++)Wx(t.g,e[n]);xI(t,r)}}),Tr,-1,[0,mn,-1],Vo,mn,-1],EY=[0,Tr,-2],Y8=class extends pt{constructor(){super()}},BY=[0],CY=[0,Tn,mn,1,mn,-3],Nje=[0,Tr,mn,-1,Tn,[0,[1,2,3,4,5,6,7],Lr,BY,Lr,xY,Lr,EY,Lr,CY,Lr,wY,Lr,[0,Tr,-2],Lr,[0,Tr,Vo]],[0,Tr],mn,[0,[1,3],[2,4],Lr,[0,Jx],-1,Lr,[0,ca],-1,ti,[0,Tr,-1]],Tr],Is=class extends pt{constructor(t){super(t,2)}},rn={},pi=rn.P={};rn[336783863]=Nje,pi[336783863]=1;var q8=[0,w5,-1,N0,-3,w5,Jx,Nc,fd,w5,-1,N0,fd,N0,-2,Nc];function Os(t,e){z_(t,2,Qp(e),"")}function Wr(t,e){Kx(t,3,e)}function er(t,e){Kx(t,4,e)}var Ra=class extends pt{constructor(t){super(t,500)}o(t){return xt(this,0,7,t)}},k0=[-1,{P:{}}],X8=[0,Tr,1,k0],J8=[0,Tr,ca,k0];function Fs(t,e){ow(t,1,Ra,e)}function nn(t,e){Kx(t,10,e)}function Ar(t,e){Kx(t,15,e)}var os=class extends pt{constructor(t){super(t,500)}o(t){return xt(this,0,1001,t)}},SY=[-500,ti,[-500,Nc,-1,ca,-3,[-2,rn,mn],ti,z8,fd,-1,X8,J8,ti,[0,Nc,N0],Nc,q8,fd,ca,987,ca],4,ti,[-500,Tr,-1,[-1,{P:{}}],998,Tr],ti,[-500,Tr,ca,-1,[-2,{P:{}},mn],997,ca,-1],fd,ti,[-500,Tr,ca,k0,998,ca],ca,fd,X8,J8,ti,[0,Nc,-1,k0],ca,-2,q8,Nc,-1,N0,979,k0,ti,z8];os.prototype.g=Zx(SY);var kje=yu(os,SY),Qje=class extends pt{constructor(t){super(t)}},TY=class extends pt{constructor(t){super(t)}g(){return Xl(this,Qje,1)}},_Y=[0,ti,[0,Tn,vi,Tr,-1]],eE=yu(TY,_Y),Hje=class extends pt{constructor(t){super(t)}},$je=class extends pt{constructor(t){super(t)}},x5=class extends pt{constructor(t){super(t)}h(){return sr(this,Hje,2)}g(){return Xl(this,$je,5)}},LY=yu(class extends pt{constructor(t){super(t)}},[0,ca,Jx,CI,[0,Vo,[0,Tn,-3],[0,vi,-3],[0,Tn,-1,[0,ti,[0,Tn,-2]]],ti,[0,vi,-1,Tr,vi]],Tr,-1,lu,ti,[0,Tn,vi],ca,lu]),IY=class extends pt{constructor(t){super(t)}},Td=yu(class extends pt{constructor(t){super(t)}},[0,ti,[0,vi,-4]]),OY=class extends pt{constructor(t){super(t)}},Ev=yu(class extends pt{constructor(t){super(t)}},[0,ti,[0,vi,-4]]),jje=class extends pt{constructor(t){super(t)}},Gje=[0,Tn,-1,CI,Vo],FY=class extends pt{constructor(){super()}};FY.prototype.g=Zx([0,vi,-4,lu]);var Kje=class extends pt{constructor(t){super(t)}},Vje=yu(class extends pt{constructor(t){super(t)}},[0,ti,[0,1,Tn,Tr,_Y],lu]),Z8=class extends pt{constructor(t){super(t)}},Wje=class extends pt{constructor(t){super(t)}ra(){const t=qz(this);return t==null?Rf():t}},zje=class extends pt{constructor(t){super(t)}},PY=[1,2],Yje=yu(class extends pt{constructor(t){super(t)}},[0,ti,[0,PY,Lr,[0,CI],Lr,[0,bY],Tn,Tr],lu]),SI=class extends pt{constructor(t){super(t)}},UY=[0,Tr,Tn,vi,ca,-1],eQ=class extends pt{constructor(t){super(t)}},qje=[0,mn,-1],tQ=class extends pt{constructor(t){super(t)}},g2=[1,2,3,4,5],cw=class extends pt{constructor(t){super(t)}g(){return qz(this)!=null}h(){return Zc(su(this,2))!=null}},fn=class extends pt{constructor(t){super(t)}g(){var t;return(t=Hz(su(this,2)))!=null?t:!1}},RY=[0,bY,Tr,[0,Tn,lu,-1],[0,Fje,lu]],Hn=[0,RY,mn,[0,g2,Lr,CY,Lr,xY,Lr,wY,Lr,BY,Lr,EY],Vo],tE=class extends pt{constructor(t){super(t)}},TI=[0,Hn,vi,-1,Tn],Xje=rA(502141897,tE);rn[502141897]=TI,pi[502141897]=1;var DY=[0,RY];rn[512499200]=DY;var MY=[0,DY];rn[515723506]=MY;var Jje=yu(class extends pt{constructor(t){super(t)}},[0,[0,Vo,-1,Oje,Rje],Gje]),NY=[0,Hn];rn[508981768]=NY;var kY=class extends pt{constructor(t){super(t)}},QY=class extends pt{constructor(t){super(t)}},_I=[0,Hn,vi,NY,mn],HY=[0,Hn,TI,_I,vi,MY];rn[508968149]=_I;var Zje=rA(508968150,QY);rn[508968150]=HY,pi[508968150]=1,pi[508968149]=1;var $Y=class extends pt{constructor(t){super(t)}},eGe=rA(513916220,$Y);rn[513916220]=[0,Hn,HY,Tn],pi[513916220]=1;var Wh=class extends pt{constructor(t){super(t)}h(){return sr(this,SI,2)}g(){Vr(this,2)}},jY=[0,Hn,UY];rn[478825465]=jY,pi[478825465]=1;var GY=[0,Hn];rn[478825422]=GY;var tGe=class extends pt{constructor(t){super(t)}},KY=class extends pt{constructor(t){super(t)}},LI=class extends pt{constructor(t){super(t)}},II=class extends pt{constructor(t){super(t)}},VY=class extends pt{constructor(t){super(t)}},WY=[0,Hn,GY,jY,-1],zY=[0,Hn,vi,Tn],OI=[0,Hn,vi],YY=[0,Hn,zY,OI,vi],rGe=[0,Hn,YY,WY];rn[463370452]=WY,rn[464864288]=zY,rn[474472470]=OI;var nGe=rA(462713202,II);rn[462713202]=YY;var iGe=rA(479097054,VY);rn[479097054]=rGe,pi[479097054]=1,pi[463370452]=1,pi[464864288]=1,pi[462713202]=1,pi[474472470]=1;var aGe=class extends pt{constructor(t){super(t)}},qY=class extends pt{constructor(t){super(t)}},XY=class extends pt{constructor(t){super(t)}},JY=class extends pt{constructor(){super()}},t4=[0,Hn,vi,-1,Tn],r4=[0,Hn,vi,mn];JY.prototype.g=Zx([0,Hn,OI,[0,Hn],TI,_I,t4,r4]),rn[514774813]=t4,rn[518928384]=r4;var ZY=class extends pt{constructor(t){super(t)}},sGe=rA(456383383,ZY);rn[456383383]=[0,Hn,UY],pi[456383383]=1;var eq=class extends pt{constructor(t){super(t)}},oGe=rA(476348187,eq);rn[476348187]=[0,Hn,qje],pi[476348187]=1;var tq=class extends pt{constructor(t){super(t)}},rQ=class extends pt{constructor(t){super(t)}},rq=[0,Vo,-1],AGe=rA(458105876,class extends pt{constructor(t){super(t)}g(){var t=this.u;const e=wr(t),r=2&e;return t=function(n,i,a){var s=rQ;const o=2&i;let A=!1;if(a==null){if(o)return M8();a=[]}else if(a.constructor===uo){if(!(2&a.M)||o)return a;a=a.Z()}else Array.isArray(a)?A=!!(2&Qn(a)):a=[];if(o){if(!a.length)return M8();A||(A=!0,Np(a))}else A&&(A=!1,a=Zz(a));return A||(64&Qn(a)?ew(a,32):32&i&&Dx(a,32)),un(n,i,2,s=new uo(a,s,uje,void 0)),s}(t,e,qA(t,e,2)),!r&&rQ&&(t.va=!0),t}});rn[458105876]=[0,rq,Ije,[!0,lu,[0,Tr,-1,ca]]],pi[458105876]=1;var FI=class extends pt{constructor(t){super(t)}},nq=rA(458105758,FI);rn[458105758]=[0,Hn,Tr,rq],pi[458105758]=1;var iq=class extends pt{constructor(t){super(t)}},lGe=rA(443442058,iq);rn[443442058]=[0,Hn,Tr,Tn,vi,ca,-1],pi[443442058]=1,pi[514774813]=1;var aq=class extends pt{constructor(t){super(t)}},cGe=rA(516587230,aq);function n4(t,e){return e=e?e.clone():new SI,t.displayNamesLocale!==void 0?Vr(e,1,Qp(t.displayNamesLocale)):t.displayNamesLocale===void 0&&Vr(e,1),t.maxResults!==void 0?GA(e,2,t.maxResults):"maxResults"in t&&Vr(e,2),t.scoreThreshold!==void 0?gt(e,3,t.scoreThreshold):"scoreThreshold"in t&&Vr(e,3),t.categoryAllowlist!==void 0?Aw(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&Vr(e,4),t.categoryDenylist!==void 0?Aw(e,5,t.categoryDenylist):"categoryDenylist"in t&&Vr(e,5),e}function PI(t,e=-1,r=""){return{categories:t.map(n=>{var i,a,s,o;return{index:(i=Ko(ro(n,1),0))!=null?i:-1,score:(a=Rn(n,2))!=null?a:0,categoryName:(s=jA(n,3))!=null?s:"",displayName:(o=jA(n,4))!=null?o:""}}),headIndex:e,headName:r}}function sq(t){var s,o,A,l,c,u,f,h,d,p,g,v,y;var e=ff(t,3,vu,uf()),r=ff(t,2,kp,uf()),n=ff(t,1,Zc,uf()),i=ff(t,9,Zc,uf());const a={categories:[],keypoints:[]};for(let w=0;w<e.length;w++)a.categories.push({score:e[w],index:(s=r[w])!=null?s:-1,categoryName:(o=n[w])!=null?o:"",displayName:(A=i[w])!=null?A:""});if((e=(l=sr(t,x5,4))==null?void 0:l.h())&&(a.boundingBox={originX:(c=ro(e,1))!=null?c:0,originY:(u=ro(e,2))!=null?u:0,width:(f=ro(e,3))!=null?f:0,height:(h=ro(e,4))!=null?h:0,angle:0}),(d=sr(t,x5,4))==null?void 0:d.g().length)for(const w of sr(t,x5,4).g())a.keypoints.push({x:(p=d2(w,1))!=null?p:0,y:(g=d2(w,2))!=null?g:0,score:(v=d2(w,4))!=null?v:0,label:(y=Zc(su(w,3)))!=null?y:""});return a}function rE(t){var r,n,i,a;const e=[];for(const s of Xl(t,OY,1))e.push({x:(r=Rn(s,1))!=null?r:0,y:(n=Rn(s,2))!=null?n:0,z:(i=Rn(s,3))!=null?i:0,visibility:(a=Rn(s,4))!=null?a:0});return e}function Q0(t){var r,n,i,a;const e=[];for(const s of Xl(t,IY,1))e.push({x:(r=Rn(s,1))!=null?r:0,y:(n=Rn(s,2))!=null?n:0,z:(i=Rn(s,3))!=null?i:0,visibility:(a=Rn(s,4))!=null?a:0});return e}function nQ(t){return Array.from(t,e=>e>127?e-256:e)}function iQ(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let r=0,n=0,i=0;for(let a=0;a<t.length;a++)r+=t[a]*e[a],n+=t[a]*t[a],i+=e[a]*e[a];if(n<=0||i<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return r/Math.sqrt(n*i)}let Oy;rn[516587230]=[0,Hn,t4,r4,vi],pi[516587230]=1,pi[518928384]=1;const uGe=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);function oq(){return Fn(this,null,function*(){if(Oy===void 0)try{yield WebAssembly.instantiate(uGe),Oy=!0}catch(t){Oy=!1}return Oy})}function n0(t,e=""){return Fn(this,null,function*(){const r=(yield oq())?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${r}.js`,wasmBinaryPath:`${e}/${t}_${r}.wasm`}})}var Zu=class{};function Aq(){var t=navigator;return typeof OffscreenCanvas!="undefined"&&(!function(e=navigator){return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")}(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&t.length>=1&&Number(t[1])>=17))}function aQ(t){return Fn(this,null,function*(){if(typeof importScripts!="function"){const e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise((r,n)=>{e.addEventListener("load",()=>{r()},!1),e.addEventListener("error",i=>{n(i)},!1),document.body.appendChild(e)})}importScripts(t.toString())})}function lq(t){return t.videoWidth!==void 0?[t.videoWidth,t.videoHeight]:t.naturalWidth!==void 0?[t.naturalWidth,t.naturalHeight]:t.displayWidth!==void 0?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function mt(t,e,r){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),r(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function sQ(t,e,r){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(r?t.i._bindTextureToStream(r):t.i._bindTextureToCanvas(),!(r=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);const[n,i]=lq(e);return!t.l||n===t.i.canvas.width&&i===t.i.canvas.height||(t.i.canvas.width=n,t.i.canvas.height=i),[n,i]}function oQ(t,e,r){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const n=new Uint32Array(e.length);for(let i=0;i<e.length;i++)n[i]=t.i.stringToNewUTF8(e[i]);e=t.i._malloc(4*n.length),t.i.HEAPU32.set(n,e>>2),r(e);for(const i of n)t.i._free(i);t.i._free(e)}function wA(t,e,r){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=r}function _c(t,e,r){let n=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(i,a,s)=>{a?(r(n,s),n=[]):n.push(i)}}Zu.forVisionTasks=function(t){return n0("vision",t)},Zu.forTextTasks=function(t){return n0("text",t)},Zu.forGenAiExperimentalTasks=function(t){return n0("genai_experimental",t)},Zu.forGenAiTasks=function(t){return n0("genai",t)},Zu.forAudioTasks=function(t){return n0("audio",t)},Zu.isSimdSupported=function(){return oq()};function fGe(t,e,r,n){return Fn(this,null,function*(){return t=yield((i,a,s,o,A)=>Fn(this,null,function*(){if(a&&(yield aQ(a)),!self.ModuleFactory||s&&(yield aQ(s),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&A&&((a=self.Module).locateFile=A.locateFile,A.mainScriptUrlOrBlob&&(a.mainScriptUrlOrBlob=A.mainScriptUrlOrBlob)),A=yield self.ModuleFactory(self.Module||A),self.ModuleFactory=self.Module=void 0,new i(A,o)}))(t,r.wasmLoaderPath,r.assetLoaderPath,e,{locateFile:i=>i.endsWith(".wasm")?r.wasmBinaryPath.toString():r.assetBinaryPath&&i.endsWith(".data")?r.assetBinaryPath.toString():i}),yield t.o(n),t})}function E5(t,e){const r=sr(t.baseOptions,cw,1)||new cw;typeof e=="string"?(Vr(r,2,Qp(e)),Vr(r,1)):e instanceof Uint8Array&&(Vr(r,1,tI(e,!1,!1)),Vr(r,2)),xt(t.baseOptions,0,1,r)}function AQ(t){try{const e=t.H.length;if(e===1)throw Error(t.H[0].message);if(e>1)throw Error("Encountered multiple errors: "+t.H.map(r=>r.message).join(", "))}finally{t.H=[]}}function ct(t,e){t.B=Math.max(t.B,e)}function nE(t,e){t.A=new Ra,Os(t.A,"PassThroughCalculator"),Wr(t.A,"free_memory"),er(t.A,"free_memory_unused_out"),nn(e,"free_memory"),Fs(e,t.A)}function dp(t,e){Wr(t.A,e),er(t.A,e+"_unused_out")}function iE(t){t.g.addBoolToStream(!0,"free_memory",t.B)}var m2=class{constructor(t){this.g=t,this.H=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){var r,n,i,a,s,o;if(e){const A=t.baseOptions||{};if((r=t.baseOptions)!=null&&r.modelAssetBuffer&&((n=t.baseOptions)!=null&&n.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((i=sr(this.baseOptions,cw,1))!=null&&i.g()||(a=sr(this.baseOptions,cw,1))!=null&&a.h()||(s=t.baseOptions)!=null&&s.modelAssetBuffer||(o=t.baseOptions)!=null&&o.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(l,c){let u=sr(l.baseOptions,tQ,3);if(!u){var f=u=new tQ,h=new Y8;M0(f,4,g2,h)}"delegate"in c&&(c.delegate==="GPU"?(c=u,f=new Mje,M0(c,2,g2,f)):(c=u,f=new Y8,M0(c,4,g2,f))),xt(l.baseOptions,0,3,u)}(this,A),A.modelAssetPath)return fetch(A.modelAssetPath.toString()).then(l=>{if(l.ok)return l.arrayBuffer();throw Error(`Failed to fetch model: ${A.modelAssetPath} (${l.status})`)}).then(l=>{try{this.g.i.FS_unlink("/model.dat")}catch(c){}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(l),!0,!1,!1),E5(this,"/model.dat"),this.m(),this.J()});if(A.modelAssetBuffer instanceof Uint8Array)E5(this,A.modelAssetBuffer);else if(A.modelAssetBuffer)return function(l){return Fn(this,null,function*(){const c=[];for(var u=0;;){const{done:f,value:h}=yield l.read();if(f)break;c.push(h),u+=h.length}if(c.length===0)return new Uint8Array(0);if(c.length===1)return c[0];l=new Uint8Array(u),u=0;for(const f of c)l.set(f,u),u+=f.length;return l})}(A.modelAssetBuffer).then(l=>{E5(this,l),this.m(),this.J()})}return this.m(),this.J(),Promise.resolve()}J(){}ga(){let t;if(this.g.ga(e=>{t=kje(e)}),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener((r,n)=>{this.H.push(Error(n))}),this.g.Oa(),this.g.setGraph(t,e),this.A=void 0,AQ(this)}finishProcessing(){this.g.finishProcessing(),AQ(this)}close(){this.A=void 0,this.g.closeGraph()}};function Fa(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}m2.prototype.close=m2.prototype.close,function(t,e){t=t.split(".");var r,n=Uf;for((t[0]in n)||n.execScript===void 0||n.execScript("var "+t[0]);t.length&&(r=t.shift());)t.length||e===void 0?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=e}("TaskRunner",m2);class hGe{constructor(e,r,n,i){this.g=e,this.h=r,this.m=n,this.l=i}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function lQ(t,e,r){const n=t.g;if(r=Fa(n.createShader(r),"Failed to create WebGL shader"),n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${n.getShaderInfoLog(r)}`);return n.attachShader(t.h,r),r}function cQ(t,e){const r=t.g,n=Fa(r.createVertexArray(),"Failed to create vertex array");r.bindVertexArray(n);const i=Fa(r.createBuffer(),"Failed to create buffer");r.bindBuffer(r.ARRAY_BUFFER,i),r.enableVertexAttribArray(t.R),r.vertexAttribPointer(t.R,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW);const a=Fa(r.createBuffer(),"Failed to create buffer");return r.bindBuffer(r.ARRAY_BUFFER,a),r.enableVertexAttribArray(t.J),r.vertexAttribPointer(t.J,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindVertexArray(null),new hGe(r,n,i,a)}function UI(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function Bv(t,e,r,n){return UI(t,e),t.h||(t.m(),t.C()),r?(t.s||(t.s=cQ(t,!0)),r=t.s):(t.v||(t.v=cQ(t,!1)),r=t.v),e.useProgram(t.h),r.bind(),t.l(),t=n(),r.g.bindVertexArray(null),t}function cu(t,e,r){return UI(t,e),t=Fa(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r!=null?r:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r!=null?r:e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function aE(t,e,r){UI(t,e),t.A||(t.A=Fa(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}function RI(t){var e;(e=t.g)==null||e.bindFramebuffer(t.g.FRAMEBUFFER,null)}var Kp=class{H(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const t=this.g;if(this.h=Fa(t.createProgram(),"Failed to create WebGL program"),this.da=lQ(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,t.VERTEX_SHADER),this.ca=lQ(this,this.H(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.R=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const t=this.g;t.deleteProgram(this.h),t.deleteShader(this.da),t.deleteShader(this.ca)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},dGe=class extends Kp{H(){return`
  precision mediump float;
  uniform sampler2D backgroundTexture;
  uniform sampler2D maskTexture;
  uniform sampler2D colorMappingTexture;
  varying vec2 vTex;
  void main() {
    vec4 backgroundColor = texture2D(backgroundTexture, vTex);
    float category = texture2D(maskTexture, vTex).r;
    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));
    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.B=cu(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=cu(this,t,t.NEAREST)}m(){super.m();const t=this.g;this.L=Fa(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.V=Fa(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.K=Fa(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.K,0),t.uniform1i(this.L,1),t.uniform1i(this.V,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},pGe=class extends Kp{H(){return`
  precision mediump float;
  uniform sampler2D maskTexture;
  uniform sampler2D defaultTexture;
  uniform sampler2D overlayTexture;
  varying vec2 vTex;
  void main() {
    float confidence = texture2D(maskTexture, vTex).r;
    vec4 defaultColor = texture2D(defaultTexture, vTex);
    vec4 overlayColor = texture2D(overlayTexture, vTex);
    // Apply the alpha from the overlay and merge in the default color
    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);
    gl_FragColor = mix(defaultColor, overlayColor, confidence);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.j=cu(this,t),t.activeTexture(t.TEXTURE2),this.B=cu(this,t)}m(){super.m();const t=this.g;this.K=Fa(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.L=Fa(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.I=Fa(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.I,0),t.uniform1i(this.K,1),t.uniform1i(this.L,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function Pl(t,e){switch(e){case 0:return t.g.find(r=>r instanceof Uint8Array);case 1:return t.g.find(r=>r instanceof Float32Array);case 2:return t.g.find(r=>typeof WebGLTexture!="undefined"&&r instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function i4(t){var e=Pl(t,1);if(!e){if(e=Pl(t,0))e=new Float32Array(e).map(n=>n/255);else{e=new Float32Array(t.width*t.height);const n=pp(t);var r=DI(t);if(aE(r,n,cq(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in self.document){r=new Float32Array(t.width*t.height*4),n.readPixels(0,0,t.width,t.height,n.RGBA,n.FLOAT,r);for(let i=0,a=0;i<e.length;++i,a+=4)e[i]=r[a]}else n.readPixels(0,0,t.width,t.height,n.RED,n.FLOAT,e)}t.g.push(e)}return e}function cq(t){let e=Pl(t,2);if(!e){const r=pp(t);e=fq(t);const n=i4(t),i=uq(t);r.texImage2D(r.TEXTURE_2D,0,i,t.width,t.height,0,r.RED,r.FLOAT,n),a4(t)}return e}function pp(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Fa(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function uq(t){if(t=pp(t),!Fy)if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))Fy=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");Fy=t.R16F}return Fy}function DI(t){return t.l||(t.l=new Kp),t.l}function fq(t){const e=pp(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let r=Pl(t,2);return r||(r=cu(DI(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(r),t.j=!0),e.bindTexture(e.TEXTURE_2D,r),r}function a4(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var Fy,Jn=class{constructor(t,e,r,n,i,a,s){this.g=t,this.m=e,this.j=r,this.canvas=n,this.l=i,this.width=a,this.height=s,this.j&&--uQ===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Ja(){return!!Pl(this,0)}ma(){return!!Pl(this,1)}S(){return!!Pl(this,2)}la(){return(e=Pl(t=this,0))||(e=i4(t),e=new Uint8Array(e.map(r=>255*r)),t.g.push(e)),e;var t,e}ka(){return i4(this)}N(){return cq(this)}clone(){const t=[];for(const e of this.g){let r;if(e instanceof Uint8Array)r=new Uint8Array(e);else if(e instanceof Float32Array)r=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{const n=pp(this),i=DI(this);n.activeTexture(n.TEXTURE1),r=cu(i,n,this.m?n.LINEAR:n.NEAREST),n.bindTexture(n.TEXTURE_2D,r);const a=uq(this);n.texImage2D(n.TEXTURE_2D,0,a,this.width,this.height,0,n.RED,n.FLOAT,null),n.bindTexture(n.TEXTURE_2D,null),aE(i,n,r),Bv(i,n,!1,()=>{fq(this),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_FAN,0,4),a4(this)}),RI(i),a4(this)}}t.push(r)}return new Jn(t,this.m,this.S(),this.canvas,this.l,this.width,this.height)}close(){this.j&&pp(this).deleteTexture(Pl(this,2)),uQ=-1}};Jn.prototype.close=Jn.prototype.close,Jn.prototype.clone=Jn.prototype.clone,Jn.prototype.getAsWebGLTexture=Jn.prototype.N,Jn.prototype.getAsFloat32Array=Jn.prototype.ka,Jn.prototype.getAsUint8Array=Jn.prototype.la,Jn.prototype.hasWebGLTexture=Jn.prototype.S,Jn.prototype.hasFloat32Array=Jn.prototype.ma,Jn.prototype.hasUint8Array=Jn.prototype.Ja;var uQ=250;const gGe={color:"white",lineWidth:4,radius:6};function B5(t){return mh(Xv(mh({},gGe),{fillColor:(t=t||{}).color}),t)}function Sl(t,e){return t instanceof Function?t(e):t}function fQ(t,e,r){return Math.max(Math.min(e,r),Math.min(Math.max(e,r),t))}function i0(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function km(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function hQ(t,e,r){var n;if(e.S())r(e.N());else{const i=e.ma()?e.ka():e.la();t.m=(n=t.m)!=null?n:new Kp;const a=km(t);r((t=new Jn([i],e.m,!1,a.canvas,t.m,e.width,e.height)).N()),t.close()}}function dQ(t,e,r,n){const i=function(o){return o.g||(o.g=new dGe),o.g}(t),a=km(t),s=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r;Bv(i,a,!0,()=>{(function(A,l,c,u){const f=A.g;if(f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,A.B),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,c),A.I&&function(h,d){if(h!==d)return!1;h=h.entries(),d=d.entries();for(const[g,v]of h){h=g;const y=v;var p=d.next();if(p.done)return!1;const[w,S]=p.value;if(p=S,h!==w||y[0]!==p[0]||y[1]!==p[1]||y[2]!==p[2]||y[3]!==p[3])return!1}return!!d.next().done}(A.I,u))f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,A.j);else{A.I=u;const h=Array(1024).fill(0);u.forEach((d,p)=>{if(d.length!==4)throw Error(`Color at index ${p} is not a four-channel value.`);h[4*p]=d[0],h[4*p+1]=d[1],h[4*p+2]=d[2],h[4*p+3]=d[3]}),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,A.j),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,256,1,0,f.RGBA,f.UNSIGNED_BYTE,new Uint8Array(h))}})(i,e,s,n),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.drawArrays(a.TRIANGLE_FAN,0,4);const o=i.g;o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,null)})}function pQ(t,e,r,n){const i=km(t),a=function(A){return A.h||(A.h=new pGe),A.h}(t),s=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r,o=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;Bv(a,i,!0,()=>{var A=a.g;A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,e),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,a.j),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,s),A.activeTexture(A.TEXTURE2),A.bindTexture(A.TEXTURE_2D,a.B),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,o),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4),i.bindTexture(i.TEXTURE_2D,null),(A=a.g).activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,null),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,null),A.activeTexture(A.TEXTURE2),A.bindTexture(A.TEXTURE_2D,null)})}var Ta=class{constructor(t,e){t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}Ca(t,e){if(t){var r=i0(this);e=B5(e),r.save();var n=r.canvas,i=0;for(const a of t)r.fillStyle=Sl(e.fillColor,{index:i,from:a}),r.strokeStyle=Sl(e.color,{index:i,from:a}),r.lineWidth=Sl(e.lineWidth,{index:i,from:a}),(t=new Path2D).arc(a.x*n.width,a.y*n.height,Sl(e.radius,{index:i,from:a}),0,2*Math.PI),r.fill(t),r.stroke(t),++i;r.restore()}}Ba(t,e,r){if(t&&e){var n=i0(this);r=B5(r),n.save();var i=n.canvas,a=0;for(const s of e){n.beginPath(),e=t[s.start];const o=t[s.end];e&&o&&(n.strokeStyle=Sl(r.color,{index:a,from:e,to:o}),n.lineWidth=Sl(r.lineWidth,{index:a,from:e,to:o}),n.moveTo(e.x*i.width,e.y*i.height),n.lineTo(o.x*i.width,o.y*i.height)),++a,n.stroke()}n.restore()}}ya(t,e){const r=i0(this);e=B5(e),r.save(),r.beginPath(),r.lineWidth=Sl(e.lineWidth,{}),r.strokeStyle=Sl(e.color,{}),r.fillStyle=Sl(e.fillColor,{}),r.moveTo(t.originX,t.originY),r.lineTo(t.originX+t.width,t.originY),r.lineTo(t.originX+t.width,t.originY+t.height),r.lineTo(t.originX,t.originY+t.height),r.lineTo(t.originX,t.originY),r.stroke(),r.fill(),r.restore()}za(t,e,r=[0,0,0,255]){this.l?function(n,i,a,s){const o=km(n);hQ(n,i,A=>{dQ(n,A,a,s),(A=i0(n)).drawImage(o.canvas,0,0,A.canvas.width,A.canvas.height)})}(this,t,r,e):dQ(this,t.N(),r,e)}Aa(t,e,r){this.l?function(n,i,a,s){const o=km(n);hQ(n,i,A=>{pQ(n,A,a,s),(A=i0(n)).drawImage(o.canvas,0,0,A.canvas.width,A.canvas.height)})}(this,t,e,r):pQ(this,t.N(),e,r)}close(){var t,e,r;(t=this.g)==null||t.close(),this.g=void 0,(e=this.h)==null||e.close(),this.h=void 0,(r=this.m)==null||r.close(),this.m=void 0}};function _A(t,e){switch(e){case 0:return t.g.find(r=>r instanceof ImageData);case 1:return t.g.find(r=>typeof ImageBitmap!="undefined"&&r instanceof ImageBitmap);case 2:return t.g.find(r=>typeof WebGLTexture!="undefined"&&r instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function hq(t){var e=_A(t,0);if(!e){e=gp(t);const r=sE(t),n=new Uint8Array(t.width*t.height*4);aE(r,e,v2(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,n),RI(r),e=new ImageData(new Uint8ClampedArray(n.buffer),t.width,t.height),t.g.push(e)}return e}function v2(t){let e=_A(t,2);if(!e){const r=gp(t);e=y2(t);const n=_A(t,1)||hq(t);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),g0(t)}return e}function gp(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return t.h||(t.h=Fa(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function sE(t){return t.l||(t.l=new Kp),t.l}function y2(t){const e=gp(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let r=_A(t,2);return r||(r=cu(sE(t),e),t.g.push(r),t.m=!0),e.bindTexture(e.TEXTURE_2D,r),r}function g0(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function gQ(t){const e=gp(t);return Bv(sE(t),e,!0,()=>function(r,n){const i=r.canvas;if(i.width===r.width&&i.height===r.height)return n();const a=i.width,s=i.height;return i.width=r.width,i.height=r.height,r=n(),i.width=a,i.height=s,r}(t,()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))}Ta.prototype.close=Ta.prototype.close,Ta.prototype.drawConfidenceMask=Ta.prototype.Aa,Ta.prototype.drawCategoryMask=Ta.prototype.za,Ta.prototype.drawBoundingBox=Ta.prototype.ya,Ta.prototype.drawConnectors=Ta.prototype.Ba,Ta.prototype.drawLandmarks=Ta.prototype.Ca,Ta.lerp=function(t,e,r,n,i){return fQ(n*(1-(t-e)/(r-e))+i*(1-(r-t)/(r-e)),n,i)},Ta.clamp=fQ;var ui=class{constructor(t,e,r,n,i,a,s){this.g=t,this.j=e,this.m=r,this.canvas=n,this.l=i,this.width=a,this.height=s,(this.j||this.m)&&--mQ===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ia(){return!!_A(this,0)}na(){return!!_A(this,1)}S(){return!!_A(this,2)}Ga(){return hq(this)}Fa(){var t=_A(this,1);return t||(v2(this),y2(this),t=gQ(this),g0(this),this.g.push(t),this.j=!0),t}N(){return v2(this)}clone(){const t=[];for(const e of this.g){let r;if(e instanceof ImageData)r=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){const n=gp(this),i=sE(this);n.activeTexture(n.TEXTURE1),r=cu(i,n),n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,null),aE(i,n,r),Bv(i,n,!1,()=>{y2(this),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_FAN,0,4),g0(this)}),RI(i),g0(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);v2(this),y2(this),r=gQ(this),g0(this)}t.push(r)}return new ui(t,this.na(),this.S(),this.canvas,this.l,this.width,this.height)}close(){this.j&&_A(this,1).close(),this.m&&gp(this).deleteTexture(_A(this,2)),mQ=-1}};ui.prototype.close=ui.prototype.close,ui.prototype.clone=ui.prototype.clone,ui.prototype.getAsWebGLTexture=ui.prototype.N,ui.prototype.getAsImageBitmap=ui.prototype.Fa,ui.prototype.getAsImageData=ui.prototype.Ga,ui.prototype.hasWebGLTexture=ui.prototype.S,ui.prototype.hasImageBitmap=ui.prototype.na,ui.prototype.hasImageData=ui.prototype.Ia;var mQ=250;function nA(...t){return t.map(([e,r])=>({start:e,end:r}))}const mGe=function(t){return class extends t{Oa(){this.i._registerModelResourcesGraphService()}}}((vQ=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",e!==void 0?this.i.canvas=e:Aq()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}initializeGraph(t){return Fn(this,null,function*(){const e=yield(yield fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)})}setGraphFromString(t){this.setGraph(new TextEncoder().encode(t),!1)}setGraph(t,e){const r=t.length,n=this.i._malloc(r);this.i.HEAPU8.set(t,n),e?this.i._changeBinaryGraph(r,n):this.i._changeTextGraph(r,n),this.i._free(n)}configureAudio(t,e,r,n,i){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),mt(this,n||"input_audio",a=>{mt(this,i=i||"audio_header",s=>{this.i._configureAudio(a,s,t,e,r)})})}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}ga(t){wA(this,"__graph_config__",e=>{t(e)}),mt(this,"__graph_config__",e=>{this.i._getGraphConfig(e,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,r){this.addAudioToStreamWithShape(t,0,0,e,r)}addAudioToStreamWithShape(t,e,r,n,i){const a=4*t.length;this.h!==a&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(a),this.h=a),this.i.HEAPF32.set(t,this.g/4),mt(this,n,s=>{this.i._addAudioToInputStream(this.g,e,r,s,i)})}addGpuBufferToStream(t,e,r){mt(this,e,n=>{const[i,a]=sQ(this,t,n);this.i._addBoundTextureToStream(n,i,a,r)})}addBoolToStream(t,e,r){mt(this,e,n=>{this.i._addBoolToInputStream(t,n,r)})}addDoubleToStream(t,e,r){mt(this,e,n=>{this.i._addDoubleToInputStream(t,n,r)})}addFloatToStream(t,e,r){mt(this,e,n=>{this.i._addFloatToInputStream(t,n,r)})}addIntToStream(t,e,r){mt(this,e,n=>{this.i._addIntToInputStream(t,n,r)})}addUintToStream(t,e,r){mt(this,e,n=>{this.i._addUintToInputStream(t,n,r)})}addStringToStream(t,e,r){mt(this,e,n=>{mt(this,t,i=>{this.i._addStringToInputStream(i,n,r)})})}addStringRecordToStream(t,e,r){mt(this,e,n=>{oQ(this,Object.keys(t),i=>{oQ(this,Object.values(t),a=>{this.i._addFlatHashMapToInputStream(i,a,Object.keys(t).length,n,r)})})})}addProtoToStream(t,e,r,n){mt(this,r,i=>{mt(this,e,a=>{const s=this.i._malloc(t.length);this.i.HEAPU8.set(t,s),this.i._addProtoToInputStream(s,t.length,a,i,n),this.i._free(s)})})}addEmptyPacketToStream(t,e){mt(this,t,r=>{this.i._addEmptyPacketToInputStream(r,e)})}addBoolVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateBoolVector(t.length);if(!i)throw Error("Unable to allocate new bool vector on heap.");for(const a of t)this.i._addBoolVectorEntry(i,a);this.i._addBoolVectorToInputStream(i,n,r)})}addDoubleVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateDoubleVector(t.length);if(!i)throw Error("Unable to allocate new double vector on heap.");for(const a of t)this.i._addDoubleVectorEntry(i,a);this.i._addDoubleVectorToInputStream(i,n,r)})}addFloatVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateFloatVector(t.length);if(!i)throw Error("Unable to allocate new float vector on heap.");for(const a of t)this.i._addFloatVectorEntry(i,a);this.i._addFloatVectorToInputStream(i,n,r)})}addIntVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateIntVector(t.length);if(!i)throw Error("Unable to allocate new int vector on heap.");for(const a of t)this.i._addIntVectorEntry(i,a);this.i._addIntVectorToInputStream(i,n,r)})}addUintVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateUintVector(t.length);if(!i)throw Error("Unable to allocate new unsigned int vector on heap.");for(const a of t)this.i._addUintVectorEntry(i,a);this.i._addUintVectorToInputStream(i,n,r)})}addStringVectorToStream(t,e,r){mt(this,e,n=>{const i=this.i._allocateStringVector(t.length);if(!i)throw Error("Unable to allocate new string vector on heap.");for(const a of t)mt(this,a,s=>{this.i._addStringVectorEntry(i,s)});this.i._addStringVectorToInputStream(i,n,r)})}addBoolToInputSidePacket(t,e){mt(this,e,r=>{this.i._addBoolToInputSidePacket(t,r)})}addDoubleToInputSidePacket(t,e){mt(this,e,r=>{this.i._addDoubleToInputSidePacket(t,r)})}addFloatToInputSidePacket(t,e){mt(this,e,r=>{this.i._addFloatToInputSidePacket(t,r)})}addIntToInputSidePacket(t,e){mt(this,e,r=>{this.i._addIntToInputSidePacket(t,r)})}addUintToInputSidePacket(t,e){mt(this,e,r=>{this.i._addUintToInputSidePacket(t,r)})}addStringToInputSidePacket(t,e){mt(this,e,r=>{mt(this,t,n=>{this.i._addStringToInputSidePacket(n,r)})})}addProtoToInputSidePacket(t,e,r){mt(this,r,n=>{mt(this,e,i=>{const a=this.i._malloc(t.length);this.i.HEAPU8.set(t,a),this.i._addProtoToInputSidePacket(a,t.length,i,n),this.i._free(a)})})}addBoolVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateBoolVector(t.length);if(!n)throw Error("Unable to allocate new bool vector on heap.");for(const i of t)this.i._addBoolVectorEntry(n,i);this.i._addBoolVectorToInputSidePacket(n,r)})}addDoubleVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateDoubleVector(t.length);if(!n)throw Error("Unable to allocate new double vector on heap.");for(const i of t)this.i._addDoubleVectorEntry(n,i);this.i._addDoubleVectorToInputSidePacket(n,r)})}addFloatVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateFloatVector(t.length);if(!n)throw Error("Unable to allocate new float vector on heap.");for(const i of t)this.i._addFloatVectorEntry(n,i);this.i._addFloatVectorToInputSidePacket(n,r)})}addIntVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateIntVector(t.length);if(!n)throw Error("Unable to allocate new int vector on heap.");for(const i of t)this.i._addIntVectorEntry(n,i);this.i._addIntVectorToInputSidePacket(n,r)})}addUintVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateUintVector(t.length);if(!n)throw Error("Unable to allocate new unsigned int vector on heap.");for(const i of t)this.i._addUintVectorEntry(n,i);this.i._addUintVectorToInputSidePacket(n,r)})}addStringVectorToInputSidePacket(t,e){mt(this,e,r=>{const n=this.i._allocateStringVector(t.length);if(!n)throw Error("Unable to allocate new string vector on heap.");for(const i of t)mt(this,i,a=>{this.i._addStringVectorEntry(n,a)});this.i._addStringVectorToInputSidePacket(n,r)})}attachBoolListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachBoolListener(r)})}attachBoolVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachBoolVectorListener(r)})}attachIntListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachIntListener(r)})}attachIntVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachIntVectorListener(r)})}attachUintListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachUintListener(r)})}attachUintVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachUintVectorListener(r)})}attachDoubleListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachDoubleListener(r)})}attachDoubleVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachDoubleVectorListener(r)})}attachFloatListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachFloatListener(r)})}attachFloatVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachFloatVectorListener(r)})}attachStringListener(t,e){wA(this,t,e),mt(this,t,r=>{this.i._attachStringListener(r)})}attachStringVectorListener(t,e){_c(this,t,e),mt(this,t,r=>{this.i._attachStringVectorListener(r)})}attachProtoListener(t,e,r){wA(this,t,e),mt(this,t,n=>{this.i._attachProtoListener(n,r||!1)})}attachProtoVectorListener(t,e,r){_c(this,t,e),mt(this,t,n=>{this.i._attachProtoVectorListener(n,r||!1)})}attachAudioListener(t,e,r){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),wA(this,t,(n,i)=>{n=new Float32Array(n.buffer,n.byteOffset,n.length/4),e(n,i)}),mt(this,t,n=>{this.i._attachAudioListener(n,r||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends vQ{get ia(){return this.i}ta(t,e,r){mt(this,e,n=>{const[i,a]=sQ(this,t,n);this.ia._addBoundTextureAsImageToStream(n,i,a,r)})}W(t,e){wA(this,t,e),mt(this,t,r=>{this.ia._attachImageListener(r)})}fa(t,e){_c(this,t,e),mt(this,t,r=>{this.ia._attachImageVectorListener(r)})}}));var vQ,go=class extends mGe{};function qt(t,e,r){return Fn(this,null,function*(){var n;return function(i,a,s,o){return Fn(this,null,function*(){return fGe(i,a,s,o)})}(t,(n=r.canvas)!=null?n:Aq()?void 0:document.createElement("canvas"),e,r)})}function dq(t,e,r,n){if(t.V){const a=new FY;if(r!=null&&r.regionOfInterest){if(!t.sa)throw Error("This task doesn't support region-of-interest.");var i=r.regionOfInterest;if(i.left>=i.right||i.top>=i.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(i.left<0||i.top<0||i.right>1||i.bottom>1)throw Error("Expected RectF values to be in [0,1].");gt(a,1,(i.left+i.right)/2),gt(a,2,(i.top+i.bottom)/2),gt(a,4,i.right-i.left),gt(a,3,i.bottom-i.top)}else gt(a,1,.5),gt(a,2,.5),gt(a,4,1),gt(a,3,1);if(r!=null&&r.rotationDegrees){if((r==null?void 0:r.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90.");if(gt(a,5,-Math.PI*r.rotationDegrees/180),(r==null?void 0:r.rotationDegrees)%180!=0){const[s,o]=lq(e);r=Rn(a,3)*o/s,i=Rn(a,4)*s/o,gt(a,4,r),gt(a,3,i)}}t.g.addProtoToStream(a.g(),"mediapipe.NormalizedRect",t.V,n)}t.g.ta(e,t.da,n!=null?n:performance.now()),t.finishProcessing()}function mo(t,e,r){var n;if((n=t.baseOptions)!=null&&n.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");dq(t,e,r,t.B+1)}function XA(t,e,r,n){var i;if(!((i=t.baseOptions)!=null&&i.g()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");dq(t,e,r,n)}function mp(t,e,r,n){var i=e.data;const a=e.width,s=a*(e=e.height);if((i instanceof Uint8Array||i instanceof Float32Array)&&i.length!==s)throw Error("Unsupported channel count: "+i.length/s);return t=new Jn([i],r,!1,t.g.i.canvas,t.R,a,e),n?t.clone():t}var Da=class extends m2{constructor(t,e,r,n){super(t),this.g=t,this.da=e,this.V=r,this.sa=n,this.R=new Kp}l(t,e=!0){if("runningMode"in t&&Mm(this.baseOptions,2,!!t.runningMode&&t.runningMode!=="IMAGE"),t.canvas!==void 0&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.R.close(),super.close()}};Da.prototype.close=Da.prototype.close;var ms=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},xt(t=this.h=new tE,0,1,e=new fn),gt(this.h,2,.5),gt(this.h,3,.3)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r;return"minDetectionConfidence"in t&&gt(this.h,2,(e=t.minDetectionConfidence)!=null?e:.5),"minSuppressionThreshold"in t&&gt(this.h,3,(r=t.minSuppressionThreshold)!=null?r:.3),this.l(t)}D(t,e){return this.j={detections:[]},mo(this,t,e),this.j}F(t,e,r){return this.j={detections:[]},XA(this,t,r,e),this.j}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect_in"),Ar(t,"detections");const e=new Is;tA(e,Xje,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect_in"),er(r,"DETECTIONS:detections"),r.o(e),Fs(t,r),this.g.attachProtoVectorListener("detections",(n,i)=>{for(const a of n)n=LY(a),this.j.detections.push(sq(n));ct(this,i)}),this.g.attachEmptyPacketListener("detections",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ms.prototype.detectForVideo=ms.prototype.F,ms.prototype.detect=ms.prototype.D,ms.prototype.setOptions=ms.prototype.o,ms.createFromModelPath=function(t,e){return Fn(this,null,function*(){return qt(ms,t,{baseOptions:{modelAssetPath:e}})})},ms.createFromModelBuffer=function(t,e){return qt(ms,t,{baseOptions:{modelAssetBuffer:e}})},ms.createFromOptions=function(t,e){return qt(ms,t,e)};var MI=nA([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),NI=nA([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),kI=nA([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),pq=nA([474,475],[475,476],[476,477],[477,474]),QI=nA([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),HI=nA([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),gq=nA([469,470],[470,471],[471,472],[472,469]),$I=nA([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),mq=[...MI,...NI,...kI,...QI,...HI,...$I],vq=nA([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function yQ(t){t.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var gn=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,xt(t=this.h=new QY,0,1,e=new fn),this.v=new kY,xt(this.h,0,3,this.v),this.s=new tE,xt(this.h,0,2,this.s),GA(this.s,4,1),gt(this.s,2,.5),gt(this.v,2,.5),gt(this.h,4,.5)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r,n,i;return"numFaces"in t&&GA(this.s,4,(e=t.numFaces)!=null?e:1),"minFaceDetectionConfidence"in t&&gt(this.s,2,(r=t.minFaceDetectionConfidence)!=null?r:.5),"minTrackingConfidence"in t&&gt(this.h,4,(n=t.minTrackingConfidence)!=null?n:.5),"minFacePresenceConfidence"in t&&gt(this.v,2,(i=t.minFacePresenceConfidence)!=null?i:.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}D(t,e){return yQ(this),mo(this,t,e),this.j}F(t,e,r){return yQ(this),XA(this,t,r,e),this.j}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"face_landmarks");const e=new Is;tA(e,Zje,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"NORM_LANDMARKS:face_landmarks"),r.o(e),Fs(t,r),this.g.attachProtoVectorListener("face_landmarks",(n,i)=>{for(const a of n)n=Ev(a),this.j.faceLandmarks.push(rE(n));ct(this,i)}),this.g.attachEmptyPacketListener("face_landmarks",n=>{ct(this,n)}),this.outputFaceBlendshapes&&(Ar(t,"blendshapes"),er(r,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(n,i)=>{var a;if(this.outputFaceBlendshapes)for(const s of n)n=eE(s),this.j.faceBlendshapes.push(PI((a=n.g())!=null?a:[]));ct(this,i)}),this.g.attachEmptyPacketListener("blendshapes",n=>{ct(this,n)})),this.outputFacialTransformationMatrixes&&(Ar(t,"face_geometry"),er(r,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(n,i)=>{var a,s,o;if(this.outputFacialTransformationMatrixes)for(const A of n)(n=sr(Jje(A),jje,2))&&this.j.facialTransformationMatrixes.push({rows:(a=Ko(ro(n,1),0))!=null?a:0,columns:(s=Ko(ro(n,2),0))!=null?s:0,data:(o=ff(n,3,vu,uf()).slice())!=null?o:[]});ct(this,i)}),this.g.attachEmptyPacketListener("face_geometry",n=>{ct(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};gn.prototype.detectForVideo=gn.prototype.F,gn.prototype.detect=gn.prototype.D,gn.prototype.setOptions=gn.prototype.o,gn.createFromModelPath=function(t,e){return qt(gn,t,{baseOptions:{modelAssetPath:e}})},gn.createFromModelBuffer=function(t,e){return qt(gn,t,{baseOptions:{modelAssetBuffer:e}})},gn.createFromOptions=function(t,e){return qt(gn,t,e)},gn.FACE_LANDMARKS_LIPS=MI,gn.FACE_LANDMARKS_LEFT_EYE=NI,gn.FACE_LANDMARKS_LEFT_EYEBROW=kI,gn.FACE_LANDMARKS_LEFT_IRIS=pq,gn.FACE_LANDMARKS_RIGHT_EYE=QI,gn.FACE_LANDMARKS_RIGHT_EYEBROW=HI,gn.FACE_LANDMARKS_RIGHT_IRIS=gq,gn.FACE_LANDMARKS_FACE_OVAL=$I,gn.FACE_LANDMARKS_CONTOURS=mq,gn.FACE_LANDMARKS_TESSELATION=vq;var Po=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!0),xt(t=this.j=new $Y,0,1,e=new fn)}get baseOptions(){return sr(this.j,fn,1)}set baseOptions(t){xt(this.j,0,1,t)}o(t){return super.l(t)}Ra(t,e,r){const n=typeof e!="function"?e:{};if(this.h=typeof e=="function"?e:r,mo(this,t,n!=null?n:{}),!this.h)return this.s}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"stylized_image");const e=new Is;tA(e,eGe,this.j);const r=new Ra;Os(r,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"STYLIZED_IMAGE:stylized_image"),r.o(e),Fs(t,r),this.g.W("stylized_image",(n,i)=>{var a=!this.h,s=n.data,o=n.width;const A=o*(n=n.height);if(s instanceof Uint8Array)if(s.length===3*A){const l=new Uint8ClampedArray(4*A);for(let c=0;c<A;++c)l[4*c]=s[3*c],l[4*c+1]=s[3*c+1],l[4*c+2]=s[3*c+2],l[4*c+3]=255;s=new ImageData(l,o,n)}else{if(s.length!==4*A)throw Error("Unsupported channel count: "+s.length/A);s=new ImageData(new Uint8ClampedArray(s.buffer,s.byteOffset,s.length),o,n)}else if(!(s instanceof WebGLTexture))throw Error(`Unsupported format: ${s.constructor.name}`);o=new ui([s],!1,!1,this.g.i.canvas,this.R,o,n),this.s=a=a?o.clone():o,this.h&&this.h(a),ct(this,i)}),this.g.attachEmptyPacketListener("stylized_image",n=>{this.s=null,this.h&&this.h(null),ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Po.prototype.stylize=Po.prototype.Ra,Po.prototype.setOptions=Po.prototype.o,Po.createFromModelPath=function(t,e){return qt(Po,t,{baseOptions:{modelAssetPath:e}})},Po.createFromModelBuffer=function(t,e){return qt(Po,t,{baseOptions:{modelAssetBuffer:e}})},Po.createFromOptions=function(t,e){return qt(Po,t,e)};var jI=nA([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function bQ(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function wQ(t){return t.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function xQ(t,e=!0){var i,a,s;const r=[];for(const o of t){var n=eE(o);t=[];for(const A of n.g())n=e&&ro(A,1)!=null?Ko(ro(A,1),0):-1,t.push({score:(i=Rn(A,2))!=null?i:0,index:n,categoryName:(a=jA(A,3))!=null?a:"",displayName:(s=jA(A,4))!=null?s:""});r.push(t)}return r}var Wa=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],xt(t=this.j=new VY,0,1,e=new fn),this.s=new II,xt(this.j,0,2,this.s),this.C=new LI,xt(this.s,0,3,this.C),this.v=new KY,xt(this.s,0,2,this.v),this.h=new tGe,xt(this.j,0,3,this.h),gt(this.v,2,.5),gt(this.s,4,.5),gt(this.C,2,.5)}get baseOptions(){return sr(this.j,fn,1)}set baseOptions(t){xt(this.j,0,1,t)}o(t){var i,a,s,o,A,l,c,u;if(GA(this.v,3,(i=t.numHands)!=null?i:1),"minHandDetectionConfidence"in t&&gt(this.v,2,(a=t.minHandDetectionConfidence)!=null?a:.5),"minTrackingConfidence"in t&&gt(this.s,4,(s=t.minTrackingConfidence)!=null?s:.5),"minHandPresenceConfidence"in t&&gt(this.C,2,(o=t.minHandPresenceConfidence)!=null?o:.5),t.cannedGesturesClassifierOptions){var e=new Wh,r=e,n=n4(t.cannedGesturesClassifierOptions,(A=sr(this.h,Wh,3))==null?void 0:A.h());xt(r,0,2,n),xt(this.h,0,3,e)}else t.cannedGesturesClassifierOptions===void 0&&((l=sr(this.h,Wh,3))==null||l.g());return t.customGesturesClassifierOptions?(xt(r=e=new Wh,0,2,n=n4(t.customGesturesClassifierOptions,(c=sr(this.h,Wh,4))==null?void 0:c.h())),xt(this.h,0,4,e)):t.customGesturesClassifierOptions===void 0&&((u=sr(this.h,Wh,4))==null||u.g()),this.l(t)}Ma(t,e){return bQ(this),mo(this,t,e),wQ(this)}Na(t,e,r){return bQ(this),XA(this,t,r,e),wQ(this)}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"hand_gestures"),Ar(t,"hand_landmarks"),Ar(t,"world_hand_landmarks"),Ar(t,"handedness");const e=new Is;tA(e,iGe,this.j);const r=new Ra;Os(r,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"HAND_GESTURES:hand_gestures"),er(r,"LANDMARKS:hand_landmarks"),er(r,"WORLD_LANDMARKS:world_hand_landmarks"),er(r,"HANDEDNESS:handedness"),r.o(e),Fs(t,r),this.g.attachProtoVectorListener("hand_landmarks",(n,i)=>{var a,s,o,A;for(const l of n){n=Ev(l);const c=[];for(const u of Xl(n,OY,1))c.push({x:(a=Rn(u,1))!=null?a:0,y:(s=Rn(u,2))!=null?s:0,z:(o=Rn(u,3))!=null?o:0,visibility:(A=Rn(u,4))!=null?A:0});this.landmarks.push(c)}ct(this,i)}),this.g.attachEmptyPacketListener("hand_landmarks",n=>{ct(this,n)}),this.g.attachProtoVectorListener("world_hand_landmarks",(n,i)=>{var a,s,o,A;for(const l of n){n=Td(l);const c=[];for(const u of Xl(n,IY,1))c.push({x:(a=Rn(u,1))!=null?a:0,y:(s=Rn(u,2))!=null?s:0,z:(o=Rn(u,3))!=null?o:0,visibility:(A=Rn(u,4))!=null?A:0});this.worldLandmarks.push(c)}ct(this,i)}),this.g.attachEmptyPacketListener("world_hand_landmarks",n=>{ct(this,n)}),this.g.attachProtoVectorListener("hand_gestures",(n,i)=>{this.gestures.push(...xQ(n,!1)),ct(this,i)}),this.g.attachEmptyPacketListener("hand_gestures",n=>{ct(this,n)}),this.g.attachProtoVectorListener("handedness",(n,i)=>{this.handedness.push(...xQ(n)),ct(this,i)}),this.g.attachEmptyPacketListener("handedness",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function EQ(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}Wa.prototype.recognizeForVideo=Wa.prototype.Na,Wa.prototype.recognize=Wa.prototype.Ma,Wa.prototype.setOptions=Wa.prototype.o,Wa.createFromModelPath=function(t,e){return qt(Wa,t,{baseOptions:{modelAssetPath:e}})},Wa.createFromModelBuffer=function(t,e){return qt(Wa,t,{baseOptions:{modelAssetBuffer:e}})},Wa.createFromOptions=function(t,e){return qt(Wa,t,e)},Wa.HAND_CONNECTIONS=jI;var za=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],xt(t=this.h=new II,0,1,e=new fn),this.s=new LI,xt(this.h,0,3,this.s),this.j=new KY,xt(this.h,0,2,this.j),GA(this.j,3,1),gt(this.j,2,.5),gt(this.s,2,.5),gt(this.h,4,.5)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r,n,i;return"numHands"in t&&GA(this.j,3,(e=t.numHands)!=null?e:1),"minHandDetectionConfidence"in t&&gt(this.j,2,(r=t.minHandDetectionConfidence)!=null?r:.5),"minTrackingConfidence"in t&&gt(this.h,4,(n=t.minTrackingConfidence)!=null?n:.5),"minHandPresenceConfidence"in t&&gt(this.s,2,(i=t.minHandPresenceConfidence)!=null?i:.5),this.l(t)}D(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],mo(this,t,e),EQ(this)}F(t,e,r){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],XA(this,t,r,e),EQ(this)}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"hand_landmarks"),Ar(t,"world_hand_landmarks"),Ar(t,"handedness");const e=new Is;tA(e,nGe,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"LANDMARKS:hand_landmarks"),er(r,"WORLD_LANDMARKS:world_hand_landmarks"),er(r,"HANDEDNESS:handedness"),r.o(e),Fs(t,r),this.g.attachProtoVectorListener("hand_landmarks",(n,i)=>{for(const a of n)n=Ev(a),this.landmarks.push(rE(n));ct(this,i)}),this.g.attachEmptyPacketListener("hand_landmarks",n=>{ct(this,n)}),this.g.attachProtoVectorListener("world_hand_landmarks",(n,i)=>{for(const a of n)n=Td(a),this.worldLandmarks.push(Q0(n));ct(this,i)}),this.g.attachEmptyPacketListener("world_hand_landmarks",n=>{ct(this,n)}),this.g.attachProtoVectorListener("handedness",(n,i)=>{var A,l,c,u;var a=this.handedness,s=a.push;const o=[];for(const f of n){n=eE(f);const h=[];for(const d of n.g())h.push({score:(A=Rn(d,2))!=null?A:0,index:(l=Ko(ro(d,1),0))!=null?l:-1,categoryName:(c=jA(d,3))!=null?c:"",displayName:(u=jA(d,4))!=null?u:""});o.push(h)}s.call(a,...o),ct(this,i)}),this.g.attachEmptyPacketListener("handedness",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};za.prototype.detectForVideo=za.prototype.F,za.prototype.detect=za.prototype.D,za.prototype.setOptions=za.prototype.o,za.createFromModelPath=function(t,e){return qt(za,t,{baseOptions:{modelAssetPath:e}})},za.createFromModelBuffer=function(t,e){return qt(za,t,{baseOptions:{modelAssetBuffer:e}})},za.createFromOptions=function(t,e){return qt(za,t,e)},za.HAND_CONNECTIONS=jI;var yq=nA([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function BQ(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function CQ(t){try{if(!t.C)return t.h;t.C(t.h)}finally{iE(t)}}function Py(t,e){t=Ev(t),e.push(rE(t))}var Xr=class extends Da{constructor(t,e){super(new go(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,xt(t=this.j=new JY,0,1,e=new fn),this.K=new LI,xt(this.j,0,2,this.K),this.ca=new aGe,xt(this.j,0,3,this.ca),this.s=new tE,xt(this.j,0,4,this.s),this.I=new kY,xt(this.j,0,5,this.I),this.v=new qY,xt(this.j,0,6,this.v),this.L=new XY,xt(this.j,0,7,this.L),gt(this.s,2,.5),gt(this.s,3,.3),gt(this.I,2,.5),gt(this.v,2,.5),gt(this.v,3,.3),gt(this.L,2,.5),gt(this.K,2,.5)}get baseOptions(){return sr(this.j,fn,1)}set baseOptions(t){xt(this.j,0,1,t)}o(t){var e,r,n,i,a,s,o;return"minFaceDetectionConfidence"in t&&gt(this.s,2,(e=t.minFaceDetectionConfidence)!=null?e:.5),"minFaceSuppressionThreshold"in t&&gt(this.s,3,(r=t.minFaceSuppressionThreshold)!=null?r:.3),"minFacePresenceConfidence"in t&&gt(this.I,2,(n=t.minFacePresenceConfidence)!=null?n:.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&gt(this.v,2,(i=t.minPoseDetectionConfidence)!=null?i:.5),"minPoseSuppressionThreshold"in t&&gt(this.v,3,(a=t.minPoseSuppressionThreshold)!=null?a:.3),"minPosePresenceConfidence"in t&&gt(this.L,2,(s=t.minPosePresenceConfidence)!=null?s:.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&gt(this.K,2,(o=t.minHandLandmarksConfidence)!=null?o:.5),this.l(t)}D(t,e,r){const n=typeof e!="function"?e:{};return this.C=typeof e=="function"?e:r,BQ(this),mo(this,t,n),CQ(this)}F(t,e,r,n){const i=typeof r!="function"?r:{};return this.C=typeof r=="function"?r:n,BQ(this),XA(this,t,i,e),CQ(this)}m(){var t=new os;nn(t,"input_frames_image"),Ar(t,"pose_landmarks"),Ar(t,"pose_world_landmarks"),Ar(t,"face_landmarks"),Ar(t,"left_hand_landmarks"),Ar(t,"left_hand_world_landmarks"),Ar(t,"right_hand_landmarks"),Ar(t,"right_hand_world_landmarks");const e=new Is,r=new W8;z_(r,1,Qp("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(i,a){if(a!=null)if(Array.isArray(a))Vr(i,2,jx(a,uI,void 0,void 0,!1));else{if(!(typeof a=="string"||a instanceof jl||vv(a)))throw Error("invalid value in Any.value field: "+a+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");z_(i,2,tI(a,!1,!1),Rf())}}(r,this.j.g());const n=new Ra;Os(n,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),ow(n,8,W8,r),Wr(n,"IMAGE:input_frames_image"),er(n,"POSE_LANDMARKS:pose_landmarks"),er(n,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),er(n,"FACE_LANDMARKS:face_landmarks"),er(n,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),er(n,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),er(n,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),er(n,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),n.o(e),Fs(t,n),nE(this,t),this.g.attachProtoListener("pose_landmarks",(i,a)=>{Py(i,this.h.poseLandmarks),ct(this,a)}),this.g.attachEmptyPacketListener("pose_landmarks",i=>{ct(this,i)}),this.g.attachProtoListener("pose_world_landmarks",(i,a)=>{var s=this.h.poseWorldLandmarks;i=Td(i),s.push(Q0(i)),ct(this,a)}),this.g.attachEmptyPacketListener("pose_world_landmarks",i=>{ct(this,i)}),this.outputPoseSegmentationMasks&&(er(n,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),dp(this,"pose_segmentation_mask"),this.g.W("pose_segmentation_mask",(i,a)=>{this.h.poseSegmentationMasks=[mp(this,i,!0,!this.C)],ct(this,a)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",i=>{this.h.poseSegmentationMasks=[],ct(this,i)})),this.g.attachProtoListener("face_landmarks",(i,a)=>{Py(i,this.h.faceLandmarks),ct(this,a)}),this.g.attachEmptyPacketListener("face_landmarks",i=>{ct(this,i)}),this.outputFaceBlendshapes&&(Ar(t,"extra_blendshapes"),er(n,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(i,a)=>{var o;var s=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(i=eE(i),s.push(PI((o=i.g())!=null?o:[]))),ct(this,a)}),this.g.attachEmptyPacketListener("extra_blendshapes",i=>{ct(this,i)})),this.g.attachProtoListener("left_hand_landmarks",(i,a)=>{Py(i,this.h.leftHandLandmarks),ct(this,a)}),this.g.attachEmptyPacketListener("left_hand_landmarks",i=>{ct(this,i)}),this.g.attachProtoListener("left_hand_world_landmarks",(i,a)=>{var s=this.h.leftHandWorldLandmarks;i=Td(i),s.push(Q0(i)),ct(this,a)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",i=>{ct(this,i)}),this.g.attachProtoListener("right_hand_landmarks",(i,a)=>{Py(i,this.h.rightHandLandmarks),ct(this,a)}),this.g.attachEmptyPacketListener("right_hand_landmarks",i=>{ct(this,i)}),this.g.attachProtoListener("right_hand_world_landmarks",(i,a)=>{var s=this.h.rightHandWorldLandmarks;i=Td(i),s.push(Q0(i)),ct(this,a)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",i=>{ct(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Xr.prototype.detectForVideo=Xr.prototype.F,Xr.prototype.detect=Xr.prototype.D,Xr.prototype.setOptions=Xr.prototype.o,Xr.createFromModelPath=function(t,e){return qt(Xr,t,{baseOptions:{modelAssetPath:e}})},Xr.createFromModelBuffer=function(t,e){return qt(Xr,t,{baseOptions:{modelAssetBuffer:e}})},Xr.createFromOptions=function(t,e){return qt(Xr,t,e)},Xr.HAND_CONNECTIONS=jI,Xr.POSE_CONNECTIONS=yq,Xr.FACE_LANDMARKS_LIPS=MI,Xr.FACE_LANDMARKS_LEFT_EYE=NI,Xr.FACE_LANDMARKS_LEFT_EYEBROW=kI,Xr.FACE_LANDMARKS_LEFT_IRIS=pq,Xr.FACE_LANDMARKS_RIGHT_EYE=QI,Xr.FACE_LANDMARKS_RIGHT_EYEBROW=HI,Xr.FACE_LANDMARKS_RIGHT_IRIS=gq,Xr.FACE_LANDMARKS_FACE_OVAL=$I,Xr.FACE_LANDMARKS_CONTOURS=mq,Xr.FACE_LANDMARKS_TESSELATION=vq;var vs=class extends Da{constructor(t,e){super(new go(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},xt(t=this.h=new ZY,0,1,e=new fn)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){return xt(this.h,0,2,n4(t,sr(this.h,SI,2))),this.l(t)}wa(t,e){return this.j={classifications:[]},mo(this,t,e),this.j}xa(t,e,r){return this.j={classifications:[]},XA(this,t,r,e),this.j}m(){var t=new os;nn(t,"input_image"),nn(t,"norm_rect"),Ar(t,"classifications");const e=new Is;tA(e,sGe,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Wr(r,"IMAGE:input_image"),Wr(r,"NORM_RECT:norm_rect"),er(r,"CLASSIFICATIONS:classifications"),r.o(e),Fs(t,r),this.g.attachProtoListener("classifications",(n,i)=>{this.j=function(a){const s={classifications:Xl(a,Kje,1).map(o=>{var A,l;return PI((l=(A=sr(o,TY,4))==null?void 0:A.g())!=null?l:[],Ko(ro(o,2),0),jA(o,3))})};return iw(su(a,2))!=null&&(s.timestampMs=Ko(iw(su(a,2)),0)),s}(Vje(n)),ct(this,i)}),this.g.attachEmptyPacketListener("classifications",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};vs.prototype.classifyForVideo=vs.prototype.xa,vs.prototype.classify=vs.prototype.wa,vs.prototype.setOptions=vs.prototype.o,vs.createFromModelPath=function(t,e){return qt(vs,t,{baseOptions:{modelAssetPath:e}})},vs.createFromModelBuffer=function(t,e){return qt(vs,t,{baseOptions:{modelAssetBuffer:e}})},vs.createFromOptions=function(t,e){return qt(vs,t,e)};var Ya=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!0),this.h=new eq,this.embeddings={embeddings:[]},xt(t=this.h,0,1,e=new fn)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e=this.h,r=sr(this.h,eQ,2);return r=r?r.clone():new eQ,t.l2Normalize!==void 0?Mm(r,1,t.l2Normalize):"l2Normalize"in t&&Vr(r,1),t.quantize!==void 0?Mm(r,2,t.quantize):"quantize"in t&&Vr(r,2),xt(e,0,2,r),this.l(t)}Da(t,e){return mo(this,t,e),this.embeddings}Ea(t,e,r){return XA(this,t,r,e),this.embeddings}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"embeddings_out");const e=new Is;tA(e,oGe,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"EMBEDDINGS:embeddings_out"),r.o(e),Fs(t,r),this.g.attachProtoListener("embeddings_out",(n,i)=>{n=Yje(n),this.embeddings=function(a){return{embeddings:Xl(a,zje,1).map(s=>{var A,l,c,u,f;const o={headIndex:(A=Ko(ro(s,3),0))!=null?A:-1,headName:(l=jA(s,4))!=null?l:""};if(tY(s,Z8,y5(s,1))!==void 0)s=ff(s=sr(s,Z8,y5(s,1)),1,vu,uf()),o.floatEmbedding=s.slice();else{const h=new Uint8Array(0);o.quantizedEmbedding=(f=(u=(c=sr(s,Wje,y5(s,2)))==null?void 0:c.ra())==null?void 0:u.ua())!=null?f:h}return o}),timestampMs:Ko(iw(su(a,2)),0)}}(n),ct(this,i)}),this.g.attachEmptyPacketListener("embeddings_out",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Ya.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=iQ(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=iQ(nQ(t.quantizedEmbedding),nQ(e.quantizedEmbedding))}return t},Ya.prototype.embedForVideo=Ya.prototype.Ea,Ya.prototype.embed=Ya.prototype.Da,Ya.prototype.setOptions=Ya.prototype.o,Ya.createFromModelPath=function(t,e){return qt(Ya,t,{baseOptions:{modelAssetPath:e}})},Ya.createFromModelBuffer=function(t,e){return qt(Ya,t,{baseOptions:{modelAssetBuffer:e}})},Ya.createFromOptions=function(t,e){return qt(Ya,t,e)};var uw=class{constructor(t,e,r){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=r}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach(r=>{r.close()}),(e=this.categoryMask)==null||e.close()}};function SQ(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function TQ(t){try{const e=new uw(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{iE(t)}}uw.prototype.close=uw.prototype.close;var _a=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new FI,this.v=new tq,xt(this.h,0,3,this.v),xt(t=this.h,0,1,e=new fn)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r;return t.displayNamesLocale!==void 0?Vr(this.h,2,Qp(t.displayNamesLocale)):"displayNamesLocale"in t&&Vr(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=(e=t.outputCategoryMask)!=null?e:!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=(r=t.outputConfidenceMasks)!=null?r:!0),super.l(t)}J(){(function(t){var r,n,i;const e=Xl(t.ga(),Ra,1).filter(a=>jA(a,1).includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(t.s=[],e.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");e.length===1&&((i=(n=(r=sr(e[0],Is,7))==null?void 0:r.l())==null?void 0:n.g())!=null?i:new Map).forEach((a,s)=>{t.s[Number(s)]=jA(a,1)})})(this)}ha(t,e,r){const n=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:r,SQ(this),mo(this,t,n),TQ(this)}Pa(t,e,r,n){const i=typeof r!="function"?r:{};return this.j=typeof r=="function"?r:n,SQ(this),XA(this,t,i,e),TQ(this)}Ha(){return this.s}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect");const e=new Is;tA(e,nq,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),r.o(e),Fs(t,r),nE(this,t),this.outputConfidenceMasks&&(Ar(t,"confidence_masks"),er(r,"CONFIDENCE_MASKS:confidence_masks"),dp(this,"confidence_masks"),this.g.fa("confidence_masks",(n,i)=>{this.confidenceMasks=n.map(a=>mp(this,a,!0,!this.j)),ct(this,i)}),this.g.attachEmptyPacketListener("confidence_masks",n=>{this.confidenceMasks=[],ct(this,n)})),this.outputCategoryMask&&(Ar(t,"category_mask"),er(r,"CATEGORY_MASK:category_mask"),dp(this,"category_mask"),this.g.W("category_mask",(n,i)=>{this.categoryMask=mp(this,n,!1,!this.j),ct(this,i)}),this.g.attachEmptyPacketListener("category_mask",n=>{this.categoryMask=void 0,ct(this,n)})),Ar(t,"quality_scores"),er(r,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(n,i)=>{this.qualityScores=n,ct(this,i)}),this.g.attachEmptyPacketListener("quality_scores",n=>{this.categoryMask=void 0,ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};_a.prototype.getLabels=_a.prototype.Ha,_a.prototype.segmentForVideo=_a.prototype.Pa,_a.prototype.segment=_a.prototype.ha,_a.prototype.setOptions=_a.prototype.o,_a.createFromModelPath=function(t,e){return qt(_a,t,{baseOptions:{modelAssetPath:e}})},_a.createFromModelBuffer=function(t,e){return qt(_a,t,{baseOptions:{modelAssetBuffer:e}})},_a.createFromOptions=function(t,e){return qt(_a,t,e)};var fw=class{constructor(t,e,r){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=r}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach(r=>{r.close()}),(e=this.categoryMask)==null||e.close()}};fw.prototype.close=fw.prototype.close;var vGe=class extends pt{constructor(t){super(t)}},zh=[0,Tn,-2],hw=[0,Ol,-3,mn,Ol,-1],_Q=[0,hw],LQ=[0,hw,Tn,-1],C5=class extends pt{constructor(t){super(t)}},IQ=[0,Ol,-1,mn],yGe=class extends pt{constructor(){super()}},OQ=class extends pt{constructor(t){super(t)}},s4=[1,2,3,4,5,6,7,8,9,10,14,15],bq=class extends pt{constructor(){super()}};bq.prototype.g=Zx([0,ti,[0,s4,Lr,hw,Lr,[0,hw,zh],Lr,_Q,Lr,[0,_Q,zh],Lr,IQ,Lr,[0,Ol,-3,mn,Vo],Lr,[0,Ol,-3,mn],Lr,[0,Tr,Ol,-2,mn,Tn,mn,-1,2,Ol,zh],Lr,LQ,Lr,[0,LQ,zh],Ol,zh,Tr,Lr,[0,Ol,-3,mn,zh,-1],Lr,[0,ti,IQ]],Tr,[0,Tr,Tn,-1,mn]]);var Uo=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new FI,this.s=new tq,xt(this.h,0,3,this.s),xt(t=this.h,0,1,e=new fn)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r;return"outputCategoryMask"in t&&(this.outputCategoryMask=(e=t.outputCategoryMask)!=null?e:!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=(r=t.outputConfidenceMasks)!=null?r:!0),super.l(t)}ha(t,e,r,n){const i=typeof r!="function"?r:{};this.j=typeof r=="function"?r:n,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,r=this.B+1,n=new bq;const a=new OQ;var s=new vGe;if(GA(s,1,255),xt(a,0,12,s),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var o=new C5;Mm(o,3,!0),gt(o,1,e.keypoint.x),gt(o,2,e.keypoint.y),M0(a,5,s4,o)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(o of(s=new yGe,e.scribble))Mm(e=new C5,3,!0),gt(e,1,o.x),gt(e,2,o.y),ow(s,1,C5,e);M0(a,15,s4,s)}ow(n,1,OQ,a),this.g.addProtoToStream(n.g(),"drishti.RenderData","roi_in",r),mo(this,t,i);e:{try{const l=new fw(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var A=l;break e}this.j(l)}finally{iE(this)}A=void 0}return A}m(){var t=new os;nn(t,"image_in"),nn(t,"roi_in"),nn(t,"norm_rect_in");const e=new Is;tA(e,nq,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"ROI:roi_in"),Wr(r,"NORM_RECT:norm_rect_in"),r.o(e),Fs(t,r),nE(this,t),this.outputConfidenceMasks&&(Ar(t,"confidence_masks"),er(r,"CONFIDENCE_MASKS:confidence_masks"),dp(this,"confidence_masks"),this.g.fa("confidence_masks",(n,i)=>{this.confidenceMasks=n.map(a=>mp(this,a,!0,!this.j)),ct(this,i)}),this.g.attachEmptyPacketListener("confidence_masks",n=>{this.confidenceMasks=[],ct(this,n)})),this.outputCategoryMask&&(Ar(t,"category_mask"),er(r,"CATEGORY_MASK:category_mask"),dp(this,"category_mask"),this.g.W("category_mask",(n,i)=>{this.categoryMask=mp(this,n,!1,!this.j),ct(this,i)}),this.g.attachEmptyPacketListener("category_mask",n=>{this.categoryMask=void 0,ct(this,n)})),Ar(t,"quality_scores"),er(r,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(n,i)=>{this.qualityScores=n,ct(this,i)}),this.g.attachEmptyPacketListener("quality_scores",n=>{this.categoryMask=void 0,ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Uo.prototype.segment=Uo.prototype.ha,Uo.prototype.setOptions=Uo.prototype.o,Uo.createFromModelPath=function(t,e){return qt(Uo,t,{baseOptions:{modelAssetPath:e}})},Uo.createFromModelBuffer=function(t,e){return qt(Uo,t,{baseOptions:{modelAssetBuffer:e}})},Uo.createFromOptions=function(t,e){return qt(Uo,t,e)};var ys=class extends Da{constructor(t,e){super(new go(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},xt(t=this.h=new iq,0,1,e=new fn)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?Vr(this.h,2,Qp(t.displayNamesLocale)):"displayNamesLocale"in t&&Vr(this.h,2),t.maxResults!==void 0?GA(this.h,3,t.maxResults):"maxResults"in t&&Vr(this.h,3),t.scoreThreshold!==void 0?gt(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&Vr(this.h,4),t.categoryAllowlist!==void 0?Aw(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&Vr(this.h,5),t.categoryDenylist!==void 0?Aw(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&Vr(this.h,6),this.l(t)}D(t,e){return this.j={detections:[]},mo(this,t,e),this.j}F(t,e,r){return this.j={detections:[]},XA(this,t,r,e),this.j}m(){var t=new os;nn(t,"input_frame_gpu"),nn(t,"norm_rect"),Ar(t,"detections");const e=new Is;tA(e,lGe,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.ObjectDetectorGraph"),Wr(r,"IMAGE:input_frame_gpu"),Wr(r,"NORM_RECT:norm_rect"),er(r,"DETECTIONS:detections"),r.o(e),Fs(t,r),this.g.attachProtoVectorListener("detections",(n,i)=>{for(const a of n)n=LY(a),this.j.detections.push(sq(n));ct(this,i)}),this.g.attachEmptyPacketListener("detections",n=>{ct(this,n)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ys.prototype.detectForVideo=ys.prototype.F,ys.prototype.detect=ys.prototype.D,ys.prototype.setOptions=ys.prototype.o,ys.createFromModelPath=function(t,e){return Fn(this,null,function*(){return qt(ys,t,{baseOptions:{modelAssetPath:e}})})},ys.createFromModelBuffer=function(t,e){return qt(ys,t,{baseOptions:{modelAssetBuffer:e}})},ys.createFromOptions=function(t,e){return qt(ys,t,e)};var o4=class{constructor(t,e,r){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=r}close(){var t;(t=this.segmentationMasks)==null||t.forEach(e=>{e.close()})}};function FQ(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function PQ(t){try{const e=new o4(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.s)return e;t.s(e)}finally{iE(t)}}o4.prototype.close=o4.prototype.close;var qa=class extends Da{constructor(t,e){super(new go(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,xt(t=this.h=new aq,0,1,e=new fn),this.v=new XY,xt(this.h,0,3,this.v),this.j=new qY,xt(this.h,0,2,this.j),GA(this.j,4,1),gt(this.j,2,.5),gt(this.v,2,.5),gt(this.h,4,.5)}get baseOptions(){return sr(this.h,fn,1)}set baseOptions(t){xt(this.h,0,1,t)}o(t){var e,r,n,i,a;return"numPoses"in t&&GA(this.j,4,(e=t.numPoses)!=null?e:1),"minPoseDetectionConfidence"in t&&gt(this.j,2,(r=t.minPoseDetectionConfidence)!=null?r:.5),"minTrackingConfidence"in t&&gt(this.h,4,(n=t.minTrackingConfidence)!=null?n:.5),"minPosePresenceConfidence"in t&&gt(this.v,2,(i=t.minPosePresenceConfidence)!=null?i:.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=(a=t.outputSegmentationMasks)!=null?a:!1),this.l(t)}D(t,e,r){const n=typeof e!="function"?e:{};return this.s=typeof e=="function"?e:r,FQ(this),mo(this,t,n),PQ(this)}F(t,e,r,n){const i=typeof r!="function"?r:{};return this.s=typeof r=="function"?r:n,FQ(this),XA(this,t,i,e),PQ(this)}m(){var t=new os;nn(t,"image_in"),nn(t,"norm_rect"),Ar(t,"normalized_landmarks"),Ar(t,"world_landmarks"),Ar(t,"segmentation_masks");const e=new Is;tA(e,cGe,this.h);const r=new Ra;Os(r,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Wr(r,"IMAGE:image_in"),Wr(r,"NORM_RECT:norm_rect"),er(r,"NORM_LANDMARKS:normalized_landmarks"),er(r,"WORLD_LANDMARKS:world_landmarks"),r.o(e),Fs(t,r),nE(this,t),this.g.attachProtoVectorListener("normalized_landmarks",(n,i)=>{this.landmarks=[];for(const a of n)n=Ev(a),this.landmarks.push(rE(n));ct(this,i)}),this.g.attachEmptyPacketListener("normalized_landmarks",n=>{this.landmarks=[],ct(this,n)}),this.g.attachProtoVectorListener("world_landmarks",(n,i)=>{this.worldLandmarks=[];for(const a of n)n=Td(a),this.worldLandmarks.push(Q0(n));ct(this,i)}),this.g.attachEmptyPacketListener("world_landmarks",n=>{this.worldLandmarks=[],ct(this,n)}),this.outputSegmentationMasks&&(er(r,"SEGMENTATION_MASK:segmentation_masks"),dp(this,"segmentation_masks"),this.g.fa("segmentation_masks",(n,i)=>{this.segmentationMasks=n.map(a=>mp(this,a,!0,!this.s)),ct(this,i)}),this.g.attachEmptyPacketListener("segmentation_masks",n=>{this.segmentationMasks=[],ct(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};qa.prototype.detectForVideo=qa.prototype.F,qa.prototype.detect=qa.prototype.D,qa.prototype.setOptions=qa.prototype.o,qa.createFromModelPath=function(t,e){return qt(qa,t,{baseOptions:{modelAssetPath:e}})},qa.createFromModelBuffer=function(t,e){return qt(qa,t,{baseOptions:{modelAssetBuffer:e}})},qa.createFromOptions=function(t,e){return qt(qa,t,e)},qa.POSE_CONNECTIONS=yq;const hKe=Object.freeze(Object.defineProperty({__proto__:null,DrawingUtils:Ta,FaceDetector:ms,FaceLandmarker:gn,FaceStylizer:Po,FilesetResolver:Zu,GestureRecognizer:Wa,HandLandmarker:za,HolisticLandmarker:Xr,ImageClassifier:vs,ImageEmbedder:Ya,ImageSegmenter:_a,ImageSegmenterResult:uw,InteractiveSegmenter:Uo,InteractiveSegmenterResult:fw,MPImage:ui,MPMask:Jn,ObjectDetector:ys,PoseLandmarker:qa,VisionTaskRunner:Da},Symbol.toStringTag,{value:"Module"}));export{Pt as $,RGe as A,kH as B,PT as C,PGe as D,Tse as E,YGe as F,qGe as G,XGe as H,iQe as I,JGe as J,eKe as K,rKe as L,tKe as M,S_ as N,zGe as O,TGe as P,j as Q,sKe as R,ZGe as S,oKe as T,lKe as U,uKe as V,cKe as W,fKe as X,FGe as Y,ese as Z,LGe as _,OGe as a,DGe as a0,NGe as a1,jTe as a2,M3 as a3,N3 as a4,Tl as a5,bd as a6,lx as a7,aKe as a8,hKe as a9,BGe as b,cr as c,CGe as d,SGe as e,_Ge as f,iJ as g,IGe as h,aJ as i,I5 as j,MGe as k,Ese as l,kGe as m,LO as n,QGe as o,WGe as p,jGe as q,zQ as r,uJ as s,GGe as t,hJ as u,$Ge as v,KGe as w,HGe as x,VGe as y,_se as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}