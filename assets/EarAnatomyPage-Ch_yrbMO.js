import{j as jsxRuntimeExports,B as Box,F as CircularProgress,d as Typography,m as Button,W as Paper,a1 as Info,Z as Card,$ as CardContent,L as List,e as ListItem,f as ListItemIcon,H as Hearing,g as ListItemText,V as VolumeUp,bg as Waves,u as useTheme,a8 as CardMedia,Y as alpha,ai as NavigateNext,al as Accordion,am as AccordionSummary,K as KeyboardArrowDown,ao as AccordionDetails,U as Grid,a3 as Tooltip,bh as Fab,x as MenuBook,r as Drawer,I as IconButton,bi as Close,bj as InputBase,a_ as Search,au as ArrowBack,E as Container,bk as ThreeDRotation,aq as Stepper,ar as Step,as as StepLabel,at as StepContent}from"./vendor-mui-BsgQ3_Os.js";import{g as getDefaultExportFromCjs,d as commonjsGlobal,r as reactExports,a as React}from"./vendor-react-5UJDq-bj.js";import{C as Canvas,E as Environment,H as Html,T as TOUCH,u as useGLTF,a as useFrame,b as useThree,O as OrbitControls,c as CanvasTexture}from"./vendor-three-BjK-kHYm.js";import{g as getModelPath,E as EarAnatomyImages}from"./MediaAssets-BQrKIqkx.js";var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(e,t){module.exports=t()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,i=e.length,s;for(r=0;r<i;r+=1){s=e[r].prototype;for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t.prototype[n]=s[n])}}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,i=this.audios.length;for(r=0;r<i;r+=1)this.audios[r].pause()},resume:function(){var r,i=this.audios.length;for(r=0;r<i;r+=1)this.audios[r].resume()},setRate:function(r){var i,s=this.audios.length;for(i=0;i<s;i+=1)this.audios[i].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,i=this.audios.length;for(r=0;r<i;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(r,i){var s=0,n=[],a;switch(r){case"int16":case"uint8c":a=1;break;default:a=1.1;break}for(s=0;s<i;s+=1)n.push(a);return n}function t(r,i){return r==="float32"?new Float32Array(i):r==="int16"?new Int16Array(i):r==="uint8c"?new Uint8ClampedArray(i):e(r,i)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(r){return typeof r}:_typeof$6=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var t=_typeof$6(e);if(t==="object"&&e.length){var r=createSizedArray(e.length),i,s=e.length;for(i=0;i<s;i+=1)r[i]=Math.abs(e[i]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,i){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,i){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=i<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,t,r){var i,s,n,a,l,o,p,m;switch(a=Math.floor(e*6),l=e*6-a,o=r*(1-t),p=r*(1-l*t),m=r*(1-(1-l)*t),a%6){case 0:i=r,s=m,n=o;break;case 1:i=p,s=r,n=o;break;case 2:i=o,s=r,n=m;break;case 3:i=o,s=p,n=r;break;case 4:i=m,s=o,n=r;break;case 5:i=r,s=o,n=p;break}return[i,s,n]}function RGBtoHSV(e,t,r){var i=Math.max(e,t,r),s=Math.min(e,t,r),n=i-s,a,l=i===0?0:n/i,o=i/255;switch(i){case s:a=0;break;case e:a=t-r+n*(t<r?6:0),a/=6*n;break;case t:a=r-e+n*2,a/=6*n;break;case r:a=e-t+n*4,a/=6*n;break}return[a,l,o]}function addSaturationToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e=[],t,r;for(t=0;t<256;t+=1)r=t.toString(16),e[t]=r.length===1?"0"+r:r;return function(i,s,n){return i<0&&(i=0),s<0&&(s=0),n<0&&(n=0),"#"+e[i]+e[s]+e[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(r){return typeof r}:_typeof$5=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$5(e)}var dataManager=function(){var e=1,t=[],r,i,s={onmessage:function(){},postMessage:function(v){r({data:v})}},n={postMessage:function(v){s.onmessage({data:v})}};function a(c){if(window.Worker&&window.Blob&&getWebWorker()){var v=new Blob(["var _workerSelf = self; self.onmessage = ",c.toString()],{type:"text/javascript"}),y=URL.createObjectURL(v);return new Worker(y)}return r=c,s}function l(){i||(i=a(function(v){function y(){function R(M,T){var C,g,E=M.length,_,w,B,O;for(g=0;g<E;g+=1)if(C=M[g],"ks"in C&&!C.completed){if(C.completed=!0,C.hasMask){var z=C.masksProperties;for(w=z.length,_=0;_<w;_+=1)if(z[_].pt.k.i)j(z[_].pt.k);else for(O=z[_].pt.k.length,B=0;B<O;B+=1)z[_].pt.k[B].s&&j(z[_].pt.k[B].s[0]),z[_].pt.k[B].e&&j(z[_].pt.k[B].e[0])}C.ty===0?(C.layers=h(C.refId,T),R(C.layers,T)):C.ty===4?x(C.shapes):C.ty===5&&L(C)}}function u(M,T){if(M){var C=0,g=M.length;for(C=0;C<g;C+=1)M[C].t===1&&(M[C].data.layers=h(M[C].data.refId,T),R(M[C].data.layers,T))}}function d(M,T){for(var C=0,g=T.length;C<g;){if(T[C].id===M)return T[C];C+=1}return null}function h(M,T){var C=d(M,T);return C?C.layers.__used?JSON.parse(JSON.stringify(C.layers)):(C.layers.__used=!0,C.layers):null}function x(M){var T,C=M.length,g,E;for(T=C-1;T>=0;T-=1)if(M[T].ty==="sh")if(M[T].ks.k.i)j(M[T].ks.k);else for(E=M[T].ks.k.length,g=0;g<E;g+=1)M[T].ks.k[g].s&&j(M[T].ks.k[g].s[0]),M[T].ks.k[g].e&&j(M[T].ks.k[g].e[0]);else M[T].ty==="gr"&&x(M[T].it)}function j(M){var T,C=M.i.length;for(T=0;T<C;T+=1)M.i[T][0]+=M.v[T][0],M.i[T][1]+=M.v[T][1],M.o[T][0]+=M.v[T][0],M.o[T][1]+=M.v[T][1]}function S(M,T){var C=T?T.split("."):[100,100,100];return M[0]>C[0]?!0:C[0]>M[0]?!1:M[1]>C[1]?!0:C[1]>M[1]?!1:M[2]>C[2]?!0:C[2]>M[2]?!1:null}var P=function(){var M=[4,4,14];function T(g){var E=g.t.d;g.t.d={k:[{s:E,t:0}]}}function C(g){var E,_=g.length;for(E=0;E<_;E+=1)g[E].ty===5&&T(g[E])}return function(g){if(S(M,g.v)&&(C(g.layers),g.assets)){var E,_=g.assets.length;for(E=0;E<_;E+=1)g.assets[E].layers&&C(g.assets[E].layers)}}}(),A=function(){var M=[4,7,99];return function(T){if(T.chars&&!S(M,T.v)){var C,g=T.chars.length;for(C=0;C<g;C+=1){var E=T.chars[C];E.data&&E.data.shapes&&(x(E.data.shapes),E.data.ip=0,E.data.op=99999,E.data.st=0,E.data.sr=1,E.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},T.chars[C].t||(E.data.shapes.push({ty:"no"}),E.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),I=function(){var M=[5,7,15];function T(g){var E=g.t.p;typeof E.a=="number"&&(E.a={a:0,k:E.a}),typeof E.p=="number"&&(E.p={a:0,k:E.p}),typeof E.r=="number"&&(E.r={a:0,k:E.r})}function C(g){var E,_=g.length;for(E=0;E<_;E+=1)g[E].ty===5&&T(g[E])}return function(g){if(S(M,g.v)&&(C(g.layers),g.assets)){var E,_=g.assets.length;for(E=0;E<_;E+=1)g.assets[E].layers&&C(g.assets[E].layers)}}}(),V=function(){var M=[4,1,9];function T(g){var E,_=g.length,w,B;for(E=0;E<_;E+=1)if(g[E].ty==="gr")T(g[E].it);else if(g[E].ty==="fl"||g[E].ty==="st")if(g[E].c.k&&g[E].c.k[0].i)for(B=g[E].c.k.length,w=0;w<B;w+=1)g[E].c.k[w].s&&(g[E].c.k[w].s[0]/=255,g[E].c.k[w].s[1]/=255,g[E].c.k[w].s[2]/=255,g[E].c.k[w].s[3]/=255),g[E].c.k[w].e&&(g[E].c.k[w].e[0]/=255,g[E].c.k[w].e[1]/=255,g[E].c.k[w].e[2]/=255,g[E].c.k[w].e[3]/=255);else g[E].c.k[0]/=255,g[E].c.k[1]/=255,g[E].c.k[2]/=255,g[E].c.k[3]/=255}function C(g){var E,_=g.length;for(E=0;E<_;E+=1)g[E].ty===4&&T(g[E].shapes)}return function(g){if(S(M,g.v)&&(C(g.layers),g.assets)){var E,_=g.assets.length;for(E=0;E<_;E+=1)g.assets[E].layers&&C(g.assets[E].layers)}}}(),F=function(){var M=[4,4,18];function T(g){var E,_=g.length,w,B;for(E=_-1;E>=0;E-=1)if(g[E].ty==="sh")if(g[E].ks.k.i)g[E].ks.k.c=g[E].closed;else for(B=g[E].ks.k.length,w=0;w<B;w+=1)g[E].ks.k[w].s&&(g[E].ks.k[w].s[0].c=g[E].closed),g[E].ks.k[w].e&&(g[E].ks.k[w].e[0].c=g[E].closed);else g[E].ty==="gr"&&T(g[E].it)}function C(g){var E,_,w=g.length,B,O,z,N;for(_=0;_<w;_+=1){if(E=g[_],E.hasMask){var H=E.masksProperties;for(O=H.length,B=0;B<O;B+=1)if(H[B].pt.k.i)H[B].pt.k.c=H[B].cl;else for(N=H[B].pt.k.length,z=0;z<N;z+=1)H[B].pt.k[z].s&&(H[B].pt.k[z].s[0].c=H[B].cl),H[B].pt.k[z].e&&(H[B].pt.k[z].e[0].c=H[B].cl)}E.ty===4&&T(E.shapes)}}return function(g){if(S(M,g.v)&&(C(g.layers),g.assets)){var E,_=g.assets.length;for(E=0;E<_;E+=1)g.assets[E].layers&&C(g.assets[E].layers)}}}();function k(M){M.__complete||(V(M),P(M),A(M),I(M),F(M),R(M.layers,M.assets),u(M.chars,M.assets),M.__complete=!0)}function L(M){M.t.a.length===0&&"m"in M.t.p}var D={};return D.completeData=k,D.checkColors=V,D.checkChars=A,D.checkPathProperties=I,D.checkShapes=F,D.completeLayers=R,D}if(n.dataManager||(n.dataManager=y()),n.assetLoader||(n.assetLoader=function(){function R(d){var h=d.getResponseHeader("content-type");return h&&d.responseType==="json"&&h.indexOf("json")!==-1||d.response&&_typeof$5(d.response)==="object"?d.response:d.response&&typeof d.response=="string"?JSON.parse(d.response):d.responseText?JSON.parse(d.responseText):null}function u(d,h,x,j){var S,P=new XMLHttpRequest;try{P.responseType="json"}catch{}P.onreadystatechange=function(){if(P.readyState===4)if(P.status===200)S=R(P),x(S);else try{S=R(P),x(S)}catch(A){j&&j(A)}};try{P.open(["G","E","T"].join(""),d,!0)}catch{P.open(["G","E","T"].join(""),h+"/"+d,!0)}P.send()}return{load:u}}()),v.data.type==="loadAnimation")n.assetLoader.load(v.data.path,v.data.fullPath,function(R){n.dataManager.completeData(R),n.postMessage({id:v.data.id,payload:R,status:"success"})},function(){n.postMessage({id:v.data.id,status:"error"})});else if(v.data.type==="complete"){var f=v.data.animation;n.dataManager.completeData(f),n.postMessage({id:v.data.id,payload:f,status:"success"})}else v.data.type==="loadData"&&n.assetLoader.load(v.data.path,v.data.fullPath,function(R){n.postMessage({id:v.data.id,payload:R,status:"success"})},function(){n.postMessage({id:v.data.id,status:"error"})})}),i.onmessage=function(c){var v=c.data,y=v.id,f=t[y];t[y]=null,v.status==="success"?f.onComplete(v.payload):f.onError&&f.onError()})}function o(c,v){e+=1;var y="processId_"+e;return t[y]={onComplete:c,onError:v},y}function p(c,v,y){l();var f=o(v,y);i.postMessage({type:"loadAnimation",path:c,fullPath:window.location.origin+window.location.pathname,id:f})}function m(c,v,y){l();var f=o(v,y);i.postMessage({type:"loadData",path:c,fullPath:window.location.origin+window.location.pathname,id:f})}function b(c,v,y){l();var f=o(v,y);i.postMessage({type:"complete",animation:c,id:f})}return{loadAnimation:p,loadData:m,completeAnimation:b}}(),ImagePreloader=function(){var e=function(){var u=createTag("canvas");u.width=1,u.height=1;var d=u.getContext("2d");return d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,1,1),u}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(u,d,h){var x="";if(u.e)x=u.p;else if(d){var j=u.p;j.indexOf("images/")!==-1&&(j=j.split("/")[1]),x=d+j}else x=h,x+=u.u?u.u:"",x+=u.p;return x}function s(u){var d=0,h=setInterval(function(){var x=u.getBBox();(x.width||d>500)&&(this._imageLoaded(),clearInterval(h)),d+=1}.bind(this),50)}function n(u){var d=i(u,this.assetsPath,this.path),h=createNS("image");isSafari?this.testImageLoaded(h):h.addEventListener("load",this._imageLoaded,!1),h.addEventListener("error",function(){x.img=e,this._imageLoaded()}.bind(this),!1),h.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this._elementHelper.append?this._elementHelper.append(h):this._elementHelper.appendChild(h);var x={img:h,assetData:u};return x}function a(u){var d=i(u,this.assetsPath,this.path),h=createTag("img");h.crossOrigin="anonymous",h.addEventListener("load",this._imageLoaded,!1),h.addEventListener("error",function(){x.img=e,this._imageLoaded()}.bind(this),!1),h.src=d;var x={img:h,assetData:u};return x}function l(u){var d={assetData:u},h=i(u,this.assetsPath,this.path);return dataManager.loadData(h,function(x){d.img=x,this._footageLoaded()}.bind(this),function(){d.img={},this._footageLoaded()}.bind(this)),d}function o(u,d){this.imagesLoadedCb=d;var h,x=u.length;for(h=0;h<x;h+=1)u[h].layers||(!u[h].t||u[h].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(u[h]))):u[h].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(u[h]))))}function p(u){this.path=u||""}function m(u){this.assetsPath=u||""}function b(u){for(var d=0,h=this.images.length;d<h;){if(this.images[d].assetData===u)return this.images[d].img;d+=1}return null}function c(){this.imagesLoadedCb=null,this.images.length=0}function v(){return this.totalImages===this.loadedAssets}function y(){return this.totalFootages===this.loadedFootagesCount}function f(u,d){u==="svg"?(this._elementHelper=d,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function R(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=l.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return R.prototype={loadAssets:o,setAssetsPath:m,setPath:p,loadedImages:v,loadedFootages:y,destroy:c,getAsset:b,createImgData:a,createImageData:n,imageLoaded:t,footageLoaded:r,setCacheType:f},R}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,r){if(this._cbs[t])for(var i=this._cbs[t],s=0;s<i.length;s+=1)i[s](r)},addEventListener:function(t,r){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(r),function(){this.removeEventListener(t,r)}.bind(this)},removeEventListener:function(t,r){if(!r)this._cbs[t]=null;else if(this._cbs[t]){for(var i=0,s=this._cbs[t].length;i<s;)this._cbs[t][i]===r&&(this._cbs[t].splice(i,1),i-=1,s-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function e(t){for(var r=t.split(`\r
`),i={},s,n=0,a=0;a<r.length;a+=1)s=r[a].split(":"),s.length===2&&(i[s[0]]=s[1].trim(),n+=1);if(n===0)throw new Error;return i}return function(t){for(var r=[],i=0;i<t.length;i+=1){var s=t[i],n={time:s.tm,duration:s.dr};try{n.payload=JSON.parse(t[i].cm)}catch{try{n.payload=e(t[i].cm)}catch{n.payload={name:t[i].cm}}}r.push(n)}return r}}(),ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(r){for(var i=0,s=this.compositions.length;i<s;){if(this.compositions[i].data&&this.compositions[i].data.nm===r)return this.compositions[i].prepareFrame&&this.compositions[i].data.xt&&this.compositions[i].prepareFrame(this.currentFrame),this.compositions[i].compInterface;i+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(t,r){renderers[t]=r};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(r){return typeof r}:_typeof$4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},i=e.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";s==="false"?r.loop=!1:s==="true"?r.loop=!0:s!==""&&(r.loop=parseInt(s,10));var n=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:i.getNamedItem("bm-autoplay")?i.getNamedItem("bm-autoplay").value:!0;r.autoplay=n!=="false",r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"";var a=i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"";a==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t=this.animationData.layers,r,i=t.length,s=e.layers,n,a=s.length;for(n=0;n<a;n+=1)for(r=0;r<i;){if(t[r].id===s[n].id){t[r]=s[n];break}r+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(i=e.assets.length,r=0;r<i;r+=1)this.animationData.assets.push(e.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r=typeof e=="number"?e:void 0,i=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(r,i)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if(t=this.markers[r],t.payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!(r&&this.name!==r)){var i=Number(e);if(isNaN(i)){var s=this.getMarkerData(e);s&&this.goToAndStop(s.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!(r&&this.name!==r)){var i=Number(e);if(isNaN(i)){var s=this.getMarkerData(e);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(i,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,t=0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),_typeof$4(e[0])==="object"){var r,i=e.length;for(r=0;r<i;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{var i=this.renderer.getElementByPath(e);i.updateDocumentData(t,r)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,i=0,s=0,n=!0,a=!1;function l(T){for(var C=0,g=T.target;C<i;)t[C].animation===g&&(t.splice(C,1),C-=1,i-=1,g.isPaused||b()),C+=1}function o(T,C){if(!T)return null;for(var g=0;g<i;){if(t[g].elem===T&&t[g].elem!==null)return t[g].animation;g+=1}var E=new AnimationItem;return c(E,T),E.setData(T,C),E}function p(){var T,C=t.length,g=[];for(T=0;T<C;T+=1)g.push(t[T].animation);return g}function m(){s+=1,V()}function b(){s-=1}function c(T,C){T.addEventListener("destroy",l),T.addEventListener("_active",m),T.addEventListener("_idle",b),t.push({elem:C,animation:T}),i+=1}function v(T){var C=new AnimationItem;return c(C,null),C.setParams(T),C}function y(T,C){var g;for(g=0;g<i;g+=1)t[g].animation.setSpeed(T,C)}function f(T,C){var g;for(g=0;g<i;g+=1)t[g].animation.setDirection(T,C)}function R(T){var C;for(C=0;C<i;C+=1)t[C].animation.play(T)}function u(T){var C=T-r,g;for(g=0;g<i;g+=1)t[g].animation.advanceTime(C);r=T,s&&!a?window.requestAnimationFrame(u):n=!0}function d(T){r=T,window.requestAnimationFrame(u)}function h(T){var C;for(C=0;C<i;C+=1)t[C].animation.pause(T)}function x(T,C,g){var E;for(E=0;E<i;E+=1)t[E].animation.goToAndStop(T,C,g)}function j(T){var C;for(C=0;C<i;C+=1)t[C].animation.stop(T)}function S(T){var C;for(C=0;C<i;C+=1)t[C].animation.togglePause(T)}function P(T){var C;for(C=i-1;C>=0;C-=1)t[C].animation.destroy(T)}function A(T,C,g){var E=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),_,w=E.length;for(_=0;_<w;_+=1)g&&E[_].setAttribute("data-bm-type",g),o(E[_],T);if(C&&w===0){g||(g="svg");var B=document.getElementsByTagName("body")[0];B.innerText="";var O=createTag("div");O.style.width="100%",O.style.height="100%",O.setAttribute("data-bm-type",g),B.appendChild(O),o(O,T)}}function I(){var T;for(T=0;T<i;T+=1)t[T].animation.resize()}function V(){!a&&s&&n&&(window.requestAnimationFrame(d),n=!1)}function F(){a=!0}function k(){a=!1,V()}function L(T,C){var g;for(g=0;g<i;g+=1)t[g].animation.setVolume(T,C)}function D(T){var C;for(C=0;C<i;C+=1)t[C].animation.mute(T)}function M(T){var C;for(C=0;C<i;C+=1)t[C].animation.unmute(T)}return e.registerAnimation=o,e.loadAnimation=v,e.setSpeed=y,e.setDirection=f,e.play=R,e.pause=h,e.stop=j,e.togglePause=S,e.searchAnimations=A,e.resize=I,e.goToAndStop=x,e.destroy=P,e.freeze=F,e.unfreeze=k,e.setVolume=L,e.mute=D,e.unmute=M,e.getRegisteredAnimations=p,e}(),BezierFactory=function(){var e={};e.getBezierEasing=r;var t={};function r(d,h,x,j,S){var P=S||("bez_"+d+"_"+h+"_"+x+"_"+j).replace(/\./g,"p");if(t[P])return t[P];var A=new u([d,h,x,j]);return t[P]=A,A}var i=4,s=.001,n=1e-7,a=10,l=11,o=1/(l-1),p=typeof Float32Array=="function";function m(d,h){return 1-3*h+3*d}function b(d,h){return 3*h-6*d}function c(d){return 3*d}function v(d,h,x){return((m(h,x)*d+b(h,x))*d+c(h))*d}function y(d,h,x){return 3*m(h,x)*d*d+2*b(h,x)*d+c(h)}function f(d,h,x,j,S){var P,A,I=0;do A=h+(x-h)/2,P=v(A,j,S)-d,P>0?x=A:h=A;while(Math.abs(P)>n&&++I<a);return A}function R(d,h,x,j){for(var S=0;S<i;++S){var P=y(h,x,j);if(P===0)return h;var A=v(h,x,j)-d;h-=A/P}return h}function u(d){this._p=d,this._mSampleValues=p?new Float32Array(l):new Array(l),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(h){var x=this._p[0],j=this._p[1],S=this._p[2],P=this._p[3];return this._precomputed||this._precompute(),x===j&&S===P?h:h===0?0:h===1?1:v(this._getTForX(h),j,P)},_precompute:function(){var h=this._p[0],x=this._p[1],j=this._p[2],S=this._p[3];this._precomputed=!0,(h!==x||j!==S)&&this._calcSampleValues()},_calcSampleValues:function(){for(var h=this._p[0],x=this._p[2],j=0;j<l;++j)this._mSampleValues[j]=v(j*o,h,x)},_getTForX:function(h){for(var x=this._p[0],j=this._p[2],S=this._mSampleValues,P=0,A=1,I=l-1;A!==I&&S[A]<=h;++A)P+=o;--A;var V=(h-S[A])/(S[A+1]-S[A]),F=P+V*o,k=y(F,x,j);return k>=s?R(h,F,x,j):k===0?F:f(h,P,P+o,x,j)}},e}(),pooling=function(){function e(t){return t.concat(createSizedArray(t.length))}return{double:e}}(),poolFactory=function(){return function(e,t,r){var i=0,s=e,n=createSizedArray(s),a={newElement:l,release:o};function l(){var p;return i?(i-=1,p=n[i]):p=t(),p}function o(p){i===s&&(n=pooling.double(n),s*=2),r&&r(p),n[i]=p,i+=1}return a}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function t(r){var i,s=r.lengths.length;for(i=0;i<s;i+=1)bezierLengthPool.release(r.lengths[i]);r.lengths.length=0}return poolFactory(8,e,t)}();function bezFunction(){var e=Math;function t(c,v,y,f,R,u){var d=c*f+v*R+y*u-R*f-u*c-y*v;return d>-.001&&d<.001}function r(c,v,y,f,R,u,d,h,x){if(y===0&&u===0&&x===0)return t(c,v,f,R,d,h);var j=e.sqrt(e.pow(f-c,2)+e.pow(R-v,2)+e.pow(u-y,2)),S=e.sqrt(e.pow(d-c,2)+e.pow(h-v,2)+e.pow(x-y,2)),P=e.sqrt(e.pow(d-f,2)+e.pow(h-R,2)+e.pow(x-u,2)),A;return j>S?j>P?A=j-S-P:A=P-S-j:P>S?A=P-S-j:A=S-j-P,A>-1e-4&&A<1e-4}var i=function(){return function(c,v,y,f){var R=getDefaultCurveSegments(),u,d,h,x,j,S=0,P,A=[],I=[],V=bezierLengthPool.newElement();for(h=y.length,u=0;u<R;u+=1){for(j=u/(R-1),P=0,d=0;d<h;d+=1)x=bmPow(1-j,3)*c[d]+3*bmPow(1-j,2)*j*y[d]+3*(1-j)*bmPow(j,2)*f[d]+bmPow(j,3)*v[d],A[d]=x,I[d]!==null&&(P+=bmPow(A[d]-I[d],2)),I[d]=A[d];P&&(P=bmSqrt(P),S+=P),V.percents[u]=j,V.lengths[u]=S}return V.addedLength=S,V}}();function s(c){var v=segmentsLengthPool.newElement(),y=c.c,f=c.v,R=c.o,u=c.i,d,h=c._length,x=v.lengths,j=0;for(d=0;d<h-1;d+=1)x[d]=i(f[d],f[d+1],R[d],u[d+1]),j+=x[d].addedLength;return y&&h&&(x[d]=i(f[d],f[0],R[d],u[0]),j+=x[d].addedLength),v.totalLength=j,v}function n(c){this.segmentLength=0,this.points=new Array(c)}function a(c,v){this.partialLength=c,this.point=v}var l=function(){var c={};return function(v,y,f,R){var u=(v[0]+"_"+v[1]+"_"+y[0]+"_"+y[1]+"_"+f[0]+"_"+f[1]+"_"+R[0]+"_"+R[1]).replace(/\./g,"p");if(!c[u]){var d=getDefaultCurveSegments(),h,x,j,S,P,A=0,I,V,F=null;v.length===2&&(v[0]!==y[0]||v[1]!==y[1])&&t(v[0],v[1],y[0],y[1],v[0]+f[0],v[1]+f[1])&&t(v[0],v[1],y[0],y[1],y[0]+R[0],y[1]+R[1])&&(d=2);var k=new n(d);for(j=f.length,h=0;h<d;h+=1){for(V=createSizedArray(j),P=h/(d-1),I=0,x=0;x<j;x+=1)S=bmPow(1-P,3)*v[x]+3*bmPow(1-P,2)*P*(v[x]+f[x])+3*(1-P)*bmPow(P,2)*(y[x]+R[x])+bmPow(P,3)*y[x],V[x]=S,F!==null&&(I+=bmPow(V[x]-F[x],2));I=bmSqrt(I),A+=I,k.points[h]=new a(I,V),F=V}k.segmentLength=A,c[u]=k}return c[u]}}();function o(c,v){var y=v.percents,f=v.lengths,R=y.length,u=bmFloor((R-1)*c),d=c*v.addedLength,h=0;if(u===R-1||u===0||d===f[u])return y[u];for(var x=f[u]>d?-1:1,j=!0;j;)if(f[u]<=d&&f[u+1]>d?(h=(d-f[u])/(f[u+1]-f[u]),j=!1):u+=x,u<0||u>=R-1){if(u===R-1)return y[u];j=!1}return y[u]+(y[u+1]-y[u])*h}function p(c,v,y,f,R,u){var d=o(R,u),h=1-d,x=e.round((h*h*h*c[0]+(d*h*h+h*d*h+h*h*d)*y[0]+(d*d*h+h*d*d+d*h*d)*f[0]+d*d*d*v[0])*1e3)/1e3,j=e.round((h*h*h*c[1]+(d*h*h+h*d*h+h*h*d)*y[1]+(d*d*h+h*d*d+d*h*d)*f[1]+d*d*d*v[1])*1e3)/1e3;return[x,j]}var m=createTypedArray("float32",8);function b(c,v,y,f,R,u,d){R<0?R=0:R>1&&(R=1);var h=o(R,d);u=u>1?1:u;var x=o(u,d),j,S=c.length,P=1-h,A=1-x,I=P*P*P,V=h*P*P*3,F=h*h*P*3,k=h*h*h,L=P*P*A,D=h*P*A+P*h*A+P*P*x,M=h*h*A+P*h*x+h*P*x,T=h*h*x,C=P*A*A,g=h*A*A+P*x*A+P*A*x,E=h*x*A+P*x*x+h*A*x,_=h*x*x,w=A*A*A,B=x*A*A+A*x*A+A*A*x,O=x*x*A+A*x*x+x*A*x,z=x*x*x;for(j=0;j<S;j+=1)m[j*4]=e.round((I*c[j]+V*y[j]+F*f[j]+k*v[j])*1e3)/1e3,m[j*4+1]=e.round((L*c[j]+D*y[j]+M*f[j]+T*v[j])*1e3)/1e3,m[j*4+2]=e.round((C*c[j]+g*y[j]+E*f[j]+_*v[j])*1e3)/1e3,m[j*4+3]=e.round((w*c[j]+B*y[j]+O*f[j]+z*v[j])*1e3)/1e3;return m}return{getSegmentsLength:s,getNewSegment:b,getPointInSegment:p,buildBezierData:l,pointOnLine2D:t,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r=this.offsetTime,i;this.propType==="multidimensional"&&(i=createTypedArray("float32",this.pv.length));for(var s=t.lastIndex,n=s,a=this.keyframes.length-1,l=!0,o,p,m;l;){if(o=this.keyframes[n],p=this.keyframes[n+1],n===a-1&&e>=p.t-r){o.h&&(o=p),s=0;break}if(p.t-r>e){s=n;break}n<a-1?n+=1:(s=0,l=!1)}m=this.keyframesMetadata[n]||{};var b,c,v,y,f,R,u=p.t-r,d=o.t-r,h;if(o.to){m.bezierData||(m.bezierData=bez.buildBezierData(o.s,p.s||o.e,o.to,o.ti));var x=m.bezierData;if(e>=u||e<d){var j=e>=u?x.points.length-1:0;for(c=x.points[j].point.length,b=0;b<c;b+=1)i[b]=x.points[j].point[b]}else{m.__fnct?R=m.__fnct:(R=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,m.__fnct=R),v=R((e-d)/(u-d));var S=x.segmentLength*v,P,A=t.lastFrame<e&&t._lastKeyframeIndex===n?t._lastAddedLength:0;for(f=t.lastFrame<e&&t._lastKeyframeIndex===n?t._lastPoint:0,l=!0,y=x.points.length;l;){if(A+=x.points[f].partialLength,S===0||v===0||f===x.points.length-1){for(c=x.points[f].point.length,b=0;b<c;b+=1)i[b]=x.points[f].point[b];break}else if(S>=A&&S<A+x.points[f+1].partialLength){for(P=(S-A)/x.points[f+1].partialLength,c=x.points[f].point.length,b=0;b<c;b+=1)i[b]=x.points[f].point[b]+(x.points[f+1].point[b]-x.points[f].point[b])*P;break}f<y-1?f+=1:l=!1}t._lastPoint=f,t._lastAddedLength=A-x.points[f].partialLength,t._lastKeyframeIndex=n}}else{var I,V,F,k,L;if(a=o.s.length,h=p.s||o.e,this.sh&&o.h!==1)if(e>=u)i[0]=h[0],i[1]=h[1],i[2]=h[2];else if(e<=d)i[0]=o.s[0],i[1]=o.s[1],i[2]=o.s[2];else{var D=createQuaternion(o.s),M=createQuaternion(h),T=(e-d)/(u-d);quaternionToEuler(i,slerp(D,M,T))}else for(n=0;n<a;n+=1)o.h!==1&&(e>=u?v=1:e<d?v=0:(o.o.x.constructor===Array?(m.__fnct||(m.__fnct=[]),m.__fnct[n]?R=m.__fnct[n]:(I=o.o.x[n]===void 0?o.o.x[0]:o.o.x[n],V=o.o.y[n]===void 0?o.o.y[0]:o.o.y[n],F=o.i.x[n]===void 0?o.i.x[0]:o.i.x[n],k=o.i.y[n]===void 0?o.i.y[0]:o.i.y[n],R=BezierFactory.getBezierEasing(I,V,F,k).get,m.__fnct[n]=R)):m.__fnct?R=m.__fnct:(I=o.o.x,V=o.o.y,F=o.i.x,k=o.i.y,R=BezierFactory.getBezierEasing(I,V,F,k).get,o.keyframeMetadata=R),v=R((e-d)/(u-d)))),h=p.s||o.e,L=o.h===1?o.s[n]:o.s[n]+(h[n]-o.s[n])*v,this.propType==="multidimensional"?i[n]=L:i=L}return t.lastIndex=s,i}function slerp(e,t,r){var i=[],s=e[0],n=e[1],a=e[2],l=e[3],o=t[0],p=t[1],m=t[2],b=t[3],c,v,y,f,R;return v=s*o+n*p+a*m+l*b,v<0&&(v=-v,o=-o,p=-p,m=-m,b=-b),1-v>1e-6?(c=Math.acos(v),y=Math.sin(c),f=Math.sin((1-r)*c)/y,R=Math.sin(r*c)/y):(f=1-r,R=r),i[0]=f*s+R*o,i[1]=f*n+R*p,i[2]=f*a+R*m,i[3]=f*l+R*b,i}function quaternionToEuler(e,t){var r=t[0],i=t[1],s=t[2],n=t[3],a=Math.atan2(2*i*n-2*r*s,1-2*i*i-2*s*s),l=Math.asin(2*r*i+2*s*n),o=Math.atan2(2*r*n-2*i*s,1-2*r*r-2*s*s);e[0]=a/degToRads,e[1]=l/degToRads,e[2]=o/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,i=e[2]*degToRads,s=Math.cos(t/2),n=Math.cos(r/2),a=Math.cos(i/2),l=Math.sin(t/2),o=Math.sin(r/2),p=Math.sin(i/2),m=s*n*a-l*o*p,b=l*o*a+s*n*p,c=l*n*a+s*o*p,v=s*o*a-l*n*p;return[b,c,v,m]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if(this.propType==="unidimensional")t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,i){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,i){this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,n=t.k.length;for(this.v=createTypedArray("float32",n),this.pv=createTypedArray("float32",n),this.vel=createTypedArray("float32",n),s=0;s<n;s+=1)this.v[s]=t.k[s]*this.mult,this.pv[s]=t.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,i){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,i){this.propType="multidimensional";var s,n=t.k.length,a,l,o,p;for(s=0;s<n-1;s+=1)t.k[s].to&&t.k[s].s&&t.k[s+1]&&t.k[s+1].s&&(a=t.k[s].s,l=t.k[s+1].s,o=t.k[s].to,p=t.k[s].ti,(a.length===2&&!(a[0]===l[0]&&a[1]===l[1])&&bez.pointOnLine2D(a[0],a[1],l[0],l[1],a[0]+o[0],a[1]+o[1])&&bez.pointOnLine2D(a[0],a[1],l[0],l[1],l[0]+p[0],l[1]+p[1])||a.length===3&&!(a[0]===l[0]&&a[1]===l[1]&&a[2]===l[2])&&bez.pointOnLine3D(a[0],a[1],a[2],l[0],l[1],l[2],a[0]+o[0],a[1]+o[1],a[2]+o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],l[0],l[1],l[2],l[0]+p[0],l[1]+p[1],l[2]+p[2]))&&(t.k[s].to=null,t.k[s].ti=null),a[0]===l[0]&&a[1]===l[1]&&o[0]===0&&o[1]===0&&p[0]===0&&p[1]===0&&(a.length===2||a[2]===l[2]&&o[2]===0&&p[2]===0)&&(t.k[s].to=null,t.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var m=t.k[0].s.length;for(this.v=createTypedArray("float32",m),this.pv=createTypedArray("float32",m),s=0;s<m;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",m)},this.addEffect=addEffect}var PropertyFactory=function(){function e(r,i,s,n,a){i.sid&&(i=r.globalData.slotManager.getProp(i));var l;if(!i.k.length)l=new ValueProperty(r,i,n,a);else if(typeof i.k[0]=="number")l=new MultiDimensionalProperty(r,i,n,a);else switch(s){case 0:l=new KeyframedValueProperty(r,i,n,a);break;case 1:l=new KeyframedMultidimensionalProperty(r,i,n,a);break}return l.effectsSequence.length&&a.addDynamicProperty(l),l}var t={getProp:e};return t}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,r=this.dynamicProperties.length;for(t=0;t<r;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,i,s){var n;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o;break;default:n=[];break}(!n[i]||n[i]&&!s)&&(n[i]=pointPool.newElement()),n[i][0]=e,n[i][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,i,s,n,a,l){this.setXYAt(e,t,"v",a,l),this.setXYAt(r,i,"o",a,l),this.setXYAt(s,n,"i",a,l)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,i=this.i,s=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),s=1);var n=this._length-1,a=this._length,l;for(l=s;l<a;l+=1)e.setTripleAt(t[n][0],t[n][1],i[n][0],i[n][1],r[n][0],r[n][1],l,!1),n-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function t(s){var n=s._length,a;for(a=0;a<n;a+=1)pointPool.release(s.v[a]),pointPool.release(s.i[a]),pointPool.release(s.o[a]),s.v[a]=null,s.i[a]=null,s.o[a]=null;s._length=0,s.c=!1}function r(s){var n=i.newElement(),a,l=s._length===void 0?s.v.length:s._length;for(n.setLength(l),n.c=s.c,a=0;a<l;a+=1)n.setTripleAt(s.v[a][0],s.v[a][1],s.o[a][0],s.o[a][1],s.i[a][0],s.i[a][1],a);return n}var i=poolFactory(4,e,t);return i.clone=r,i}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:s,release:n},t=0,r=4,i=createSizedArray(r);function s(){var a;return t?(t-=1,a=i[t]):a=new ShapeCollection,a}function n(a){var l,o=a._length;for(l=0;l<o;l+=1)shapePool.release(a.shapes[l]);a._length=0,t===r&&(i=pooling.double(i),r*=2),i[t]=a,t+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function t(u,d,h){var x=h.lastIndex,j,S,P,A,I,V,F,k,L,D=this.keyframes;if(u<D[0].t-this.offsetTime)j=D[0].s[0],P=!0,x=0;else if(u>=D[D.length-1].t-this.offsetTime)j=D[D.length-1].s?D[D.length-1].s[0]:D[D.length-2].e[0],P=!0;else{for(var M=x,T=D.length-1,C=!0,g,E,_;C&&(g=D[M],E=D[M+1],!(E.t-this.offsetTime>u));)M<T-1?M+=1:C=!1;if(_=this.keyframesMetadata[M]||{},P=g.h===1,x=M,!P){if(u>=E.t-this.offsetTime)k=1;else if(u<g.t-this.offsetTime)k=0;else{var w;_.__fnct?w=_.__fnct:(w=BezierFactory.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y).get,_.__fnct=w),k=w((u-(g.t-this.offsetTime))/(E.t-this.offsetTime-(g.t-this.offsetTime)))}S=E.s?E.s[0]:g.e[0]}j=g.s[0]}for(V=d._length,F=j.i[0].length,h.lastIndex=x,A=0;A<V;A+=1)for(I=0;I<F;I+=1)L=P?j.i[A][I]:j.i[A][I]+(S.i[A][I]-j.i[A][I])*k,d.i[A][I]=L,L=P?j.o[A][I]:j.o[A][I]+(S.o[A][I]-j.o[A][I])*k,d.o[A][I]=L,L=P?j.v[A][I]:j.v[A][I]+(S.v[A][I]-j.v[A][I])*k,d.v[A][I]=L}function r(){var u=this.comp.renderedFrame-this.offsetTime,d=this.keyframes[0].t-this.offsetTime,h=this.keyframes[this.keyframes.length-1].t-this.offsetTime,x=this._caching.lastFrame;return x!==e&&(x<d&&u<d||x>h&&u>h)||(this._caching.lastIndex=x<u?this._caching.lastIndex:0,this.interpolateShape(u,this.pv,this._caching)),this._caching.lastFrame=u,this.pv}function i(){this.paths=this.localShapeCollection}function s(u,d){if(u._length!==d._length||u.c!==d.c)return!1;var h,x=u._length;for(h=0;h<x;h+=1)if(u.v[h][0]!==d.v[h][0]||u.v[h][1]!==d.v[h][1]||u.o[h][0]!==d.o[h][0]||u.o[h][1]!==d.o[h][1]||u.i[h][0]!==d.i[h][0]||u.i[h][1]!==d.i[h][1])return!1;return!0}function n(u){s(this.v,u)||(this.v=shapePool.clone(u),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var u;this.kf?u=this.pv:this.data.ks?u=this.data.ks.k:u=this.data.pt.k;var d,h=this.effectsSequence.length;for(d=0;d<h;d+=1)u=this.effectsSequence[d](u);this.setVValue(u),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function l(u,d,h){this.propType="shape",this.comp=u.comp,this.container=u,this.elem=u,this.data=d,this.k=!1,this.kf=!1,this._mdf=!1;var x=h===3?d.pt.k:d.ks.k;this.v=shapePool.clone(x),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function o(u){this.effectsSequence.push(u),this.container.addDynamicProperty(this)}l.prototype.interpolateShape=t,l.prototype.getValue=a,l.prototype.setVValue=n,l.prototype.addEffect=o;function p(u,d,h){this.propType="shape",this.comp=u.comp,this.elem=u,this.container=u,this.offsetTime=u.data.st,this.keyframes=h===3?d.pt.k:d.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var x=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,x),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}p.prototype.getValue=a,p.prototype.interpolateShape=t,p.prototype.setVValue=n,p.prototype.addEffect=o;var m=function(){var u=roundCorner;function d(h,x){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=x.d,this.elem=h,this.comp=h.comp,this.frameId=-1,this.initDynamicPropertyContainer(h),this.p=PropertyFactory.getProp(h,x.p,1,0,this),this.s=PropertyFactory.getProp(h,x.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return d.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var x=this.p.v[0],j=this.p.v[1],S=this.s.v[0]/2,P=this.s.v[1]/2,A=this.d!==3,I=this.v;I.v[0][0]=x,I.v[0][1]=j-P,I.v[1][0]=A?x+S:x-S,I.v[1][1]=j,I.v[2][0]=x,I.v[2][1]=j+P,I.v[3][0]=A?x-S:x+S,I.v[3][1]=j,I.i[0][0]=A?x-S*u:x+S*u,I.i[0][1]=j-P,I.i[1][0]=A?x+S:x-S,I.i[1][1]=j-P*u,I.i[2][0]=A?x+S*u:x-S*u,I.i[2][1]=j+P,I.i[3][0]=A?x-S:x+S,I.i[3][1]=j+P*u,I.o[0][0]=A?x+S*u:x-S*u,I.o[0][1]=j-P,I.o[1][0]=A?x+S:x-S,I.o[1][1]=j+P*u,I.o[2][0]=A?x-S*u:x+S*u,I.o[2][1]=j+P,I.o[3][0]=A?x-S:x+S,I.o[3][1]=j-P*u}},extendPrototype([DynamicPropertyContainer],d),d}(),b=function(){function u(d,h){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=d,this.comp=d.comp,this.data=h,this.frameId=-1,this.d=h.d,this.initDynamicPropertyContainer(d),h.sy===1?(this.ir=PropertyFactory.getProp(d,h.ir,0,0,this),this.is=PropertyFactory.getProp(d,h.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(d,h.pt,0,0,this),this.p=PropertyFactory.getProp(d,h.p,1,0,this),this.r=PropertyFactory.getProp(d,h.r,0,degToRads,this),this.or=PropertyFactory.getProp(d,h.or,0,0,this),this.os=PropertyFactory.getProp(d,h.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return u.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var h=Math.floor(this.pt.v)*2,x=Math.PI*2/h,j=!0,S=this.or.v,P=this.ir.v,A=this.os.v,I=this.is.v,V=2*Math.PI*S/(h*2),F=2*Math.PI*P/(h*2),k,L,D,M,T=-Math.PI/2;T+=this.r.v;var C=this.data.d===3?-1:1;for(this.v._length=0,k=0;k<h;k+=1){L=j?S:P,D=j?A:I,M=j?V:F;var g=L*Math.cos(T),E=L*Math.sin(T),_=g===0&&E===0?0:E/Math.sqrt(g*g+E*E),w=g===0&&E===0?0:-g/Math.sqrt(g*g+E*E);g+=+this.p.v[0],E+=+this.p.v[1],this.v.setTripleAt(g,E,g-_*M*D*C,E-w*M*D*C,g+_*M*D*C,E+w*M*D*C,k,!0),j=!j,T+=x*C}},convertPolygonToPath:function(){var h=Math.floor(this.pt.v),x=Math.PI*2/h,j=this.or.v,S=this.os.v,P=2*Math.PI*j/(h*4),A,I=-Math.PI*.5,V=this.data.d===3?-1:1;for(I+=this.r.v,this.v._length=0,A=0;A<h;A+=1){var F=j*Math.cos(I),k=j*Math.sin(I),L=F===0&&k===0?0:k/Math.sqrt(F*F+k*k),D=F===0&&k===0?0:-F/Math.sqrt(F*F+k*k);F+=+this.p.v[0],k+=+this.p.v[1],this.v.setTripleAt(F,k,F-L*P*S*V,k-D*P*S*V,F+L*P*S*V,k+D*P*S*V,A,!0),I+=x*V}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],u),u}(),c=function(){function u(d,h){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=d,this.comp=d.comp,this.frameId=-1,this.d=h.d,this.initDynamicPropertyContainer(d),this.p=PropertyFactory.getProp(d,h.p,1,0,this),this.s=PropertyFactory.getProp(d,h.s,1,0,this),this.r=PropertyFactory.getProp(d,h.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return u.prototype={convertRectToPath:function(){var h=this.p.v[0],x=this.p.v[1],j=this.s.v[0]/2,S=this.s.v[1]/2,P=bmMin(j,S,this.r.v),A=P*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(h+j,x-S+P,h+j,x-S+P,h+j,x-S+A,0,!0),this.v.setTripleAt(h+j,x+S-P,h+j,x+S-A,h+j,x+S-P,1,!0),P!==0?(this.v.setTripleAt(h+j-P,x+S,h+j-P,x+S,h+j-A,x+S,2,!0),this.v.setTripleAt(h-j+P,x+S,h-j+A,x+S,h-j+P,x+S,3,!0),this.v.setTripleAt(h-j,x+S-P,h-j,x+S-P,h-j,x+S-A,4,!0),this.v.setTripleAt(h-j,x-S+P,h-j,x-S+A,h-j,x-S+P,5,!0),this.v.setTripleAt(h-j+P,x-S,h-j+P,x-S,h-j+A,x-S,6,!0),this.v.setTripleAt(h+j-P,x-S,h+j-A,x-S,h+j-P,x-S,7,!0)):(this.v.setTripleAt(h-j,x+S,h-j+A,x+S,h-j,x+S,2),this.v.setTripleAt(h-j,x-S,h-j,x-S+A,h-j,x-S,3))):(this.v.setTripleAt(h+j,x-S+P,h+j,x-S+A,h+j,x-S+P,0,!0),P!==0?(this.v.setTripleAt(h+j-P,x-S,h+j-P,x-S,h+j-A,x-S,1,!0),this.v.setTripleAt(h-j+P,x-S,h-j+A,x-S,h-j+P,x-S,2,!0),this.v.setTripleAt(h-j,x-S+P,h-j,x-S+P,h-j,x-S+A,3,!0),this.v.setTripleAt(h-j,x+S-P,h-j,x+S-A,h-j,x+S-P,4,!0),this.v.setTripleAt(h-j+P,x+S,h-j+P,x+S,h-j+A,x+S,5,!0),this.v.setTripleAt(h+j-P,x+S,h+j-A,x+S,h+j-P,x+S,6,!0),this.v.setTripleAt(h+j,x+S-P,h+j,x+S-P,h+j,x+S-A,7,!0)):(this.v.setTripleAt(h-j,x-S,h-j+A,x-S,h-j,x-S,1,!0),this.v.setTripleAt(h-j,x+S,h-j,x+S-A,h-j,x+S,2,!0),this.v.setTripleAt(h+j,x+S,h+j-A,x+S,h+j,x+S,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],u),u}();function v(u,d,h){var x;if(h===3||h===4){var j=h===3?d.pt:d.ks,S=j.k;S.length?x=new p(u,d,h):x=new l(u,d,h)}else h===5?x=new c(u,d):h===6?x=new m(u,d):h===7&&(x=new b(u,d));return x.k&&u.addDynamicProperty(x),x}function y(){return l}function f(){return p}var R={};return R.getShapeProp=v,R.getConstructorFunction=y,R.getKeyframedConstructorFunction=f,R}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,i=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function n(g){if(g===0)return this;var E=e(g),_=t(g);return this._t(E,-_,0,0,_,E,0,0,0,0,1,0,0,0,0,1)}function a(g){if(g===0)return this;var E=e(g),_=t(g);return this._t(1,0,0,0,0,E,-_,0,0,_,E,0,0,0,0,1)}function l(g){if(g===0)return this;var E=e(g),_=t(g);return this._t(E,0,_,0,0,1,0,0,-_,0,E,0,0,0,0,1)}function o(g){if(g===0)return this;var E=e(g),_=t(g);return this._t(E,-_,0,0,_,E,0,0,0,0,1,0,0,0,0,1)}function p(g,E){return this._t(1,E,g,1,0,0)}function m(g,E){return this.shear(r(g),r(E))}function b(g,E){var _=e(E),w=t(E);return this._t(_,w,0,0,-w,_,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(g),1,0,0,0,0,1,0,0,0,0,1)._t(_,-w,0,0,w,_,0,0,0,0,1,0,0,0,0,1)}function c(g,E,_){return!_&&_!==0&&(_=1),g===1&&E===1&&_===1?this:this._t(g,0,0,0,0,E,0,0,0,0,_,0,0,0,0,1)}function v(g,E,_,w,B,O,z,N,H,q,K,Q,Y,$,Z,W){return this.props[0]=g,this.props[1]=E,this.props[2]=_,this.props[3]=w,this.props[4]=B,this.props[5]=O,this.props[6]=z,this.props[7]=N,this.props[8]=H,this.props[9]=q,this.props[10]=K,this.props[11]=Q,this.props[12]=Y,this.props[13]=$,this.props[14]=Z,this.props[15]=W,this}function y(g,E,_){return _=_||0,g!==0||E!==0||_!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,g,E,_,1):this}function f(g,E,_,w,B,O,z,N,H,q,K,Q,Y,$,Z,W){var G=this.props;if(g===1&&E===0&&_===0&&w===0&&B===0&&O===1&&z===0&&N===0&&H===0&&q===0&&K===1&&Q===0)return G[12]=G[12]*g+G[15]*Y,G[13]=G[13]*O+G[15]*$,G[14]=G[14]*K+G[15]*Z,G[15]*=W,this._identityCalculated=!1,this;var te=G[0],ne=G[1],re=G[2],ee=G[3],ie=G[4],se=G[5],X=G[6],ae=G[7],oe=G[8],U=G[9],le=G[10],J=G[11],he=G[12],pe=G[13],ce=G[14],ue=G[15];return G[0]=te*g+ne*B+re*H+ee*Y,G[1]=te*E+ne*O+re*q+ee*$,G[2]=te*_+ne*z+re*K+ee*Z,G[3]=te*w+ne*N+re*Q+ee*W,G[4]=ie*g+se*B+X*H+ae*Y,G[5]=ie*E+se*O+X*q+ae*$,G[6]=ie*_+se*z+X*K+ae*Z,G[7]=ie*w+se*N+X*Q+ae*W,G[8]=oe*g+U*B+le*H+J*Y,G[9]=oe*E+U*O+le*q+J*$,G[10]=oe*_+U*z+le*K+J*Z,G[11]=oe*w+U*N+le*Q+J*W,G[12]=he*g+pe*B+ce*H+ue*Y,G[13]=he*E+pe*O+ce*q+ue*$,G[14]=he*_+pe*z+ce*K+ue*Z,G[15]=he*w+pe*N+ce*Q+ue*W,this._identityCalculated=!1,this}function R(g){var E=g.props;return this.transform(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15])}function u(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function d(g){for(var E=0;E<16;){if(g.props[E]!==this.props[E])return!1;E+=1}return!0}function h(g){var E;for(E=0;E<16;E+=1)g.props[E]=this.props[E];return g}function x(g){var E;for(E=0;E<16;E+=1)this.props[E]=g[E]}function j(g,E,_){return{x:g*this.props[0]+E*this.props[4]+_*this.props[8]+this.props[12],y:g*this.props[1]+E*this.props[5]+_*this.props[9]+this.props[13],z:g*this.props[2]+E*this.props[6]+_*this.props[10]+this.props[14]}}function S(g,E,_){return g*this.props[0]+E*this.props[4]+_*this.props[8]+this.props[12]}function P(g,E,_){return g*this.props[1]+E*this.props[5]+_*this.props[9]+this.props[13]}function A(g,E,_){return g*this.props[2]+E*this.props[6]+_*this.props[10]+this.props[14]}function I(){var g=this.props[0]*this.props[5]-this.props[1]*this.props[4],E=this.props[5]/g,_=-this.props[1]/g,w=-this.props[4]/g,B=this.props[0]/g,O=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/g,z=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/g,N=new Matrix;return N.props[0]=E,N.props[1]=_,N.props[4]=w,N.props[5]=B,N.props[12]=O,N.props[13]=z,N}function V(g){var E=this.getInverseMatrix();return E.applyToPointArray(g[0],g[1],g[2]||0)}function F(g){var E,_=g.length,w=[];for(E=0;E<_;E+=1)w[E]=V(g[E]);return w}function k(g,E,_){var w=createTypedArray("float32",6);if(this.isIdentity())w[0]=g[0],w[1]=g[1],w[2]=E[0],w[3]=E[1],w[4]=_[0],w[5]=_[1];else{var B=this.props[0],O=this.props[1],z=this.props[4],N=this.props[5],H=this.props[12],q=this.props[13];w[0]=g[0]*B+g[1]*z+H,w[1]=g[0]*O+g[1]*N+q,w[2]=E[0]*B+E[1]*z+H,w[3]=E[0]*O+E[1]*N+q,w[4]=_[0]*B+_[1]*z+H,w[5]=_[0]*O+_[1]*N+q}return w}function L(g,E,_){var w;return this.isIdentity()?w=[g,E,_]:w=[g*this.props[0]+E*this.props[4]+_*this.props[8]+this.props[12],g*this.props[1]+E*this.props[5]+_*this.props[9]+this.props[13],g*this.props[2]+E*this.props[6]+_*this.props[10]+this.props[14]],w}function D(g,E){if(this.isIdentity())return g+","+E;var _=this.props;return Math.round((g*_[0]+E*_[4]+_[12])*100)/100+","+Math.round((g*_[1]+E*_[5]+_[13])*100)/100}function M(){for(var g=0,E=this.props,_="matrix3d(",w=1e4;g<16;)_+=i(E[g]*w)/w,_+=g===15?")":",",g+=1;return _}function T(g){var E=1e4;return g<1e-6&&g>0||g>-1e-6&&g<0?i(g*E)/E:g}function C(){var g=this.props,E=T(g[0]),_=T(g[1]),w=T(g[4]),B=T(g[5]),O=T(g[12]),z=T(g[13]);return"matrix("+E+","+_+","+w+","+B+","+O+","+z+")"}return function(){this.reset=s,this.rotate=n,this.rotateX=a,this.rotateY=l,this.rotateZ=o,this.skew=m,this.skewFromAxis=b,this.shear=p,this.scale=c,this.setTransform=v,this.translate=y,this.transform=f,this.multiply=R,this.applyToPoint=j,this.applyToX=S,this.applyToY=P,this.applyToZ=A,this.applyToPointArray=L,this.applyToTriplePoints=k,this.applyToPointStringified=D,this.toCSS=M,this.to2dCSS=C,this.clone=h,this.cloneFromProps=x,this.equals=d,this.inversePoints=F,this.inversePoint=V,this.getInverseMatrix=I,this._t=this.transform,this.isIdentity=u,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(r){return typeof r}:_typeof$3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,t){e==="expressions"&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var i=t[r].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};e.registerModifier=r,e.getModifier=i;function r(s,n){t[s]||(t[s]=n)}function i(s,n,a){return new t[s](n,a)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,i,s){var n=[];t<=1?n.push({s:e,e:t}):e>=1?n.push({s:e-1,e:t-1}):(n.push({s:e,e:1}),n.push({s:0,e:t-1}));var a=[],l,o=n.length,p;for(l=0;l<o;l+=1)if(p=n[l],!(p.e*s<i||p.s*s>i+r)){var m,b;p.s*s<=i?m=0:m=(p.s*s-i)/r,p.e*s>=i+r?b=1:b=(p.e*s-i)/r,a.push([m,b])}return a.length||a.push([0,0]),a},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),this.s.v>1?t=1+i:this.s.v<0?t=0+i:t=this.s.v+i,this.e.v>1?r=1+i:this.e.v<0?r=0+i:r=this.e.v+i,t>r){var s=t;t=r,r=s}t=Math.round(t*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var n,a,l=this.shapes.length,o,p,m,b,c,v=0;if(r===t)for(a=0;a<l;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(r===1&&t===0||r===0&&t===1){if(this._mdf)for(a=0;a<l;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var y=[],f,R;for(a=0;a<l;a+=1)if(f=this.shapes[a],!f.shape._mdf&&!this._mdf&&!e&&this.m!==2)f.shape.paths=f.localShapeCollection;else{if(n=f.shape.paths,p=n._length,c=0,!f.shape._mdf&&f.pathsData.length)c=f.totalShapeLength;else{for(m=this.releasePathsData(f.pathsData),o=0;o<p;o+=1)b=bez.getSegmentsLength(n.shapes[o]),m.push(b),c+=b.totalLength;f.totalShapeLength=c,f.pathsData=m}v+=c,f.shape._mdf=!0}var u=t,d=r,h=0,x;for(a=l-1;a>=0;a-=1)if(f=this.shapes[a],f.shape._mdf){for(R=f.localShapeCollection,R.releaseShapes(),this.m===2&&l>1?(x=this.calculateShapeEdges(t,r,f.totalShapeLength,h,v),h+=f.totalShapeLength):x=[[u,d]],p=x.length,o=0;o<p;o+=1){u=x[o][0],d=x[o][1],y.length=0,d<=1?y.push({s:f.totalShapeLength*u,e:f.totalShapeLength*d}):u>=1?y.push({s:f.totalShapeLength*(u-1),e:f.totalShapeLength*(d-1)}):(y.push({s:f.totalShapeLength*u,e:f.totalShapeLength}),y.push({s:0,e:f.totalShapeLength*(d-1)}));var j=this.addShapes(f,y[0]);if(y[0].s!==y[0].e){if(y.length>1){var S=f.shape.paths.shapes[f.shape.paths._length-1];if(S.c){var P=j.pop();this.addPaths(j,R),j=this.addShapes(f,y[1],P)}else this.addPaths(j,R),j=this.addShapes(f,y[1])}this.addPaths(j,R)}}f.shape.paths=R}}},TrimModifier.prototype.addPaths=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,i,s,n,a){s.setXYAt(t[0],t[1],"o",n),s.setXYAt(r[0],r[1],"i",n+1),a&&s.setXYAt(e[0],e[1],"v",n),s.setXYAt(i[0],i[1],"v",n+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,i){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),i&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var i=e.pathsData,s=e.shape.paths.shapes,n,a=e.shape.paths._length,l,o,p=0,m,b,c,v,y=[],f,R=!0;for(r?(b=r._length,f=r._length):(r=shapePool.newElement(),b=0,f=0),y.push(r),n=0;n<a;n+=1){for(c=i[n].lengths,r.c=s[n].c,o=s[n].c?c.length:c.length+1,l=1;l<o;l+=1)if(m=c[l-1],p+m.addedLength<t.s)p+=m.addedLength,r.c=!1;else if(p>t.e){r.c=!1;break}else t.s<=p&&t.e>=p+m.addedLength?(this.addSegment(s[n].v[l-1],s[n].o[l-1],s[n].i[l],s[n].v[l],r,b,R),R=!1):(v=bez.getNewSegment(s[n].v[l-1],s[n].v[l],s[n].o[l-1],s[n].i[l],(t.s-p)/m.addedLength,(t.e-p)/m.addedLength,c[l-1]),this.addSegmentFromArray(v,r,b,R),R=!1,r.c=!1),p+=m.addedLength,b+=1;if(s[n].c&&c.length){if(m=c[l-1],p<=t.e){var u=c[l-1].addedLength;t.s<=p&&t.e>=p+u?(this.addSegment(s[n].v[l-1],s[n].o[l-1],s[n].i[0],s[n].v[0],r,b,R),R=!1):(v=bez.getNewSegment(s[n].v[l-1],s[n].v[0],s[n].o[l-1],s[n].i[0],(t.s-p)/u,(t.e-p)/u,c[l-1]),this.addSegmentFromArray(v,r,b,R),R=!1,r.c=!1)}else r.c=!1;p+=m.addedLength,b+=1}if(r._length&&(r.setXYAt(r.v[f][0],r.v[f][1],"i",f),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),p>t.e)break;n<a-1&&(r=shapePool.newElement(),R=!0,y.push(r),b=0)}return y};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,i=[0,0],s=e._length,n=0;for(n=0;n<s;n+=1)i[0]+=e.v[n][0],i[1]+=e.v[n][1];i[0]/=s,i[1]/=s;var a=shapePool.newElement();a.c=e.c;var l,o,p,m,b,c;for(n=0;n<s;n+=1)l=e.v[n][0]+(i[0]-e.v[n][0])*r,o=e.v[n][1]+(i[1]-e.v[n][1])*r,p=e.o[n][0]+(i[0]-e.o[n][0])*-r,m=e.o[n][1]+(i[1]-e.o[n][1])*-r,b=e.i[n][0]+(i[0]-e.i[n][0])*-r,c=e.i[n][1]+(i[1]-e.i[n][1])*-r,a.setTripleAt(l,o,p,m,b,c,n);return a},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,i=this.shapes.length,s,n,a=this.amount.v;if(a!==0){var l,o;for(r=0;r<i;r+=1){if(l=this.shapes[r],o=l.localShapeCollection,!(!l.shape._mdf&&!this._mdf&&!e))for(o.releaseShapes(),l.shape._mdf=!0,t=l.shape.paths.shapes,n=l.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(t[s],a));l.shape.paths=l.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(o){var p=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||p,this.a&&o.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&o.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&o.skewFromAxis(-this.sk.v,this.sa.v),this.r?o.rotate(-this.r.v):o.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?o.translate(this.px.v,this.py.v,-this.pz.v):o.translate(this.px.v,this.py.v,0):o.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(o){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||o){var p;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var m,b;if(p=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(m=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/p,0),b=this.p.getValueAtTime(this.p.keyframes[0].t/p,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(m=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/p,0),b=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/p,0)):(m=this.p.pv,b=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/p,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){m=[],b=[];var c=this.px,v=this.py;c._caching.lastFrame+c.offsetTime<=c.keyframes[0].t?(m[0]=c.getValueAtTime((c.keyframes[0].t+.01)/p,0),m[1]=v.getValueAtTime((v.keyframes[0].t+.01)/p,0),b[0]=c.getValueAtTime(c.keyframes[0].t/p,0),b[1]=v.getValueAtTime(v.keyframes[0].t/p,0)):c._caching.lastFrame+c.offsetTime>=c.keyframes[c.keyframes.length-1].t?(m[0]=c.getValueAtTime(c.keyframes[c.keyframes.length-1].t/p,0),m[1]=v.getValueAtTime(v.keyframes[v.keyframes.length-1].t/p,0),b[0]=c.getValueAtTime((c.keyframes[c.keyframes.length-1].t-.01)/p,0),b[1]=v.getValueAtTime((v.keyframes[v.keyframes.length-1].t-.01)/p,0)):(m=[c.pv,v.pv],b[0]=c.getValueAtTime((c._caching.lastFrame+c.offsetTime-.01)/p,c.offsetTime),b[1]=v.getValueAtTime((v._caching.lastFrame+v.offsetTime-.01)/p,v.offsetTime))}else b=e,m=b;this.v.rotate(-Math.atan2(m[1]-b[1],m[0]-b[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function i(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function n(o){this._addDynamicProperty(o),this.elem.addDynamicProperty(o),this._isDirty=!0}function a(o,p,m){if(this.elem=o,this.frameId=-1,this.propType="transform",this.data=p,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(m||o),p.p&&p.p.s?(this.px=PropertyFactory.getProp(o,p.p.x,0,0,this),this.py=PropertyFactory.getProp(o,p.p.y,0,0,this),p.p.z&&(this.pz=PropertyFactory.getProp(o,p.p.z,0,0,this))):this.p=PropertyFactory.getProp(o,p.p||{k:[0,0,0]},1,0,this),p.rx){if(this.rx=PropertyFactory.getProp(o,p.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(o,p.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(o,p.rz,0,degToRads,this),p.or.k[0].ti){var b,c=p.or.k.length;for(b=0;b<c;b+=1)p.or.k[b].to=null,p.or.k[b].ti=null}this.or=PropertyFactory.getProp(o,p.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(o,p.r||{k:0},0,degToRads,this);p.sk&&(this.sk=PropertyFactory.getProp(o,p.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(o,p.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(o,p.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(o,p.s||{k:[100,100,100]},1,.01,this),p.o?this.o=PropertyFactory.getProp(o,p.o,0,.01,o):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}a.prototype={applyToMatrix:t,getValue:r,precalculateMatrix:i,autoOrient:s},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=n,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function l(o,p,m){return new a(o,p,m)}return{getTransformProperty:l}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,i,s,n){var a=n?-1:1,l=i.s.v[0]+(1-i.s.v[0])*(1-s),o=i.s.v[1]+(1-i.s.v[1])*(1-s);e.translate(i.p.v[0]*a*s,i.p.v[1]*a*s,i.p.v[2]),t.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),t.rotate(-i.r.v*a*s),t.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(n?1/l:l,n?1/o:o),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,i){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]._render=t,e[r].ty==="gr"&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,i,s,n,a=!1;if(this._mdf||e){var l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var o={it:this.cloneElements(this._elements),ty:"gr"};o.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,o),this._groups.splice(0,0,o),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}n=0;var p;for(i=0;i<=this._groups.length-1;i+=1){if(p=n<l,this._groups[i]._render=p,this.changeGroupRender(this._groups[i].it,p),!p){var m=this.elemsData[i].it,b=m[m.length-1];b.transform.op.v!==0?(b.transform.op._mdf=!0,b.transform.op.v=0):b.transform.op._mdf=!1}n+=1}this._currentCopies=l;var c=this.o.v,v=c%1,y=c>0?Math.floor(c):Math.ceil(c),f=this.pMatrix.props,R=this.rMatrix.props,u=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var d=0;if(c>0){for(;d<y;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),d+=1;v&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,v,!1),d+=v)}else if(c<0){for(;d>y;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),d-=1;v&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-v,!0),d-=v)}i=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,n=this._currentCopies;for(var h,x;n;){if(t=this.elemsData[i].it,r=t[t.length-1].transform.mProps.v.props,x=r.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),d!==0){for((i!==0&&s===1||i!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8],R[9],R[10],R[11],R[12],R[13],R[14],R[15]),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),h=0;h<x;h+=1)r[h]=this.matrix.props[h];this.matrix.reset()}else for(this.matrix.reset(),h=0;h<x;h+=1)r[h]=this.matrix.props[h];d+=1,n-=1,i+=s}}else for(n=this._currentCopies,i=0,s=1;n;)t=this.elemsData[i].it,r=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,n-=1,i+=s;return a},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r=shapePool.newElement();r.c=e.c;var i,s=e._length,n,a,l,o,p,m,b=0,c,v,y,f,R,u;for(i=0;i<s;i+=1)n=e.v[i],l=e.o[i],a=e.i[i],n[0]===l[0]&&n[1]===l[1]&&n[0]===a[0]&&n[1]===a[1]?(i===0||i===s-1)&&!e.c?(r.setTripleAt(n[0],n[1],l[0],l[1],a[0],a[1],b),b+=1):(i===0?o=e.v[s-1]:o=e.v[i-1],p=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)),m=p?Math.min(p/2,t)/p:0,R=n[0]+(o[0]-n[0])*m,c=R,u=n[1]-(n[1]-o[1])*m,v=u,y=c-(c-n[0])*roundCorner,f=v-(v-n[1])*roundCorner,r.setTripleAt(c,v,y,f,R,u,b),b+=1,i===s-1?o=e.v[0]:o=e.v[i+1],p=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)),m=p?Math.min(p/2,t)/p:0,y=n[0]+(o[0]-n[0])*m,c=y,f=n[1]+(o[1]-n[1])*m,v=f,R=c-(c-n[0])*roundCorner,u=v-(v-n[1])*roundCorner,r.setTripleAt(c,v,y,f,R,u,b),b+=1):(r.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],b),b+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,r,i=this.shapes.length,s,n,a=this.rd.v;if(a!==0){var l,o;for(r=0;r<i;r+=1){if(l=this.shapes[r],o=l.localShapeCollection,!(!l.shape._mdf&&!this._mdf&&!e))for(o.releaseShapes(),l.shape._mdf=!0,t=l.shape.paths.shapes,n=l.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(t[s],a));l.shape.paths=l.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,t){return Math.abs(e-t)*1e5<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(e===0)return[];var i=t*t-4*e*r;if(i<0)return[];var s=-t/(2*e);if(i===0)return[s];var n=Math.sqrt(i)/(2*e);return[s-n,s+n]}function polynomialCoefficients(e,t,r,i){return[-e+3*t-3*r+i,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,i,s){s&&pointEqual(e,t)&&(t=lerpPoint(e,i,1/3)),s&&pointEqual(r,i)&&(r=lerpPoint(e,i,2/3));var n=polynomialCoefficients(e[0],t[0],r[0],i[0]),a=polynomialCoefficients(e[1],t[1],r[1],i[1]);this.a=[n[0],a[0]],this.b=[n[1],a[1]],this.c=[n[2],a[2]],this.d=[n[3],a[3]],this.points=[e,t,r,i]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var i=Math.sqrt(r);return floatZero(i)?i>0&&i<1?[t]:[]:[t-i,t+i].filter(function(s){return s>0&&s<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),i=lerpPoint(this.points[2],this.points[3],e),s=lerpPoint(t,r,e),n=lerpPoint(r,i,e),a=lerpPoint(s,n,e);return[new PolynomialBezier(this.points[0],t,s,a,!0),new PolynomialBezier(a,n,i,this.points[3],!0)]};function extrema(e,t){var r=e.points[0][t],i=e.points[e.points.length-1][t];if(r>i){var s=i;i=r,r=s}for(var n=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),a=0;a<n.length;a+=1)if(n[a]>0&&n[a]<1){var l=e.point(n[a])[t];l<r?r=l:l>i&&(i=l)}return{min:r,max:i}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,t,r){var i=e.boundingBox();return{cx:i.cx,cy:i.cy,width:i.width,height:i.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return Math.abs(e.cx-t.cx)*2<e.width+t.width&&Math.abs(e.cy-t.cy)*2<e.height+t.height}function intersectsImpl(e,t,r,i,s,n){if(boxIntersect(e,t)){if(r>=n||e.width<=i&&e.height<=i&&t.width<=i&&t.height<=i){s.push([e.t,t.t]);return}var a=splitData(e),l=splitData(t);intersectsImpl(a[0],l[0],r+1,i,s,n),intersectsImpl(a[0],l[1],r+1,i,s,n),intersectsImpl(a[1],l[0],r+1,i,s,n),intersectsImpl(a[1],l[1],r+1,i,s,n)}}PolynomialBezier.prototype.intersections=function(e,t,r){t===void 0&&(t=2),r===void 0&&(r=7);var i=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,i,r),i},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)};function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,i){var s=[e[0],e[1],1],n=[t[0],t[1],1],a=[r[0],r[1],1],l=[i[0],i[1],1],o=crossProduct(crossProduct(s,n),crossProduct(a,l));return floatZero(o[2])?null:[o[0]/o[2],o[1]/o[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,t,r,i,s,n,a){var l=r-Math.PI/2,o=r+Math.PI/2,p=t[0]+Math.cos(r)*i*s,m=t[1]-Math.sin(r)*i*s;e.setTripleAt(p,m,p+Math.cos(l)*n,m-Math.sin(l)*n,p+Math.cos(o)*a,m-Math.sin(o)*a,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],i=-Math.PI*.5,s=[Math.cos(i)*r[0]-Math.sin(i)*r[1],Math.sin(i)*r[0]+Math.cos(i)*r[1]];return s}function getProjectingAngle(e,t){var r=t===0?e.length()-1:t-1,i=(t+1)%e.length(),s=e.v[r],n=e.v[i],a=getPerpendicularVector(s,n);return Math.atan2(0,1)-Math.atan2(a[1],a[0])}function zigZagCorner(e,t,r,i,s,n,a){var l=getProjectingAngle(t,r),o=t.v[r%t._length],p=t.v[r===0?t._length-1:r-1],m=t.v[(r+1)%t._length],b=n===2?Math.sqrt(Math.pow(o[0]-p[0],2)+Math.pow(o[1]-p[1],2)):0,c=n===2?Math.sqrt(Math.pow(o[0]-m[0],2)+Math.pow(o[1]-m[1],2)):0;setPoint(e,t.v[r%t._length],l,a,i,c/((s+1)*2),b/((s+1)*2))}function zigZagSegment(e,t,r,i,s,n){for(var a=0;a<i;a+=1){var l=(a+1)/(i+1),o=s===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,p=t.normalAngle(l),m=t.point(l);setPoint(e,m,p,n,r,o/((i+1)*2),o/((i+1)*2)),n=-n}return n}ZigZagModifier.prototype.processPath=function(e,t,r,i){var s=e._length,n=shapePool.newElement();if(n.c=e.c,e.c||(s-=1),s===0)return n;var a=-1,l=PolynomialBezier.shapeSegment(e,0);zigZagCorner(n,e,0,t,r,i,a);for(var o=0;o<s;o+=1)a=zigZagSegment(n,l,t,r,i,-a),o===s-1&&!e.c?l=null:l=PolynomialBezier.shapeSegment(e,(o+1)%s),zigZagCorner(n,e,o+1,t,r,i,a);return n},ZigZagModifier.prototype.processShapes=function(e){var t,r,i=this.shapes.length,s,n,a=this.amplitude.v,l=Math.max(0,Math.round(this.frequency.v)),o=this.pointsType.v;if(a!==0){var p,m;for(r=0;r<i;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!e))for(m.releaseShapes(),p.shape._mdf=!0,t=p.shape.paths.shapes,n=p.shape.paths._length,s=0;s<n;s+=1)m.addShape(this.processPath(t[s],a,l,o));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,t,r){var i=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,i,r),polarOffset(t,i,r)]}function offsetSegment(e,t){var r,i,s,n,a,l,o;o=linearOffset(e.points[0],e.points[1],t),r=o[0],i=o[1],o=linearOffset(e.points[1],e.points[2],t),s=o[0],n=o[1],o=linearOffset(e.points[2],e.points[3],t),a=o[0],l=o[1];var p=lineIntersection(r,i,s,n);p===null&&(p=i);var m=lineIntersection(a,l,s,n);return m===null&&(m=a),new PolynomialBezier(r,p,m,l)}function joinLines(e,t,r,i,s){var n=t.points[3],a=r.points[0];if(i===3||pointEqual(n,a))return n;if(i===2){var l=-t.tangentAngle(1),o=-r.tangentAngle(0)+Math.PI,p=lineIntersection(n,polarOffset(n,l+Math.PI/2,100),a,polarOffset(a,l+Math.PI/2,100)),m=p?pointDistance(p,n):pointDistance(n,a)/2,b=polarOffset(n,l,2*m*roundCorner);return e.setXYAt(b[0],b[1],"o",e.length()-1),b=polarOffset(a,o,2*m*roundCorner),e.setTripleAt(a[0],a[1],a[0],a[1],b[0],b[1],e.length()),a}var c=pointEqual(n,t.points[2])?t.points[0]:t.points[2],v=pointEqual(a,r.points[1])?r.points[3]:r.points[1],y=lineIntersection(c,n,a,v);return y&&pointDistance(y,n)<s?(e.setTripleAt(y[0],y[1],y[0],y[1],y[0],y[1],e.length()),y):n}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),i=t.slice(),s=getIntersection(e[e.length-1],t[0]);return s&&(r[e.length-1]=e[e.length-1].split(s[0])[0],i[0]=t[0].split(s[1])[1]),e.length>1&&t.length>1&&(s=getIntersection(e[0],t[t.length-1]),s)?[[e[0].split(s[0])[0]],[t[t.length-1].split(s[1])[1]]]:[r,i]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r=e.inflectionPoints(),i,s,n,a;if(r.length===0)return[offsetSegment(e,t)];if(r.length===1||floatEqual(r[1],1))return n=e.split(r[0]),i=n[0],s=n[1],[offsetSegment(i,t),offsetSegment(s,t)];n=e.split(r[0]),i=n[0];var l=(r[1]-r[0])/(1-r[0]);return n=n[1].split(l),a=n[0],s=n[1],[offsetSegment(i,t),offsetSegment(a,t),offsetSegment(s,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,t,r,i){var s=shapePool.newElement();s.c=e.c;var n=e.length();e.c||(n-=1);var a,l,o,p=[];for(a=0;a<n;a+=1)o=PolynomialBezier.shapeSegment(e,a),p.push(offsetSegmentSplit(o,t));if(!e.c)for(a=n-1;a>=0;a-=1)o=PolynomialBezier.shapeSegmentInverted(e,a),p.push(offsetSegmentSplit(o,t));p=pruneIntersections(p);var m=null,b=null;for(a=0;a<p.length;a+=1){var c=p[a];for(b&&(m=joinLines(s,b,c[0],r,i)),b=c[c.length-1],l=0;l<c.length;l+=1)o=c[l],m&&pointEqual(o.points[0],m)?s.setXYAt(o.points[1][0],o.points[1][1],"o",s.length()-1):s.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],s.length()),s.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],s.length()),m=o.points[3]}return p.length&&joinLines(s,b,p[0][0],r,i),s},OffsetPathModifier.prototype.processShapes=function(e){var t,r,i=this.shapes.length,s,n,a=this.amount.v,l=this.miterLimit.v,o=this.lineJoin;if(a!==0){var p,m;for(r=0;r<i;r+=1){if(p=this.shapes[r],m=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!e))for(m.releaseShapes(),p.shape._mdf=!0,t=p.shape.paths.shapes,n=p.shape.paths._length,s=0;s<n;s+=1)m.addShape(this.processPath(t[s],a,o,l));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",i="normal",s=t.length,n,a=0;a<s;a+=1)switch(n=t[a].toLowerCase(),n){case"italic":i="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:i,weight:e.fWeight||r}}var FontManager=function(){var e=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=127988,s=917631,n=917601,a=917626,l=65039,o=8205,p=127462,m=127487,b=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function c(T){var C=T.split(","),g,E=C.length,_=[];for(g=0;g<E;g+=1)C[g]!=="sans-serif"&&C[g]!=="monospace"&&_.push(C[g]);return _.join(",")}function v(T,C){var g=createTag("span");g.setAttribute("aria-hidden",!0),g.style.fontFamily=C;var E=createTag("span");E.innerText="giItT1WQy@!-/#",g.style.position="absolute",g.style.left="-10000px",g.style.top="-10000px",g.style.fontSize="300px",g.style.fontVariant="normal",g.style.fontStyle="normal",g.style.fontWeight="normal",g.style.letterSpacing="0",g.appendChild(E),document.body.appendChild(g);var _=E.offsetWidth;return E.style.fontFamily=c(T)+", "+C,{node:E,w:_,parent:g}}function y(){var T,C=this.fonts.length,g,E,_=C;for(T=0;T<C;T+=1)this.fonts[T].loaded?_-=1:this.fonts[T].fOrigin==="n"||this.fonts[T].origin===0?this.fonts[T].loaded=!0:(g=this.fonts[T].monoCase.node,E=this.fonts[T].monoCase.w,g.offsetWidth!==E?(_-=1,this.fonts[T].loaded=!0):(g=this.fonts[T].sansCase.node,E=this.fonts[T].sansCase.w,g.offsetWidth!==E&&(_-=1,this.fonts[T].loaded=!0)),this.fonts[T].loaded&&(this.fonts[T].sansCase.parent.parentNode.removeChild(this.fonts[T].sansCase.parent),this.fonts[T].monoCase.parent.parentNode.removeChild(this.fonts[T].monoCase.parent)));_!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function f(T,C){var g=document.body&&C?"svg":"canvas",E,_=getFontProperties(T);if(g==="svg"){var w=createNS("text");w.style.fontSize="100px",w.setAttribute("font-family",T.fFamily),w.setAttribute("font-style",_.style),w.setAttribute("font-weight",_.weight),w.textContent="1",T.fClass?(w.style.fontFamily="inherit",w.setAttribute("class",T.fClass)):w.style.fontFamily=T.fFamily,C.appendChild(w),E=w}else{var B=new OffscreenCanvas(500,500).getContext("2d");B.font=_.style+" "+_.weight+" 100px "+T.fFamily,E=B}function O(z){return g==="svg"?(E.textContent=z,E.getComputedTextLength()):E.measureText(z).width}return{measureText:O}}function R(T,C){if(!T){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=T.list;return}if(!document.body){this.isLoaded=!0,T.list.forEach(function(K){K.helper=f(K),K.cache={}}),this.fonts=T.list;return}var g=T.list,E,_=g.length,w=_;for(E=0;E<_;E+=1){var B=!0,O,z;if(g[E].loaded=!1,g[E].monoCase=v(g[E].fFamily,"monospace"),g[E].sansCase=v(g[E].fFamily,"sans-serif"),!g[E].fPath)g[E].loaded=!0,w-=1;else if(g[E].fOrigin==="p"||g[E].origin===3){if(O=document.querySelectorAll('style[f-forigin="p"][f-family="'+g[E].fFamily+'"], style[f-origin="3"][f-family="'+g[E].fFamily+'"]'),O.length>0&&(B=!1),B){var N=createTag("style");N.setAttribute("f-forigin",g[E].fOrigin),N.setAttribute("f-origin",g[E].origin),N.setAttribute("f-family",g[E].fFamily),N.type="text/css",N.innerText="@font-face {font-family: "+g[E].fFamily+"; font-style: normal; src: url('"+g[E].fPath+"');}",C.appendChild(N)}}else if(g[E].fOrigin==="g"||g[E].origin===1){for(O=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),z=0;z<O.length;z+=1)O[z].href.indexOf(g[E].fPath)!==-1&&(B=!1);if(B){var H=createTag("link");H.setAttribute("f-forigin",g[E].fOrigin),H.setAttribute("f-origin",g[E].origin),H.type="text/css",H.rel="stylesheet",H.href=g[E].fPath,document.body.appendChild(H)}}else if(g[E].fOrigin==="t"||g[E].origin===2){for(O=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),z=0;z<O.length;z+=1)g[E].fPath===O[z].src&&(B=!1);if(B){var q=createTag("link");q.setAttribute("f-forigin",g[E].fOrigin),q.setAttribute("f-origin",g[E].origin),q.setAttribute("rel","stylesheet"),q.setAttribute("href",g[E].fPath),C.appendChild(q)}}g[E].helper=f(g[E],C),g[E].cache={},this.fonts.push(g[E])}w===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function u(T){if(T){this.chars||(this.chars=[]);var C,g=T.length,E,_=this.chars.length,w;for(C=0;C<g;C+=1){for(E=0,w=!1;E<_;)this.chars[E].style===T[C].style&&this.chars[E].fFamily===T[C].fFamily&&this.chars[E].ch===T[C].ch&&(w=!0),E+=1;w||(this.chars.push(T[C]),_+=1)}}}function d(T,C,g){for(var E=0,_=this.chars.length;E<_;){if(this.chars[E].ch===T&&this.chars[E].style===C&&this.chars[E].fFamily===g)return this.chars[E];E+=1}return(typeof T=="string"&&T.charCodeAt(0)!==13||!T)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",T,C,g)),t}function h(T,C,g){var E=this.getFontByName(C),_=T;if(!E.cache[_]){var w=E.helper;if(T===" "){var B=w.measureText("|"+T+"|"),O=w.measureText("||");E.cache[_]=(B-O)/100}else E.cache[_]=w.measureText(T)/100}return E.cache[_]*g}function x(T){for(var C=0,g=this.fonts.length;C<g;){if(this.fonts[C].fName===T)return this.fonts[C];C+=1}return this.fonts[0]}function j(T){var C=0,g=T.charCodeAt(0);if(g>=55296&&g<=56319){var E=T.charCodeAt(1);E>=56320&&E<=57343&&(C=(g-55296)*1024+E-56320+65536)}return C}function S(T,C){var g=T.toString(16)+C.toString(16);return b.indexOf(g)!==-1}function P(T){return T===o}function A(T){return T===l}function I(T){var C=j(T);return C>=p&&C<=m}function V(T){return I(T.substr(0,2))&&I(T.substr(2,2))}function F(T){return r.indexOf(T)!==-1}function k(T,C){var g=j(T.substr(C,2));if(g!==i)return!1;var E=0;for(C+=2;E<5;){if(g=j(T.substr(C,2)),g<n||g>a)return!1;E+=1,C+=2}return j(T.substr(C,2))===s}function L(){this.isLoaded=!0}var D=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};D.isModifier=S,D.isZeroWidthJoiner=P,D.isFlagEmoji=V,D.isRegionalCode=I,D.isCombinedCharacter=F,D.isRegionalFlag=k,D.isVariationSelector=A,D.BLACK_FLAG_CODE_POINT=i;var M={addChars:u,addFonts:R,getCharData:d,getFontByName:x,measureText:h,checkLoadedFonts:y,setIsLoaded:L};return D.prototype=M,D}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,r=this.renderableComponents.length;for(t=0;t<r;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r=e.ef||[];this.effectElements=[];var i,s=r.length,n;for(i=0;i<s;i+=1)n=new GroupEffect(r[i],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,i=this.data.ef.length,s,n=this.data.ef;for(r=0;r<i;r+=1){switch(s=null,n[r].ty){case 0:s=new SliderEffect(n[r],t,this);break;case 1:s=new AngleEffect(n[r],t,this);break;case 2:s=new ColorEffect(n[r],t,this);break;case 3:s=new PointEffect(n[r],t,this);break;case 4:case 7:s=new CheckboxEffect(n[r],t,this);break;case 10:s=new LayerIndexEffect(n[r],t,this);break;case 11:s=new MaskIndexEffect(n[r],t,this);break;case 5:s=new EffectsManager(n[r],t);break;default:s=new NoValueEffect(n[r]);break}s&&this.effectElements.push(s)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,r=this.data.masksProperties.length;t<r;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var r=t("layer"),i=t("effects"),s=t("shape"),n=t("text"),a=t("comp");this.layerInterface=r(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var l=i.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(l),this.data.ty===0||this.data.xt?this.compInterface=a(this):this.data.ty===4?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=t},initBaseData:function(t,r,i){this.globalData=r,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,r){var i,s=this.dynamicProperties.length;for(i=0;i<s;i+=1)(r||this._isParent&&this.dynamicProperties[i].propType==="transform")&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var t,r=this.layers.length,i;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(i=this.layers[t],i.ip-i.st<=e-this.layers[t].st&&i.op-i.st>e-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,r=e.length,i,s=this.layers.length;for(t=0;t<r;t+=1)for(i=0;i<s;){if(this.layers[i].id===e[t].id){this.layers[i]=e[t];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var i=this.elements,s=this.layers,n=0,a=s.length;n<a;)s[n].ind==t&&(!i[n]||i[n]===!0?(this.buildItem(n),this.addPendingElement(e)):(r.push(i[n]),i[n].setAsParent(),s[n].parent!==void 0?this.buildElementParenting(e,s[n].parent,r):e.setHierarchy(r))),n+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var i=this.createComp(e[t]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t=e.shift(),r;if(typeof t=="number")r=this.elements[t];else{var i,s=this.elements.length;for(i=0;i<s;i+=1)if(this.elements[i].data.nm===t){r=this.elements[i];break}}return e.length===0?r:r.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,r=this.finalTransform.mat,i=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<s;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,r.cloneFromProps(t),i=0;i<s;i+=1)r.multiply(this.hierarchy[i].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,r=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<r;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var i=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(i),t=1;t<r;t+=1){var s=this.localTransforms[t].matrix;i.multiply(s)}i.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(t=0;t<r;t+=1)n*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var r=0,i=t.length;for(r=0;r<i;r+=1)this.localTransforms.push(t[r])}}},globalToLocal:function(t){var r=[];r.push(this.finalTransform);for(var i=!0,s=this.comp;i;)s.finalTransform?(s.data.hasMask&&r.splice(0,0,s.finalTransform),s=s.comp):i=!1;var n,a=r.length,l;for(n=0;n<a;n+=1)l=r[n].mat.applyToPointArray(0,0,0),t=[t[0]-l[0],t[1]-l[1],0];return t},mHelper:new Matrix};function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i=this.globalData.defs,s,n=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(n),this.solidPath="";var a,l=this.masksProperties,o=0,p=[],m,b,c=createElementID(),v,y,f,R,u="clipPath",d="clip-path";for(s=0;s<n;s+=1)if((l[s].mode!=="a"&&l[s].mode!=="n"||l[s].inv||l[s].o.k!==100||l[s].o.x)&&(u="mask",d="mask"),(l[s].mode==="s"||l[s].mode==="i")&&o===0?(v=createNS("rect"),v.setAttribute("fill","#ffffff"),v.setAttribute("width",this.element.comp.data.w||0),v.setAttribute("height",this.element.comp.data.h||0),p.push(v)):v=null,a=createNS("path"),l[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,l[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,l[s],3),elem:a,lastPath:""},i.appendChild(a);else{o+=1,a.setAttribute("fill",l[s].mode==="s"?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero");var h;if(l[s].x.k!==0?(u="mask",d="mask",R=PropertyFactory.getProp(this.element,l[s].x,0,null,this.element),h=createElementID(),y=createNS("filter"),y.setAttribute("id",h),f=createNS("feMorphology"),f.setAttribute("operator","erode"),f.setAttribute("in","SourceGraphic"),f.setAttribute("radius","0"),y.appendChild(f),i.appendChild(y),a.setAttribute("stroke",l[s].mode==="s"?"#000000":"#ffffff")):(f=null,R=null),this.storedData[s]={elem:a,x:R,expan:f,lastPath:"",lastOperator:"",filterId:h,lastRadius:0},l[s].mode==="i"){b=p.length;var x=createNS("g");for(m=0;m<b;m+=1)x.appendChild(p[m]);var j=createNS("mask");j.setAttribute("mask-type","alpha"),j.setAttribute("id",c+"_"+o),j.appendChild(a),i.appendChild(j),x.setAttribute("mask","url("+getLocationHref()+"#"+c+"_"+o+")"),p.length=0,p.push(x)}else p.push(a);l[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,l[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,l[s],3),invRect:v},this.viewData[s].prop.k||this.drawPath(l[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(u),n=p.length,s=0;s<n;s+=1)this.maskElement.appendChild(p[s]);o>0&&(this.maskElement.setAttribute("id",c),this.element.maskedElement.setAttribute(d,"url("+getLocationHref()+"#"+c+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t=this.element.finalTransform.mat,r,i=this.masksProperties.length;for(r=0;r<i;r+=1)if((this.viewData[r].prop._mdf||e)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||e)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[r].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||e))){var s=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),s.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,t,r){var i=" M"+t.v[0][0]+","+t.v[0][1],s,n;for(n=t._length,s=1;s<n;s+=1)i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[s][0]+","+t.i[s][1]+" "+t.v[s][0]+","+t.v[s][1];if(t.c&&n>1&&(i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i){var a="";r.elem&&(t.c&&(a=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",a)),r.lastPath=i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=t,e.createAlphaToLuminanceFilter=r;function t(i,s){var n=createNS("filter");return n.setAttribute("id",i),s!==!0&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n}function r(){var i=createNS("feColorMatrix");return i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),i}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r="SourceGraphic",i=e.data.ef?e.data.ef.length:0,s=createElementID(),n=filtersFactory.createFilter(s,!0),a=0;this.filters=[];var l;for(t=0;t<i;t+=1){l=null;var o=e.data.ef[t].ty;if(registeredEffects$1[o]){var p=registeredEffects$1[o].effect;l=new p(n,e.effectsManager.effectElements[t],e,idPrefix+a,r),r=idPrefix+a,registeredEffects$1[o].countsAsEffect&&(a+=1)}l&&this.filters.push(l)}a&&(e.globalData.defs.appendChild(n),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i};function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var r=createNS("g");r.setAttribute("id",this.layerId),r.appendChild(this.layerElement),t=r,this.globalData.defs.appendChild(r)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var i=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(i.setAttribute("id",n),i.appendChild(s),this.globalData.defs.appendChild(i),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),a.appendChild(this.layerElement),this.transformedElement=a,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var r=this.layerId+"_"+t,i,s,n,a;if(t===1||t===3){var l=createNS("mask");l.setAttribute("id",r),l.setAttribute("mask-type",t===3?"luminance":"alpha"),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),this.globalData.defs.appendChild(l),!featureSupport.maskType&&t===1&&(l.setAttribute("mask-type","luminance"),i=createElementID(),s=filtersFactory.createFilter(i),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),a.appendChild(n),l.appendChild(a),a.setAttribute("filter","url("+getLocationHref()+"#"+i+")"))}else if(t===2){var o=createNS("mask");o.setAttribute("id",r),o.setAttribute("mask-type","alpha");var p=createNS("g");o.appendChild(p),i=createElementID(),s=filtersFactory.createFilter(i);var m=createNS("feComponentTransfer");m.setAttribute("in","SourceGraphic"),s.appendChild(m);var b=createNS("feFuncA");b.setAttribute("type","table"),b.setAttribute("tableValues","1.0 0.0"),m.appendChild(b),this.globalData.defs.appendChild(s);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),p.setAttribute("filter","url("+getLocationHref()+"#"+i+")"),p.appendChild(c),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),p.appendChild(n),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),p.appendChild(c),a.appendChild(this.layerElement),p.appendChild(a)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=r}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(r,i,s){this.initFrame(),this.initBaseData(r,i,s),this.initTransform(r,i,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var r,i=this.shapeModifiers.length;for(r=0;r<i;r+=1)this.shapeModifiers[r].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var r=0,i=this.shapeModifiers.length;r<i;)if(this.shapeModifiers[r].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,r=this.shapes.length;for(t=0;t<r;t+=1)this.shapes[t].sh.reset();r=this.shapeModifiers.length;var i;for(t=r-1;t>=0&&(i=this.shapeModifiers[t].processShapes(this._isFirstFrame),!i);t-=1);}},searchProcessedElement:function(t){for(var r=this.processedElements,i=0,s=r.length;i<s;){if(r[i].elem===t)return r[i].pos;i+=1}return 0},addProcessedElement:function(t,r){for(var i=this.processedElements,s=i.length;s;)if(s-=1,i[s].elem===t){i[s].pos=r;return}i.push(new ProcessedElement(t,r))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var i=0,s=e.length;i<s;){if(e[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,t,r,i){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var s,n=t.length||0,a;for(s=0;s<n;s+=1)a=PropertyFactory.getProp(e,t[s].v,0,0,this),this.k=a.k||this.k,this.dataProps[s]={n:t[s].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<r;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var i=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,i=this.o.length/2,s;r<i;){if(s=Math.abs(e[r*4]-e[t*4+r*2]),s>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r=this.data.p*4,i,s;for(t=0;t<r;t+=1)i=t%4===0?100:255,s=Math.round(this.prop.v[t]*i),this.c[t]!==s&&(this.c[t]=s,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=this.data.p*4;t<r;t+=1)i=t%2===0?100:1,s=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==s&&(this.o[t-this.data.p*4]=s,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),i=createNS(t.t===1?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var s=[],n,a,l;for(l=t.g.p*4,a=0;a<l;a+=4)n=createNS("stop"),i.appendChild(n),s.push(n);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=i,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,s,n=createNS("mask"),a=createNS("path");n.appendChild(a);var l=createElementID(),o=createElementID();n.setAttribute("id",o);var p=createNS(e.t===1?"linearGradient":"radialGradient");p.setAttribute("id",l),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),s=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var m=this.stops;for(i=e.g.p*4;i<s;i+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(r),m.push(r);a.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+l+")"),e.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&a.setAttribute("stroke-miterlimit",e.ml)),this.of=p,this.ms=n,this.ost=m,this.maskId=o,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,r,i,s){if(r===0)return"";var n=t.o,a=t.i,l=t.v,o,p=" M"+s.applyToPointStringified(l[0][0],l[0][1]);for(o=1;o<r;o+=1)p+=" C"+s.applyToPointStringified(n[o-1][0],n[o-1][1])+" "+s.applyToPointStringified(a[o][0],a[o][1])+" "+s.applyToPointStringified(l[o][0],l[o][1]);return i&&r&&(p+=" C"+s.applyToPointStringified(n[o-1][0],n[o-1][1])+" "+s.applyToPointStringified(a[0][0],a[0][1])+" "+s.applyToPointStringified(l[0][0],l[0][1]),p+="z"),p},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix,r={createRenderFunction:i};function i(b){switch(b.ty){case"fl":return l;case"gf":return p;case"gs":return o;case"st":return m;case"sh":case"el":case"rc":case"sr":return a;case"tr":return s;case"no":return n;default:return null}}function s(b,c,v){(v||c.transform.op._mdf)&&c.transform.container.setAttribute("opacity",c.transform.op.v),(v||c.transform.mProps._mdf)&&c.transform.container.setAttribute("transform",c.transform.mProps.v.to2dCSS())}function n(){}function a(b,c,v){var y,f,R,u,d,h,x=c.styles.length,j=c.lvl,S,P,A,I;for(h=0;h<x;h+=1){if(u=c.sh._mdf||v,c.styles[h].lvl<j){for(P=t.reset(),A=j-c.styles[h].lvl,I=c.transformers.length-1;!u&&A>0;)u=c.transformers[I].mProps._mdf||u,A-=1,I-=1;if(u)for(A=j-c.styles[h].lvl,I=c.transformers.length-1;A>0;)P.multiply(c.transformers[I].mProps.v),A-=1,I-=1}else P=e;if(S=c.sh.paths,f=S._length,u){for(R="",y=0;y<f;y+=1)d=S.shapes[y],d&&d._length&&(R+=buildShapeString(d,d._length,d.c,P));c.caches[h]=R}else R=c.caches[h];c.styles[h].d+=b.hd===!0?"":R,c.styles[h]._mdf=u||c.styles[h]._mdf}}function l(b,c,v){var y=c.style;(c.c._mdf||v)&&y.pElem.setAttribute("fill","rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")"),(c.o._mdf||v)&&y.pElem.setAttribute("fill-opacity",c.o.v)}function o(b,c,v){p(b,c,v),m(b,c,v)}function p(b,c,v){var y=c.gf,f=c.g._hasOpacity,R=c.s.v,u=c.e.v;if(c.o._mdf||v){var d=b.ty==="gf"?"fill-opacity":"stroke-opacity";c.style.pElem.setAttribute(d,c.o.v)}if(c.s._mdf||v){var h=b.t===1?"x1":"cx",x=h==="x1"?"y1":"cy";y.setAttribute(h,R[0]),y.setAttribute(x,R[1]),f&&!c.g._collapsable&&(c.of.setAttribute(h,R[0]),c.of.setAttribute(x,R[1]))}var j,S,P,A;if(c.g._cmdf||v){j=c.cst;var I=c.g.c;for(P=j.length,S=0;S<P;S+=1)A=j[S],A.setAttribute("offset",I[S*4]+"%"),A.setAttribute("stop-color","rgb("+I[S*4+1]+","+I[S*4+2]+","+I[S*4+3]+")")}if(f&&(c.g._omdf||v)){var V=c.g.o;for(c.g._collapsable?j=c.cst:j=c.ost,P=j.length,S=0;S<P;S+=1)A=j[S],c.g._collapsable||A.setAttribute("offset",V[S*2]+"%"),A.setAttribute("stop-opacity",V[S*2+1])}if(b.t===1)(c.e._mdf||v)&&(y.setAttribute("x2",u[0]),y.setAttribute("y2",u[1]),f&&!c.g._collapsable&&(c.of.setAttribute("x2",u[0]),c.of.setAttribute("y2",u[1])));else{var F;if((c.s._mdf||c.e._mdf||v)&&(F=Math.sqrt(Math.pow(R[0]-u[0],2)+Math.pow(R[1]-u[1],2)),y.setAttribute("r",F),f&&!c.g._collapsable&&c.of.setAttribute("r",F)),c.e._mdf||c.h._mdf||c.a._mdf||v){F||(F=Math.sqrt(Math.pow(R[0]-u[0],2)+Math.pow(R[1]-u[1],2)));var k=Math.atan2(u[1]-R[1],u[0]-R[0]),L=c.h.v;L>=1?L=.99:L<=-1&&(L=-.99);var D=F*L,M=Math.cos(k+c.a.v)*D+R[0],T=Math.sin(k+c.a.v)*D+R[1];y.setAttribute("fx",M),y.setAttribute("fy",T),f&&!c.g._collapsable&&(c.of.setAttribute("fx",M),c.of.setAttribute("fy",T))}}}function m(b,c,v){var y=c.style,f=c.d;f&&(f._mdf||v)&&f.dashStr&&(y.pElem.setAttribute("stroke-dasharray",f.dashStr),y.pElem.setAttribute("stroke-dashoffset",f.dashoffset[0])),c.c&&(c.c._mdf||v)&&y.pElem.setAttribute("stroke","rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")"),(c.o._mdf||v)&&y.pElem.setAttribute("stroke-opacity",c.o.v),(c.w._mdf||v)&&(y.pElem.setAttribute("stroke-width",c.w.v),y.msElem&&y.msElem.setAttribute("stroke-width",c.w.v))}return r}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t=this.shapes.length,r,i,s=this.stylesList.length,n,a=[],l=!1;for(i=0;i<s;i+=1){for(n=this.stylesList[i],l=!1,a.length=0,e=0;e<t;e+=1)r=this.shapes[e],r.styles.indexOf(n)!==-1&&(a.push(r),l=r._isAnimated||l);a.length>1&&l&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,i=new SVGStyleData(e,t),s=i.pElem;if(e.ty==="st")r=new SVGStrokeStyleData(this,e,i);else if(e.ty==="fl")r=new SVGFillStyleData(this,e,i);else if(e.ty==="gf"||e.ty==="gs"){var n=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new n(this,e,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),s.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else e.ty==="no"&&(r=new SVGNoStyleData(this,e,i));return(e.ty==="st"||e.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),s.setAttribute("fill-opacity","0"),e.lj===1&&s.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&s.setAttribute("fill-rule","evenodd"),e.ln&&s.setAttribute("id",e.ln),e.cl&&s.setAttribute("class",e.cl),e.bm&&(s.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(i),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),i=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var i=4;e.ty==="rc"?i=5:e.ty==="el"?i=6:e.ty==="sr"&&(i=7);var s=ShapePropertyFactory.getShapeProp(this,e,i,this),n=new SVGShapeData(t,r,s);return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t=e.styles,r,i=this.stylesList.length;for(r=0;r<i;r+=1)this.stylesList[r].closed||t.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,i,s,n,a){var l=[].concat(n),o,p=e.length-1,m,b,c=[],v=[],y,f,R;for(o=p;o>=0;o-=1){if(R=this.searchProcessedElement(e[o]),R?t[o]=r[R-1]:e[o]._render=a,e[o].ty==="fl"||e[o].ty==="st"||e[o].ty==="gf"||e[o].ty==="gs"||e[o].ty==="no")R?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],s),e[o]._render&&t[o].style.pElem.parentNode!==i&&i.appendChild(t[o].style.pElem),c.push(t[o].style);else if(e[o].ty==="gr"){if(!R)t[o]=this.createGroupElement(e[o]);else for(b=t[o].it.length,m=0;m<b;m+=1)t[o].prevViewData[m]=t[o].it[m];this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,s+1,l,a),e[o]._render&&t[o].gr.parentNode!==i&&i.appendChild(t[o].gr)}else e[o].ty==="tr"?(R||(t[o]=this.createTransformElement(e[o],i)),y=t[o].transform,l.push(y)):e[o].ty==="sh"||e[o].ty==="rc"||e[o].ty==="el"||e[o].ty==="sr"?(R||(t[o]=this.createShapeElement(e[o],l,s)),this.setElementStyles(t[o])):e[o].ty==="tm"||e[o].ty==="rd"||e[o].ty==="ms"||e[o].ty==="pb"||e[o].ty==="zz"||e[o].ty==="op"?(R?(f=t[o],f.closed=!1):(f=ShapeModifiers.getModifier(e[o].ty),f.init(this,e[o]),t[o]=f,this.shapeModifiers.push(f)),v.push(f)):e[o].ty==="rp"&&(R?(f=t[o],f.closed=!0):(f=ShapeModifiers.getModifier(e[o].ty),t[o]=f,f.init(this,e,o,t),this.shapeModifiers.push(f),a=!1),v.push(f));this.addProcessedElement(e[o],o+1)}for(p=c.length,o=0;o<p;o+=1)c[o].closed=!0;for(p=v.length,o=0;o<p;o+=1)v[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t=this.animatedContents.length,r;for(e=0;e<t;e+=1)r=this.animatedContents[e],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,t,r,i,s,n){this.o=e,this.sw=t,this.sc=r,this.fc=i,this.m=s,this.p=n,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!i,m:!0,p:!0}}LetterProps.prototype.update=function(e,t,r,i,s,n){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),n.length&&(this.p[0]!==n[0]||this.p[1]!==n[1]||this.p[4]!==n[4]||this.p[5]!==n[5]||this.p[12]!==n[12]||this.p[13]!==n[13])&&(this.p=n,this._mdf.p=!0,a=!0),a};function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var i,s=this.effectsSequence.length,n=e||this.data.d.k[this.keysIndex].s;for(i=0;i<s;i+=1)r!==this.keysIndex?n=this.effectsSequence[i](n,n.t):n=this.effectsSequence[i](this.currentData,n.t);t!==n&&this.setCurrentData(n),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,i=e.length;r<=i-1&&!(r===i-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t=[],r=0,i=e.length,s,n,a=!1,l=!1,o="";r<i;)a=l,l=!1,s=e.charCodeAt(r),o=e.charAt(r),FontManager.isCombinedCharacter(s)?a=!0:s>=55296&&s<=56319?FontManager.isRegionalFlag(e,r)?o=e.substr(r,14):(n=e.charCodeAt(r+1),n>=56320&&n<=57343&&(FontManager.isModifier(s,n)?(o=e.substr(r,2),a=!0):FontManager.isFlagEmoji(e.substr(r,4))?o=e.substr(r,4):o=e.substr(r,2))):s>56319?(n=e.charCodeAt(r+1),FontManager.isVariationSelector(s)&&(a=!0)):FontManager.isZeroWidthJoiner(s)&&(a=!0,l=!0),a?(t[t.length-1]+=o,a=!1):t.push(o),r+=o.length;return t},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t=this.elem.globalData.fontManager,r=this.data,i=[],s,n,a,l=0,o,p=r.m.g,m=0,b=0,c=0,v=[],y=0,f=0,R,u,d=t.getFontByName(e.f),h,x=0,j=getFontProperties(d);e.fWeight=j.weight,e.fStyle=j.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var S=e.tr/1e3*e.finalSize,P;if(e.sz)for(var A=!0,I=e.sz[0],V=e.sz[1],F,k;A;){k=this.buildFinalText(e.t),F=0,y=0,n=k.length,S=e.tr/1e3*e.finalSize;var L=-1;for(s=0;s<n;s+=1)P=k[s].charCodeAt(0),a=!1,k[s]===" "?L=s:(P===13||P===3)&&(y=0,a=!0,F+=e.finalLineHeight||e.finalSize*1.2),t.chars?(h=t.getCharData(k[s],d.fStyle,d.fFamily),x=a?0:h.w*e.finalSize/100):x=t.measureText(k[s],e.f,e.finalSize),y+x>I&&k[s]!==" "?(L===-1?n+=1:s=L,F+=e.finalLineHeight||e.finalSize*1.2,k.splice(s,L===s?1:0,"\r"),L=-1,y=0):(y+=x,y+=S);F+=d.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&V<F?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=k,n=e.finalText.length,A=!1)}y=-S,x=0;var D=0,M;for(s=0;s<n;s+=1)if(a=!1,M=e.finalText[s],P=M.charCodeAt(0),P===13||P===3?(D=0,v.push(y),f=y>f?y:f,y=-2*S,o="",a=!0,c+=1):o=M,t.chars?(h=t.getCharData(M,d.fStyle,t.getFontByName(e.f).fFamily),x=a?0:h.w*e.finalSize/100):x=t.measureText(o,e.f,e.finalSize),M===" "?D+=x+S:(y+=x+S+D,D=0),i.push({l:x,an:x,add:m,n:a,anIndexes:[],val:o,line:c,animatorJustifyOffset:0}),p==2){if(m+=x,o===""||o===" "||s===n-1){for((o===""||o===" ")&&(m-=x);b<=s;)i[b].an=m,i[b].ind=l,i[b].extra=x,b+=1;l+=1,m=0}}else if(p==3){if(m+=x,o===""||s===n-1){for(o===""&&(m-=x);b<=s;)i[b].an=m,i[b].ind=l,i[b].extra=x,b+=1;m=0,l+=1}}else i[l].ind=l,i[l].extra=0,l+=1;if(e.l=i,f=y>f?y:f,v.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=f,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=v;var T=r.a,C,g;u=T.length;var E,_,w=[];for(R=0;R<u;R+=1){for(C=T[R],C.a.sc&&(e.strokeColorAnim=!0),C.a.sw&&(e.strokeWidthAnim=!0),(C.a.fc||C.a.fh||C.a.fs||C.a.fb)&&(e.fillColorAnim=!0),_=0,E=C.s.b,s=0;s<n;s+=1)g=i[s],g.anIndexes[R]=_,(E==1&&g.val!==""||E==2&&g.val!==""&&g.val!==" "||E==3&&(g.n||g.val==" "||s==n-1)||E==4&&(g.n||s==n-1))&&(C.s.rn===1&&w.push(_),_+=1);r.a[R].s.totalChars=_;var B=-1,O;if(C.s.rn===1)for(s=0;s<n;s+=1)g=i[s],B!=g.anIndexes[R]&&(B=g.anIndexes[R],O=w.splice(Math.floor(Math.random()*w.length),1)[0]),g.anIndexes[R]=O}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=d.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function i(n,a){this._currentTextLength=-1,this.k=!1,this.data=a,this.elem=n,this.comp=n.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(n),this.s=PropertyFactory.getProp(n,a.s||{k:0},0,0,this),"e"in a?this.e=PropertyFactory.getProp(n,a.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(n,a.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(n,a.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(n,a.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(n,a.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(n,a.a,0,.01,this),this.dynamicProperties.length||this.getValue()}i.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var l=0,o=0,p=1,m=1;this.ne.v>0?l=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?p=1-this.xe.v/100:m=1+this.xe.v/100;var b=BezierFactory.getBezierEasing(l,o,p,m).get,c=0,v=this.finalS,y=this.finalE,f=this.data.sh;if(f===2)y===v?c=a>=y?1:0:c=e(0,t(.5/(y-v)+(a-v)/(y-v),1)),c=b(c);else if(f===3)y===v?c=a>=y?0:1:c=1-e(0,t(.5/(y-v)+(a-v)/(y-v),1)),c=b(c);else if(f===4)y===v?c=0:(c=e(0,t(.5/(y-v)+(a-v)/(y-v),1)),c<.5?c*=2:c=1-2*(c-.5)),c=b(c);else if(f===5){if(y===v)c=0;else{var R=y-v;a=t(e(0,a+.5-v),y-v);var u=-R/2+a,d=R/2;c=Math.sqrt(1-u*u/(d*d))}c=b(c)}else f===6?(y===v?c=0:(a=t(e(0,a+.5-v),y-v),c=(1+Math.cos(Math.PI+Math.PI*2*a/(y-v)))/2),c=b(c)):(a>=r(v)&&(a-v<0?c=e(0,t(t(y,1)-(v-a),1)):c=e(0,t(y-a,1))),c=b(c));if(this.sm.v!==100){var h=this.sm.v*.01;h===0&&(h=1e-8);var x=.5-h*.5;c<x?c=0:(c=(c-x)/h,c>1&&(c=1))}return c*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&this.data.r===2&&(this.e.v=this._currentTextLength);var l=this.data.r===2?1:100/this.data.totalChars,o=this.o.v/l,p=this.s.v/l+o,m=this.e.v/l+o;if(p>m){var b=p;p=m,m=b}this.finalS=p,this.finalE=m}},extendPrototype([DynamicPropertyContainer],i);function s(n,a,l){return new i(n,a)}return{getTextSelectorProp:s}}();function TextAnimatorDataProperty(e,t,r){var i={propType:!1},s=PropertyFactory.getProp,n=t.a;this.a={r:n.r?s(e,n.r,0,degToRads,r):i,rx:n.rx?s(e,n.rx,0,degToRads,r):i,ry:n.ry?s(e,n.ry,0,degToRads,r):i,sk:n.sk?s(e,n.sk,0,degToRads,r):i,sa:n.sa?s(e,n.sa,0,degToRads,r):i,s:n.s?s(e,n.s,1,.01,r):i,a:n.a?s(e,n.a,1,0,r):i,o:n.o?s(e,n.o,0,.01,r):i,p:n.p?s(e,n.p,1,0,r):i,sw:n.sw?s(e,n.sw,0,0,r):i,sc:n.sc?s(e,n.sc,1,0,r):i,fc:n.fc?s(e,n.fc,1,0,r):i,fh:n.fh?s(e,n.fh,0,0,r):i,fs:n.fs?s(e,n.fs,0,.01,r):i,fb:n.fb?s(e,n.fb,0,.01,r):i,t:n.t?s(e,n.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t=this._textData.a.length,r,i=PropertyFactory.getProp;for(e=0;e<t;e+=1)r=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,i=this._animatorsData,s=this._textData,n=this.mHelper,a=this._renderType,l=this.renderedLetters.length,o,p,m,b,c=e.l,v,y,f,R,u,d,h,x,j,S,P,A,I,V,F;if(this._hasMaskedPath){if(F=this._pathData.m,!this._pathData.n||this._pathData._mdf){var k=F.v;this._pathData.r.v&&(k=k.reverse()),v={tLength:0,segments:[]},b=k._length-1;var L;for(A=0,m=0;m<b;m+=1)L=bez.buildBezierData(k.v[m],k.v[m+1],[k.o[m][0]-k.v[m][0],k.o[m][1]-k.v[m][1]],[k.i[m+1][0]-k.v[m+1][0],k.i[m+1][1]-k.v[m+1][1]]),v.tLength+=L.segmentLength,v.segments.push(L),A+=L.segmentLength;m=b,F.v.c&&(L=bez.buildBezierData(k.v[m],k.v[0],[k.o[m][0]-k.v[m][0],k.o[m][1]-k.v[m][1]],[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]),v.tLength+=L.segmentLength,v.segments.push(L),A+=L.segmentLength),this._pathData.pi=v}if(v=this._pathData.pi,y=this._pathData.f.v,h=0,d=1,R=0,u=!0,S=v.segments,y<0&&F.v.c)for(v.tLength<Math.abs(y)&&(y=-Math.abs(y)%v.tLength),h=S.length-1,j=S[h].points,d=j.length-1;y<0;)y+=j[d].partialLength,d-=1,d<0&&(h-=1,j=S[h].points,d=j.length-1);j=S[h].points,x=j[d-1],f=j[d],P=f.partialLength}b=c.length,o=0,p=0;var D=e.finalSize*1.2*.714,M=!0,T,C,g,E,_;E=i.length;var w,B=-1,O,z,N,H=y,q=h,K=d,Q=-1,Y,$,Z,W,G,te,ne,re,ee="",ie=this.defaultPropsArray,se;if(e.j===2||e.j===1){var X=0,ae=0,oe=e.j===2?-.5:-1,U=0,le=!0;for(m=0;m<b;m+=1)if(c[m].n){for(X&&(X+=ae);U<m;)c[U].animatorJustifyOffset=X,U+=1;X=0,le=!0}else{for(g=0;g<E;g+=1)T=i[g].a,T.t.propType&&(le&&e.j===2&&(ae+=T.t.v*oe),C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),w.length?X+=T.t.v*w[0]*oe:X+=T.t.v*w*oe);le=!1}for(X&&(X+=ae);U<m;)c[U].animatorJustifyOffset=X,U+=1}for(m=0;m<b;m+=1){if(n.reset(),Y=1,c[m].n)o=0,p+=e.yOffset,p+=M?1:0,y=H,M=!1,this._hasMaskedPath&&(h=q,d=K,j=S[h].points,x=j[d-1],f=j[d],P=f.partialLength,R=0),ee="",re="",te="",se="",ie=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==c[m].line){switch(e.j){case 1:y+=A-e.lineWidths[c[m].line];break;case 2:y+=(A-e.lineWidths[c[m].line])/2;break}Q=c[m].line}B!==c[m].ind&&(c[B]&&(y+=c[B].extra),y+=c[m].an/2,B=c[m].ind),y+=r[0]*c[m].an*.005;var J=0;for(g=0;g<E;g+=1)T=i[g].a,T.p.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),w.length?J+=T.p.v[0]*w[0]:J+=T.p.v[0]*w),T.a.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),w.length?J+=T.a.v[0]*w[0]:J+=T.a.v[0]*w);for(u=!0,this._pathData.a.v&&(y=c[0].an*.5+(A-this._pathData.f.v-c[0].an*.5-c[c.length-1].an*.5)*B/(b-1),y+=this._pathData.f.v);u;)R+P>=y+J||!j?(I=(y+J-R)/f.partialLength,z=x.point[0]+(f.point[0]-x.point[0])*I,N=x.point[1]+(f.point[1]-x.point[1])*I,n.translate(-r[0]*c[m].an*.005,-(r[1]*D)*.01),u=!1):j&&(R+=f.partialLength,d+=1,d>=j.length&&(d=0,h+=1,S[h]?j=S[h].points:F.v.c?(d=0,h=0,j=S[h].points):(R-=f.partialLength,j=null)),j&&(x=f,f=j[d],P=f.partialLength));O=c[m].an/2-c[m].add,n.translate(-O,0,0)}else O=c[m].an/2-c[m].add,n.translate(-O,0,0),n.translate(-r[0]*c[m].an*.005,-r[1]*D*.01,0);for(g=0;g<E;g+=1)T=i[g].a,T.t.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),(o!==0||e.j!==0)&&(this._hasMaskedPath?w.length?y+=T.t.v*w[0]:y+=T.t.v*w:w.length?o+=T.t.v*w[0]:o+=T.t.v*w));for(e.strokeWidthAnim&&(Z=e.sw||0),e.strokeColorAnim&&(e.sc?$=[e.sc[0],e.sc[1],e.sc[2]]:$=[0,0,0]),e.fillColorAnim&&e.fc&&(W=[e.fc[0],e.fc[1],e.fc[2]]),g=0;g<E;g+=1)T=i[g].a,T.a.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),w.length?n.translate(-T.a.v[0]*w[0],-T.a.v[1]*w[1],T.a.v[2]*w[2]):n.translate(-T.a.v[0]*w,-T.a.v[1]*w,T.a.v[2]*w));for(g=0;g<E;g+=1)T=i[g].a,T.s.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),w.length?n.scale(1+(T.s.v[0]-1)*w[0],1+(T.s.v[1]-1)*w[1],1):n.scale(1+(T.s.v[0]-1)*w,1+(T.s.v[1]-1)*w,1));for(g=0;g<E;g+=1){if(T=i[g].a,C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),T.sk.propType&&(w.length?n.skewFromAxis(-T.sk.v*w[0],T.sa.v*w[1]):n.skewFromAxis(-T.sk.v*w,T.sa.v*w)),T.r.propType&&(w.length?n.rotateZ(-T.r.v*w[2]):n.rotateZ(-T.r.v*w)),T.ry.propType&&(w.length?n.rotateY(T.ry.v*w[1]):n.rotateY(T.ry.v*w)),T.rx.propType&&(w.length?n.rotateX(T.rx.v*w[0]):n.rotateX(T.rx.v*w)),T.o.propType&&(w.length?Y+=(T.o.v*w[0]-Y)*w[0]:Y+=(T.o.v*w-Y)*w),e.strokeWidthAnim&&T.sw.propType&&(w.length?Z+=T.sw.v*w[0]:Z+=T.sw.v*w),e.strokeColorAnim&&T.sc.propType)for(G=0;G<3;G+=1)w.length?$[G]+=(T.sc.v[G]-$[G])*w[0]:$[G]+=(T.sc.v[G]-$[G])*w;if(e.fillColorAnim&&e.fc){if(T.fc.propType)for(G=0;G<3;G+=1)w.length?W[G]+=(T.fc.v[G]-W[G])*w[0]:W[G]+=(T.fc.v[G]-W[G])*w;T.fh.propType&&(w.length?W=addHueToRGB(W,T.fh.v*w[0]):W=addHueToRGB(W,T.fh.v*w)),T.fs.propType&&(w.length?W=addSaturationToRGB(W,T.fs.v*w[0]):W=addSaturationToRGB(W,T.fs.v*w)),T.fb.propType&&(w.length?W=addBrightnessToRGB(W,T.fb.v*w[0]):W=addBrightnessToRGB(W,T.fb.v*w))}}for(g=0;g<E;g+=1)T=i[g].a,T.p.propType&&(C=i[g].s,w=C.getMult(c[m].anIndexes[g],s.a[g].s.totalChars),this._hasMaskedPath?w.length?n.translate(0,T.p.v[1]*w[0],-T.p.v[2]*w[1]):n.translate(0,T.p.v[1]*w,-T.p.v[2]*w):w.length?n.translate(T.p.v[0]*w[0],T.p.v[1]*w[1],-T.p.v[2]*w[2]):n.translate(T.p.v[0]*w,T.p.v[1]*w,-T.p.v[2]*w));if(e.strokeWidthAnim&&(te=Z<0?0:Z),e.strokeColorAnim&&(ne="rgb("+Math.round($[0]*255)+","+Math.round($[1]*255)+","+Math.round($[2]*255)+")"),e.fillColorAnim&&e.fc&&(re="rgb("+Math.round(W[0]*255)+","+Math.round(W[1]*255)+","+Math.round(W[2]*255)+")"),this._hasMaskedPath){if(n.translate(0,-e.ls),n.translate(0,r[1]*D*.01+p,0),this._pathData.p.v){V=(f.point[1]-x.point[1])/(f.point[0]-x.point[0]);var he=Math.atan(V)*180/Math.PI;f.point[0]<x.point[0]&&(he+=180),n.rotate(-he*Math.PI/180)}n.translate(z,N,0),y-=r[0]*c[m].an*.005,c[m+1]&&B!==c[m+1].ind&&(y+=c[m].an/2,y+=e.tr*.001*e.finalSize)}else{switch(n.translate(o,p,0),e.ps&&n.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:n.translate(c[m].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[c[m].line]),0,0);break;case 2:n.translate(c[m].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[c[m].line])/2,0,0);break}n.translate(0,-e.ls),n.translate(O,0,0),n.translate(r[0]*c[m].an*.005,r[1]*D*.01,0),o+=c[m].l+e.tr*.001*e.finalSize}a==="html"?ee=n.toCSS():a==="svg"?ee=n.to2dCSS():ie=[n.props[0],n.props[1],n.props[2],n.props[3],n.props[4],n.props[5],n.props[6],n.props[7],n.props[8],n.props[9],n.props[10],n.props[11],n.props[12],n.props[13],n.props[14],n.props[15]],se=Y}l<=m?(_=new LetterProps(se,te,ne,re,ee,ie),this.renderedLetters.push(_),l+=1,this.lettersChangedFlag=!0):(_=this.renderedLetters[m],this.lettersChangedFlag=_.update(se,te,ne,re,ee,ie)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,i=t.length,s,n="";for(r=0;r<i;r+=1)t[r].ty==="sh"&&(s=t[r].ks.k,n+=buildShapeString(s,s.i.length,!0,e));return n},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,i,s){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0);break}t.translate(i,s,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,i=[],s="";t<r;)e[t]==="\r"||e[t]===""?(i.push(s),s=""):s+=e[t],t+=1;return i.push(s),i},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var i=r.it[r.it.length-1];i.s&&(i.s.k[0]=t,i.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,t,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var s=r.fWeight,n=r.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",r.t);var a=r.l||[],l=!!this.globalData.fontManager.chars;t=a.length;var o,p=this.mHelper,m="",b=this.data.singleShape,c=0,v=0,y=!0,f=r.tr*.001*r.finalSize;if(b&&!l&&!r.sz){var R=this.textContainer,u="start";switch(r.j){case 1:u="end";break;case 2:u="middle";break;default:u="start";break}R.setAttribute("text-anchor",u),R.setAttribute("letter-spacing",f);var d=this.buildTextContents(r.finalText);for(t=d.length,v=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)o=this.textSpans[e].span||createNS("tspan"),o.textContent=d[e],o.setAttribute("x",0),o.setAttribute("y",v),o.style.display="inherit",R.appendChild(o),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=o,v+=r.finalLineHeight;this.layerElement.appendChild(R)}else{var h=this.textSpans.length,x;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!b||e===0){if(o=h>e?this.textSpans[e].span:createNS(l?"g":"text"),h<=e){if(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=o,l){var j=createNS("g");o.appendChild(j),this.textSpans[e].childSpan=j}this.textSpans[e].span=o,this.layerElement.appendChild(o)}o.style.display="inherit"}if(p.reset(),b&&(a[e].n&&(c=-f,v+=r.yOffset,v+=y?1:0,y=!1),this.applyTextPropertiesToMatrix(r,p,a[e].line,c,v),c+=a[e].l||0,c+=f),l){x=this.globalData.fontManager.getCharData(r.finalText[e],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var S;if(x.t===1)S=new SVGCompElement(x.data,this.globalData,this);else{var P=emptyShapeData;x.data&&x.data.shapes&&(P=this.buildShapeData(x.data,r.finalSize)),S=new SVGShapeElement(P,this.globalData,this)}if(this.textSpans[e].glyph){var A=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(A.layerElement),A.destroy()}this.textSpans[e].glyph=S,S._debug=!0,S.prepareFrame(0),S.renderFrame(),this.textSpans[e].childSpan.appendChild(S.layerElement),x.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else b&&o.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),o.textContent=a[e].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}b&&o&&o.setAttribute("d",m)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<t;e+=1)r=this.textSpans[e].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,r=this.textAnimator.renderedLetters,i=this.textProperty.currentData.l;t=i.length;var s,n,a;for(e=0;e<t;e+=1)i[e].n||(s=r[e],n=this.textSpans[e].span,a=this.textSpans[e].glyph,a&&a.renderFrame(),s._mdf.m&&n.setAttribute("transform",s.m),s._mdf.o&&n.setAttribute("opacity",s.o),s._mdf.sw&&n.setAttribute("stroke-width",s.sw),s._mdf.sc&&n.setAttribute("stroke",s.sc),s._mdf.fc&&n.setAttribute("fill",s.fc))}};function ISolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var s=createElementID();r.setAttribute("id",s),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var i="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(i===-1)return;if(!this.elements[i]||this.elements[i]===!0)this.buildItem(i),this.addPendingElement(r);else{var s=t[i],n=s.getMatte(this.layers[e].tt);r.setMatte(n)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var i="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,s=this.elements[i],n=s.getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var i=0,s;i<t;)this.elements[i]&&this.elements[i]!==!0&&this.elements[i].getBaseElement()&&(s=this.elements[i].getBaseElement()),i+=1;s?this.layerElement.insertBefore(r,s):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var i=createNS("title"),s=createElementID();i.setAttribute("id",s),i.textContent=t.title,this.svgElement.appendChild(i),r+=s}if(t&&t.description){var n=createNS("desc"),a=createElementID();n.setAttribute("id",a),n.textContent=t.description,this.svgElement.appendChild(n),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var l=createNS("defs");this.svgElement.appendChild(l);var o=createNS("g");this.svgElement.appendChild(o),this.layerElement=o,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:l,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var r,i=t.length,s="_";for(r=0;r<i;r+=1)s+=t[r].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(t,r){for(var i=0,s=t.transforms.length,n=r;i<s&&!r;){if(t.transforms[i].transform.mProps._mdf){n=!0;break}i+=1}if(n)for(t.finalTransform.reset(),i=s-1;i>=0;i-=1)t.finalTransform.multiply(t.transforms[i].transform.mProps.v);t._mdf=n},processSequences:function(t){var r,i=this.sequenceList.length;for(r=0;r<i;r+=1)this.processSequence(this.sequenceList[r],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",r=null,i=null,s=null;function n(){var o=createNS("svg"),p=createNS("filter"),m=createNS("feColorMatrix");return p.setAttribute("id",t),m.setAttribute("type","matrix"),m.setAttribute("color-interpolation-filters","sRGB"),m.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),p.appendChild(m),o.appendChild(p),o.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(o.style.display="none"),o}function a(){r||(s=n(),document.body.appendChild(s),r=createTag("canvas"),i=r.getContext("2d"),i.filter="url(#"+t+")",i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1))}function l(o){return r||a(),r.width=o.width,r.height=o.height,i.filter="url(#"+t+")",r}return{load:a,get:l}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var t,r=e.data.ef?e.data.ef.length:0;this.filters=[];var i;for(t=0;t<r;t+=1){i=null;var s=e.data.ef[t].ty;if(registeredEffects[s]){var n=registeredEffects[s].effect;i=new n(e.effectsManager.effectElements[t],e)}i&&this.filters.push(i)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i};function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,i=this.masksProperties.length,s=!1;for(r=0;r<i;r+=1)this.masksProperties[r].mode!=="n"&&(s=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,t=this.element.canvasContext,r,i=this.masksProperties.length,s,n,a;for(t.beginPath(),r=0;r<i;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),a=this.viewData[r].v,s=e.applyToPointArray(a.v[0][0],a.v[0][1],0),t.moveTo(s[0],s[1]);var l,o=a._length;for(l=1;l<o;l+=1)n=e.applyToTriplePoints(a.o[l-1],a.i[l],a.v[l]),t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=e.applyToTriplePoints(a.o[l-1],a.i[0],a.v[0]),t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r);var i=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(i),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],r=t.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],r=t.getContext("2d");this.clearCanvas(r),r.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var i=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(i.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var s=assetLoader.getLumaCanvas(this.canvasContext.canvas),n=s.getContext("2d");n.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(s,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var r=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(r),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,t,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,s,e);var n,a=r.length,l;for(n=0;n<a;n+=1)r[n].closed||(l={transforms:i.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(l),r[n].elements.push(l))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},i={};if(e.ty==="fl"||e.ty==="st"?(i.c=PropertyFactory.getProp(this,e.c,1,255,this),i.c.k||(r.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(i.s=PropertyFactory.getProp(this,e.s,1,null,this),i.e=PropertyFactory.getProp(this,e.e,1,null,this),i.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,e.g,this)),i.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],e.lj==1&&(r.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,this),i.w.k||(r.wi=i.w.v),e.d){var s=new DashProperty(this,e.d,"canvas",this);i.d=s,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return t},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,i,s){var n,a=e.length-1,l,o,p=[],m=[],b,c,v,y=[].concat(s);for(n=a;n>=0;n-=1){if(b=this.searchProcessedElement(e[n]),b?t[n]=r[b-1]:e[n]._shouldRender=i,e[n].ty==="fl"||e[n].ty==="st"||e[n].ty==="gf"||e[n].ty==="gs")b?t[n].style.closed=!1:t[n]=this.createStyleElement(e[n],y),p.push(t[n].style);else if(e[n].ty==="gr"){if(!b)t[n]=this.createGroupElement(e[n]);else for(o=t[n].it.length,l=0;l<o;l+=1)t[n].prevViewData[l]=t[n].it[l];this.searchShapes(e[n].it,t[n].it,t[n].prevViewData,i,y)}else e[n].ty==="tr"?(b||(v=this.createTransformElement(e[n]),t[n]=v),y.push(t[n]),this.addTransformToStyleList(t[n])):e[n].ty==="sh"||e[n].ty==="rc"||e[n].ty==="el"||e[n].ty==="sr"?b||(t[n]=this.createShapeElement(e[n])):e[n].ty==="tm"||e[n].ty==="rd"||e[n].ty==="pb"||e[n].ty==="zz"||e[n].ty==="op"?(b?(c=t[n],c.closed=!1):(c=ShapeModifiers.getModifier(e[n].ty),c.init(this,e[n]),t[n]=c,this.shapeModifiers.push(c)),m.push(c)):e[n].ty==="rp"&&(b?(c=t[n],c.closed=!0):(c=ShapeModifiers.getModifier(e[n].ty),t[n]=c,c.init(this,e,n,t),this.shapeModifiers.push(c),i=!1),m.push(c));this.addProcessedElement(e[n],n+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),a=m.length,n=0;n<a;n+=1)m[n].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t=this.stylesList.length,r,i,s,n,a,l,o=this.globalData.renderer,p=this.globalData.canvasContext,m,b;for(e=0;e<t;e+=1)if(b=this.stylesList[e],m=b.type,!((m==="st"||m==="gs")&&b.wi===0||!b.data._shouldRender||b.coOp===0||this.globalData.currentGlobalAlpha===0)){for(o.save(),a=b.elements,m==="st"||m==="gs"?(o.ctxStrokeStyle(m==="st"?b.co:b.grd),o.ctxLineWidth(b.wi),o.ctxLineCap(b.lc),o.ctxLineJoin(b.lj),o.ctxMiterLimit(b.ml||0)):o.ctxFillStyle(m==="fl"?b.co:b.grd),o.ctxOpacity(b.coOp),m!=="st"&&m!=="gs"&&p.beginPath(),o.ctxTransform(b.preTransforms.finalTransform.props),i=a.length,r=0;r<i;r+=1){for((m==="st"||m==="gs")&&(p.beginPath(),b.da&&(p.setLineDash(b.da),p.lineDashOffset=b.do)),l=a[r].trNodes,n=l.length,s=0;s<n;s+=1)l[s].t==="m"?p.moveTo(l[s].p[0],l[s].p[1]):l[s].t==="c"?p.bezierCurveTo(l[s].pts[0],l[s].pts[1],l[s].pts[2],l[s].pts[3],l[s].pts[4],l[s].pts[5]):p.closePath();(m==="st"||m==="gs")&&(o.ctxStroke(),b.da&&p.setLineDash(this.dashResetter))}m!=="st"&&m!=="gs"&&this.globalData.renderer.ctxFill(b.r),o.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,i){var s,n=t.length-1,a;for(a=e,s=n;s>=0;s-=1)t[s].ty==="tr"?(a=r[s].transform,this.renderShapeTransform(e,a)):t[s].ty==="sh"||t[s].ty==="el"||t[s].ty==="rc"||t[s].ty==="sr"?this.renderPath(t[s],r[s]):t[s].ty==="fl"?this.renderFill(t[s],r[s],a):t[s].ty==="st"?this.renderStroke(t[s],r[s],a):t[s].ty==="gf"||t[s].ty==="gs"?this.renderGradientFill(t[s],r[s],a):t[s].ty==="gr"?this.renderShape(a,t[s].it,r[s].it):t[s].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r=e.trNodes,i=t.paths,s,n,a,l=i._length;r.length=0;var o=e.transforms.finalTransform;for(a=0;a<l;a+=1){var p=i.shapes[a];if(p&&p.v){for(n=p._length,s=1;s<n;s+=1)s===1&&r.push({t:"m",p:o.applyToPointArray(p.v[0][0],p.v[0][1],0)}),r.push({t:"c",pts:o.applyToTriplePoints(p.o[s-1],p.i[s],p.v[s])});n===1&&r.push({t:"m",p:o.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&n&&(r.push({t:"c",pts:o.applyToTriplePoints(p.o[s-1],p.i[0],p.v[0])}),r.push({t:"z"}))}}e.trNodes=r}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var r,i=t.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var i=t.style;(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var i=t.style,s;if(!i.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var n=this.globalData.canvasContext,a=t.s.v,l=t.e.v;if(e.t===1)s=n.createLinearGradient(a[0],a[1],l[0],l[1]);else{var o=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),p=Math.atan2(l[1]-a[1],l[0]-a[0]),m=t.h.v;m>=1?m=.99:m<=-1&&(m=-.99);var b=o*m,c=Math.cos(p+t.a.v)*b+a[0],v=Math.sin(p+t.a.v)*b+a[1];s=n.createRadialGradient(c,v,0,a[0],a[1],o)}var y,f=e.g.p,R=t.g.c,u=1;for(y=0;y<f;y+=1)t.g._hasOpacity&&t.g._collapsable&&(u=t.g.o[y*2+1]),s.addColorStop(R[y*4]/100,"rgba("+R[y*4+1]+","+R[y*4+2]+","+R[y*4+3]+","+u+")");i.grd=s}i.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var i=t.style,s=t.d;s&&(s._mdf||this._isFirstFrame)&&(i.da=s.dashArray,i.do=s.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(i.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var i=this.globalData.fontManager.getFontByName(e.f),s,n,a=e.l,l=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var o,p,m,b,c,v,y,f,R,u,d=this.data.singleShape,h=e.tr*.001*e.finalSize,x=0,j=0,S=!0,P=0;for(s=0;s<n;s+=1){o=this.globalData.fontManager.getCharData(e.finalText[s],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),p=o&&o.data||{},l.reset(),d&&a[s].n&&(x=-h,j+=e.yOffset,j+=S?1:0,S=!1),c=p.shapes?p.shapes[0].it:[],y=c.length,l.scale(e.finalSize/100,e.finalSize/100),d&&this.applyTextPropertiesToMatrix(e,l,a[s].line,x,j),R=createSizedArray(y-1);var A=0;for(v=0;v<y;v+=1)if(c[v].ty==="sh"){for(b=c[v].ks.k.i.length,f=c[v].ks.k,u=[],m=1;m<b;m+=1)m===1&&u.push(l.applyToX(f.v[0][0],f.v[0][1],0),l.applyToY(f.v[0][0],f.v[0][1],0)),u.push(l.applyToX(f.o[m-1][0],f.o[m-1][1],0),l.applyToY(f.o[m-1][0],f.o[m-1][1],0),l.applyToX(f.i[m][0],f.i[m][1],0),l.applyToY(f.i[m][0],f.i[m][1],0),l.applyToX(f.v[m][0],f.v[m][1],0),l.applyToY(f.v[m][0],f.v[m][1],0));u.push(l.applyToX(f.o[m-1][0],f.o[m-1][1],0),l.applyToY(f.o[m-1][0],f.o[m-1][1],0),l.applyToX(f.i[0][0],f.i[0][1],0),l.applyToY(f.i[0][0],f.i[0][1],0),l.applyToX(f.v[0][0],f.v[0][1],0),l.applyToY(f.v[0][0],f.v[0][1],0)),R[A]=u,A+=1}d&&(x+=a[s].l,x+=h),this.textSpans[P]?this.textSpans[P].elem=R:this.textSpans[P]={elem:R},P+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,r,i,s,n,a,l=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;r=o.length;var p,m=null,b=null,c=null,v,y,f=this.globalData.renderer;for(t=0;t<r;t+=1)if(!o[t].n){if(p=l[t],p&&(f.save(),f.ctxTransform(p.p),f.ctxOpacity(p.o)),this.fill){for(p&&p.fc?m!==p.fc&&(f.ctxFillStyle(p.fc),m=p.fc):m!==this.values.fill&&(m=this.values.fill,f.ctxFillStyle(this.values.fill)),v=this.textSpans[t].elem,s=v.length,this.globalData.canvasContext.beginPath(),i=0;i<s;i+=1)for(y=v[i],a=y.length,this.globalData.canvasContext.moveTo(y[0],y[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(y[n],y[n+1],y[n+2],y[n+3],y[n+4],y[n+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(p&&p.sw?c!==p.sw&&(c=p.sw,f.ctxLineWidth(p.sw)):c!==this.values.sWidth&&(c=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),p&&p.sc?b!==p.sc&&(b=p.sc,f.ctxStrokeStyle(p.sc)):b!==this.values.stroke&&(b=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),v=this.textSpans[t].elem,s=v.length,this.globalData.canvasContext.beginPath(),i=0;i<s;i+=1)for(y=v[i],a=y.length,this.globalData.canvasContext.moveTo(y[0],y[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(y[n],y[n+1],y[n+2],y[n+3],y[n+4],y[n+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}p&&this.globalData.renderer.restore()}};function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t=e.getContext("2d"),r=this.img.width,i=this.img.height,s=r/i,n=this.assetData.w/this.assetData.h,a,l,o=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>n&&o==="xMidYMid slice"||s<n&&o!=="xMidYMid slice"?(l=i,a=l*n):(a=r,l=a/n),t.drawImage(this.img,(r-a)/2,(i-l)/2,a,l,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,i){this.canvasContext.fillRect(e,t,r,i)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){this.reset();var r,i;e?(r=e,i=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr);var s,n;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var a=this.renderConfig.preserveAspectRatio.split(" "),l=a[1]||"meet",o=a[0]||"xMidYMid",p=o.substr(0,4),m=o.substr(4);s=r/i,n=this.transformCanvas.w/this.transformCanvas.h,n>s&&l==="meet"||n<s&&l==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),p==="xMid"&&(n<s&&l==="meet"||n>s&&l==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(n<s&&l==="meet"||n>s&&l==="slice")?this.transformCanvas.tx=(r-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,m==="YMid"&&(n>s&&l==="meet"||n<s&&l==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:m==="YMax"&&(n>s&&l==="meet"||n<s&&l==="slice")?this.transformCanvas.ty=(i-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,t=this.layers?this.layers.length:0;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,t=15;for(e=0;e<t;e+=1){var r=new CanvasContext;this.stack[e]=r}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t=this.stack[this.cArrPos],r=t.transform,i,s=this.cTr.props;for(i=0;i<16;i+=1)s[i]=r[i];if(e){this.nativeContext.restore();var n=this.stack[this.cArrPos+1];this.appliedFillStyle=n.fillStyle,this.appliedStrokeStyle=n.strokeStyle,this.appliedLineWidth=n.lineWidth,this.appliedLineCap=n.lineCap,this.appliedLineJoin=n.lineJoin,this.appliedMiterLimit=n.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(e||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r=this.stack[this.cArrPos],i;for(i=0;i<16;i+=1)r.transform[i]=t[i];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=r.opacity,s.fillStyle=r.fillStyle,s.strokeStyle=r.strokeStyle,s.lineWidth=r.lineWidth,s.lineCap=r.lineCap,s.lineJoin=r.lineJoin,s.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,i)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var t,r=this.layers.length;for(t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var e,t=this.layers.length;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();t.transform=r,t.webkitTransform=r}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,t,r){this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r=e.sh.v,i=e.transformers,s,n=r._length,a,l,o,p;if(!(n<=1)){for(s=0;s<n-1;s+=1)a=this.getTransformedPoint(i,r.v[s]),l=this.getTransformedPoint(i,r.o[s]),o=this.getTransformedPoint(i,r.i[s+1]),p=this.getTransformedPoint(i,r.v[s+1]),this.checkBounds(a,l,o,p,t);r.c&&(a=this.getTransformedPoint(i,r.v[s]),l=this.getTransformedPoint(i,r.o[s]),o=this.getTransformedPoint(i,r.i[0]),p=this.getTransformedPoint(i,r.v[0]),this.checkBounds(a,l,o,p,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,i,s){this.getBoundsOfCurve(e,t,r,i);var n=this.shapeBoundingBox;s.x=bmMin(n.left,s.x),s.xMax=bmMax(n.right,s.xMax),s.y=bmMin(n.top,s.y),s.yMax=bmMax(n.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,i){for(var s=[[e[0],i[0]],[e[1],i[1]]],n,a,l,o,p,m,b,c=0;c<2;++c)a=6*e[c]-12*t[c]+6*r[c],n=-3*e[c]+9*t[c]-9*r[c]+3*i[c],l=3*t[c]-3*e[c],a|=0,n|=0,l|=0,n===0&&a===0||(n===0?(o=-l/a,o>0&&o<1&&s[c].push(this.calculateF(o,e,t,r,i,c))):(p=a*a-4*l*n,p>=0&&(m=(-a+bmSqrt(p))/(2*n),m>0&&m<1&&s[c].push(this.calculateF(m,e,t,r,i,c)),b=(-a-bmSqrt(p))/(2*n),b>0&&b<1&&s[c].push(this.calculateF(b,e,t,r,i,c)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(e,t,r,i,s,n){return bmPow(1-e,3)*t[n]+3*bmPow(1-e,2)*e*r[n]+3*(1-e)*bmPow(e,2)*i[n]+bmPow(e,3)*s[n]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var i=0;i<e.keyframes.length;i+=1){var s=e.keyframes[i].s;s>r&&(r=s)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=s,i.webkitTransform=s}}};function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var s=e.fWeight,n=e.fStyle;t.fontStyle=n,t.fontWeight=s}var a,l,o=e.l;l=o.length;var p,m,b,c=this.mHelper,v,y="",f=0;for(a=0;a<l;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?p=this.textPaths[f]:(p=createNS("path"),p.setAttribute("stroke-linecap",lineCapEnum[1]),p.setAttribute("stroke-linejoin",lineJoinEnum[2]),p.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?(m=this.textSpans[f],b=m.children[0]):(m=createTag("div"),m.style.lineHeight=0,b=createNS("svg"),b.appendChild(p),styleDiv(m)))):this.isMasked?p=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(m=this.textSpans[f],p=this.textPaths[f]):(m=createTag("span"),styleDiv(m),p=createTag("span"),styleDiv(p),m.appendChild(p)),this.globalData.fontManager.chars){var R=this.globalData.fontManager.getCharData(e.finalText[a],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),u;if(R?u=R.data:u=null,c.reset(),u&&u.shapes&&u.shapes.length&&(v=u.shapes[0].it,c.scale(e.finalSize/100,e.finalSize/100),y=this.createPathShape(c,v),p.setAttribute("d",y)),this.isMasked)this.innerElem.appendChild(p);else{if(this.innerElem.appendChild(m),u&&u.shapes){document.body.appendChild(b);var d=b.getBBox();b.setAttribute("width",d.width+2),b.setAttribute("height",d.height+2),b.setAttribute("viewBox",d.x-1+" "+(d.y-1)+" "+(d.width+2)+" "+(d.height+2));var h=b.style,x="translate("+(d.x-1)+"px,"+(d.y-1)+"px)";h.transform=x,h.webkitTransform=x,o[a].yOffset=d.y-1}else b.setAttribute("width",1),b.setAttribute("height",1);m.appendChild(b)}}else if(p.textContent=o[a].val,p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(p);else{this.innerElem.appendChild(m);var j=p.style,S="translate3d(0,"+-e.finalSize/1.2+"px,0)";j.transform=S,j.webkitTransform=S}this.isMasked?this.textSpans[f]=p:this.textSpans[f]=m,this.textSpans[f].style.display="block",this.textPaths[f]=p,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,i,s=0,n=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;i=a.length;var l,o,p;for(r=0;r<i;r+=1)a[r].n?s+=1:(o=this.textSpans[r],p=this.textPaths[r],l=n[s],s+=1,l._mdf.m&&(this.isMasked?o.setAttribute("transform",l.m):(o.style.webkitTransform=l.m,o.style.transform=l.m)),o.style.opacity=l.o,l.sw&&l._mdf.sw&&p.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&p.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(p.setAttribute("fill",l.fc),p.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var m=this.innerElem.getBBox();this.currentBBox.w!==m.width&&(this.currentBBox.w=m.width,this.svgElement.setAttribute("width",m.width)),this.currentBBox.h!==m.height&&(this.currentBBox.h=m.height,this.svgElement.setAttribute("height",m.height));var b=1;if(this.currentBBox.w!==m.width+b*2||this.currentBBox.h!==m.height+b*2||this.currentBBox.x!==m.x-b||this.currentBBox.y!==m.y-b){this.currentBBox.w=m.width+b*2,this.currentBBox.h=m.height+b*2,this.currentBBox.x=m.x-b,this.currentBBox.y=m.y-b,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var c="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=c,e.webkitTransform=c}}}};function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,e.pe,0,0,this),e.ks.p.s?(this.px=i(this,e.ks.p.x,1,0,this),this.py=i(this,e.ks.p.y,1,0,this),this.pz=i(this,e.ks.p.z,1,0,this)):this.p=i(this,e.ks.p,1,0,this),e.ks.a&&(this.a=i(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var s,n=e.ks.or.k.length;for(s=0;s<n;s+=1)e.ks.or.k[s].to=null,e.ks.or.k[s].ti=null}this.or=i(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,e.ks.rx,0,degToRads,this),this.ry=i(this,e.ks.ry,0,degToRads,this),this.rz=i(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t=this.comp.threeDElements.length,r,i,s;for(e=0;e<t;e+=1)if(r=this.comp.threeDElements[e],r.type==="3d"){i=r.perspectiveElem.style,s=r.container.style;var n=this.pe.v+"px",a="0px 0px 0px",l="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=n,i.webkitPerspective=n,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,i.transform=l,i.webkitTransform=l}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,t,r;if(this.hierarchy)for(r=this.hierarchy.length,t=0;t<r;t+=1)e=this.hierarchy[t].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,t=r;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var n=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/n,s[1]/n,s[2]/n],l=Math.sqrt(a[2]*a[2]+a[0]*a[0]),o=Math.atan2(a[1],l),p=Math.atan2(a[0],-a[2]);this.mat.rotateY(p).rotateX(-o)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var m=!this._prevMat.equals(this.mat);if((m||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var b,c,v;for(t=0;t<r;t+=1)if(b=this.comp.threeDElements[t],b.type==="3d"){if(m){var y=this.mat.toCSS();v=b.container.style,v.transform=y,v.webkitTransform=y}this.pe._mdf&&(c=b.perspectiveElem.style,c.perspective=this.pe.v+"px",c.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var i=this.layers[t];if(!i.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var s=0,n,a,l;s<t;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(a=this.elements[s],l=this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement(),n=l||n),s+=1;n?(!i.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,n):(!i.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,t)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r=createTag("div"),i,s;styleDiv(r);var n=createTag("div");if(styleDiv(n),t==="3d"){i=r.style,i.width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";var a="50% 50%";i.webkitTransformOrigin=a,i.mozTransformOrigin=a,i.transformOrigin=a,s=n.style;var l="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=l,s.webkitTransform=l}r.appendChild(n);var o={container:n,perspectiveElem:r,startPos:e,endPos:e,type:t};return this.threeDElements.push(o),o},HybridRendererBase.prototype.build3dContainers=function(){var e,t=this.layers.length,r,i="";for(e=0;e<t;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(i!=="3d"&&(i="3d",r=this.createThreeDContainer(e,"3d")),r.endPos=Math.max(r.endPos,e)):(i!=="2d"&&(i="2d",r=this.createThreeDContainer(e,"2d")),r.endPos=Math.max(r.endPos,e));for(t=this.threeDElements.length,e=t-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,i=this.threeDElements.length;r<i;){if(t<=this.threeDElements[r].endPos){for(var s=this.threeDElements[r].startPos,n;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(e,n):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,i=t.style;i.width=e.w+"px",i.height=e.h+"px",this.resizerElem=t,styleDiv(t),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),i.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var n=createNS("defs");s.appendChild(n),this.data=e,this.setupGlobalData(e,s),this.globalData.defs=n,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,r=e/t,i=this.globalData.compSize.w/this.globalData.compSize.h,s,n,a,l;i>r?(s=e/this.globalData.compSize.w,n=e/this.globalData.compSize.w,a=0,l=(t-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(s=t/this.globalData.compSize.h,n=t/this.globalData.compSize.h,a=(e-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,l=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+s+",0,0,0,0,"+n+",0,0,0,0,1,0,"+a+","+l+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,t=this.globalData.compSize.h,r,i=this.threeDElements.length;for(r=0;r<i;r+=1){var s=this.threeDElements[r].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,i=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var s=this.createComp(e[t],i,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r=0,i;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(e,i):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function t(r){for(var i=0,s=e.layers.length;i<s;){if(e.layers[i].nm===r||e.layers[i].ind===r)return e.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}}();function _typeof$2(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(r){return typeof r}:_typeof$2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$2(e)}function seedRandom(e,t){var r=this,i=256,s=6,n=52,a="random",l=t.pow(i,s),o=t.pow(2,n),p=o*2,m=i-1,b;function c(h,x,j){var S=[];x=x===!0?{entropy:!0}:x||{};var P=R(f(x.entropy?[h,d(e)]:h===null?u():h,3),S),A=new v(S),I=function(){for(var F=A.g(s),k=l,L=0;F<o;)F=(F+L)*i,k*=i,L=A.g(1);for(;F>=p;)F/=2,k/=2,L>>>=1;return(F+L)/k};return I.int32=function(){return A.g(4)|0},I.quick=function(){return A.g(4)/4294967296},I.double=I,R(d(A.S),e),(x.pass||j||function(V,F,k,L){return L&&(L.S&&y(L,A),V.state=function(){return y(A,{})}),k?(t[a]=V,F):V})(I,P,"global"in x?x.global:this==t,x.state)}t["seed"+a]=c;function v(h){var x,j=h.length,S=this,P=0,A=S.i=S.j=0,I=S.S=[];for(j||(h=[j++]);P<i;)I[P]=P++;for(P=0;P<i;P++)I[P]=I[A=m&A+h[P%j]+(x=I[P])],I[A]=x;S.g=function(V){for(var F,k=0,L=S.i,D=S.j,M=S.S;V--;)F=M[L=m&L+1],k=k*i+M[m&(M[L]=M[D=m&D+F])+(M[D]=F)];return S.i=L,S.j=D,k}}function y(h,x){return x.i=h.i,x.j=h.j,x.S=h.S.slice(),x}function f(h,x){var j=[],S=_typeof$2(h),P;if(x&&S=="object")for(P in h)try{j.push(f(h[P],x-1))}catch{}return j.length?j:S=="string"?h:h+"\0"}function R(h,x){for(var j=h+"",S,P=0;P<j.length;)x[m&P]=m&(S^=x[m&P]*19)+j.charCodeAt(P++);return d(x)}function u(){try{var h=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(h),d(h)}catch{var x=r.navigator,j=x&&x.plugins;return[+new Date,r,j,r.screen,d(e)]}}function d(h){return String.fromCharCode.apply(0,h)}R(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(r){return typeof r}:_typeof$1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return e==="number"||t instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var t=_typeof$1(e);if(t==="number"||e instanceof Number||t==="boolean")return-e;if($bm_isInstanceOfArray(e)){var r,i=e.length,s=[];for(r=0;r<i;r+=1)s[r]=-e[r];return s}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t)||r==="string"||i==="string")return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return e=e.slice(0),e[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,n=e.length,a=t.length,l=[];s<n||s<a;)(typeof e[s]=="number"||e[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?l[s]=e[s]+t[s]:l[s]=t[s]===void 0?e[s]:e[s]||t[s],s+=1;return l}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t))return r==="string"&&(e=parseInt(e,10)),i==="string"&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return e=e.slice(0),e[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,n=e.length,a=t.length,l=[];s<n||s<a;)(typeof e[s]=="number"||e[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?l[s]=e[s]-t[s]:l[s]=t[s]===void 0?e[s]:e[s]||t[s],s+=1;return l}return 0}function mul(e,t){var r=_typeof$1(e),i=_typeof$1(t),s;if(isNumerable(r,e)&&isNumerable(i,t))return e*t;var n,a;if($bm_isInstanceOfArray(e)&&isNumerable(i,t)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e[n]*t;return s}if(isNumerable(r,e)&&$bm_isInstanceOfArray(t)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e*t[n];return s}return 0}function div(e,t){var r=_typeof$1(e),i=_typeof$1(t),s;if(isNumerable(r,e)&&isNumerable(i,t))return e/t;var n,a;if($bm_isInstanceOfArray(e)&&isNumerable(i,t)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e[n]/t;return s}if(isNumerable(r,e)&&$bm_isInstanceOfArray(t)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e/t[n];return s}return 0}function mod(e,t){return typeof e=="string"&&(e=parseInt(e,10)),typeof t=="string"&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var i=r;r=t,t=i}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(typeof e=="number"||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var r,i=Math.min(e.length,t.length),s=0;for(r=0;r<i;r+=1)s+=Math.pow(t[r]-e[r],2);return Math.sqrt(s)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t=e[0],r=e[1],i=e[2],s=Math.max(t,r,i),n=Math.min(t,r,i),a,l,o=(s+n)/2;if(s===n)a=0,l=0;else{var p=s-n;switch(l=o>.5?p/(2-s-n):p/(s+n),s){case t:a=(r-i)/p+(r<i?6:0);break;case r:a=(i-t)/p+2;break;case i:a=(t-r)/p+4;break}a/=6}return[a,l,o,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t=e[0],r=e[1],i=e[2],s,n,a;if(r===0)s=i,a=i,n=i;else{var l=i<.5?i*(1+r):i+r-i*r,o=2*i-l;s=hue2rgb(o,l,t+1/3),n=hue2rgb(o,l,t),a=hue2rgb(o,l,t-1/3)}return[s,n,a,e[3]]}function linear(e,t,r,i,s){if((i===void 0||s===void 0)&&(i=t,s=r,t=0,r=1),r<t){var n=r;r=t,t=n}if(e<=t)return i;if(e>=r)return s;var a=r===t?0:(e-t)/(r-t);if(!i.length)return i+(s-i)*a;var l,o=i.length,p=createTypedArray("float32",o);for(l=0;l<o;l+=1)p[l]=i[l]+(s[l]-i[l])*a;return p}function random(e,t){if(t===void 0&&(e===void 0?(e=0,t=1):(t=e,e=void 0)),t.length){var r,i=t.length;e||(e=createTypedArray("float32",i));var s=createTypedArray("float32",i),n=BMMath.random();for(r=0;r<i;r+=1)s[r]=e[r]+n*(t[r]-e[r]);return s}e===void 0&&(e=0);var a=BMMath.random();return e+a*(t-e)}function createPath(e,t,r,i){var s,n=e.length,a=shapePool.newElement();a.setPathData(!!i,n);var l=[0,0],o,p;for(s=0;s<n;s+=1)o=t&&t[s]?t[s]:l,p=r&&r[s]?r[s]:l,a.setTripleAt(e[s][0],e[s][1],p[0]+e[s][0],p[1]+e[s][1],o[0]+e[s][0],o[1]+e[s][1],s,!0);return a}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function e(t,r){var i,s,n=this.pv.length?this.pv.length:1,a=createTypedArray("float32",n);t=5;var l=Math.floor(time*t);for(i=0,s=0;i<l;){for(s=0;s<n;s+=1)a[s]+=-r+r*2*BMMath.random();i+=1}var o=time*t,p=o-Math.floor(o),m=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)m[s]=this.pv[s]+a[s]+(-r+r*2*BMMath.random())*p;return m}return this.pv+a[0]+(-r+r*2*BMMath.random())*p}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,s=-Math.atan2(r[1],r[2])/degToRads;return[s,i,0]}function easeOut(e,t,r,i,s){return applyEase(easeOutBez,e,t,r,i,s)}function easeIn(e,t,r,i,s){return applyEase(easeInBez,e,t,r,i,s)}function ease(e,t,r,i,s){return applyEase(easeInOutBez,e,t,r,i,s)}function applyEase(e,t,r,i,s,n){s===void 0?(s=r,n=i):t=(t-r)/(i-r),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(s)){var l,o=s.length,p=createTypedArray("float32",o);for(l=0;l<o;l+=1)p[l]=(n[l]-s[l])*a+s[l];return p}return(n-s)*a+s}function nearestKey(e){var t,r=data.k.length,i,s;if(!data.k.length||typeof data.k[0]=="number")i=0,s=0;else if(i=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)i=1,s=data.k[0].t;else{for(t=0;t<r-1;t+=1)if(e===data.k[t].t){i=t+1,s=data.k[t].t;break}else if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(i=t+2,s=data.k[t+1].t):(i=t+1,s=data.k[t].t);break}i===-1&&(i=t+1,s=data.k[t].t)}var n={};return n.index=i,n.time=s/elem.comp.globalData.frameRate,n}function key(e){var t,r,i;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(i=s.length,r=0;r<i;r+=1)t[r]=s[r],t.value[r]=s[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return!e&&e!==0&&(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return typeof value=="string"?t===void 0?value.substring(e):value.substring(e,t):""}function substr(e,t){return typeof value=="string"?t===void 0?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=t,e.resetFrame=ExpressionManager.resetFrame;function t(r){var i=0,s=[];function n(){i+=1}function a(){i-=1,i===0&&o()}function l(p){s.indexOf(p)===-1&&s.push(p)}function o(){var p,m=s.length;for(p=0;p<m;p+=1)s[p].release();s.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=n,r.renderer.globalData.popExpression=a,r.renderer.globalData.registerExpressionProperty=l}return e}(),MaskManagerInterface=function(){function e(r,i){this._mask=r,this._data=i}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(i){var s=createSizedArray(i.viewData.length),n,a=i.viewData.length;for(n=0;n<a;n+=1)s[n]=new e(i.viewData[n],i.masksProperties[n]);var l=function(p){for(n=0;n<a;){if(i.masksProperties[n].nm===p)return s[n];n+=1}return null};return l};return t}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(a,l,o){Object.defineProperty(a,"velocity",{get:function(){return l.getVelocityAtTime(l.comp.currentFrame)}}),a.numKeys=l.keyframes?l.keyframes.length:0,a.key=function(p){if(!a.numKeys)return 0;var m="";"s"in l.keyframes[p-1]?m=l.keyframes[p-1].s:"e"in l.keyframes[p-2]?m=l.keyframes[p-2].e:m=l.keyframes[p-2].s;var b=o==="unidimensional"?new Number(m):Object.assign({},m);return b.time=l.keyframes[p-1].t/l.elem.comp.globalData.frameRate,b.value=o==="unidimensional"?m[0]:m,b},a.valueAtTime=l.getValueAtTime,a.speedAtTime=l.getSpeedAtTime,a.velocityAtTime=l.getVelocityAtTime,a.propertyGroup=l.propertyGroup}function i(a){(!a||!("pv"in a))&&(a=e);var l=1/a.mult,o=a.pv*l,p=new Number(o);return p.value=o,r(p,a,"unidimensional"),function(){return a.k&&a.getValue(),o=a.v*l,p.value!==o&&(p=new Number(o),p.value=o,r(p,a,"unidimensional")),p}}function s(a){(!a||!("pv"in a))&&(a=t);var l=1/a.mult,o=a.data&&a.data.l||a.pv.length,p=createTypedArray("float32",o),m=createTypedArray("float32",o);return p.value=m,r(p,a,"multidimensional"),function(){a.k&&a.getValue();for(var b=0;b<o;b+=1)m[b]=a.v[b]*l,p[b]=m[b];return p}}function n(){return e}return function(a){return a?a.propType==="unidimensional"?i(a):s(a):n}}(),TransformExpressionInterface=function(){return function(e){function t(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)});var r,i,s,n;return e.p?n=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),i=ExpressionPropertyInterface(e.py),e.pz&&(s=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?n():[r(),i(),s?s():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}}(),LayerExpressionInterface=function(){function e(p){var m=new Matrix;if(p!==void 0){var b=this._elem.finalTransform.mProp.getValueAtTime(p);b.clone(m)}else{var c=this._elem.finalTransform.mProp;c.applyToMatrix(m)}return m}function t(p,m){var b=this.getMatrix(m);return b.props[12]=0,b.props[13]=0,b.props[14]=0,this.applyPoint(b,p)}function r(p,m){var b=this.getMatrix(m);return this.applyPoint(b,p)}function i(p,m){var b=this.getMatrix(m);return b.props[12]=0,b.props[13]=0,b.props[14]=0,this.invertPoint(b,p)}function s(p,m){var b=this.getMatrix(m);return this.invertPoint(b,p)}function n(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var b,c=this._elem.hierarchy.length;for(b=0;b<c;b+=1)this._elem.hierarchy[b].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(m[0],m[1],m[2]||0)}function a(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var b,c=this._elem.hierarchy.length;for(b=0;b<c;b+=1)this._elem.hierarchy[b].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(m)}function l(p){var m=new Matrix;if(m.reset(),this._elem.finalTransform.mProp.applyToMatrix(m),this._elem.hierarchy&&this._elem.hierarchy.length){var b,c=this._elem.hierarchy.length;for(b=0;b<c;b+=1)this._elem.hierarchy[b].finalTransform.mProp.applyToMatrix(m);return m.inversePoint(p)}return m.inversePoint(p)}function o(){return[1,1,1,1]}return function(p){var m;function b(f){v.mask=new MaskManagerInterface(f,p)}function c(f){v.effect=f}function v(f){switch(f){case"ADBE Root Vectors Group":case"Contents":case 2:return v.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return m;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return v.effect;case"ADBE Text Properties":return v.textInterface;default:return null}}v.getMatrix=e,v.invertPoint=a,v.applyPoint=n,v.toWorld=r,v.toWorldVec=t,v.fromWorld=s,v.fromWorldVec=i,v.toComp=r,v.fromComp=l,v.sampleImage=o,v.sourceRectAtTime=p.sourceRectAtTime.bind(p),v._elem=p,m=TransformExpressionInterface(p.finalTransform.mProp);var y=getDescriptor(m,"anchorPoint");return Object.defineProperties(v,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(m,"rotation"),scale:getDescriptor(m,"scale"),position:getDescriptor(m,"position"),opacity:getDescriptor(m,"opacity"),anchorPoint:y,anchor_point:y,transform:{get:function(){return m}},active:{get:function(){return p.isInRange}}}),v.startTime=p.data.st,v.index=p.data.ind,v.source=p.data.refId,v.height=p.data.ty===0?p.data.h:100,v.width=p.data.ty===0?p.data.w:100,v.inPoint=p.data.ip/p.comp.globalData.frameRate,v.outPoint=p.data.op/p.comp.globalData.frameRate,v._name=p.data.nm,v.registerMaskInterface=b,v.registerEffectsInterface=c,v}}(),propertyGroupFactory=function(){return function(e,t){return function(r){return r=r===void 0?1:r,r<=0?e:t(r-1)}}}(),PropertyInterface=function(){return function(e,t){var r={_name:e};function i(s){return s=s===void 0?1:s,s<=0?r:t(s-1)}return i}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:t};function t(s,n){if(s.effectsManager){var a=[],l=s.data.ef,o,p=s.effectsManager.effectElements.length;for(o=0;o<p;o+=1)a.push(r(l[o],s.effectsManager.effectElements[o],n,s));var m=s.data.ef||[],b=function(v){for(o=0,p=m.length;o<p;){if(v===m[o].nm||v===m[o].mn||v===m[o].ix)return a[o];o+=1}return null};return Object.defineProperty(b,"numProperties",{get:function(){return m.length}}),b}return null}function r(s,n,a,l){function o(v){for(var y=s.ef,f=0,R=y.length;f<R;){if(v===y[f].nm||v===y[f].mn||v===y[f].ix)return y[f].ty===5?m[f]:m[f]();f+=1}throw new Error}var p=propertyGroupFactory(o,a),m=[],b,c=s.ef.length;for(b=0;b<c;b+=1)s.ef[b].ty===5?m.push(r(s.ef[b],n.effectElements[b],n.effectElements[b].propertyGroup,l)):m.push(i(n.effectElements[b],s.ef[b].ty,l,p));return s.mn==="ADBE Color Control"&&Object.defineProperty(o,"color",{get:function(){return m[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:p}}),o.enabled=s.en!==0,o.active=o.enabled,o}function i(s,n,a,l){var o=ExpressionPropertyInterface(s.p);function p(){return n===10?a.comp.compInterface(s.p.v):o()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",l)),p}return e}(),ShapePathInterface=function(){return function(t,r,i){var s=r.sh;function n(l){return l==="Shape"||l==="shape"||l==="Path"||l==="path"||l==="ADBE Vector Shape"||l===2?n.path:null}var a=propertyGroupFactory(n,i);return s.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),n}}(),ShapeExpressionInterface=function(){function e(y,f,R){var u=[],d,h=y?y.length:0;for(d=0;d<h;d+=1)y[d].ty==="gr"?u.push(r(y[d],f[d],R)):y[d].ty==="fl"?u.push(i(y[d],f[d],R)):y[d].ty==="st"?u.push(a(y[d],f[d],R)):y[d].ty==="tm"?u.push(l(y[d],f[d],R)):y[d].ty==="tr"||(y[d].ty==="el"?u.push(p(y[d],f[d],R)):y[d].ty==="sr"?u.push(m(y[d],f[d],R)):y[d].ty==="sh"?u.push(ShapePathInterface(y[d],f[d],R)):y[d].ty==="rc"?u.push(b(y[d],f[d],R)):y[d].ty==="rd"?u.push(c(y[d],f[d],R)):y[d].ty==="rp"?u.push(v(y[d],f[d],R)):y[d].ty==="gf"?u.push(s(y[d],f[d],R)):u.push(n(y[d],f[d])));return u}function t(y,f,R){var u,d=function(j){for(var S=0,P=u.length;S<P;){if(u[S]._name===j||u[S].mn===j||u[S].propertyIndex===j||u[S].ix===j||u[S].ind===j)return u[S];S+=1}return typeof j=="number"?u[j-1]:null};d.propertyGroup=propertyGroupFactory(d,R),u=e(y.it,f.it,d.propertyGroup),d.numProperties=u.length;var h=o(y.it[y.it.length-1],f.it[f.it.length-1],d.propertyGroup);return d.transform=h,d.propertyIndex=y.cix,d._name=y.nm,d}function r(y,f,R){var u=function(j){switch(j){case"ADBE Vectors Group":case"Contents":case 2:return u.content;default:return u.transform}};u.propertyGroup=propertyGroupFactory(u,R);var d=t(y,f,u.propertyGroup),h=o(y.it[y.it.length-1],f.it[f.it.length-1],u.propertyGroup);return u.content=d,u.transform=h,Object.defineProperty(u,"_name",{get:function(){return y.nm}}),u.numProperties=y.np,u.propertyIndex=y.ix,u.nm=y.nm,u.mn=y.mn,u}function i(y,f,R){function u(d){return d==="Color"||d==="color"?u.color:d==="Opacity"||d==="opacity"?u.opacity:null}return Object.defineProperties(u,{color:{get:ExpressionPropertyInterface(f.c)},opacity:{get:ExpressionPropertyInterface(f.o)},_name:{value:y.nm},mn:{value:y.mn}}),f.c.setGroupProperty(PropertyInterface("Color",R)),f.o.setGroupProperty(PropertyInterface("Opacity",R)),u}function s(y,f,R){function u(d){return d==="Start Point"||d==="start point"?u.startPoint:d==="End Point"||d==="end point"?u.endPoint:d==="Opacity"||d==="opacity"?u.opacity:null}return Object.defineProperties(u,{startPoint:{get:ExpressionPropertyInterface(f.s)},endPoint:{get:ExpressionPropertyInterface(f.e)},opacity:{get:ExpressionPropertyInterface(f.o)},type:{get:function(){return"a"}},_name:{value:y.nm},mn:{value:y.mn}}),f.s.setGroupProperty(PropertyInterface("Start Point",R)),f.e.setGroupProperty(PropertyInterface("End Point",R)),f.o.setGroupProperty(PropertyInterface("Opacity",R)),u}function n(){function y(){return null}return y}function a(y,f,R){var u=propertyGroupFactory(P,R),d=propertyGroupFactory(S,u);function h(A){Object.defineProperty(S,y.d[A].nm,{get:ExpressionPropertyInterface(f.d.dataProps[A].p)})}var x,j=y.d?y.d.length:0,S={};for(x=0;x<j;x+=1)h(x),f.d.dataProps[x].p.setGroupProperty(d);function P(A){return A==="Color"||A==="color"?P.color:A==="Opacity"||A==="opacity"?P.opacity:A==="Stroke Width"||A==="stroke width"?P.strokeWidth:null}return Object.defineProperties(P,{color:{get:ExpressionPropertyInterface(f.c)},opacity:{get:ExpressionPropertyInterface(f.o)},strokeWidth:{get:ExpressionPropertyInterface(f.w)},dash:{get:function(){return S}},_name:{value:y.nm},mn:{value:y.mn}}),f.c.setGroupProperty(PropertyInterface("Color",u)),f.o.setGroupProperty(PropertyInterface("Opacity",u)),f.w.setGroupProperty(PropertyInterface("Stroke Width",u)),P}function l(y,f,R){function u(h){return h===y.e.ix||h==="End"||h==="end"?u.end:h===y.s.ix?u.start:h===y.o.ix?u.offset:null}var d=propertyGroupFactory(u,R);return u.propertyIndex=y.ix,f.s.setGroupProperty(PropertyInterface("Start",d)),f.e.setGroupProperty(PropertyInterface("End",d)),f.o.setGroupProperty(PropertyInterface("Offset",d)),u.propertyIndex=y.ix,u.propertyGroup=R,Object.defineProperties(u,{start:{get:ExpressionPropertyInterface(f.s)},end:{get:ExpressionPropertyInterface(f.e)},offset:{get:ExpressionPropertyInterface(f.o)},_name:{value:y.nm}}),u.mn=y.mn,u}function o(y,f,R){function u(h){return y.a.ix===h||h==="Anchor Point"?u.anchorPoint:y.o.ix===h||h==="Opacity"?u.opacity:y.p.ix===h||h==="Position"?u.position:y.r.ix===h||h==="Rotation"||h==="ADBE Vector Rotation"?u.rotation:y.s.ix===h||h==="Scale"?u.scale:y.sk&&y.sk.ix===h||h==="Skew"?u.skew:y.sa&&y.sa.ix===h||h==="Skew Axis"?u.skewAxis:null}var d=propertyGroupFactory(u,R);return f.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",d)),f.transform.mProps.p.setGroupProperty(PropertyInterface("Position",d)),f.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",d)),f.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",d)),f.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",d)),f.transform.mProps.sk&&(f.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",d)),f.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",d))),f.transform.op.setGroupProperty(PropertyInterface("Opacity",d)),Object.defineProperties(u,{opacity:{get:ExpressionPropertyInterface(f.transform.mProps.o)},position:{get:ExpressionPropertyInterface(f.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(f.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(f.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(f.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(f.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(f.transform.mProps.sa)},_name:{value:y.nm}}),u.ty="tr",u.mn=y.mn,u.propertyGroup=R,u}function p(y,f,R){function u(x){return y.p.ix===x?u.position:y.s.ix===x?u.size:null}var d=propertyGroupFactory(u,R);u.propertyIndex=y.ix;var h=f.sh.ty==="tm"?f.sh.prop:f.sh;return h.s.setGroupProperty(PropertyInterface("Size",d)),h.p.setGroupProperty(PropertyInterface("Position",d)),Object.defineProperties(u,{size:{get:ExpressionPropertyInterface(h.s)},position:{get:ExpressionPropertyInterface(h.p)},_name:{value:y.nm}}),u.mn=y.mn,u}function m(y,f,R){function u(x){return y.p.ix===x?u.position:y.r.ix===x?u.rotation:y.pt.ix===x?u.points:y.or.ix===x||x==="ADBE Vector Star Outer Radius"?u.outerRadius:y.os.ix===x?u.outerRoundness:y.ir&&(y.ir.ix===x||x==="ADBE Vector Star Inner Radius")?u.innerRadius:y.is&&y.is.ix===x?u.innerRoundness:null}var d=propertyGroupFactory(u,R),h=f.sh.ty==="tm"?f.sh.prop:f.sh;return u.propertyIndex=y.ix,h.or.setGroupProperty(PropertyInterface("Outer Radius",d)),h.os.setGroupProperty(PropertyInterface("Outer Roundness",d)),h.pt.setGroupProperty(PropertyInterface("Points",d)),h.p.setGroupProperty(PropertyInterface("Position",d)),h.r.setGroupProperty(PropertyInterface("Rotation",d)),y.ir&&(h.ir.setGroupProperty(PropertyInterface("Inner Radius",d)),h.is.setGroupProperty(PropertyInterface("Inner Roundness",d))),Object.defineProperties(u,{position:{get:ExpressionPropertyInterface(h.p)},rotation:{get:ExpressionPropertyInterface(h.r)},points:{get:ExpressionPropertyInterface(h.pt)},outerRadius:{get:ExpressionPropertyInterface(h.or)},outerRoundness:{get:ExpressionPropertyInterface(h.os)},innerRadius:{get:ExpressionPropertyInterface(h.ir)},innerRoundness:{get:ExpressionPropertyInterface(h.is)},_name:{value:y.nm}}),u.mn=y.mn,u}function b(y,f,R){function u(x){return y.p.ix===x?u.position:y.r.ix===x?u.roundness:y.s.ix===x||x==="Size"||x==="ADBE Vector Rect Size"?u.size:null}var d=propertyGroupFactory(u,R),h=f.sh.ty==="tm"?f.sh.prop:f.sh;return u.propertyIndex=y.ix,h.p.setGroupProperty(PropertyInterface("Position",d)),h.s.setGroupProperty(PropertyInterface("Size",d)),h.r.setGroupProperty(PropertyInterface("Rotation",d)),Object.defineProperties(u,{position:{get:ExpressionPropertyInterface(h.p)},roundness:{get:ExpressionPropertyInterface(h.r)},size:{get:ExpressionPropertyInterface(h.s)},_name:{value:y.nm}}),u.mn=y.mn,u}function c(y,f,R){function u(x){return y.r.ix===x||x==="Round Corners 1"?u.radius:null}var d=propertyGroupFactory(u,R),h=f;return u.propertyIndex=y.ix,h.rd.setGroupProperty(PropertyInterface("Radius",d)),Object.defineProperties(u,{radius:{get:ExpressionPropertyInterface(h.rd)},_name:{value:y.nm}}),u.mn=y.mn,u}function v(y,f,R){function u(x){return y.c.ix===x||x==="Copies"?u.copies:y.o.ix===x||x==="Offset"?u.offset:null}var d=propertyGroupFactory(u,R),h=f;return u.propertyIndex=y.ix,h.c.setGroupProperty(PropertyInterface("Copies",d)),h.o.setGroupProperty(PropertyInterface("Offset",d)),Object.defineProperties(u,{copies:{get:ExpressionPropertyInterface(h.c)},offset:{get:ExpressionPropertyInterface(h.o)},_name:{value:y.nm}}),u.mn=y.mn,u}return function(y,f,R){var u;function d(x){if(typeof x=="number")return x=x===void 0?1:x,x===0?R:u[x-1];for(var j=0,S=u.length;j<S;){if(u[j]._name===x)return u[j];j+=1}return null}function h(){return R}return d.propertyGroup=propertyGroupFactory(d,h),u=e(y,f,d.propertyGroup),d.numProperties=u.length,d._name="Contents",d}}(),TextExpressionInterface=function(){return function(e){var t;function r(i){switch(i){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var s=e.textProperty.currentData.t;return(!t||s!==t.value)&&(t=new String(s),t.value=s||new String(s),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r}}();function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(e)}var FootageInterface=function(){var e=function(i){var s="",n=i.getFootageData();function a(){return s="",n=i.getFootageData(),l}function l(o){if(n[o])return s=o,n=n[o],_typeof(n)==="object"?l:n;var p=o.indexOf(s);if(p!==-1){var m=parseInt(o.substr(p+s.length),10);return n=n[m],_typeof(n)==="object"?l:n}return""}return a},t=function(i){function s(n){return n==="Outline"?s.outlineInterface():null}return s._name="Outline",s.outlineInterface=e(i),s};return function(r){function i(s){return s==="Data"?i.dataInterface:null}return i._name="Data",i.dataInterface=t(r),i}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(a,l,o){l.x&&(o.k=!0,o.x=!0,o.initiateExpression=ExpressionManager.initiateExpression,o.effectsSequence.push(o.initiateExpression(a,l,o).bind(o)))}function t(a){return a*=this.elem.globalData.frameRate,a-=this.offsetTime,a!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value}function r(a){var l=-.01,o=this.getValueAtTime(a),p=this.getValueAtTime(a+l),m=0;if(o.length){var b;for(b=0;b<o.length;b+=1)m+=Math.pow(p[b]-o[b],2);m=Math.sqrt(m)*100}else m=0;return m}function i(a){if(this.vel!==void 0)return this.vel;var l=-.001,o=this.getValueAtTime(a),p=this.getValueAtTime(a+l),m;if(o.length){m=createTypedArray("float32",o.length);var b;for(b=0;b<o.length;b+=1)m[b]=(p[b]-o[b])/l}else m=(p-o)/l;return m}function s(){return this.pv}function n(a){this.propertyGroup=a}return{searchExpressions:e,getSpeedAtTime:r,getVelocityAtTime:i,getValueAtTime:t,getStaticValueAtTime:s,setGroupProperty:n}}();function addPropertyDecorator(){function e(c,v,y){if(!this.k||!this.keyframes)return this.pv;c=c?c.toLowerCase():"";var f=this.comp.renderedFrame,R=this.keyframes,u=R[R.length-1].t;if(f<=u)return this.pv;var d,h;y?(v?d=Math.abs(u-this.elem.comp.globalData.frameRate*v):d=Math.max(0,u-this.elem.data.ip),h=u-d):((!v||v>R.length-1)&&(v=R.length-1),h=R[R.length-1-v].t,d=u-h);var x,j,S;if(c==="pingpong"){var P=Math.floor((f-h)/d);if(P%2!==0)return this.getValueAtTime((d-(f-h)%d+h)/this.comp.globalData.frameRate,0)}else if(c==="offset"){var A=this.getValueAtTime(h/this.comp.globalData.frameRate,0),I=this.getValueAtTime(u/this.comp.globalData.frameRate,0),V=this.getValueAtTime(((f-h)%d+h)/this.comp.globalData.frameRate,0),F=Math.floor((f-h)/d);if(this.pv.length){for(S=new Array(A.length),j=S.length,x=0;x<j;x+=1)S[x]=(I[x]-A[x])*F+V[x];return S}return(I-A)*F+V}else if(c==="continue"){var k=this.getValueAtTime(u/this.comp.globalData.frameRate,0),L=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(S=new Array(k.length),j=S.length,x=0;x<j;x+=1)S[x]=k[x]+(k[x]-L[x])*((f-u)/this.comp.globalData.frameRate)/5e-4;return S}return k+(k-L)*((f-u)/.001)}return this.getValueAtTime(((f-h)%d+h)/this.comp.globalData.frameRate,0)}function t(c,v,y){if(!this.k)return this.pv;c=c?c.toLowerCase():"";var f=this.comp.renderedFrame,R=this.keyframes,u=R[0].t;if(f>=u)return this.pv;var d,h;y?(v?d=Math.abs(this.elem.comp.globalData.frameRate*v):d=Math.max(0,this.elem.data.op-u),h=u+d):((!v||v>R.length-1)&&(v=R.length-1),h=R[v].t,d=h-u);var x,j,S;if(c==="pingpong"){var P=Math.floor((u-f)/d);if(P%2===0)return this.getValueAtTime(((u-f)%d+u)/this.comp.globalData.frameRate,0)}else if(c==="offset"){var A=this.getValueAtTime(u/this.comp.globalData.frameRate,0),I=this.getValueAtTime(h/this.comp.globalData.frameRate,0),V=this.getValueAtTime((d-(u-f)%d+u)/this.comp.globalData.frameRate,0),F=Math.floor((u-f)/d)+1;if(this.pv.length){for(S=new Array(A.length),j=S.length,x=0;x<j;x+=1)S[x]=V[x]-(I[x]-A[x])*F;return S}return V-(I-A)*F}else if(c==="continue"){var k=this.getValueAtTime(u/this.comp.globalData.frameRate,0),L=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(S=new Array(k.length),j=S.length,x=0;x<j;x+=1)S[x]=k[x]+(k[x]-L[x])*(u-f)/.001;return S}return k+(k-L)*(u-f)/.001}return this.getValueAtTime((d-((u-f)%d+u))/this.comp.globalData.frameRate,0)}function r(c,v){if(!this.k)return this.pv;if(c=(c||.4)*.5,v=Math.floor(v||5),v<=1)return this.pv;var y=this.comp.renderedFrame/this.comp.globalData.frameRate,f=y-c,R=y+c,u=v>1?(R-f)/(v-1):1,d=0,h=0,x;this.pv.length?x=createTypedArray("float32",this.pv.length):x=0;for(var j;d<v;){if(j=this.getValueAtTime(f+d*u),this.pv.length)for(h=0;h<this.pv.length;h+=1)x[h]+=j[h];else x+=j;d+=1}if(this.pv.length)for(h=0;h<this.pv.length;h+=1)x[h]/=v;else x/=v;return x}function i(c){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var v=this._transformCachingAtTime.v;if(v.cloneFromProps(this.pre.props),this.appliedTransformations<1){var y=this.a.getValueAtTime(c);v.translate(-y[0]*this.a.mult,-y[1]*this.a.mult,y[2]*this.a.mult)}if(this.appliedTransformations<2){var f=this.s.getValueAtTime(c);v.scale(f[0]*this.s.mult,f[1]*this.s.mult,f[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var R=this.sk.getValueAtTime(c),u=this.sa.getValueAtTime(c);v.skewFromAxis(-R*this.sk.mult,u*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var d=this.r.getValueAtTime(c);v.rotate(-d*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var h=this.rz.getValueAtTime(c),x=this.ry.getValueAtTime(c),j=this.rx.getValueAtTime(c),S=this.or.getValueAtTime(c);v.rotateZ(-h*this.rz.mult).rotateY(x*this.ry.mult).rotateX(j*this.rx.mult).rotateZ(-S[2]*this.or.mult).rotateY(S[1]*this.or.mult).rotateX(S[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var P=this.px.getValueAtTime(c),A=this.py.getValueAtTime(c);if(this.data.p.z){var I=this.pz.getValueAtTime(c);v.translate(P*this.px.mult,A*this.py.mult,-I*this.pz.mult)}else v.translate(P*this.px.mult,A*this.py.mult,0)}else{var V=this.p.getValueAtTime(c);v.translate(V[0]*this.p.mult,V[1]*this.p.mult,-V[2]*this.p.mult)}return v}function s(){return this.v.clone(new Matrix)}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(c,v,y){var f=n(c,v,y);return f.dynamicProperties.length?f.getValueAtTime=i.bind(f):f.getValueAtTime=s.bind(f),f.setGroupProperty=expressionHelpers.setGroupProperty,f};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(c,v,y,f,R){var u=a(c,v,y,f,R);u.kf?u.getValueAtTime=expressionHelpers.getValueAtTime.bind(u):u.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(u),u.setGroupProperty=expressionHelpers.setGroupProperty,u.loopOut=e,u.loopIn=t,u.smooth=r,u.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(u),u.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(u),u.numKeys=v.a===1?v.k.length:0,u.propertyIndex=v.ix;var d=0;return y!==0&&(d=createTypedArray("float32",v.a===1?v.k[0].s.length:v.k.length)),u._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:d},expressionHelpers.searchExpressions(c,v,u),u.k&&R.addDynamicProperty(u),u};function l(c){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),c*=this.elem.globalData.frameRate,c-=this.offsetTime,c!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<c?this._caching.lastIndex:0,this._cachingAtTime.lastTime=c,this.interpolateShape(c,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var o=ShapePropertyFactory.getConstructorFunction(),p=ShapePropertyFactory.getKeyframedConstructorFunction();function m(){}m.prototype={vertices:function(v,y){this.k&&this.getValue();var f=this.v;y!==void 0&&(f=this.getValueAtTime(y,0));var R,u=f._length,d=f[v],h=f.v,x=createSizedArray(u);for(R=0;R<u;R+=1)v==="i"||v==="o"?x[R]=[d[R][0]-h[R][0],d[R][1]-h[R][1]]:x[R]=[d[R][0],d[R][1]];return x},points:function(v){return this.vertices("v",v)},inTangents:function(v){return this.vertices("i",v)},outTangents:function(v){return this.vertices("o",v)},isClosed:function(){return this.v.c},pointOnPath:function(v,y){var f=this.v;y!==void 0&&(f=this.getValueAtTime(y,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(f));for(var R=this._segmentsLength,u=R.lengths,d=R.totalLength*v,h=0,x=u.length,j=0,S;h<x;){if(j+u[h].addedLength>d){var P=h,A=f.c&&h===x-1?0:h+1,I=(d-j)/u[h].addedLength;S=bez.getPointInSegment(f.v[P],f.v[A],f.o[P],f.i[A],I,u[h]);break}else j+=u[h].addedLength;h+=1}return S||(S=f.c?[f.v[0][0],f.v[0][1]]:[f.v[f._length-1][0],f.v[f._length-1][1]]),S},vectorOnPath:function(v,y,f){v==1?v=this.v.c:v==0&&(v=.999);var R=this.pointOnPath(v,y),u=this.pointOnPath(v+.001,y),d=u[0]-R[0],h=u[1]-R[1],x=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));if(x===0)return[0,0];var j=f==="tangent"?[d/x,h/x]:[-h/x,d/x];return j},tangentOnPath:function(v,y){return this.vectorOnPath(v,y,"tangent")},normalOnPath:function(v,y){return this.vectorOnPath(v,y,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([m],o),extendPrototype([m],p),p.prototype.getValueAtTime=l,p.prototype.initiateExpression=ExpressionManager.initiateExpression;var b=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(c,v,y,f,R){var u=b(c,v,y,f,R);return u.propertyIndex=v.ix,u.lock=!1,y===3?expressionHelpers.searchExpressions(c,v.pt,u):y===4&&expressionHelpers.searchExpressions(c,v.ks,u),u.k&&c.addDynamicProperty(u),u}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,r){var i=this.calculateExpression(r);if(t.t!==i){var s={};return this.copyData(s,t),s.t=i.toString(),s.__complete=!1,s}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),r=this.searchExpressions();return this.kf=t||r,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(t,r){var i=createNS("feMerge");i.setAttribute("result",t);var s,n;for(n=0;n<r.length;n+=1)s=createNS("feMergeNode"),s.setAttribute("in",r[n]),i.appendChild(s),i.appendChild(s);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,i,s){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=n,n.setAttribute("result",i+"_tint_1"),e.appendChild(n),n=createNS("feColorMatrix"),n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",i+"_tint_2"),e.appendChild(n),this.matrixFilter=n;var a=this.createMergeNode(i,[s,i+"_tint_1",i+"_tint_2"]);e.appendChild(a)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+i+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,t,r,i){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",i),e.appendChild(s),this.matrixFilter=s}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,r,i,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,i=0):(i=this.filterManager.effectElements[0].p.v-1,s=i+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),i;i<s;i+=1)t=createNS("path"),r.appendChild(t),this.paths.push({p:t,m:i});if(this.filterManager.effectElements[10].p.v===3){var n=createNS("mask"),a=createElementID();n.setAttribute("id",a),n.setAttribute("mask-type","alpha"),n.appendChild(r),this.elem.globalData.defs.appendChild(n);var l=createNS("g");for(l.setAttribute("mask","url("+getLocationHref()+"#"+a+")");e[0];)l.appendChild(e[0]);this.elem.layerElement.appendChild(l),this.masker=n,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,r=this.paths.length,i,s;for(t=0;t<r;t+=1)if(this.paths[t].m!==-1&&(i=this.elem.maskManager.viewData[this.paths[t].m],s=this.paths[t].p,(e||this.filterManager._mdf||i.prop._mdf)&&s.setAttribute("d",i.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var n;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,l=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,o=s.getTotalLength();n="0 0 0 "+o*a+" ";var p=o*(l-a),m=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,b=Math.floor(p/m),c;for(c=0;c<b;c+=1)n+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";n+="0 "+o*10+" 0 0"}else n="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",n)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var v=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(v[0]*255)+","+bmFloor(v[1]*255)+","+bmFloor(v[2]*255)+")")}};function SVGTritoneFilter(e,t,r,i){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(s);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",i),this.matrixFilter=n;var a=createNS("feFuncR");a.setAttribute("type","table"),n.appendChild(a),this.feFuncR=a;var l=createNS("feFuncG");l.setAttribute("type","table"),n.appendChild(l),this.feFuncG=l;var o=createNS("feFuncB");o.setAttribute("type","table"),n.appendChild(o),this.feFuncB=o,e.appendChild(n)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,s=i[0]+" "+r[0]+" "+t[0],n=i[1]+" "+r[1]+" "+t[1],a=i[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",n),this.feFuncB.setAttribute("tableValues",a)}};function SVGProLevelsFilter(e,t,r,i){this.filterManager=t;var s=this.filterManager.effectElements,n=createNS("feComponentTransfer");(s[10].p.k||s[10].p.v!==0||s[11].p.k||s[11].p.v!==1||s[12].p.k||s[12].p.v!==1||s[13].p.k||s[13].p.v!==0||s[14].p.k||s[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(s[17].p.k||s[17].p.v!==0||s[18].p.k||s[18].p.v!==1||s[19].p.k||s[19].p.v!==1||s[20].p.k||s[20].p.v!==0||s[21].p.k||s[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(s[24].p.k||s[24].p.v!==0||s[25].p.k||s[25].p.v!==1||s[26].p.k||s[26].p.v!==1||s[27].p.k||s[27].p.v!==0||s[28].p.k||s[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(s[31].p.k||s[31].p.v!==0||s[32].p.k||s[32].p.v!==1||s[33].p.k||s[33].p.v!==1||s[34].p.k||s[34].p.v!==0||s[35].p.k||s[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n)),(s[3].p.k||s[3].p.v!==0||s[4].p.k||s[4].p.v!==1||s[5].p.k||s[5].p.v!==1||s[6].p.k||s[6].p.v!==0||s[7].p.k||s[7].p.v!==1)&&(n=createNS("feComponentTransfer"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",i),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,i,s){for(var n=0,a=256,l,o=Math.min(e,t),p=Math.max(e,t),m=Array.call(null,{length:a}),b,c=0,v=s-i,y=t-e;n<=256;)l=n/256,l<=o?b=y<0?s:i:l>=p?b=y<0?i:s:b=i+v*Math.pow((l-e)/y,1/r),m[c]=b,c+=1,n+=256/(a-1);return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(e,t,r,i,s){var n=t.container.globalData.renderConfig.filterSize,a=t.data.fs||n;e.setAttribute("x",a.x||n.x),e.setAttribute("y",a.y||n.y),e.setAttribute("width",a.width||n.width),e.setAttribute("height",a.height||n.height),this.filterManager=t;var l=createNS("feGaussianBlur");l.setAttribute("in","SourceAlpha"),l.setAttribute("result",i+"_drop_shadow_1"),l.setAttribute("stdDeviation","0"),this.feGaussianBlur=l,e.appendChild(l);var o=createNS("feOffset");o.setAttribute("dx","25"),o.setAttribute("dy","0"),o.setAttribute("in",i+"_drop_shadow_1"),o.setAttribute("result",i+"_drop_shadow_2"),this.feOffset=o,e.appendChild(o);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",i+"_drop_shadow_3"),this.feFlood=p,e.appendChild(p);var m=createNS("feComposite");m.setAttribute("in",i+"_drop_shadow_3"),m.setAttribute("in2",i+"_drop_shadow_2"),m.setAttribute("operator","in"),m.setAttribute("result",i+"_drop_shadow_4"),e.appendChild(m);var b=this.createMergeNode(i,[i+"_drop_shadow_4",s]);e.appendChild(b)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=r*Math.cos(i),n=r*Math.sin(i);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",n)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var i=r.children,s=0,n=i.length;s<n&&i[s]!==e.layerElement;)s+=1;var a;s<=n-2&&(a=i[s+1]);var l=createNS("use");l.setAttribute("href","#"+t),a?r.insertBefore(l,a):r.appendChild(l)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),i=createNS("mask");i.setAttribute("id",t.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var s=e.globalData.defs;s.appendChild(i);var n=createNS("symbol");n.setAttribute("id",r),this.replaceInParent(t,r),n.appendChild(t.layerElement),s.appendChild(n);var a=createNS("use");a.setAttribute("href","#"+r),i.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,i=t.length;r<i;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,t,r,i){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var s=createNS("feGaussianBlur");s.setAttribute("result",i),e.appendChild(s),this.feGaussianBlur=s}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3,r=this.filterManager.effectElements[0].p.v*t,i=this.filterManager.effectElements[1].p.v,s=i==3?0:r,n=i==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+n);var a=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,i=t[1].p.v,s=t[2].p.v===1,n=t[3].p.v,a=s?n:t[4].p.v,l=t[5].p.v,o=t[6].p.v,p=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(a*.01,n*.01,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-l*degToRads,(o+90)*degToRads),this.matrix.translate(i[0],i[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function OrbitControlsWithReset(e){const{camera:t,gl:r}=useThree(),i=reactExports.useRef(null),s=reactExports.useRef([0,0,5]);return reactExports.useEffect(()=>{const n=a=>{a.key.toLowerCase()==="r"&&i.current&&(t.position.set(s.current[0],s.current[1],s.current[2]),i.current.reset())};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t]),jsxRuntimeExports.jsx(OrbitControls,{ref:i,...e})}function LottieTexture({animationPath:e,width:t=256,height:r=256,position:i=[0,0,0],rotation:s=[0,0,0],scale:n=[1,1,1]}){const a=reactExports.useRef(null),l=reactExports.useRef(null),o=reactExports.useRef(null),[p,m]=reactExports.useState(null);return reactExports.useEffect(()=>{if(!a.current){const b=document.createElement("canvas");b.width=t,b.height=r,a.current=b;try{const c=e.startsWith("/")?"/audiometry_trainer/"+e.substring(1):e;console.log(`Loading Lottie animation from: ${c}`);const v=lottie.loadAnimation({container:b,renderer:"canvas",loop:!0,autoplay:!0,path:c});return v.addEventListener("error",y=>{console.error("Lottie animation error:",y),m(new Error(`Failed to load animation: ${y}`))}),l.current=new CanvasTexture(b),()=>{v.destroy()}}catch(c){console.error("Error setting up Lottie animation:",c),m(c instanceof Error?c:new Error("Unknown error loading animation"))}}},[e,t,r]),useFrame(()=>{l.current&&(l.current.needsUpdate=!0)}),p?jsxRuntimeExports.jsxs("mesh",{position:i,rotation:s,scale:n,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[1,1]}),jsxRuntimeExports.jsx("meshBasicMaterial",{color:"hotpink"})]}):jsxRuntimeExports.jsxs("mesh",{ref:o,position:i,rotation:s,scale:n,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[1,1]}),jsxRuntimeExports.jsx("meshBasicMaterial",{map:l.current||void 0,transparent:!0})]})}const earParts=[{id:"all",name:"Full Ear",color:"#ffffff"},{id:"helix",name:"Helix",color:"#ff6b6b"},{id:"antihelix",name:"Antihelix",color:"#4ecdc4"},{id:"tragus",name:"Tragus",color:"#ffbe0b"},{id:"antitragus",name:"Antitragus",color:"#fb5607"},{id:"concha",name:"Concha",color:"#8338ec"},{id:"lobule",name:"Lobule",color:"#3a86ff"}];useGLTF.preload(getModelPath("mainEar"));function EarModel({modelPath:e,activePart:t="all",onPartHover:r,onError:i,showLottieAnimation:s=!1,lottieAnimationPath:n=""}){console.log(`Attempting to load 3D model from: ${e}`);const a=reactExports.useRef(null),[l,o]=reactExports.useState(!0),[p,m]=reactExports.useState(null),[b,c]=reactExports.useState(null),{scene:v,...y}=useGLTF(e);return reactExports.useEffect(()=>{try{v&&console.log("Successfully loaded 3D model:",{scene:v,...y})}catch(f){console.error("Error loading model:",f),c(f),i&&i(f)}},[v,y,i]),useFrame((f,R)=>{a.current&&l&&(a.current.rotation.y+=R*.2)}),reactExports.useEffect(()=>{a.current&&(a.current.traverse(f=>{f.isMesh&&f.material&&f.material.emissive&&(f.material.emissive.set(0),f.material.emissiveIntensity=0)}),t!=="all"&&a.current.traverse(f=>{if(f.isMesh&&f.material&&f.name.toLowerCase().includes(t.toLowerCase())){const R=earParts.find(u=>u.id===t);R&&f.material.emissive&&(f.material.emissive.set(R.color),f.material.emissiveIntensity=.5)}}))},[t]),b?jsxRuntimeExports.jsx(Html,{center:!0,children:jsxRuntimeExports.jsx("div",{style:{color:"red",background:"rgba(0,0,0,0.7)",padding:"10px",borderRadius:"5px"},children:"Error loading 3D model"})}):jsxRuntimeExports.jsxs("group",{ref:a,scale:.15,position:[0,0,0],onPointerOver:()=>o(!1),onPointerOut:()=>o(!0),children:[jsxRuntimeExports.jsx("primitive",{object:v,dispose:null}),s&&n&&jsxRuntimeExports.jsx(LottieTexture,{animationPath:n,position:[0,1.5,0],scale:[1,1,1]}),t!=="all"&&jsxRuntimeExports.jsx(Html,{position:[0,0,0],distanceFactor:10,children:jsxRuntimeExports.jsx("div",{style:{backgroundColor:"rgba(0,0,0,0.8)",color:"white",padding:"5px 10px",borderRadius:"4px",transform:"translate3d(-50%, -50%, 0)"},children:earParts.find(f=>f.id===t)?.name})})]})}class ErrorBoundary extends React.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Canvas error:",t,r)}render(){return this.state.hasError?jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:3,bgcolor:"error.light",color:"error.contrastText",borderRadius:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"3D Rendering Error"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:this.state.error?.message||"An unknown error occurred in the 3D view"})]}):this.props.children}}const ModelCanvas=({modelPath:e,activePart:t,onError:r,onLoaded:i,mobileControls:s=!0,showLottieAnimation:n=!1,lottieAnimationPath:a=""})=>jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsxs(Canvas,{camera:{position:[0,0,5],fov:45},style:{background:"linear-gradient(to bottom, #e0f7fa, #ffffff)"},onCreated:()=>i(),children:[jsxRuntimeExports.jsx("ambientLight",{intensity:.5}),jsxRuntimeExports.jsx("pointLight",{position:[10,10,10]}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Html,{center:!0,children:jsxRuntimeExports.jsx(CircularProgress,{})}),children:[jsxRuntimeExports.jsx(EarModel,{modelPath:e,activePart:t,onError:r,showLottieAnimation:n,lottieAnimationPath:a}),jsxRuntimeExports.jsx(Environment,{preset:"city"})]}),jsxRuntimeExports.jsx(OrbitControlsWithReset,{enablePan:s,minDistance:3,maxDistance:8,enableRotate:!0,enableZoom:!0,rotateSpeed:1,zoomSpeed:1.2,touches:{ONE:s?TOUCH.ROTATE:TOUCH.ROTATE,TWO:s?TOUCH.DOLLY_PAN:TOUCH.DOLLY_PAN}})]})}),EarModel3D=({height:e=400,showLottieAnimation:t=!1,lottieAnimationPath:r="/animations/ear-animation.json"})=>{const[i,s]=reactExports.useState(!0),[n,a]=reactExports.useState("all"),[l,o]=reactExports.useState(null),[p,m]=reactExports.useState(null),b=reactExports.useMemo(()=>getModelPath("mainEar"),[]),c=R=>{m(R),s(!1)},v=()=>{s(!1)},y=async()=>{try{const R=await fetch(b,{method:"HEAD"});R.ok?alert(`Success! Model file found at ${b}
Content-Type: ${R.headers.get("Content-Type")}
Content-Length: ${R.headers.get("Content-Length")} bytes`):alert(`Error: Could not find model at ${b}
Status: ${R.status} ${R.statusText}`)}catch(R){alert(`Error checking model file: ${R}`)}},f=async()=>{try{const R=await fetch(r,{method:"HEAD"});R.ok?alert(`Success! Lottie animation found at ${r}
Content-Type: ${R.headers.get("Content-Type")}
Content-Length: ${R.headers.get("Content-Length")} bytes`):alert(`Error: Could not find Lottie animation at ${r}
Status: ${R.status} ${R.statusText}`)}catch(R){alert(`Error checking Lottie animation file: ${R}`)}};return jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",height:"auto",display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",height:e,position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3,bgcolor:"white"},children:[i&&!p&&jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"rgba(255, 255, 255, 0.7)",zIndex:1},children:jsxRuntimeExports.jsx(CircularProgress,{})}),p?jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",fontWeight:"bold",children:"Could not load 3D ear model"}),jsxRuntimeExports.jsx(Button,{variant:"outlined",color:"primary",onClick:y,sx:{mt:2},children:"Check Model Availability"})]}):jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(CircularProgress,{}),children:jsxRuntimeExports.jsx(ModelCanvas,{modelPath:b,activePart:n,onError:c,onLoaded:v,mobileControls:!0,showLottieAnimation:t,lottieAnimationPath:r})})]}),t&&jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:1,borderRadius:1,mb:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",gutterBottom:!0,children:"Lottie Animation Path:"}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"caption",sx:{flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},children:r}),jsxRuntimeExports.jsx(Button,{variant:"outlined",size:"small",onClick:f,children:"Check Animation"})]})]}),jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:1,borderRadius:1,mb:1,display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(Info,{fontSize:"small",color:"info",sx:{mr:1}}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:"Controls: One finger to rotate, two fingers to zoom/pan"})]})]})},Introduction=()=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The human ear is a remarkable organ that allows us to perceive sound from our environment. It is divided into three main sections: the outer ear, the middle ear, and the inner ear."}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"In this tutorial, you'll learn about each part of the ear and how they work together to capture sound waves and convert them into electrical signals that our brain can interpret."}),jsxRuntimeExports.jsx(Card,{sx:{mb:2},children:jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Key Functions of the Ear:"}),jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Hearing,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Sound Detection",secondary:"Capturing sound waves from the environment"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(VolumeUp,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Sound Amplification",secondary:"Increasing the energy of sound vibrations"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Waves,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Sound Transduction",secondary:"Converting sound vibrations to electrical signals"})]})]})]})})]}),outerEarImg$1=EarAnatomyImages.outerEar,OuterEar=()=>{const e=useTheme();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The outer ear is the part we can see, also known as the auricle or pinna. It includes the visible cartilage and skin, as well as the ear canal (external auditory canal) that leads to the eardrum."}),jsxRuntimeExports.jsxs(Card,{sx:{mb:2},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",image:outerEarImg$1,alt:"Outer Ear Anatomy",sx:{height:{xs:400,sm:500,md:600},maxWidth:"100%",objectFit:"contain",p:2,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.paper,.6):"#f5f5f5"}}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Components of the Outer Ear:"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Pinna (Auricle)",secondary:"The visible part that collects sound waves and directs them into the ear canal"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"External Auditory Canal",secondary:"A tube about 2.5 cm long that directs sound to the eardrum"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Cerumen (Earwax)",secondary:"Protects the ear canal by trapping dust and repelling water"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Tympanic Membrane (Eardrum)",secondary:"The boundary between outer and middle ear; vibrates in response to sound waves"})]})]})]})]}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The outer ear plays a crucial role in localizing sound and collecting sound waves. The shape of the pinna helps determine the direction of sounds, particularly those coming from in front or behind."}),jsxRuntimeExports.jsxs(Box,{sx:{p:2,mb:3,bgcolor:alpha(e.palette.success.light,.1),border:`1px dashed ${e.palette.success.main}`,borderRadius:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",color:"success.dark",children:"Pro Tip: Pinna's Role in Sound Localization"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:`The unique shape of each person's pinna creates distinctive sound filtering patterns called "head-related transfer functions" (HRTFs). These patterns help your brain determine if a sound is coming from above, below, front, or backdirections that can't be distinguished by time or level differences between the ears alone.`}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",paragraph:!0,children:[jsxRuntimeExports.jsx("strong",{children:"Clinical Application:"}),' When fitting behind-the-ear hearing aids, preserving the natural acoustics of the pinna is important for maintaining directional hearing. This is why many hearing aid fittings now use "open" fittings or place the receiver directly in the ear canal to maintain the natural resonance characteristics of the outer ear.']})]})]})},outerEarImg=EarAnatomyImages.pinnaLandmarks,PinnaLandmarks=()=>{const e=useTheme(),[t,r]=reactExports.useState(!1),i=s=>(n,a)=>{r(a?s:!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"Understanding the specific landmarks of the pinna (auricle) is essential for professionals who fit hearing aids. These anatomical features serve as reference points for proper hearing aid placement, ensuring comfort and optimal sound delivery."}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"Below, we'll describe each landmark in simple everyday terms, followed by the clinical description that you'll need to know professionally."}),jsxRuntimeExports.jsxs(Card,{sx:{mb:2},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",sx:{height:{xs:440,sm:600,md:700},maxWidth:"100%",objectFit:"contain",p:2,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.paper,.6):"#f5f5f5"},image:outerEarImg,alt:"Pinna Landmarks"}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Key Landmarks of the Pinna:"}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="helix",onChange:i("helix"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"helix-content",id:"helix-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Helix ("The Outer Rim")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The helix is the curved outer edge of your ear - like the rim of a cup. If you run your finger around the top and outer edge of your ear, you're tracing the helix."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The outermost curved margin of the ear, running from the top attachment down to the earlobe. Forms the visible rim of the auricle and provides structural support."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="antihelix",onChange:i("antihelix"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"antihelix-content",id:"antihelix-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Antihelix ("The Inner Ridge")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The antihelix is the curved ridge that runs parallel to the outer rim, like a second smaller rim inside the first one. It forms a Y-shaped ridge in the middle of your ear."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"A Y-shaped cartilage ridge located in front of and roughly parallel to the helix. It separates the concha (bowl area) from the scapha and triangular fossa."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="tragus",onChange:i("tragus"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"tragus-content",id:"tragus-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Tragus ("The Door Flap")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:`The tragus is the small flap-like projection just in front of your ear canal opening. It's the part that you push to close your ear when you don't want to hear something. Think of it as a partial "door" to your ear canal.`})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"A small, rounded cartilage projection in front of the ear canal opening that partially covers the entrance. Important for behind-the-ear hearing aid placement and acoustic coupling."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="antitragus",onChange:i("antitragus"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"antitragus-content",id:"antitragus-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Antitragus ("The Opposite Bump")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:'The antitragus is a small bump on the lower part of your ear, opposite to the tragus. If the tragus is the "door" to your ear canal, the antitragus is like a doorstop on the other side.'})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"A small cartilage bump opposite to the tragus, separated from it by the intertragic notch. It forms the lower boundary of the concha."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="concha",onChange:i("concha"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"concha-content",id:"concha-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Concha ("The Bowl")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The concha is the deep bowl-shaped cavity in the center of your ear - like a seashell or soup bowl. It's the largest and deepest depression in your outer ear, funneling sound into your ear canal."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"A deep cavity in the external ear that leads to the ear canal. It's bounded by the tragus (front), antihelix (back), and antitragus (below). Critical for in-the-ear hearing aid shell design."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="lobule",onChange:i("lobule"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"lobule-content",id:"lobule-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Lobule ("The Earlobe")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:'The lobule is simply what most people call the "earlobe" - the soft, fleshy bottom part of your ear where earrings are typically worn. Unlike the rest of the external ear, it contains no cartilage.'})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The soft, fleshy, non-cartilaginous portion at the bottom of the ear, composed of fatty tissue and skin. May serve as an anchor point for some hearing aid styles."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="crusofhelix",onChange:i("crusofhelix"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"crusofhelix-content",id:"crusofhelix-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Crus of Helix ("The Diving Ridge")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The crus of helix is the point where the outer rim of your ear (helix) turns inward and dives into the middle of your ear, creating a horizontal ridge that divides the upper and lower parts of the bowl area."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The anterior continuation of the helix that crosses the concha horizontally, dividing it into the cymba conchae superiorly and the cavum conchae inferiorly."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="cymbaconchae",onChange:i("cymbaconchae"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"cymbaconchae-content",id:"cymbaconchae-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Cymba Conchae ("The Upper Bowl")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:`The cymba conchae is the smaller, upper portion of the bowl-like depression in your ear. It's the upper "pool" of the ear's bowl, located above the horizontal ridge (crus of helix).`})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The superior portion of the concha, above the crus of the helix, bounded by the antihelix posteriorly and the helix anteriorly. Important for receiver-in-canal hearing aid models."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="cavumconchae",onChange:i("cavumconchae"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"cavumconchae-content",id:"cavumconchae-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'Cavum Conchae ("The Lower Bowl")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:`The cavum conchae is the larger, lower portion of the bowl-like depression that leads directly to your ear canal. It's the main "funnel" part of your ear that captures sound and directs it inward.`})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The lower and larger portion of the concha, below the crus of the helix, that directly leads to the external auditory meatus. Critical for in-the-ear hearing aid fitting and acoustic performance."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="meatus",onChange:i("meatus"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"meatus-content",id:"meatus-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:'External Auditory Meatus ("The Ear Canal Opening")'})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The external auditory meatus is simply the opening of your ear canal - the entrance where sound travels into the canal toward your eardrum. It's like the doorway that connects the outer ear to the ear canal."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:6,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Clinical Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The aperture or opening of the external auditory canal, located at the depth of the concha. It forms the boundary between the external ear and the ear canal, and serves as a reference point for many hearing aid measurements."})]})]})})]})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",sx:{mt:4,mb:2},children:"How Pinna Anatomy Affects Hearing Aid Selection and Fitting"}),jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:3,mb:4,bgcolor:e.palette.mode==="dark"?alpha(e.palette.primary.main,.1):alpha(e.palette.primary.light,.1)},children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The unique anatomy of each person's pinna significantly impacts hearing aid selection, fitting, and performance. Understanding these relationships is crucial for successful hearing aid fitting."}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,sx:{mb:2},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Concha Size and Depth"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Clinical Impact:"})," The dimensions of the concha (both cymba and cavum) directly determine which hearing aid styles will fit comfortably."]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Fitting Considerations:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"A small, shallow concha may not accommodate larger in-the-ear (ITE) devices"}),jsxRuntimeExports.jsx("li",{children:"A very deep concha may require a longer canal portion for custom hearing aids"}),jsxRuntimeExports.jsx("li",{children:"Concha depth affects the placement of directional microphones in custom devices"}),jsxRuntimeExports.jsx("li",{children:"For receiver-in-canal (RIC) hearing aids, concha size determines dome or mold selection"})]})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Helix and Antihelix Prominence"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Clinical Impact:"})," The prominence and shape of these cartilaginous ridges affect behind-the-ear (BTE) hearing aid stability and comfort."]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Fitting Considerations:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"A flat or minimally defined antihelix may provide less retention for BTE devices"}),jsxRuntimeExports.jsx("li",{children:"A prominent helix creates a deeper pocket behind the ear for BTE placement"}),jsxRuntimeExports.jsx("li",{children:"The angle between the helix and skull impacts tubing/wire routing comfort"}),jsxRuntimeExports.jsx("li",{children:"For open-fit devices, a tight helix-to-head spacing may cause irritation from sound tubing"})]})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Tragus Size and Position"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Clinical Impact:"})," The tragus configuration affects retention of custom devices and insertion/removal ease."]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Fitting Considerations:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"A large, protruding tragus may interfere with insertion of larger custom devices"}),jsxRuntimeExports.jsx("li",{children:"A small or flat tragus provides less retention for in-the-canal (ITC) devices"}),jsxRuntimeExports.jsx("li",{children:"Tragus position relative to the ear canal opening impacts acoustic seal"}),jsxRuntimeExports.jsx("li",{children:"For BTE aids, tragus shape impacts earmold/dome insertion angle"})]})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"External Auditory Meatus Orientation"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Clinical Impact:"})," The angle, size, and shape of the ear canal opening dictates custom shell design and acoustic performance."]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Fitting Considerations:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"A narrow meatus may limit the size of components in custom devices"}),jsxRuntimeExports.jsx("li",{children:"The angle of the canal entrance affects directional microphone placement"}),jsxRuntimeExports.jsx("li",{children:"For CIC devices, meatus orientation determines insertion/removal direction"}),jsxRuntimeExports.jsx("li",{children:"The first bend of the canal (just past the meatus) impacts shell comfort"})]})]})]})})]}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Special Anatomical Considerations:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,sx:{mb:2},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"error",children:"Exostoses and Osteomas"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{flex:1},children:"Bony growths in the ear canal that can narrow the pathway. These require special shell modifications or may contraindicate deeper-fitting devices. Often seen in people with frequent cold water exposure."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"error",children:"Collapsing Canals"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{flex:1},children:"Some ear canals collapse when the jaw opens or when pressure is applied. This requires modified impression techniques (open-mouth impressions) and may necessitate a canal lock feature in the shell design."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"error",children:"Stenotic Ear Canals"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{flex:1},children:"Abnormally narrow ear canals (congenital or acquired) may preclude the use of standard hearing aid designs and require specially-engineered ultra-slim devices or bone conduction alternatives."})]})})]}),jsxRuntimeExports.jsxs(Box,{sx:{bgcolor:alpha(e.palette.warning.main,.1),p:2,borderRadius:1,border:`1px solid ${e.palette.warning.main}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Clinical Decision-Making Process:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Evaluate Pinna Anatomy:"})," Carefully examine and document all relevant anatomical features"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Consider Patient Factors:"})," Manual dexterity, vision, lifestyle needs, and cosmetic preferences"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Match to Technology:"})," Select appropriate hearing aid style based on anatomical compatibility and audiological needs"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Impression Technique:"})," Modify impression method based on anatomical variations (open jaw, tragus pressure, etc.)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Shell Modifications:"})," Request specific modification to shells based on anatomical findings (e.g., pressure relief, canal locks)"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Verification:"})," Confirm physical fit and acoustic performance before finalizing"]})]})})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Importance for Hearing Aid Fitting:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,sx:{mb:2},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Custom Hearing Aid Impressions"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"When taking ear impressions for custom hearing aids, audiologists use these landmarks as reference points. The impression material should capture the concha, tragus, and antitragus accurately to ensure proper fit. For deep canal fittings, the second bend of the ear canal must be captured, which is located beyond the aperture of the external auditory meatus."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Behind-the-Ear (BTE) Hearing Aids"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"For BTE models, the hearing aid sits behind the auricle with the sound tube running over the top of the ear between the helix and the head, down to the concha, and into the ear canal via an earmold or dome. The tragus and crus of helix serve as key landmarks for proper tubing placement."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"In-the-Ear (ITE) Hearing Aids"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"ITE hearing aids fill the concha and outer portion of the ear canal. Their shell is custom-made based on an ear impression that uses the concha, antihelix, and tragus as boundaries. The precise modeling of these landmarks ensures a secure fit without pressure points."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Completely-in-Canal (CIC) Hearing Aids"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"CIC devices sit deep in the ear canal, with only a small extraction handle visible in the concha. The external auditory meatus and cavum conchae dimensions determine how deep the aid can be placed, while the second bend of the canal limits insertion depth. Accurate mapping of these structures is essential for comfortable all-day wear."})]})})]}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"When fitting hearing aids, professionals must evaluate the shape, size, and unique characteristics of these landmarks for each patient. Anatomical variations can significantly impact which hearing aid style will provide the best fit, comfort, and acoustic performance for an individual."}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,sx:{fontStyle:"italic"},children:"Pro Tip: A helpful way to remember these landmarks is to think of the ear as a landscape: the helix is the outer mountain range, the antihelix is the inner mountain range, the concha is the valley between them, the tragus and antitragus are the gatekeepers to the tunnel (ear canal), and the lobule is the soft plains below."}),jsxRuntimeExports.jsxs(Box,{sx:{mt:3,p:3,bgcolor:alpha(e.palette.info.light,.1),borderRadius:2,border:`1px solid ${alpha(e.palette.info.main,.3)}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"info.dark",children:"Key Takeaways: Pinna Landmarks & Hearing Aid Fitting"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,color:"primary",children:"Anatomical Understanding"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"The pinna has distinct landmarks with specific names and functions"}),jsxRuntimeExports.jsx("li",{children:"Each landmark serves as a reference point for hearing aid fitting"}),jsxRuntimeExports.jsx("li",{children:"Understanding both simple and clinical terms helps communicate with patients and professionals"}),jsxRuntimeExports.jsx("li",{children:"The 3D relationships between landmarks determine hearing aid comfort and function"})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,color:"primary",children:"Clinical Application"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Different hearing aid styles interact with different landmarks"}),jsxRuntimeExports.jsx("li",{children:"Individual anatomical variations significantly impact device selection"}),jsxRuntimeExports.jsx("li",{children:"Special considerations (like collapsing canals) require modified approaches"}),jsxRuntimeExports.jsx("li",{children:"Proper landmark identification is essential for optimal hearing aid performance"})]})]})})]})]})]})},middleEarImg=EarAnatomyImages.middleEar,MiddleEar=()=>{const e=useTheme(),[t,r]=reactExports.useState(!1),i=s=>(n,a)=>{r(a?s:!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The middle ear is an air-filled cavity that houses three tiny bones called ossicles. These bones form a chain that transmits sound vibrations from the eardrum to the inner ear, converting acoustic energy in air to mechanical energy and then to fluid-based energy."}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",sx:{mt:2,mb:2},children:"Middle Ear Components and Their Functions"}),jsxRuntimeExports.jsxs(Card,{sx:{mb:3},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",sx:{height:{xs:400,sm:500,md:600},maxWidth:"100%",objectFit:"contain",p:2,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.paper,.6):"#f5f5f5"},image:middleEarImg,alt:"Middle Ear Anatomy"}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Key Structures of the Middle Ear:"}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="tympanic-membrane",onChange:i("tympanic-membrane"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"tympanic-membrane-content",id:"tympanic-membrane-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Tympanic Membrane (Eardrum)"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"The eardrum is like the head of a drum - a thin membrane that vibrates when sound hits it. It's the boundary between your outer and middle ear."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsx(Typography,{children:"Converts sound waves (air pressure variations) into mechanical vibrations. It's approximately 17-20 times larger than the oval window, which helps amplify the force of vibrations as they travel to the inner ear."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Transformation:"}),jsxRuntimeExports.jsxs(Typography,{children:[jsxRuntimeExports.jsx("strong",{children:"Input:"})," Acoustic energy (sound waves in air)",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Output:"})," Mechanical energy (vibrations of solid structures)"]})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="ossicles",onChange:i("ossicles"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"ossicles-content",id:"ossicles-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Ossicular Chain (Malleus, Incus, Stapes)"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,children:["Three tiny connected bones that form a bridge across the middle ear. Their names describe their shapes:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Malleus (hammer)"})," - attached to the eardrum"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Incus (anvil)"})," - the middle bone"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Stapes (stirrup)"})," - connects to the inner ear"]})]})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,children:["Acts as a lever system that amplifies force. Key points:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Creates a mechanical advantage of about 1.3x"}),jsxRuntimeExports.jsx("li",{children:"When combined with the area difference between eardrum and oval window, produces approximately 22x pressure gain (27 dB)"}),jsxRuntimeExports.jsx("li",{children:'Essential for "impedance matching" between air and fluid environments'})]})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Transformation:"}),jsxRuntimeExports.jsxs(Typography,{children:[jsxRuntimeExports.jsx("strong",{children:"Input:"})," Mechanical energy from eardrum",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Output:"})," Amplified mechanical energy to oval window"]})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="tympanic-cavity",onChange:i("tympanic-cavity"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"tympanic-cavity-content",id:"tympanic-cavity-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Tympanic Cavity (Middle Ear Cavity)"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"An air-filled space like a small room that houses the ossicles. It's separated from the outer ear by the eardrum and from the inner ear by the oval and round windows."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsxs(Typography,{children:["Maintains an air-filled environment for proper ossicle movement. Three critical aspects:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Must stay at atmospheric pressure for optimal hearing"}),jsxRuntimeExports.jsx("li",{children:"Requires regular pressure equalization"}),jsxRuntimeExports.jsx("li",{children:"Provides low-resistance environment for ossicle vibration"})]})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Relevance:"}),jsxRuntimeExports.jsx(Typography,{children:"The air in this cavity provides low resistance to ossicle movement, allowing efficient energy transfer from the eardrum to the inner ear."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="eustachian-tube",onChange:i("eustachian-tube"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"eustachian-tube-content",id:"eustachian-tube-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Eustachian Tube"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"A narrow channel that connects the middle ear to the back of the throat (nasopharynx). It's like a pressure-release valve that opens when you yawn, swallow, or chew."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsxs(Typography,{children:["Connects the middle ear to the back of the throat (nasopharynx). Three main functions:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Equalizes air pressure when you yawn, swallow, or chew"}),jsxRuntimeExports.jsx("li",{children:"Drains fluid from the middle ear"}),jsxRuntimeExports.jsx("li",{children:"Protects middle ear from throat secretions and extreme sound pressure"})]})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Relevance:"}),jsxRuntimeExports.jsx(Typography,{children:"When middle ear pressure differs from atmospheric pressure, the resulting eardrum tension reduces its ability to vibrate, causing temporary hearing loss (like during airplane ascent or descent)."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="oval-window",onChange:i("oval-window"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"oval-window-content",id:"oval-window-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Oval Window"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"A small, membrane-covered opening between the middle and inner ear where the stapes (the final ossicle) attaches. Like a doorway from the middle ear to the inner ear."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsx(Typography,{children:"Transmits vibrations from the stapes to the fluid (perilymph) in the cochlea. Its smaller surface area compared to the eardrum concentrates force, which is necessary to overcome the higher resistance of fluid compared to air."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Transformation:"}),jsxRuntimeExports.jsxs(Typography,{children:[jsxRuntimeExports.jsx("strong",{children:"Input:"})," Mechanical energy from stapes movement",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Output:"})," Fluid pressure waves in the inner ear"]})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="round-window",onChange:i("round-window"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"round-window-content",id:"round-window-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Round Window"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"A second, flexible membrane-covered opening between the middle and inner ear. Works like a pressure-release valve for the inner ear."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsx(Typography,{children:`Bulges outward into the middle ear when the stapes pushes in at the oval window, allowing fluid movement within the cochlea. Without this "release valve," the incompressible fluid in the inner ear couldn't move, and no sound would be perceived.`})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Relevance:"}),jsxRuntimeExports.jsx(Typography,{children:"Allows the release of pressure energy in the inner ear system, completing the circuit of energy flow through the cochlea."})]})]})})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="middle-ear-muscles",onChange:i("middle-ear-muscles"),sx:{mb:1},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"middle-ear-muscles-content",id:"middle-ear-muscles-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Middle Ear Muscles (Stapedius & Tensor Tympani)"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"In Simple Terms:"}),jsxRuntimeExports.jsx(Typography,{children:"Two tiny muscles in the middle ear that act like shock absorbers for loud sounds. The stapedius attaches to the stapes, while the tensor tympani attaches to the malleus."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Function:"}),jsxRuntimeExports.jsx(Typography,{children:"Contract reflexively in response to loud sounds (85+ dB), reducing the transmission of vibrations to the inner ear. This acoustic reflex provides some protection against sudden loud noises and reduces the masking effect of low-frequency background noise."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Energy Relevance:"}),jsxRuntimeExports.jsx(Typography,{children:"Attenuate (reduce) energy transmission by stiffening the ossicular chain, primarily affecting lower frequencies below 1000 Hz. This attenuation is typically 10-15 dB but can reach up to 30 dB in some individuals."})]})]})})]})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",sx:{mt:4,mb:2},children:"Energy Transmission in the Middle Ear"}),jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:3,mb:4,bgcolor:alpha(e.palette.info.main,.05)},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Impedance Matching: The Critical Function of the Middle Ear"}),jsxRuntimeExports.jsxs(Typography,{paragraph:!0,children:["The primary role of the middle ear is to solve a critical physics problem: sound waves travel easily in air but are mostly reflected when they hit fluid (like in the cochlea). This is called an ",jsxRuntimeExports.jsx("strong",{children:"impedance mismatch"}),"."]}),jsxRuntimeExports.jsxs(Box,{sx:{mb:2,p:2,bgcolor:alpha(e.palette.background.paper,.5),borderRadius:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"The Middle Ear Solves This Problem Through:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",gutterBottom:!0,children:"Area Ratio"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The eardrum's surface area is about 17-20 times larger than the oval window. This concentrates the force from sound waves onto the smaller window, increasing pressure by the same factor."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",gutterBottom:!0,children:"Lever Action"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The ossicles form a lever system that multiplies force by approximately 1.3 times. The malleus arm is longer than the incus arm, creating this mechanical advantage."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",gutterBottom:!0,children:"Combined Effect"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Together, these mechanisms provide about 22x amplification (approximately 27 dB gain), enough to overcome most of the impedance mismatch between air and fluid."})]})})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Energy Flow Sequence:"}),jsxRuntimeExports.jsx(Box,{sx:{p:2,mb:2},children:jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Acoustic Energy"})," (air pressure waves) strikes the tympanic membrane"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Mechanical Energy"})," (solid vibrations) travels through the ossicular chain"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Hydraulic Energy"})," (fluid waves) is created in the cochlear fluids"]}),jsxRuntimeExports.jsx("li",{children:"The round window bulges outward, allowing the energy to complete its path"})]})}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"warning.main",sx:{mt:3},children:"Key Takeaways:"}),jsxRuntimeExports.jsx(Box,{sx:{p:2,bgcolor:alpha(e.palette.warning.light,.1),borderRadius:1},children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Size Matters:"})," The ear uses size differences (eardrum vs. oval window) to concentrate force"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Leverage Works:"})," The ossicles form a lever system that multiplies force"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Energy Must Flow:"})," Sound energy travels from air  bone  fluid in a continuous path"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Efficient Design:"})," Without the middle ear's amplification, we'd lose 99.9% of sound energy at the air-fluid boundary"]})]})}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"warning.main",sx:{mt:3},children:"Clinical Significance:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"Disruptions to this energy transmission pathway result in conductive hearing loss. The better you understand this energy transfer system, the better you'll be able to interpret audiometric findings and understand treatment options for middle ear disorders."})]}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",sx:{mt:4,mb:2},children:"Middle Ear Pathologies and Their Audiometric Presentations"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,sx:{mb:4},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Otitis Media"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Inflammation of the middle ear, often with fluid accumulation. Can be acute (short duration) or chronic (persistent). Common in children due to their shorter, more horizontal Eustachian tubes."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Effect on Hearing:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Fluid in the middle ear dampens ossicle movement and increases mass, reducing vibration efficiency. The result is reduced energy transfer to the inner ear, particularly at higher frequencies."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Mild to moderate conductive hearing loss (20-40 dB)"}),jsxRuntimeExports.jsx("li",{children:"Air-bone gap across frequencies (bone conduction normal, air conduction reduced)"}),jsxRuntimeExports.jsx("li",{children:"Type B tympanogram (flat, with reduced compliance)"}),jsxRuntimeExports.jsx("li",{children:"Absent acoustic reflexes"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Otosclerosis"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:'Abnormal bone growth in the middle ear, typically around the stapes footplate, causing it to become fixed or "frozen" in the oval window. Hereditary condition most common in Caucasian women.'}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Effect on Hearing:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"The fixed stapes cannot efficiently transmit vibrations to the inner ear. As the condition progresses, it may also affect inner ear function (cochlear otosclerosis)."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Progressive conductive hearing loss, often bilateral but asymmetric"}),jsxRuntimeExports.jsx("li",{children:`Characteristic "Carhart's notch" - bone conduction dip around 2000 Hz`}),jsxRuntimeExports.jsx("li",{children:"Type A tympanogram (normal middle ear pressure and compliance)"}),jsxRuntimeExports.jsx("li",{children:"Absent acoustic reflexes"}),jsxRuntimeExports.jsx("li",{children:"Better hearing in noisy environments (paracusis willisii)"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Tympanic Membrane Perforation"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"A hole or rupture in the eardrum, caused by infections, trauma, or sudden pressure changes (barotrauma). Size and location of the perforation affect hearing impact."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Effect on Hearing:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Reduces the effective surface area of the eardrum, diminishing its ability to capture sound energy. Also allows sound to bypass the ossicular chain, reducing the middle ear's amplification effect."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Mild to moderate conductive hearing loss (usually 20-30 dB)"}),jsxRuntimeExports.jsx("li",{children:"Greater hearing loss at lower frequencies if perforation is large"}),jsxRuntimeExports.jsx("li",{children:"Type B tympanogram with high physical volume measurement"}),jsxRuntimeExports.jsx("li",{children:"Acoustic reflex absent on affected side"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Ossicular Discontinuity"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Disruption of the ossicular chain, most commonly separation of the incus from the stapes. Usually caused by trauma, chronic infection, or cholesteatoma."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Effect on Hearing:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Breaks the mechanical link between the tympanic membrane and the oval window, preventing efficient transfer of energy to the inner ear."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Moderate to severe conductive hearing loss (40-60 dB)"}),jsxRuntimeExports.jsx("li",{children:"Large air-bone gap across all frequencies"}),jsxRuntimeExports.jsx("li",{children:"Type A tympanogram (sometimes with increased compliance)"}),jsxRuntimeExports.jsx("li",{children:"Acoustic reflex absent"})]})})]})]})})]}),jsxRuntimeExports.jsxs(Box,{sx:{mb:4,p:2,border:`1px solid ${alpha(e.palette.primary.main,.3)}`,borderRadius:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",align:"center",sx:{mb:2},children:"Comparing Types of Hearing Loss"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,bgcolor:alpha(e.palette.primary.light,.05),height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",align:"center",children:"Conductive Hearing Loss"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Location: Outer or middle ear"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Causes: Earwax, fluid, otosclerosis, perforations"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Audiogram: Air-bone gap present"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Pattern: Often flat across frequencies"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Treatment: Often medical/surgical options"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Amplification: Excellent results with hearing aids"})]})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,bgcolor:alpha(e.palette.secondary.light,.05),height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"secondary",align:"center",children:"Sensorineural Hearing Loss"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Location: Inner ear or nerve"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Causes: Noise exposure, aging, ototoxicity"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Audiogram: No air-bone gap"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Pattern: Often worse in high frequencies"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Treatment: Usually non-medical (amplification)"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"secondary",fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Amplification: Variable success, often with challenges"})]})]})]})})]})]}),jsxRuntimeExports.jsxs(Box,{sx:{bgcolor:alpha(e.palette.warning.main,.1),p:3,borderRadius:1,border:`1px solid ${e.palette.warning.main}`,mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Audiometric Tests for Middle Ear Function:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Pure Tone Audiometry"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Measures both air conduction (AC) and bone conduction (BC) thresholds. Middle ear disorders typically show an air-bone gap where AC thresholds are elevated but BC remains normal. This gap represents the magnitude of conductive hearing loss."})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Tympanometry"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:["Measures eardrum mobility and middle ear pressure. Different pathologies create characteristic tympanogram patterns:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Type A: Normal"}),jsxRuntimeExports.jsx("li",{children:"Type B: Flat (fluid, perforation)"}),jsxRuntimeExports.jsx("li",{children:"Type C: Negative pressure (Eustachian tube dysfunction)"}),jsxRuntimeExports.jsx("li",{children:"Type Ad: Hypermobile (ossicular discontinuity)"}),jsxRuntimeExports.jsx("li",{children:"Type As: Stiff (otosclerosis, adhesions)"})]})]})]}),jsxRuntimeExports.jsxs(Grid,{item:!0,xs:12,md:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Acoustic Reflex Testing"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Measures the contraction of middle ear muscles in response to loud sounds. Middle ear pathologies often show absent reflexes or abnormal decay patterns. Helps distinguish between conductive, sensorineural, and retrocochlear disorders."})]})]})]})]})},innerEarImg=EarAnatomyImages.innerEar,InnerEar=()=>{const e=useTheme(),[t,r]=reactExports.useState(!1),i=s=>(n,a)=>{r(a?s:!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The inner ear is a complex system of fluid-filled chambers and tubes. It contains the sensory organs for both hearing (cochlea) and balance (vestibular system). This sophisticated structure is responsible for transducing mechanical energy into electrical signals that can be interpreted by the brain."}),jsxRuntimeExports.jsxs(Box,{sx:{p:2,mb:3,bgcolor:alpha(e.palette.info.light,.1),borderRadius:2,border:`1px dashed ${e.palette.info.main}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Inner Ear Analogy: A Biological Microphone and Motion Sensor"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"Think of the inner ear as two amazing devices in one:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%",bgcolor:alpha(e.palette.primary.light,.05)},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,color:"primary",children:"The Cochlea: Nature's Microphone"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Like a high-tech microphone that converts sound vibrations into electrical signals, the cochlea transforms mechanical energy from the middle ear into precise neural signals that your brain interprets as sound. Just as a microphone has different components for different frequencies, the cochlea has different regions that respond to different pitches."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%",bgcolor:alpha(e.palette.primary.light,.05)},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,color:"primary",children:"The Vestibular System: Your Built-in Motion Sensor"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Like the motion sensor in your smartphone that detects orientation and movement, your vestibular system constantly monitors your head position and movement in space. This biological gyroscope and accelerometer helps you maintain balance, stabilize your vision, and know which way is up."})]})})]})]}),jsxRuntimeExports.jsxs(Card,{sx:{mb:2},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",sx:{height:{xs:400,sm:500,md:600},maxWidth:"100%",objectFit:"contain",p:2,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.paper,.6):"#f5f5f5"},image:innerEarImg,alt:"Inner Ear Anatomy"}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Key Structures of the Inner Ear:"}),jsxRuntimeExports.jsxs(List,{dense:!0,children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Cochlea",secondary:"Snail-shaped structure containing the organ of Corti, which converts fluid vibrations into electrical signals"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Organ of Corti",secondary:"Contains hair cells that detect movement in the cochlear fluid"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Hair Cells",secondary:"Specialized cells with stereocilia that convert mechanical motion to neural signals"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Vestibule",secondary:"Central chamber containing the utricle and saccule, which detect linear acceleration and head position"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Semicircular Canals",secondary:"Three loop-shaped structures that detect rotational movements of the head"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(NavigateNext,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Auditory Nerve",secondary:"Carries electrical signals from the cochlea to the brain for processing"})]})]})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="cochlea",onChange:i("cochlea"),sx:{mb:2},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"panel-cochlea-content",id:"panel-cochlea-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"The Cochlea: Detailed Structure and Function"})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The cochlea is the primary auditory portion of the inner ear. This spiral-shaped structure contains three fluid-filled compartments (scalae):"}),jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,mb:3,bgcolor:alpha(e.palette.success.light,.1),borderRadius:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,color:"primary",fontWeight:"bold",children:"In Simple Terms: The Cochlea is Like a Tiny Piano"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Think of the cochlea as a rolled-up piano keyboard inside your head, about the size of a pea. Different notes (sound frequencies) activate different keys (regions) of this piano:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",p:1,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.default,.4):"#f9f9f9",borderRadius:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",color:"error.main",children:"High Notes (High Frequency)"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Like the right side of a piano keyboard"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",fontStyle:"italic",fontSize:"small",children:"Near the entrance of the cochlea"})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",p:1,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.default,.4):"#f9f9f9",borderRadius:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",color:"warning.main",children:"Middle Notes (Mid Frequency)"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Like the middle of a piano keyboard"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",fontStyle:"italic",fontSize:"small",children:"In the middle of the cochlear spiral"})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",p:1,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.default,.4):"#f9f9f9",borderRadius:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",color:"success.main",children:"Low Notes (Low Frequency)"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Like the left side of a piano keyboard"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",fontStyle:"italic",fontSize:"small",children:"At the apex (tip) of the cochlear spiral"})]})})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"The Three Chambers of the Cochlea:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,sx:{mb:2},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,border:`1px solid ${alpha(e.palette.primary.main,.3)}`,borderRadius:1,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Scala Vestibuli"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Upper chamber",jsxRuntimeExports.jsx("br",{})," Contains perilymph fluid",jsxRuntimeExports.jsx("br",{})," Connects to the oval window",jsxRuntimeExports.jsx("br",{})," Receives vibrations first"]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,border:`1px solid ${alpha(e.palette.primary.main,.3)}`,borderRadius:1,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Scala Media (Cochlear Duct)"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Middle chamber",jsxRuntimeExports.jsx("br",{})," Contains endolymph fluid",jsxRuntimeExports.jsx("br",{})," Houses the organ of Corti",jsxRuntimeExports.jsx("br",{})," Where transduction occurs"]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:4,children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,border:`1px solid ${alpha(e.palette.primary.main,.3)}`,borderRadius:1,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Scala Tympani"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Lower chamber",jsxRuntimeExports.jsx("br",{})," Contains perilymph fluid",jsxRuntimeExports.jsx("br",{})," Connects to the round window",jsxRuntimeExports.jsx("br",{})," Allows pressure release"]})]})})]})]})]}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The inner ear is filled with two types of fluid: perilymph and endolymph. These fluids have different compositions and are separated by membranes. The movement of these fluids in response to sound vibrations is essential for hearing."}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="fluids",onChange:i("fluids"),sx:{mb:2},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"panel-fluids-content",id:"panel-fluids-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"Inner Ear Fluids: Perilymph and Endolymph"})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,height:"100%",bgcolor:alpha(e.palette.primary.light,.05)},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Perilymph"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Perilymph is similar in composition to extracellular fluid or cerebrospinal fluid. It fills the scala vestibuli and scala tympani."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Key Characteristics:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"div",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"High in sodium (Na+), low in potassium (K+)"}),jsxRuntimeExports.jsx("li",{children:"Similar to other extracellular fluids in the body"}),jsxRuntimeExports.jsx("li",{children:"Surrounds the outside of the membranous labyrinth"}),jsxRuntimeExports.jsx("li",{children:"Helps transmit pressure waves from the oval window"})]})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,height:"100%",bgcolor:alpha(e.palette.primary.light,.05)},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Endolymph"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Endolymph has a unique ionic composition that is critical for hair cell function. It fills the scala media (cochlear duct) and the membranous labyrinth of the vestibular system."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Key Characteristics:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",component:"div",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Low in sodium (Na+), high in potassium (K+)"}),jsxRuntimeExports.jsx("li",{children:"Unusual compared to other body fluids"}),jsxRuntimeExports.jsx("li",{children:"Maintained by the stria vascularis in the cochlea"}),jsxRuntimeExports.jsx("li",{children:"Creates the electrical potential needed for hair cell function"})]})})]})})]}),jsxRuntimeExports.jsxs(Box,{sx:{mt:3,p:2,bgcolor:alpha(e.palette.info.light,.1),borderRadius:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Clinical Significance:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The unique composition of these fluids is critical for normal hearing. Disorders that affect fluid composition or circulation (like Mnire's disease) can cause significant hearing and balance problems. The blood-labyrinth barrier protects these fluids, similar to how the blood-brain barrier protects the brain."})]})]})]}),jsxRuntimeExports.jsxs(Accordion,{expanded:t==="vestibular",onChange:i("vestibular"),sx:{mb:2},children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),"aria-controls":"panel-vestibular-content",id:"panel-vestibular-header",children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",children:"The Vestibular System: Balance and Spatial Orientation"})}),jsxRuntimeExports.jsxs(AccordionDetails,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"The vestibular system is the sensory system that provides the leading contribution to the sense of balance and spatial orientation. It consists of two main components:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,sx:{mb:3},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Semicircular Canals"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Three fluid-filled loops arranged at right angles to each other. Each canal detects rotational movement in a different plane."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Function:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Detect angular acceleration or rotational movements of the head. When you turn your head, the fluid inside the canals lags behind due to inertia, bending the cupula and stimulating hair cells."}),jsxRuntimeExports.jsx(Box,{sx:{mt:2,p:1,bgcolor:alpha(e.palette.info.light,.1),borderRadius:1},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",fontStyle:"italic",children:[jsxRuntimeExports.jsx("strong",{children:"Example:"})," When you spin around and then stop suddenly, the continued movement of fluid in your semicircular canals creates the sensation that you're still spinning."]})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:2,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Otolithic Organs (Utricle and Saccule)"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Two sac-like structures in the vestibule that contain calcium carbonate crystals (otoconia) embedded in a gelatinous layer above hair cells."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",children:"Function:"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[jsxRuntimeExports.jsx("strong",{children:"Utricle:"})," Detects horizontal linear acceleration and head tilt",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Saccule:"})," Primarily detects vertical linear acceleration"]}),jsxRuntimeExports.jsx(Box,{sx:{mt:2,p:1,bgcolor:alpha(e.palette.info.light,.1),borderRadius:1},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",fontStyle:"italic",children:[jsxRuntimeExports.jsx("strong",{children:"Example:"})," When an elevator starts moving up or down, the otolithic organs detect this change in linear motion and help you maintain your balance."]})})]})})]}),jsxRuntimeExports.jsxs(Box,{sx:{p:2,mb:2,bgcolor:alpha(e.palette.warning.light,.1),borderRadius:2,border:`1px dashed ${e.palette.warning.main}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"warning.dark",children:"Clinical Relevance: Vestibular Testing"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:["Understanding the vestibular system is crucial for diagnosing balance disorders. Common vestibular tests include:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Videonystagmography (VNG):"})," Records eye movements during various maneuvers to assess vestibular function"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Rotary Chair Testing:"})," Evaluates the vestibulo-ocular reflex by rotating the patient in a controlled manner"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Vestibular Evoked Myogenic Potentials (VEMP):"})," Tests otolith function by measuring muscle responses to sound stimulation"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Computerized Dynamic Posturography:"})," Assesses balance control by measuring body sway under different sensory conditions"]})]})]})]})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",sx:{mt:4,mb:2},children:"Inner Ear Disorders and Corresponding Audiometric Patterns"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,sx:{mb:4},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Noise-Induced Hearing Loss"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Damage to hair cells from excessive noise exposure. Can be temporary or permanent, depending on intensity and duration of exposure. Typically affects high frequencies first."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Pathophysiology:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Excessive noise causes metabolic exhaustion of hair cells, leading to free radical formation and cell death. Outer hair cells in the basal turn of the cochlea (high frequency region) are most vulnerable."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:'Classic "notch" at 4000 Hz (sometimes 3000-6000 Hz)'}),jsxRuntimeExports.jsx("li",{children:"Sensorineural hearing loss (no air-bone gap)"}),jsxRuntimeExports.jsx("li",{children:"Often bilateral and symmetrical"}),jsxRuntimeExports.jsx("li",{children:"May be accompanied by tinnitus at the affected frequencies"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Presbycusis (Age-Related Hearing Loss)"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Progressive, bilateral sensorineural hearing loss associated with aging. Most common type of hearing loss in adults, typically beginning in the 40s-50s and gradually worsening."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Pathophysiology:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Multiple types exist, including sensory (hair cell loss), neural (auditory nerve degeneration), metabolic (stria vascularis atrophy), and mechanical (basilar membrane stiffening)."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"High-frequency sloping sensorineural hearing loss"}),jsxRuntimeExports.jsx("li",{children:"Bilateral and symmetrical"}),jsxRuntimeExports.jsx("li",{children:"Poor speech discrimination, especially in noise"}),jsxRuntimeExports.jsx("li",{children:"No air-bone gap"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Mnire's Disease"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Inner ear disorder characterized by episodic vertigo, fluctuating hearing loss, tinnitus, and aural fullness. Caused by endolymphatic hydrops (excess fluid in the endolymphatic space)."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Pathophysiology:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Abnormal fluid homeostasis leads to distension of the endolymphatic space, affecting both cochlear and vestibular function. May be related to impaired endolymph production or absorption."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Fluctuating low-frequency sensorineural hearing loss initially"}),jsxRuntimeExports.jsx("li",{children:"Progresses to flat or downward-sloping loss over time"}),jsxRuntimeExports.jsx("li",{children:"Usually unilateral, but can become bilateral (10-50% of cases)"}),jsxRuntimeExports.jsx("li",{children:"Abnormal vestibular tests during acute episodes"})]})})]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:0,height:"100%",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box,{sx:{bgcolor:e.palette.error.main,p:2},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"white",children:"Ototoxicity"})}),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Description:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Damage to inner ear structures from medications or chemicals. Common ototoxic agents include aminoglycoside antibiotics, platinum-based chemotherapy drugs, loop diuretics, and certain NSAIDs."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Pathophysiology:"}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,variant:"body2",children:"Mechanisms vary by agent but often involve damage to hair cells through oxidative stress, interference with mitochondrial function, or disruption of ion transport. Some agents affect cochlear function, others affect vestibular function, and some affect both."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"Audiometric Presentation:"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Typically bilateral, high-frequency sensorineural hearing loss"}),jsxRuntimeExports.jsx("li",{children:"Often begins at the highest frequencies (may not be detected on standard audiometry)"}),jsxRuntimeExports.jsx("li",{children:"Can progress to lower frequencies with continued exposure"}),jsxRuntimeExports.jsx("li",{children:"May be accompanied by tinnitus and/or vestibular symptoms"})]})})]})]})})]})]})},hearingProcessImg=EarAnatomyImages.hearingProcess,HearingProcess=()=>{const e=useTheme();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"Hearing is a complex process that involves all three parts of the ear working together, as well as the auditory nerve and brain. Let's explore how sound waves are transformed into the perception of sound."}),jsxRuntimeExports.jsxs(Card,{sx:{mb:3},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",sx:{height:{xs:440,sm:600,md:700},maxWidth:"100%",objectFit:"contain",p:2,bgcolor:e.palette.mode==="dark"?alpha(e.palette.background.paper,.6):"#f5f5f5"},image:hearingProcessImg,alt:"The Process of Hearing"}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"The Journey of Sound:"}),jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 1: Sound Collection"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Sound waves enter the ear canal and cause the eardrum (tympanic membrane) to vibrate. The shape of the pinna helps determine the direction of sounds."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 2: Mechanical Amplification"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The vibrations are transmitted through the three ossicles (malleus, incus, stapes) in the middle ear, which amplify the sound and transfer it to the oval window."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 3: Fluid Waves"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The stapes footplate pushes on the oval window, creating waves in the fluid of the cochlea. These waves cause the basilar membrane to move up and down."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 4: Mechanical to Electrical Conversion"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Hair cells on the basilar membrane bend as it moves, opening ion channels that generate electrical signals. Different frequencies activate hair cells at different locations."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 5: Neural Transmission"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The electrical signals are transmitted via the auditory nerve to the brain's auditory cortex, where they are processed and interpreted as sound."})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,md:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:1,sx:{p:2,height:"100%"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Step 6: Sound Perception"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"The brain analyzes the signals, determining pitch, volume, and location of the sound source, and integrates this with other sensory information and memories."})]})})]})]})]}),jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"This entire process happens incredibly quickly - in milliseconds - allowing us to perceive sounds almost instantaneously. The auditory system can detect a wide range of frequencies (20 Hz to 20,000 Hz in young, healthy humans) and an enormous range of intensities."}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Key Facts About Hearing:"}),jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Hearing,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Frequency Range",secondary:"Humans typically hear frequencies between 20 Hz and 20,000 Hz, with highest sensitivity around 2,000-5,000 Hz (the range of most speech sounds)"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Hearing,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Tonotopic Organization",secondary:"Different parts of the cochlea respond to different frequencies, with high frequencies at the base and low frequencies at the apex"})]}),jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(Hearing,{color:"primary"})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Amplification",secondary:"The middle ear provides about 25-30 dB of amplification, essential for hearing quiet sounds"})]})]}),jsxRuntimeExports.jsxs(Box,{sx:{mt:4,mb:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Types of Hearing Loss: A Comparison"}),jsxRuntimeExports.jsxs(Grid,{container:!0,sx:{border:1,borderColor:"divider"},children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.primary.main,.1)},children:jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",children:"Characteristic"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.info.light,.1)},children:jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",color:"info.dark",children:"Conductive Hearing Loss"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.warning.light,.1)},children:jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",color:"warning.dark",children:"Sensorineural Hearing Loss"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderColor:"divider",bgcolor:alpha(e.palette.error.light,.1)},children:jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",color:"error.dark",children:"Mixed Hearing Loss"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.primary.main,.05)},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",children:"Affected Areas"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Outer ear and/or middle ear"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Inner ear (cochlea) or auditory nerve"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Combination of outer/middle ear AND inner ear/nerve problems"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.primary.main,.05)},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",children:"Audiometric Pattern"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Air-bone gap present (bone conduction normal, air conduction reduced)"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"No air-bone gap (both air and bone conduction reduced equally)"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Air-bone gap present AND bone conduction thresholds reduced"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.primary.main,.05)},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",children:"Common Causes"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Earwax blockage",jsxRuntimeExports.jsx("br",{})," Ear infections",jsxRuntimeExports.jsx("br",{})," Otosclerosis",jsxRuntimeExports.jsx("br",{})," Perforated eardrum",jsxRuntimeExports.jsx("br",{})," Ossicular discontinuity"]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Noise exposure",jsxRuntimeExports.jsx("br",{})," Aging (presbycusis)",jsxRuntimeExports.jsx("br",{})," Ototoxic medications",jsxRuntimeExports.jsx("br",{})," Mnire's disease",jsxRuntimeExports.jsx("br",{})," Acoustic neuroma"]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Chronic ear infections with inner ear damage",jsxRuntimeExports.jsx("br",{})," Trauma affecting multiple ear structures",jsxRuntimeExports.jsx("br",{})," Otosclerosis with cochlear involvement"]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderRight:1,borderColor:"divider",bgcolor:alpha(e.palette.primary.main,.05)},children:jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"bold",children:"Treatment Options"})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Medical treatment (e.g., antibiotics)",jsxRuntimeExports.jsx("br",{})," Surgical intervention",jsxRuntimeExports.jsx("br",{})," Hearing aids",jsxRuntimeExports.jsx("br",{})," Bone conduction devices"]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1,borderRight:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Hearing aids",jsxRuntimeExports.jsx("br",{})," Cochlear implants",jsxRuntimeExports.jsx("br",{})," Assistive listening devices",jsxRuntimeExports.jsx("br",{})," Communication strategies"]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:3,sx:{p:1},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[" Combination of treatments for both types",jsxRuntimeExports.jsx("br",{})," May require both medical/surgical and amplification approaches"]})})]})]})]})},glossaryTerms=[{term:"Auricle (Pinna)",definition:"The visible part of the outer ear that collects sound waves and directs them into the ear canal."},{term:"Cochlea",definition:"Snail-shaped structure in the inner ear that contains the sensory organ for hearing. Converts fluid vibrations into electrical signals."},{term:"Conductive Hearing Loss",definition:"Hearing loss that occurs when sound cannot efficiently travel through the outer and middle ear to the inner ear."},{term:"Endolymph",definition:"Fluid found in the scala media of the cochlea and in the vestibular labyrinth. Has a unique high potassium, low sodium composition."},{term:"Eustachian Tube",definition:"A tube that connects the middle ear to the back of the throat, allowing pressure equalization and drainage."},{term:"Hair Cells",definition:"Sensory cells in the cochlea with hair-like projections (stereocilia) that convert mechanical vibrations into electrical signals."},{term:"Impedance Matching",definition:"The process by which the middle ear transforms sound energy in air to fluid vibrations in the inner ear, preventing energy loss."},{term:"Incus",definition:"The middle bone of the three ossicles in the middle ear, shaped like an anvil, connects the malleus to the stapes."},{term:"Malleus",definition:"The first and largest of the three ossicles in the middle ear, shaped like a hammer, attached to the eardrum."},{term:"Organ of Corti",definition:"The sensory epithelium in the cochlea containing hair cells that detect sound vibrations."},{term:"Ossicles",definition:"The three tiny bones in the middle ear (malleus, incus, and stapes) that transmit sound vibrations from the eardrum to the inner ear."},{term:"Otitis Media",definition:"Inflammation of the middle ear, often with fluid accumulation, causing conductive hearing loss."},{term:"Otosclerosis",definition:"Abnormal bone growth in the middle ear, typically fixating the stapes footplate, causing conductive hearing loss."},{term:"Oval Window",definition:"Membrane-covered opening between the middle and inner ear where the stapes footplate attaches."},{term:"Perilymph",definition:"Fluid found in the scala vestibuli and scala tympani of the cochlea. Similar in composition to cerebrospinal fluid."},{term:"Round Window",definition:"A membrane-covered opening between the middle ear and inner ear that allows fluid displacement in the cochlea."},{term:"Sensorineural Hearing Loss",definition:"Hearing loss resulting from damage to the inner ear (cochlea) or to the nerve pathways from the inner ear to the brain."},{term:"Semicircular Canals",definition:"Three loop-shaped structures in the inner ear responsible for detecting rotational movements of the head."},{term:"Stapes",definition:"The third and smallest ossicle in the middle ear, shaped like a stirrup, connects the incus to the oval window."},{term:"Tonotopic Organization",definition:"The spatial arrangement of the cochlea where different frequencies are processed at different locations."},{term:"Tympanic Membrane",definition:"The eardrum; a thin membrane that separates the outer ear from the middle ear and vibrates in response to sound waves."},{term:"Vestibular System",definition:"The sensory system in the inner ear that provides the brain with information about motion, equilibrium, and spatial orientation."}],Glossary=({glossaryOpen:e,toggleGlossary:t})=>{const[r,i]=reactExports.useState(""),s=a=>{i(a.target.value.toLowerCase())},n=r?glossaryTerms.filter(a=>a.term.toLowerCase().includes(r)||a.definition.toLowerCase().includes(r)):glossaryTerms;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Tooltip,{title:"Ear Anatomy Glossary",arrow:!0,placement:"left",children:jsxRuntimeExports.jsx(Fab,{color:"primary","aria-label":"glossary",onClick:t,sx:{position:"fixed",bottom:20,right:20,zIndex:1e3},children:jsxRuntimeExports.jsx(MenuBook,{})})}),jsxRuntimeExports.jsxs(Drawer,{anchor:"right",open:e,onClose:t,sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:350},maxWidth:"100%",p:2,boxSizing:"border-box"}},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",color:"primary",fontWeight:"bold",children:"Ear Anatomy Glossary"}),jsxRuntimeExports.jsx(IconButton,{onClick:t,"aria-label":"close glossary",children:jsxRuntimeExports.jsx(Close,{})})]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,children:"Quick reference for ear anatomy terminology. Search or scroll to find terms."}),jsxRuntimeExports.jsxs(Paper,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",mb:2},children:[jsxRuntimeExports.jsx(InputBase,{sx:{ml:1,flex:1},placeholder:"Search glossary terms...",value:r,onChange:s}),jsxRuntimeExports.jsx(IconButton,{type:"button",sx:{p:"10px"},"aria-label":"search",children:jsxRuntimeExports.jsx(Search,{})})]}),n.length===0?jsxRuntimeExports.jsx(Typography,{variant:"body2",align:"center",sx:{mt:3},children:"No matching terms found."}):jsxRuntimeExports.jsx(Box,{sx:{maxHeight:"calc(100vh - 160px)",overflowY:"auto"},children:n.map((a,l)=>jsxRuntimeExports.jsxs(Box,{sx:{mb:2,pb:2,borderBottom:"1px solid #eee"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",fontWeight:"bold",color:"primary.dark",children:a.term}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:a.definition})]},l))}),jsxRuntimeExports.jsx(Box,{sx:{mt:2,pt:2,borderTop:"1px solid #eee",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(Button,{startIcon:jsxRuntimeExports.jsx(ArrowBack,{}),onClick:t,size:"small",children:"Back to Learning"})})]})]})},KnowledgeCheck=({questions:e,selectedAnswers:t,showAnswers:r,onAnswerSelect:i,onRevealAnswer:s})=>{const n=useTheme();return jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:3,mb:3,bgcolor:alpha(n.palette.primary.light,.05),border:`1px solid ${alpha(n.palette.primary.main,.2)}`},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,fontWeight:"bold",color:"primary",align:"center",children:"Quick Knowledge Check"}),e.map((a,l)=>jsxRuntimeExports.jsx(Box,{sx:{mb:2},children:jsxRuntimeExports.jsxs(Box,{sx:{p:2,border:`1px solid ${alpha(n.palette.primary.main,.3)}`,borderRadius:2},children:[jsxRuntimeExports.jsxs(Typography,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:[l+1,". ",a.question]}),jsxRuntimeExports.jsxs(Box,{sx:{pl:2},children:[["a","b","c","d"].map((o,p)=>jsxRuntimeExports.jsx(Box,{onClick:()=>i(a.id,o),sx:{mb:1,p:1,borderRadius:1,cursor:"pointer",bgcolor:t[a.id]===o?alpha(n.palette.primary.light,.3):"transparent","&:hover":{bgcolor:alpha(n.palette.primary.light,.1)}},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",children:[o,") ",a.options[p]]})},`q${l+1}-option-${o}`)),t[a.id]!==null&&!r[a.id]&&jsxRuntimeExports.jsx(Button,{variant:"outlined",color:"primary",size:"small",onClick:()=>s(a.id),sx:{mt:1},children:"Check Answer"}),r[a.id]&&jsxRuntimeExports.jsx(Box,{sx:{mt:2},children:jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{bgcolor:t[a.id]===a.correctOption?alpha(n.palette.success.light,.2):alpha(n.palette.error.light,.2),p:1,borderRadius:1},children:[jsxRuntimeExports.jsx("strong",{children:"Answer:"})," ",a.correctOption,") ",a.options[["a","b","c","d"].indexOf(a.correctOption)],".",a.explanation,t[a.id]!==a.correctOption&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:["You selected ",t[a.id],", which is incorrect. Try to remember this for future reference."]})]})})]})]})},l))]})},EarAnatomyPage=()=>{const e=useTheme(),[t,r]=reactExports.useState(0),[i,s]=reactExports.useState(!1),[n,a]=reactExports.useState({question1:null,question2:null,question3:null}),[l,o]=reactExports.useState({question1:!1,question2:!1,question3:!1}),p=(R,u)=>{a(d=>({...d,[R]:u}))},m=R=>{o(u=>({...u,[R]:!0}))},b=()=>{r(R=>R+1)},c=()=>{r(R=>R-1)},v=()=>{r(0)},y=()=>{s(!i)},f=[{label:"Introduction to Ear Anatomy",description:jsxRuntimeExports.jsx(Introduction,{})},{label:"The Outer Ear",description:jsxRuntimeExports.jsx(OuterEar,{})},{label:"Landmarks of the Pinna for Hearing Aid Fitting",description:jsxRuntimeExports.jsx(PinnaLandmarks,{})},{label:"The Middle Ear",description:jsxRuntimeExports.jsx(MiddleEar,{})},{label:"The Inner Ear",description:jsxRuntimeExports.jsx(InnerEar,{})},{label:"How We Hear: The Process of Sound Perception",description:jsxRuntimeExports.jsx(HearingProcess,{})},{label:"Knowledge Check",description:jsxRuntimeExports.jsx(KnowledgeCheck,{questions:[{id:"question1",question:"Which of the following is the main purpose of the middle ear?",options:["To collect sound waves from the environment","To match impedance between air and fluid media","To convert mechanical vibrations to electrical signals","To detect head position and movement"],correctOption:"b",explanation:"The middle ear serves as an impedance matcher, efficiently transferring sound energy from air (low impedance) to the fluid-filled inner ear (high impedance)."},{id:"question2",question:"Which structure is responsible for converting sound vibrations into electrical signals?",options:["The tympanic membrane (eardrum)","The ossicles (malleus, incus, stapes)","The hair cells in the cochlea","The semicircular canals"],correctOption:"c",explanation:"Hair cells in the cochlea have stereocilia that bend when the basilar membrane moves, opening ion channels and generating electrical signals."},{id:"question3",question:"What type of hearing loss results from damage to the hair cells in the cochlea?",options:["Conductive hearing loss","Sensorineural hearing loss","Mixed hearing loss","Central hearing loss"],correctOption:"b",explanation:"Sensorineural hearing loss occurs when there is damage to the inner ear (cochlea) or to the nerve pathways from the inner ear to the brain."}],selectedAnswers:n,showAnswers:l,onAnswerSelect:p,onRevealAnswer:m})}];return jsxRuntimeExports.jsx(Container,{maxWidth:"lg",sx:{py:4},children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:3,borderRadius:2,boxShadow:e.shadows[3]},children:[jsxRuntimeExports.jsxs(Box,{mb:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Ear Anatomy Interactive Guide"}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,align:"center",color:"text.secondary",children:"Explore the structure and function of the human ear"})]}),jsxRuntimeExports.jsx(Box,{mb:4,children:jsxRuntimeExports.jsx(Paper,{sx:{mb:2},children:jsxRuntimeExports.jsxs(Box,{p:2,children:[jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"center",mb:1,children:[jsxRuntimeExports.jsx(ThreeDRotation,{color:"primary",sx:{mr:1}}),jsxRuntimeExports.jsx(Typography,{variant:"h6",component:"h2",children:"Interactive 3D Ear Model"})]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",mb:2,children:"Explore this interactive 3D model of the human ear. Controls: Rotate (click and drag) | Zoom (scroll wheel) | Pan (Ctrl + drag) | Reset (press 'R' key)"}),jsxRuntimeExports.jsx(EarModel3D,{height:450})]})})}),jsxRuntimeExports.jsx(Stepper,{activeStep:t,orientation:"vertical",children:f.map((R,u)=>jsxRuntimeExports.jsxs(Step,{children:[jsxRuntimeExports.jsx(StepLabel,{children:jsxRuntimeExports.jsx(Typography,{variant:"h6",children:R.label})}),jsxRuntimeExports.jsx(StepContent,{children:jsxRuntimeExports.jsxs(Box,{children:[R.description,jsxRuntimeExports.jsx(Box,{sx:{mb:2,mt:3},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:b,sx:{mt:1,mr:1},children:u===f.length-1?"Finish":"Continue"}),jsxRuntimeExports.jsx(Button,{disabled:u===0,onClick:c,sx:{mt:1,mr:1},children:"Back"})]})})]})})]},u))}),t===f.length&&jsxRuntimeExports.jsxs(Paper,{square:!0,elevation:0,sx:{p:3},children:[jsxRuntimeExports.jsx(Typography,{paragraph:!0,children:"All steps completed - you've successfully learned about the ear!"}),jsxRuntimeExports.jsx(Button,{onClick:v,sx:{mt:1,mr:1},children:"Start Over"})]}),jsxRuntimeExports.jsx(Glossary,{glossaryOpen:i,toggleGlossary:y})]})})};export{EarAnatomyPage as default};
