import{u as v,j as r,B as p,a3 as C,I as u,bn as j,aK as k,bo as E,aM as F,bi as M}from"./vendor-mui-D4dlZTv9.js";import{r as o}from"./vendor-react-5UJDq-bj.js";const S=({children:t,tooltipText:c="Toggle fullscreen",disableFullScreen:d=!1,buttonPosition:m="top-right",preserveAspectRatio:w=!0})=>{const[f,i]=o.useState(!1),n=v();if(d)return r.jsx(r.Fragment,{children:t});const g=()=>{try{if(!o.isValidElement(t))return!1;const e=t;if(e.type==="canvas"||e.type&&e.type.name&&e.type.name.includes("Canvas"))return!0;if(e.props&&e.props.children){const l=e.props.children;if(o.isValidElement(l)){const a=l;if(a.type&&a.type.name&&a.type.name.includes("Canvas")||String(a.type).includes("Canvas"))return!0}}return!1}catch(e){return console.error("Error detecting 3D model:",e),!1}},h=()=>{try{if(!o.isValidElement(t))return!1;const e=t;return!!(e.type==="img"||e.type==="video"||e.type&&e.type.name&&(e.type.name.includes("CardMedia")||e.type.name.includes("Media"))||e.props&&(e.props.component==="img"||e.props.component==="video"||e.props.src||e.props.image))}catch(e){return console.error("Error detecting media element:",e),!1}},s=g(),x=h(),y=()=>{switch(m){case"top-left":return{top:8,left:8};case"bottom-right":return{bottom:8,right:8};case"bottom-left":return{bottom:8,left:8};case"top-right":default:return{top:8,right:8}}},b=()=>{if(!o.isValidElement(t))return t;try{return s?o.cloneElement(t,{...t.props,style:{...t.props&&t.props.style||{},width:"100%",height:"100vh"}}):x?o.cloneElement(t,{...t.props,style:{...t.props&&t.props.style||{},maxWidth:"100%",maxHeight:"90vh",width:"auto",height:"auto",objectFit:"contain"}}):t}catch(e){return console.error("Error rendering fullscreen content:",e),t}};return r.jsxs(p,{position:"relative",sx:{display:"inline-block",width:"100%",height:"100%"},children:[t,r.jsx(C,{title:c,children:r.jsx(u,{onClick:()=>i(!0),sx:{position:"absolute",...y(),backgroundColor:n.palette.mode==="dark"?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)","&:hover":{backgroundColor:n.palette.mode==="dark"?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.7)"},zIndex:10},size:"small",children:r.jsx(j,{})})}),r.jsx(k,{open:f,onClose:()=>i(!1),maxWidth:"xl",fullWidth:!0,fullScreen:s,TransitionComponent:E,transitionDuration:300,children:r.jsxs(F,{sx:{p:0,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",bgcolor:n.palette.mode==="dark"?"#000":"#fff",height:s?"100vh":"auto",minHeight:s?"auto":"50vh"},children:[r.jsx(u,{onClick:()=>i(!1),sx:{position:"absolute",top:8,right:8,backgroundColor:n.palette.mode==="dark"?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)","&:hover":{backgroundColor:n.palette.mode==="dark"?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.7)"},zIndex:10},children:r.jsx(M,{})}),r.jsx(p,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:b()})]})})]})};export{S as M};
